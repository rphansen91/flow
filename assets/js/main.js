(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
/**
 * cuid.js
 * Collision-resistant UID generator for browsers and node.
 * Sequential for fast db lookups and recency sorting.
 * Safe for element IDs and server-side lookups.
 *
 * Extracted from CLCTR
 *
 * Copyright (c) Eric Elliott 2012
 * MIT License
 */

/*global window, navigator, document, require, process, module */
(function (app) {
  'use strict';
  var namespace = 'cuid',
    c = 0,
    blockSize = 4,
    base = 36,
    discreteValues = Math.pow(base, blockSize),

    pad = function pad(num, size) {
      var s = "000000000" + num;
      return s.substr(s.length-size);
    },

    randomBlock = function randomBlock() {
      return pad((Math.random() *
            discreteValues << 0)
            .toString(base), blockSize);
    },

    safeCounter = function () {
      c = (c < discreteValues) ? c : 0;
      c++; // this is not subliminal
      return c - 1;
    },

    api = function cuid() {
      // Starting with a lowercase letter makes
      // it HTML element ID friendly.
      var letter = 'c', // hard-coded allows for sequential access

        // timestamp
        // warning: this exposes the exact date and time
        // that the uid was created.
        timestamp = (new Date().getTime()).toString(base),

        // Prevent same-machine collisions.
        counter,

        // A few chars to generate distinct ids for different
        // clients (so different computers are far less
        // likely to generate the same id)
        fingerprint = api.fingerprint(),

        // Grab some more chars from Math.random()
        random = randomBlock() + randomBlock();

        counter = pad(safeCounter().toString(base), blockSize);

      return  (letter + timestamp + counter + fingerprint + random);
    };

  api.slug = function slug() {
    var date = new Date().getTime().toString(36),
      counter,
      print = api.fingerprint().slice(0,1) +
        api.fingerprint().slice(-1),
      random = randomBlock().slice(-2);

      counter = safeCounter().toString(36).slice(-4);

    return date.slice(-2) +
      counter + print + random;
  };

  api.globalCount = function globalCount() {
    // We want to cache the results of this
    var cache = (function calc() {
        var i,
          count = 0;

        for (i in window) {
          count++;
        }

        return count;
      }());

    api.globalCount = function () { return cache; };
    return cache;
  };

  api.fingerprint = function browserPrint() {
    return pad((navigator.mimeTypes.length +
      navigator.userAgent.length).toString(36) +
      api.globalCount().toString(36), 4);
  };

  // don't change anything from here down.
  if (app.register) {
    app.register(namespace, api);
  } else if (typeof module !== 'undefined') {
    module.exports = api;
  } else {
    app[namespace] = api;
  }

}(this.applitude || this));

},{}],2:[function(require,module,exports){
module.exports = require('./lib/jsurl');
},{"./lib/jsurl":3}],3:[function(require,module,exports){
/**
 * Copyright (c) 2011 Bruno Jouhier <bruno.jouhier@sage.com>
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without
 * restriction, including without limitation the rights to use,
 * copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following
 * conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 */
//
(function(exports) {
	"use strict";
	exports.stringify = function stringify(v) {
		function encode(s) {
			return !/[^\w-.]/.test(s) ? s : s.replace(/[^\w-.]/g, function(ch) {
				if (ch === '$') return '!';
				ch = ch.charCodeAt(0);
				// thanks to Douglas Crockford for the negative slice trick
				return ch < 0x100 ? '*' + ('00' + ch.toString(16)).slice(-2) : '**' + ('0000' + ch.toString(16)).slice(-4);
			});
		}

		var tmpAry;

		switch (typeof v) {
			case 'number':
				return isFinite(v) ? '~' + v : '~null';
			case 'boolean':
				return '~' + v;
			case 'string':
				return "~'" + encode(v);
			case 'object':
				if (!v) return '~null';

				tmpAry = [];

				if (Array.isArray(v)) {
					for (var i = 0; i < v.length; i++) {
						tmpAry[i] = stringify(v[i]) || '~null';
					}

					return '~(' + (tmpAry.join('') || '~') + ')';
				} else {
					for (var key in v) {
						if (v.hasOwnProperty(key)) {
							var val = stringify(v[key]);

							// skip undefined and functions
							if (val) {
								tmpAry.push(encode(key) + val);
							}
						}
					}

					return '~(' + tmpAry.join('~') + ')';
				}
			default:
				// function, undefined
				return;
		}
	};

	var reserved = {
		"true": true,
		"false": false,
		"null": null
	};

	exports.parse = function(s) {
		if (!s) return s;
		s = s.replace(/%(25)*27/g, "'");
		var i = 0,
			len = s.length;

		function eat(expected) {
			if (s.charAt(i) !== expected) throw new Error("bad JSURL syntax: expected " + expected + ", got " + (s && s.charAt(i)));
			i++;
		}

		function decode() {
			var beg = i,
				ch, r = "";
			while (i < len && (ch = s.charAt(i)) !== '~' && ch !== ')') {
				switch (ch) {
					case '*':
						if (beg < i) r += s.substring(beg, i);
						if (s.charAt(i + 1) === '*') r += String.fromCharCode(parseInt(s.substring(i + 2, i + 6), 16)), beg = (i += 6);
						else r += String.fromCharCode(parseInt(s.substring(i + 1, i + 3), 16)), beg = (i += 3);
						break;
					case '!':
						if (beg < i) r += s.substring(beg, i);
						r += '$', beg = ++i;
						break;
					default:
						i++;
				}
			}
			return r + s.substring(beg, i);
		}

		return (function parseOne() {
			var result, ch, beg;
			eat('~');
			switch (ch = s.charAt(i)) {
				case '(':
					i++;
					if (s.charAt(i) === '~') {
						result = [];
						if (s.charAt(i + 1) === ')') i++;
						else {
							do {
								result.push(parseOne());
							} while (s.charAt(i) === '~');
						}
					} else {
						result = {};
						if (s.charAt(i) !== ')') {
							do {
								var key = decode();
								result[key] = parseOne();
							} while (s.charAt(i) === '~' && ++i);
						}
					}
					eat(')');
					break;
				case "'":
					i++;
					result = decode();
					break;
				default:
					beg = i++;
					while (i < len && /[^)~]/.test(s.charAt(i)))
					i++;
					var sub = s.substring(beg, i);
					if (/[\d\-]/.test(ch)) {
						result = parseFloat(sub);
					} else {
						result = reserved[sub];
						if (typeof result === "undefined") throw new Error("bad value keyword: " + sub);
					}
			}
			return result;
		})();
	}

	exports.tryParse = function(s, def) {
		try {
			return exports.parse(s);
		} catch (ex) {
			return def;
		}
	}

})(typeof exports !== 'undefined' ? exports : (window.JSURL = window.JSURL || {}));

},{}],4:[function(require,module,exports){
var getNative = require('./_getNative'),
    root = require('./_root');

/* Built-in method references that are verified to be native. */
var DataView = getNative(root, 'DataView');

module.exports = DataView;

},{"./_getNative":103,"./_root":146}],5:[function(require,module,exports){
var hashClear = require('./_hashClear'),
    hashDelete = require('./_hashDelete'),
    hashGet = require('./_hashGet'),
    hashHas = require('./_hashHas'),
    hashSet = require('./_hashSet');

/**
 * Creates a hash object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function Hash(entries) {
  var index = -1,
      length = entries == null ? 0 : entries.length;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

// Add methods to `Hash`.
Hash.prototype.clear = hashClear;
Hash.prototype['delete'] = hashDelete;
Hash.prototype.get = hashGet;
Hash.prototype.has = hashHas;
Hash.prototype.set = hashSet;

module.exports = Hash;

},{"./_hashClear":111,"./_hashDelete":112,"./_hashGet":113,"./_hashHas":114,"./_hashSet":115}],6:[function(require,module,exports){
var listCacheClear = require('./_listCacheClear'),
    listCacheDelete = require('./_listCacheDelete'),
    listCacheGet = require('./_listCacheGet'),
    listCacheHas = require('./_listCacheHas'),
    listCacheSet = require('./_listCacheSet');

/**
 * Creates an list cache object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function ListCache(entries) {
  var index = -1,
      length = entries == null ? 0 : entries.length;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

// Add methods to `ListCache`.
ListCache.prototype.clear = listCacheClear;
ListCache.prototype['delete'] = listCacheDelete;
ListCache.prototype.get = listCacheGet;
ListCache.prototype.has = listCacheHas;
ListCache.prototype.set = listCacheSet;

module.exports = ListCache;

},{"./_listCacheClear":126,"./_listCacheDelete":127,"./_listCacheGet":128,"./_listCacheHas":129,"./_listCacheSet":130}],7:[function(require,module,exports){
var getNative = require('./_getNative'),
    root = require('./_root');

/* Built-in method references that are verified to be native. */
var Map = getNative(root, 'Map');

module.exports = Map;

},{"./_getNative":103,"./_root":146}],8:[function(require,module,exports){
var mapCacheClear = require('./_mapCacheClear'),
    mapCacheDelete = require('./_mapCacheDelete'),
    mapCacheGet = require('./_mapCacheGet'),
    mapCacheHas = require('./_mapCacheHas'),
    mapCacheSet = require('./_mapCacheSet');

/**
 * Creates a map cache object to store key-value pairs.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function MapCache(entries) {
  var index = -1,
      length = entries == null ? 0 : entries.length;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

// Add methods to `MapCache`.
MapCache.prototype.clear = mapCacheClear;
MapCache.prototype['delete'] = mapCacheDelete;
MapCache.prototype.get = mapCacheGet;
MapCache.prototype.has = mapCacheHas;
MapCache.prototype.set = mapCacheSet;

module.exports = MapCache;

},{"./_mapCacheClear":131,"./_mapCacheDelete":132,"./_mapCacheGet":133,"./_mapCacheHas":134,"./_mapCacheSet":135}],9:[function(require,module,exports){
var getNative = require('./_getNative'),
    root = require('./_root');

/* Built-in method references that are verified to be native. */
var Promise = getNative(root, 'Promise');

module.exports = Promise;

},{"./_getNative":103,"./_root":146}],10:[function(require,module,exports){
var getNative = require('./_getNative'),
    root = require('./_root');

/* Built-in method references that are verified to be native. */
var Set = getNative(root, 'Set');

module.exports = Set;

},{"./_getNative":103,"./_root":146}],11:[function(require,module,exports){
var MapCache = require('./_MapCache'),
    setCacheAdd = require('./_setCacheAdd'),
    setCacheHas = require('./_setCacheHas');

/**
 *
 * Creates an array cache object to store unique values.
 *
 * @private
 * @constructor
 * @param {Array} [values] The values to cache.
 */
function SetCache(values) {
  var index = -1,
      length = values == null ? 0 : values.length;

  this.__data__ = new MapCache;
  while (++index < length) {
    this.add(values[index]);
  }
}

// Add methods to `SetCache`.
SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;
SetCache.prototype.has = setCacheHas;

module.exports = SetCache;

},{"./_MapCache":8,"./_setCacheAdd":147,"./_setCacheHas":148}],12:[function(require,module,exports){
var ListCache = require('./_ListCache'),
    stackClear = require('./_stackClear'),
    stackDelete = require('./_stackDelete'),
    stackGet = require('./_stackGet'),
    stackHas = require('./_stackHas'),
    stackSet = require('./_stackSet');

/**
 * Creates a stack cache object to store key-value pairs.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function Stack(entries) {
  var data = this.__data__ = new ListCache(entries);
  this.size = data.size;
}

// Add methods to `Stack`.
Stack.prototype.clear = stackClear;
Stack.prototype['delete'] = stackDelete;
Stack.prototype.get = stackGet;
Stack.prototype.has = stackHas;
Stack.prototype.set = stackSet;

module.exports = Stack;

},{"./_ListCache":6,"./_stackClear":152,"./_stackDelete":153,"./_stackGet":154,"./_stackHas":155,"./_stackSet":156}],13:[function(require,module,exports){
var root = require('./_root');

/** Built-in value references. */
var Symbol = root.Symbol;

module.exports = Symbol;

},{"./_root":146}],14:[function(require,module,exports){
var root = require('./_root');

/** Built-in value references. */
var Uint8Array = root.Uint8Array;

module.exports = Uint8Array;

},{"./_root":146}],15:[function(require,module,exports){
var getNative = require('./_getNative'),
    root = require('./_root');

/* Built-in method references that are verified to be native. */
var WeakMap = getNative(root, 'WeakMap');

module.exports = WeakMap;

},{"./_getNative":103,"./_root":146}],16:[function(require,module,exports){
/**
 * Adds the key-value `pair` to `map`.
 *
 * @private
 * @param {Object} map The map to modify.
 * @param {Array} pair The key-value pair to add.
 * @returns {Object} Returns `map`.
 */
function addMapEntry(map, pair) {
  // Don't return `map.set` because it's not chainable in IE 11.
  map.set(pair[0], pair[1]);
  return map;
}

module.exports = addMapEntry;

},{}],17:[function(require,module,exports){
/**
 * Adds `value` to `set`.
 *
 * @private
 * @param {Object} set The set to modify.
 * @param {*} value The value to add.
 * @returns {Object} Returns `set`.
 */
function addSetEntry(set, value) {
  // Don't return `set.add` because it's not chainable in IE 11.
  set.add(value);
  return set;
}

module.exports = addSetEntry;

},{}],18:[function(require,module,exports){
/**
 * A faster alternative to `Function#apply`, this function invokes `func`
 * with the `this` binding of `thisArg` and the arguments of `args`.
 *
 * @private
 * @param {Function} func The function to invoke.
 * @param {*} thisArg The `this` binding of `func`.
 * @param {Array} args The arguments to invoke `func` with.
 * @returns {*} Returns the result of `func`.
 */
function apply(func, thisArg, args) {
  switch (args.length) {
    case 0: return func.call(thisArg);
    case 1: return func.call(thisArg, args[0]);
    case 2: return func.call(thisArg, args[0], args[1]);
    case 3: return func.call(thisArg, args[0], args[1], args[2]);
  }
  return func.apply(thisArg, args);
}

module.exports = apply;

},{}],19:[function(require,module,exports){
/**
 * A specialized version of `baseAggregator` for arrays.
 *
 * @private
 * @param {Array} [array] The array to iterate over.
 * @param {Function} setter The function to set `accumulator` values.
 * @param {Function} iteratee The iteratee to transform keys.
 * @param {Object} accumulator The initial aggregated object.
 * @returns {Function} Returns `accumulator`.
 */
function arrayAggregator(array, setter, iteratee, accumulator) {
  var index = -1,
      length = array == null ? 0 : array.length;

  while (++index < length) {
    var value = array[index];
    setter(accumulator, value, iteratee(value), array);
  }
  return accumulator;
}

module.exports = arrayAggregator;

},{}],20:[function(require,module,exports){
/**
 * A specialized version of `_.forEach` for arrays without support for
 * iteratee shorthands.
 *
 * @private
 * @param {Array} [array] The array to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array} Returns `array`.
 */
function arrayEach(array, iteratee) {
  var index = -1,
      length = array == null ? 0 : array.length;

  while (++index < length) {
    if (iteratee(array[index], index, array) === false) {
      break;
    }
  }
  return array;
}

module.exports = arrayEach;

},{}],21:[function(require,module,exports){
/**
 * A specialized version of `_.filter` for arrays without support for
 * iteratee shorthands.
 *
 * @private
 * @param {Array} [array] The array to iterate over.
 * @param {Function} predicate The function invoked per iteration.
 * @returns {Array} Returns the new filtered array.
 */
function arrayFilter(array, predicate) {
  var index = -1,
      length = array == null ? 0 : array.length,
      resIndex = 0,
      result = [];

  while (++index < length) {
    var value = array[index];
    if (predicate(value, index, array)) {
      result[resIndex++] = value;
    }
  }
  return result;
}

module.exports = arrayFilter;

},{}],22:[function(require,module,exports){
var baseIndexOf = require('./_baseIndexOf');

/**
 * A specialized version of `_.includes` for arrays without support for
 * specifying an index to search from.
 *
 * @private
 * @param {Array} [array] The array to inspect.
 * @param {*} target The value to search for.
 * @returns {boolean} Returns `true` if `target` is found, else `false`.
 */
function arrayIncludes(array, value) {
  var length = array == null ? 0 : array.length;
  return !!length && baseIndexOf(array, value, 0) > -1;
}

module.exports = arrayIncludes;

},{"./_baseIndexOf":46}],23:[function(require,module,exports){
/**
 * This function is like `arrayIncludes` except that it accepts a comparator.
 *
 * @private
 * @param {Array} [array] The array to inspect.
 * @param {*} target The value to search for.
 * @param {Function} comparator The comparator invoked per element.
 * @returns {boolean} Returns `true` if `target` is found, else `false`.
 */
function arrayIncludesWith(array, value, comparator) {
  var index = -1,
      length = array == null ? 0 : array.length;

  while (++index < length) {
    if (comparator(value, array[index])) {
      return true;
    }
  }
  return false;
}

module.exports = arrayIncludesWith;

},{}],24:[function(require,module,exports){
var baseTimes = require('./_baseTimes'),
    isArguments = require('./isArguments'),
    isArray = require('./isArray'),
    isBuffer = require('./isBuffer'),
    isIndex = require('./_isIndex'),
    isTypedArray = require('./isTypedArray');

/** Used for built-in method references. */
var objectProto = Object.prototype;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Creates an array of the enumerable property names of the array-like `value`.
 *
 * @private
 * @param {*} value The value to query.
 * @param {boolean} inherited Specify returning inherited property names.
 * @returns {Array} Returns the array of property names.
 */
function arrayLikeKeys(value, inherited) {
  var isArr = isArray(value),
      isArg = !isArr && isArguments(value),
      isBuff = !isArr && !isArg && isBuffer(value),
      isType = !isArr && !isArg && !isBuff && isTypedArray(value),
      skipIndexes = isArr || isArg || isBuff || isType,
      result = skipIndexes ? baseTimes(value.length, String) : [],
      length = result.length;

  for (var key in value) {
    if ((inherited || hasOwnProperty.call(value, key)) &&
        !(skipIndexes && (
           // Safari 9 has enumerable `arguments.length` in strict mode.
           key == 'length' ||
           // Node.js 0.10 has enumerable non-index properties on buffers.
           (isBuff && (key == 'offset' || key == 'parent')) ||
           // PhantomJS 2 has enumerable non-index properties on typed arrays.
           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||
           // Skip index properties.
           isIndex(key, length)
        ))) {
      result.push(key);
    }
  }
  return result;
}

module.exports = arrayLikeKeys;

},{"./_baseTimes":68,"./_isIndex":120,"./isArguments":169,"./isArray":170,"./isBuffer":172,"./isTypedArray":179}],25:[function(require,module,exports){
/**
 * A specialized version of `_.map` for arrays without support for iteratee
 * shorthands.
 *
 * @private
 * @param {Array} [array] The array to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array} Returns the new mapped array.
 */
function arrayMap(array, iteratee) {
  var index = -1,
      length = array == null ? 0 : array.length,
      result = Array(length);

  while (++index < length) {
    result[index] = iteratee(array[index], index, array);
  }
  return result;
}

module.exports = arrayMap;

},{}],26:[function(require,module,exports){
/**
 * Appends the elements of `values` to `array`.
 *
 * @private
 * @param {Array} array The array to modify.
 * @param {Array} values The values to append.
 * @returns {Array} Returns `array`.
 */
function arrayPush(array, values) {
  var index = -1,
      length = values.length,
      offset = array.length;

  while (++index < length) {
    array[offset + index] = values[index];
  }
  return array;
}

module.exports = arrayPush;

},{}],27:[function(require,module,exports){
/**
 * A specialized version of `_.reduce` for arrays without support for
 * iteratee shorthands.
 *
 * @private
 * @param {Array} [array] The array to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @param {*} [accumulator] The initial value.
 * @param {boolean} [initAccum] Specify using the first element of `array` as
 *  the initial value.
 * @returns {*} Returns the accumulated value.
 */
function arrayReduce(array, iteratee, accumulator, initAccum) {
  var index = -1,
      length = array == null ? 0 : array.length;

  if (initAccum && length) {
    accumulator = array[++index];
  }
  while (++index < length) {
    accumulator = iteratee(accumulator, array[index], index, array);
  }
  return accumulator;
}

module.exports = arrayReduce;

},{}],28:[function(require,module,exports){
/**
 * A specialized version of `_.some` for arrays without support for iteratee
 * shorthands.
 *
 * @private
 * @param {Array} [array] The array to iterate over.
 * @param {Function} predicate The function invoked per iteration.
 * @returns {boolean} Returns `true` if any element passes the predicate check,
 *  else `false`.
 */
function arraySome(array, predicate) {
  var index = -1,
      length = array == null ? 0 : array.length;

  while (++index < length) {
    if (predicate(array[index], index, array)) {
      return true;
    }
  }
  return false;
}

module.exports = arraySome;

},{}],29:[function(require,module,exports){
var baseAssignValue = require('./_baseAssignValue'),
    eq = require('./eq');

/** Used for built-in method references. */
var objectProto = Object.prototype;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Assigns `value` to `key` of `object` if the existing value is not equivalent
 * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * for equality comparisons.
 *
 * @private
 * @param {Object} object The object to modify.
 * @param {string} key The key of the property to assign.
 * @param {*} value The value to assign.
 */
function assignValue(object, key, value) {
  var objValue = object[key];
  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||
      (value === undefined && !(key in object))) {
    baseAssignValue(object, key, value);
  }
}

module.exports = assignValue;

},{"./_baseAssignValue":34,"./eq":164}],30:[function(require,module,exports){
var eq = require('./eq');

/**
 * Gets the index at which the `key` is found in `array` of key-value pairs.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {*} key The key to search for.
 * @returns {number} Returns the index of the matched value, else `-1`.
 */
function assocIndexOf(array, key) {
  var length = array.length;
  while (length--) {
    if (eq(array[length][0], key)) {
      return length;
    }
  }
  return -1;
}

module.exports = assocIndexOf;

},{"./eq":164}],31:[function(require,module,exports){
var baseEach = require('./_baseEach');

/**
 * Aggregates elements of `collection` on `accumulator` with keys transformed
 * by `iteratee` and values set by `setter`.
 *
 * @private
 * @param {Array|Object} collection The collection to iterate over.
 * @param {Function} setter The function to set `accumulator` values.
 * @param {Function} iteratee The iteratee to transform keys.
 * @param {Object} accumulator The initial aggregated object.
 * @returns {Function} Returns `accumulator`.
 */
function baseAggregator(collection, setter, iteratee, accumulator) {
  baseEach(collection, function(value, key, collection) {
    setter(accumulator, value, iteratee(value), collection);
  });
  return accumulator;
}

module.exports = baseAggregator;

},{"./_baseEach":37}],32:[function(require,module,exports){
var copyObject = require('./_copyObject'),
    keys = require('./keys');

/**
 * The base implementation of `_.assign` without support for multiple sources
 * or `customizer` functions.
 *
 * @private
 * @param {Object} object The destination object.
 * @param {Object} source The source object.
 * @returns {Object} Returns `object`.
 */
function baseAssign(object, source) {
  return object && copyObject(source, keys(source), object);
}

module.exports = baseAssign;

},{"./_copyObject":85,"./keys":180}],33:[function(require,module,exports){
var copyObject = require('./_copyObject'),
    keysIn = require('./keysIn');

/**
 * The base implementation of `_.assignIn` without support for multiple sources
 * or `customizer` functions.
 *
 * @private
 * @param {Object} object The destination object.
 * @param {Object} source The source object.
 * @returns {Object} Returns `object`.
 */
function baseAssignIn(object, source) {
  return object && copyObject(source, keysIn(source), object);
}

module.exports = baseAssignIn;

},{"./_copyObject":85,"./keysIn":181}],34:[function(require,module,exports){
var defineProperty = require('./_defineProperty');

/**
 * The base implementation of `assignValue` and `assignMergeValue` without
 * value checks.
 *
 * @private
 * @param {Object} object The object to modify.
 * @param {string} key The key of the property to assign.
 * @param {*} value The value to assign.
 */
function baseAssignValue(object, key, value) {
  if (key == '__proto__' && defineProperty) {
    defineProperty(object, key, {
      'configurable': true,
      'enumerable': true,
      'value': value,
      'writable': true
    });
  } else {
    object[key] = value;
  }
}

module.exports = baseAssignValue;

},{"./_defineProperty":93}],35:[function(require,module,exports){
var Stack = require('./_Stack'),
    arrayEach = require('./_arrayEach'),
    assignValue = require('./_assignValue'),
    baseAssign = require('./_baseAssign'),
    baseAssignIn = require('./_baseAssignIn'),
    cloneBuffer = require('./_cloneBuffer'),
    copyArray = require('./_copyArray'),
    copySymbols = require('./_copySymbols'),
    copySymbolsIn = require('./_copySymbolsIn'),
    getAllKeys = require('./_getAllKeys'),
    getAllKeysIn = require('./_getAllKeysIn'),
    getTag = require('./_getTag'),
    initCloneArray = require('./_initCloneArray'),
    initCloneByTag = require('./_initCloneByTag'),
    initCloneObject = require('./_initCloneObject'),
    isArray = require('./isArray'),
    isBuffer = require('./isBuffer'),
    isObject = require('./isObject'),
    keys = require('./keys');

/** Used to compose bitmasks for cloning. */
var CLONE_DEEP_FLAG = 1,
    CLONE_FLAT_FLAG = 2,
    CLONE_SYMBOLS_FLAG = 4;

/** `Object#toString` result references. */
var argsTag = '[object Arguments]',
    arrayTag = '[object Array]',
    boolTag = '[object Boolean]',
    dateTag = '[object Date]',
    errorTag = '[object Error]',
    funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]',
    mapTag = '[object Map]',
    numberTag = '[object Number]',
    objectTag = '[object Object]',
    regexpTag = '[object RegExp]',
    setTag = '[object Set]',
    stringTag = '[object String]',
    symbolTag = '[object Symbol]',
    weakMapTag = '[object WeakMap]';

var arrayBufferTag = '[object ArrayBuffer]',
    dataViewTag = '[object DataView]',
    float32Tag = '[object Float32Array]',
    float64Tag = '[object Float64Array]',
    int8Tag = '[object Int8Array]',
    int16Tag = '[object Int16Array]',
    int32Tag = '[object Int32Array]',
    uint8Tag = '[object Uint8Array]',
    uint8ClampedTag = '[object Uint8ClampedArray]',
    uint16Tag = '[object Uint16Array]',
    uint32Tag = '[object Uint32Array]';

/** Used to identify `toStringTag` values supported by `_.clone`. */
var cloneableTags = {};
cloneableTags[argsTag] = cloneableTags[arrayTag] =
cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =
cloneableTags[boolTag] = cloneableTags[dateTag] =
cloneableTags[float32Tag] = cloneableTags[float64Tag] =
cloneableTags[int8Tag] = cloneableTags[int16Tag] =
cloneableTags[int32Tag] = cloneableTags[mapTag] =
cloneableTags[numberTag] = cloneableTags[objectTag] =
cloneableTags[regexpTag] = cloneableTags[setTag] =
cloneableTags[stringTag] = cloneableTags[symbolTag] =
cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =
cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;
cloneableTags[errorTag] = cloneableTags[funcTag] =
cloneableTags[weakMapTag] = false;

/**
 * The base implementation of `_.clone` and `_.cloneDeep` which tracks
 * traversed objects.
 *
 * @private
 * @param {*} value The value to clone.
 * @param {boolean} bitmask The bitmask flags.
 *  1 - Deep clone
 *  2 - Flatten inherited properties
 *  4 - Clone symbols
 * @param {Function} [customizer] The function to customize cloning.
 * @param {string} [key] The key of `value`.
 * @param {Object} [object] The parent object of `value`.
 * @param {Object} [stack] Tracks traversed objects and their clone counterparts.
 * @returns {*} Returns the cloned value.
 */
function baseClone(value, bitmask, customizer, key, object, stack) {
  var result,
      isDeep = bitmask & CLONE_DEEP_FLAG,
      isFlat = bitmask & CLONE_FLAT_FLAG,
      isFull = bitmask & CLONE_SYMBOLS_FLAG;

  if (customizer) {
    result = object ? customizer(value, key, object, stack) : customizer(value);
  }
  if (result !== undefined) {
    return result;
  }
  if (!isObject(value)) {
    return value;
  }
  var isArr = isArray(value);
  if (isArr) {
    result = initCloneArray(value);
    if (!isDeep) {
      return copyArray(value, result);
    }
  } else {
    var tag = getTag(value),
        isFunc = tag == funcTag || tag == genTag;

    if (isBuffer(value)) {
      return cloneBuffer(value, isDeep);
    }
    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {
      result = (isFlat || isFunc) ? {} : initCloneObject(value);
      if (!isDeep) {
        return isFlat
          ? copySymbolsIn(value, baseAssignIn(result, value))
          : copySymbols(value, baseAssign(result, value));
      }
    } else {
      if (!cloneableTags[tag]) {
        return object ? value : {};
      }
      result = initCloneByTag(value, tag, baseClone, isDeep);
    }
  }
  // Check for circular references and return its corresponding clone.
  stack || (stack = new Stack);
  var stacked = stack.get(value);
  if (stacked) {
    return stacked;
  }
  stack.set(value, result);

  var keysFunc = isFull
    ? (isFlat ? getAllKeysIn : getAllKeys)
    : (isFlat ? keysIn : keys);

  var props = isArr ? undefined : keysFunc(value);
  arrayEach(props || value, function(subValue, key) {
    if (props) {
      key = subValue;
      subValue = value[key];
    }
    // Recursively populate clone (susceptible to call stack limits).
    assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));
  });
  return result;
}

module.exports = baseClone;

},{"./_Stack":12,"./_arrayEach":20,"./_assignValue":29,"./_baseAssign":32,"./_baseAssignIn":33,"./_cloneBuffer":75,"./_copyArray":84,"./_copySymbols":86,"./_copySymbolsIn":87,"./_getAllKeys":99,"./_getAllKeysIn":100,"./_getTag":108,"./_initCloneArray":116,"./_initCloneByTag":117,"./_initCloneObject":118,"./isArray":170,"./isBuffer":172,"./isObject":176,"./keys":180}],36:[function(require,module,exports){
var isObject = require('./isObject');

/** Built-in value references. */
var objectCreate = Object.create;

/**
 * The base implementation of `_.create` without support for assigning
 * properties to the created object.
 *
 * @private
 * @param {Object} proto The object to inherit from.
 * @returns {Object} Returns the new object.
 */
var baseCreate = (function() {
  function object() {}
  return function(proto) {
    if (!isObject(proto)) {
      return {};
    }
    if (objectCreate) {
      return objectCreate(proto);
    }
    object.prototype = proto;
    var result = new object;
    object.prototype = undefined;
    return result;
  };
}());

module.exports = baseCreate;

},{"./isObject":176}],37:[function(require,module,exports){
var baseForOwn = require('./_baseForOwn'),
    createBaseEach = require('./_createBaseEach');

/**
 * The base implementation of `_.forEach` without support for iteratee shorthands.
 *
 * @private
 * @param {Array|Object} collection The collection to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array|Object} Returns `collection`.
 */
var baseEach = createBaseEach(baseForOwn);

module.exports = baseEach;

},{"./_baseForOwn":41,"./_createBaseEach":90}],38:[function(require,module,exports){
/**
 * The base implementation of `_.findIndex` and `_.findLastIndex` without
 * support for iteratee shorthands.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {Function} predicate The function invoked per iteration.
 * @param {number} fromIndex The index to search from.
 * @param {boolean} [fromRight] Specify iterating from right to left.
 * @returns {number} Returns the index of the matched value, else `-1`.
 */
function baseFindIndex(array, predicate, fromIndex, fromRight) {
  var length = array.length,
      index = fromIndex + (fromRight ? 1 : -1);

  while ((fromRight ? index-- : ++index < length)) {
    if (predicate(array[index], index, array)) {
      return index;
    }
  }
  return -1;
}

module.exports = baseFindIndex;

},{}],39:[function(require,module,exports){
var arrayPush = require('./_arrayPush'),
    isFlattenable = require('./_isFlattenable');

/**
 * The base implementation of `_.flatten` with support for restricting flattening.
 *
 * @private
 * @param {Array} array The array to flatten.
 * @param {number} depth The maximum recursion depth.
 * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.
 * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.
 * @param {Array} [result=[]] The initial result value.
 * @returns {Array} Returns the new flattened array.
 */
function baseFlatten(array, depth, predicate, isStrict, result) {
  var index = -1,
      length = array.length;

  predicate || (predicate = isFlattenable);
  result || (result = []);

  while (++index < length) {
    var value = array[index];
    if (depth > 0 && predicate(value)) {
      if (depth > 1) {
        // Recursively flatten arrays (susceptible to call stack limits).
        baseFlatten(value, depth - 1, predicate, isStrict, result);
      } else {
        arrayPush(result, value);
      }
    } else if (!isStrict) {
      result[result.length] = value;
    }
  }
  return result;
}

module.exports = baseFlatten;

},{"./_arrayPush":26,"./_isFlattenable":119}],40:[function(require,module,exports){
var createBaseFor = require('./_createBaseFor');

/**
 * The base implementation of `baseForOwn` which iterates over `object`
 * properties returned by `keysFunc` and invokes `iteratee` for each property.
 * Iteratee functions may exit iteration early by explicitly returning `false`.
 *
 * @private
 * @param {Object} object The object to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @param {Function} keysFunc The function to get the keys of `object`.
 * @returns {Object} Returns `object`.
 */
var baseFor = createBaseFor();

module.exports = baseFor;

},{"./_createBaseFor":91}],41:[function(require,module,exports){
var baseFor = require('./_baseFor'),
    keys = require('./keys');

/**
 * The base implementation of `_.forOwn` without support for iteratee shorthands.
 *
 * @private
 * @param {Object} object The object to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Object} Returns `object`.
 */
function baseForOwn(object, iteratee) {
  return object && baseFor(object, iteratee, keys);
}

module.exports = baseForOwn;

},{"./_baseFor":40,"./keys":180}],42:[function(require,module,exports){
var castPath = require('./_castPath'),
    toKey = require('./_toKey');

/**
 * The base implementation of `_.get` without support for default values.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {Array|string} path The path of the property to get.
 * @returns {*} Returns the resolved value.
 */
function baseGet(object, path) {
  path = castPath(path, object);

  var index = 0,
      length = path.length;

  while (object != null && index < length) {
    object = object[toKey(path[index++])];
  }
  return (index && index == length) ? object : undefined;
}

module.exports = baseGet;

},{"./_castPath":73,"./_toKey":159}],43:[function(require,module,exports){
var arrayPush = require('./_arrayPush'),
    isArray = require('./isArray');

/**
 * The base implementation of `getAllKeys` and `getAllKeysIn` which uses
 * `keysFunc` and `symbolsFunc` to get the enumerable property names and
 * symbols of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {Function} keysFunc The function to get the keys of `object`.
 * @param {Function} symbolsFunc The function to get the symbols of `object`.
 * @returns {Array} Returns the array of property names and symbols.
 */
function baseGetAllKeys(object, keysFunc, symbolsFunc) {
  var result = keysFunc(object);
  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));
}

module.exports = baseGetAllKeys;

},{"./_arrayPush":26,"./isArray":170}],44:[function(require,module,exports){
var Symbol = require('./_Symbol'),
    getRawTag = require('./_getRawTag'),
    objectToString = require('./_objectToString');

/** `Object#toString` result references. */
var nullTag = '[object Null]',
    undefinedTag = '[object Undefined]';

/** Built-in value references. */
var symToStringTag = Symbol ? Symbol.toStringTag : undefined;

/**
 * The base implementation of `getTag` without fallbacks for buggy environments.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the `toStringTag`.
 */
function baseGetTag(value) {
  if (value == null) {
    return value === undefined ? undefinedTag : nullTag;
  }
  return (symToStringTag && symToStringTag in Object(value))
    ? getRawTag(value)
    : objectToString(value);
}

module.exports = baseGetTag;

},{"./_Symbol":13,"./_getRawTag":105,"./_objectToString":143}],45:[function(require,module,exports){
/**
 * The base implementation of `_.hasIn` without support for deep paths.
 *
 * @private
 * @param {Object} [object] The object to query.
 * @param {Array|string} key The key to check.
 * @returns {boolean} Returns `true` if `key` exists, else `false`.
 */
function baseHasIn(object, key) {
  return object != null && key in Object(object);
}

module.exports = baseHasIn;

},{}],46:[function(require,module,exports){
var baseFindIndex = require('./_baseFindIndex'),
    baseIsNaN = require('./_baseIsNaN'),
    strictIndexOf = require('./_strictIndexOf');

/**
 * The base implementation of `_.indexOf` without `fromIndex` bounds checks.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {*} value The value to search for.
 * @param {number} fromIndex The index to search from.
 * @returns {number} Returns the index of the matched value, else `-1`.
 */
function baseIndexOf(array, value, fromIndex) {
  return value === value
    ? strictIndexOf(array, value, fromIndex)
    : baseFindIndex(array, baseIsNaN, fromIndex);
}

module.exports = baseIndexOf;

},{"./_baseFindIndex":38,"./_baseIsNaN":51,"./_strictIndexOf":157}],47:[function(require,module,exports){
var baseGetTag = require('./_baseGetTag'),
    isObjectLike = require('./isObjectLike');

/** `Object#toString` result references. */
var argsTag = '[object Arguments]';

/**
 * The base implementation of `_.isArguments`.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an `arguments` object,
 */
function baseIsArguments(value) {
  return isObjectLike(value) && baseGetTag(value) == argsTag;
}

module.exports = baseIsArguments;

},{"./_baseGetTag":44,"./isObjectLike":177}],48:[function(require,module,exports){
var baseIsEqualDeep = require('./_baseIsEqualDeep'),
    isObjectLike = require('./isObjectLike');

/**
 * The base implementation of `_.isEqual` which supports partial comparisons
 * and tracks traversed objects.
 *
 * @private
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @param {boolean} bitmask The bitmask flags.
 *  1 - Unordered comparison
 *  2 - Partial comparison
 * @param {Function} [customizer] The function to customize comparisons.
 * @param {Object} [stack] Tracks traversed `value` and `other` objects.
 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
 */
function baseIsEqual(value, other, bitmask, customizer, stack) {
  if (value === other) {
    return true;
  }
  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {
    return value !== value && other !== other;
  }
  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);
}

module.exports = baseIsEqual;

},{"./_baseIsEqualDeep":49,"./isObjectLike":177}],49:[function(require,module,exports){
var Stack = require('./_Stack'),
    equalArrays = require('./_equalArrays'),
    equalByTag = require('./_equalByTag'),
    equalObjects = require('./_equalObjects'),
    getTag = require('./_getTag'),
    isArray = require('./isArray'),
    isBuffer = require('./isBuffer'),
    isTypedArray = require('./isTypedArray');

/** Used to compose bitmasks for value comparisons. */
var COMPARE_PARTIAL_FLAG = 1;

/** `Object#toString` result references. */
var argsTag = '[object Arguments]',
    arrayTag = '[object Array]',
    objectTag = '[object Object]';

/** Used for built-in method references. */
var objectProto = Object.prototype;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * A specialized version of `baseIsEqual` for arrays and objects which performs
 * deep comparisons and tracks traversed objects enabling objects with circular
 * references to be compared.
 *
 * @private
 * @param {Object} object The object to compare.
 * @param {Object} other The other object to compare.
 * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
 * @param {Function} customizer The function to customize comparisons.
 * @param {Function} equalFunc The function to determine equivalents of values.
 * @param {Object} [stack] Tracks traversed `object` and `other` objects.
 * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
 */
function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {
  var objIsArr = isArray(object),
      othIsArr = isArray(other),
      objTag = objIsArr ? arrayTag : getTag(object),
      othTag = othIsArr ? arrayTag : getTag(other);

  objTag = objTag == argsTag ? objectTag : objTag;
  othTag = othTag == argsTag ? objectTag : othTag;

  var objIsObj = objTag == objectTag,
      othIsObj = othTag == objectTag,
      isSameTag = objTag == othTag;

  if (isSameTag && isBuffer(object)) {
    if (!isBuffer(other)) {
      return false;
    }
    objIsArr = true;
    objIsObj = false;
  }
  if (isSameTag && !objIsObj) {
    stack || (stack = new Stack);
    return (objIsArr || isTypedArray(object))
      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)
      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);
  }
  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {
    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),
        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');

    if (objIsWrapped || othIsWrapped) {
      var objUnwrapped = objIsWrapped ? object.value() : object,
          othUnwrapped = othIsWrapped ? other.value() : other;

      stack || (stack = new Stack);
      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);
    }
  }
  if (!isSameTag) {
    return false;
  }
  stack || (stack = new Stack);
  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);
}

module.exports = baseIsEqualDeep;

},{"./_Stack":12,"./_equalArrays":94,"./_equalByTag":95,"./_equalObjects":96,"./_getTag":108,"./isArray":170,"./isBuffer":172,"./isTypedArray":179}],50:[function(require,module,exports){
var Stack = require('./_Stack'),
    baseIsEqual = require('./_baseIsEqual');

/** Used to compose bitmasks for value comparisons. */
var COMPARE_PARTIAL_FLAG = 1,
    COMPARE_UNORDERED_FLAG = 2;

/**
 * The base implementation of `_.isMatch` without support for iteratee shorthands.
 *
 * @private
 * @param {Object} object The object to inspect.
 * @param {Object} source The object of property values to match.
 * @param {Array} matchData The property names, values, and compare flags to match.
 * @param {Function} [customizer] The function to customize comparisons.
 * @returns {boolean} Returns `true` if `object` is a match, else `false`.
 */
function baseIsMatch(object, source, matchData, customizer) {
  var index = matchData.length,
      length = index,
      noCustomizer = !customizer;

  if (object == null) {
    return !length;
  }
  object = Object(object);
  while (index--) {
    var data = matchData[index];
    if ((noCustomizer && data[2])
          ? data[1] !== object[data[0]]
          : !(data[0] in object)
        ) {
      return false;
    }
  }
  while (++index < length) {
    data = matchData[index];
    var key = data[0],
        objValue = object[key],
        srcValue = data[1];

    if (noCustomizer && data[2]) {
      if (objValue === undefined && !(key in object)) {
        return false;
      }
    } else {
      var stack = new Stack;
      if (customizer) {
        var result = customizer(objValue, srcValue, key, object, source, stack);
      }
      if (!(result === undefined
            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)
            : result
          )) {
        return false;
      }
    }
  }
  return true;
}

module.exports = baseIsMatch;

},{"./_Stack":12,"./_baseIsEqual":48}],51:[function(require,module,exports){
/**
 * The base implementation of `_.isNaN` without support for number objects.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.
 */
function baseIsNaN(value) {
  return value !== value;
}

module.exports = baseIsNaN;

},{}],52:[function(require,module,exports){
var isFunction = require('./isFunction'),
    isMasked = require('./_isMasked'),
    isObject = require('./isObject'),
    toSource = require('./_toSource');

/**
 * Used to match `RegExp`
 * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
 */
var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

/** Used to detect host constructors (Safari). */
var reIsHostCtor = /^\[object .+?Constructor\]$/;

/** Used for built-in method references. */
var funcProto = Function.prototype,
    objectProto = Object.prototype;

/** Used to resolve the decompiled source of functions. */
var funcToString = funcProto.toString;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/** Used to detect if a method is native. */
var reIsNative = RegExp('^' +
  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\$&')
  .replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$'
);

/**
 * The base implementation of `_.isNative` without bad shim checks.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a native function,
 *  else `false`.
 */
function baseIsNative(value) {
  if (!isObject(value) || isMasked(value)) {
    return false;
  }
  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;
  return pattern.test(toSource(value));
}

module.exports = baseIsNative;

},{"./_isMasked":123,"./_toSource":160,"./isFunction":174,"./isObject":176}],53:[function(require,module,exports){
var baseGetTag = require('./_baseGetTag'),
    isLength = require('./isLength'),
    isObjectLike = require('./isObjectLike');

/** `Object#toString` result references. */
var argsTag = '[object Arguments]',
    arrayTag = '[object Array]',
    boolTag = '[object Boolean]',
    dateTag = '[object Date]',
    errorTag = '[object Error]',
    funcTag = '[object Function]',
    mapTag = '[object Map]',
    numberTag = '[object Number]',
    objectTag = '[object Object]',
    regexpTag = '[object RegExp]',
    setTag = '[object Set]',
    stringTag = '[object String]',
    weakMapTag = '[object WeakMap]';

var arrayBufferTag = '[object ArrayBuffer]',
    dataViewTag = '[object DataView]',
    float32Tag = '[object Float32Array]',
    float64Tag = '[object Float64Array]',
    int8Tag = '[object Int8Array]',
    int16Tag = '[object Int16Array]',
    int32Tag = '[object Int32Array]',
    uint8Tag = '[object Uint8Array]',
    uint8ClampedTag = '[object Uint8ClampedArray]',
    uint16Tag = '[object Uint16Array]',
    uint32Tag = '[object Uint32Array]';

/** Used to identify `toStringTag` values of typed arrays. */
var typedArrayTags = {};
typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =
typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =
typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =
typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =
typedArrayTags[uint32Tag] = true;
typedArrayTags[argsTag] = typedArrayTags[arrayTag] =
typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =
typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =
typedArrayTags[errorTag] = typedArrayTags[funcTag] =
typedArrayTags[mapTag] = typedArrayTags[numberTag] =
typedArrayTags[objectTag] = typedArrayTags[regexpTag] =
typedArrayTags[setTag] = typedArrayTags[stringTag] =
typedArrayTags[weakMapTag] = false;

/**
 * The base implementation of `_.isTypedArray` without Node.js optimizations.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
 */
function baseIsTypedArray(value) {
  return isObjectLike(value) &&
    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];
}

module.exports = baseIsTypedArray;

},{"./_baseGetTag":44,"./isLength":175,"./isObjectLike":177}],54:[function(require,module,exports){
var baseMatches = require('./_baseMatches'),
    baseMatchesProperty = require('./_baseMatchesProperty'),
    identity = require('./identity'),
    isArray = require('./isArray'),
    property = require('./property');

/**
 * The base implementation of `_.iteratee`.
 *
 * @private
 * @param {*} [value=_.identity] The value to convert to an iteratee.
 * @returns {Function} Returns the iteratee.
 */
function baseIteratee(value) {
  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.
  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.
  if (typeof value == 'function') {
    return value;
  }
  if (value == null) {
    return identity;
  }
  if (typeof value == 'object') {
    return isArray(value)
      ? baseMatchesProperty(value[0], value[1])
      : baseMatches(value);
  }
  return property(value);
}

module.exports = baseIteratee;

},{"./_baseMatches":58,"./_baseMatchesProperty":59,"./identity":168,"./isArray":170,"./property":188}],55:[function(require,module,exports){
var isPrototype = require('./_isPrototype'),
    nativeKeys = require('./_nativeKeys');

/** Used for built-in method references. */
var objectProto = Object.prototype;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 */
function baseKeys(object) {
  if (!isPrototype(object)) {
    return nativeKeys(object);
  }
  var result = [];
  for (var key in Object(object)) {
    if (hasOwnProperty.call(object, key) && key != 'constructor') {
      result.push(key);
    }
  }
  return result;
}

module.exports = baseKeys;

},{"./_isPrototype":124,"./_nativeKeys":140}],56:[function(require,module,exports){
var isObject = require('./isObject'),
    isPrototype = require('./_isPrototype'),
    nativeKeysIn = require('./_nativeKeysIn');

/** Used for built-in method references. */
var objectProto = Object.prototype;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 */
function baseKeysIn(object) {
  if (!isObject(object)) {
    return nativeKeysIn(object);
  }
  var isProto = isPrototype(object),
      result = [];

  for (var key in object) {
    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {
      result.push(key);
    }
  }
  return result;
}

module.exports = baseKeysIn;

},{"./_isPrototype":124,"./_nativeKeysIn":141,"./isObject":176}],57:[function(require,module,exports){
var baseEach = require('./_baseEach'),
    isArrayLike = require('./isArrayLike');

/**
 * The base implementation of `_.map` without support for iteratee shorthands.
 *
 * @private
 * @param {Array|Object} collection The collection to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array} Returns the new mapped array.
 */
function baseMap(collection, iteratee) {
  var index = -1,
      result = isArrayLike(collection) ? Array(collection.length) : [];

  baseEach(collection, function(value, key, collection) {
    result[++index] = iteratee(value, key, collection);
  });
  return result;
}

module.exports = baseMap;

},{"./_baseEach":37,"./isArrayLike":171}],58:[function(require,module,exports){
var baseIsMatch = require('./_baseIsMatch'),
    getMatchData = require('./_getMatchData'),
    matchesStrictComparable = require('./_matchesStrictComparable');

/**
 * The base implementation of `_.matches` which doesn't clone `source`.
 *
 * @private
 * @param {Object} source The object of property values to match.
 * @returns {Function} Returns the new spec function.
 */
function baseMatches(source) {
  var matchData = getMatchData(source);
  if (matchData.length == 1 && matchData[0][2]) {
    return matchesStrictComparable(matchData[0][0], matchData[0][1]);
  }
  return function(object) {
    return object === source || baseIsMatch(object, source, matchData);
  };
}

module.exports = baseMatches;

},{"./_baseIsMatch":50,"./_getMatchData":102,"./_matchesStrictComparable":137}],59:[function(require,module,exports){
var baseIsEqual = require('./_baseIsEqual'),
    get = require('./get'),
    hasIn = require('./hasIn'),
    isKey = require('./_isKey'),
    isStrictComparable = require('./_isStrictComparable'),
    matchesStrictComparable = require('./_matchesStrictComparable'),
    toKey = require('./_toKey');

/** Used to compose bitmasks for value comparisons. */
var COMPARE_PARTIAL_FLAG = 1,
    COMPARE_UNORDERED_FLAG = 2;

/**
 * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.
 *
 * @private
 * @param {string} path The path of the property to get.
 * @param {*} srcValue The value to match.
 * @returns {Function} Returns the new spec function.
 */
function baseMatchesProperty(path, srcValue) {
  if (isKey(path) && isStrictComparable(srcValue)) {
    return matchesStrictComparable(toKey(path), srcValue);
  }
  return function(object) {
    var objValue = get(object, path);
    return (objValue === undefined && objValue === srcValue)
      ? hasIn(object, path)
      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);
  };
}

module.exports = baseMatchesProperty;

},{"./_baseIsEqual":48,"./_isKey":121,"./_isStrictComparable":125,"./_matchesStrictComparable":137,"./_toKey":159,"./get":166,"./hasIn":167}],60:[function(require,module,exports){
var arrayMap = require('./_arrayMap'),
    baseIteratee = require('./_baseIteratee'),
    baseMap = require('./_baseMap'),
    baseSortBy = require('./_baseSortBy'),
    baseUnary = require('./_baseUnary'),
    compareMultiple = require('./_compareMultiple'),
    identity = require('./identity');

/**
 * The base implementation of `_.orderBy` without param guards.
 *
 * @private
 * @param {Array|Object} collection The collection to iterate over.
 * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.
 * @param {string[]} orders The sort orders of `iteratees`.
 * @returns {Array} Returns the new sorted array.
 */
function baseOrderBy(collection, iteratees, orders) {
  var index = -1;
  iteratees = arrayMap(iteratees.length ? iteratees : [identity], baseUnary(baseIteratee));

  var result = baseMap(collection, function(value, key, collection) {
    var criteria = arrayMap(iteratees, function(iteratee) {
      return iteratee(value);
    });
    return { 'criteria': criteria, 'index': ++index, 'value': value };
  });

  return baseSortBy(result, function(object, other) {
    return compareMultiple(object, other, orders);
  });
}

module.exports = baseOrderBy;

},{"./_arrayMap":25,"./_baseIteratee":54,"./_baseMap":57,"./_baseSortBy":67,"./_baseUnary":70,"./_compareMultiple":83,"./identity":168}],61:[function(require,module,exports){
var basePickBy = require('./_basePickBy'),
    hasIn = require('./hasIn');

/**
 * The base implementation of `_.pick` without support for individual
 * property identifiers.
 *
 * @private
 * @param {Object} object The source object.
 * @param {string[]} paths The property paths to pick.
 * @returns {Object} Returns the new object.
 */
function basePick(object, paths) {
  return basePickBy(object, paths, function(value, path) {
    return hasIn(object, path);
  });
}

module.exports = basePick;

},{"./_basePickBy":62,"./hasIn":167}],62:[function(require,module,exports){
var baseGet = require('./_baseGet'),
    baseSet = require('./_baseSet'),
    castPath = require('./_castPath');

/**
 * The base implementation of  `_.pickBy` without support for iteratee shorthands.
 *
 * @private
 * @param {Object} object The source object.
 * @param {string[]} paths The property paths to pick.
 * @param {Function} predicate The function invoked per property.
 * @returns {Object} Returns the new object.
 */
function basePickBy(object, paths, predicate) {
  var index = -1,
      length = paths.length,
      result = {};

  while (++index < length) {
    var path = paths[index],
        value = baseGet(object, path);

    if (predicate(value, path)) {
      baseSet(result, castPath(path, object), value);
    }
  }
  return result;
}

module.exports = basePickBy;

},{"./_baseGet":42,"./_baseSet":65,"./_castPath":73}],63:[function(require,module,exports){
/**
 * The base implementation of `_.property` without support for deep paths.
 *
 * @private
 * @param {string} key The key of the property to get.
 * @returns {Function} Returns the new accessor function.
 */
function baseProperty(key) {
  return function(object) {
    return object == null ? undefined : object[key];
  };
}

module.exports = baseProperty;

},{}],64:[function(require,module,exports){
var baseGet = require('./_baseGet');

/**
 * A specialized version of `baseProperty` which supports deep paths.
 *
 * @private
 * @param {Array|string} path The path of the property to get.
 * @returns {Function} Returns the new accessor function.
 */
function basePropertyDeep(path) {
  return function(object) {
    return baseGet(object, path);
  };
}

module.exports = basePropertyDeep;

},{"./_baseGet":42}],65:[function(require,module,exports){
var assignValue = require('./_assignValue'),
    castPath = require('./_castPath'),
    isIndex = require('./_isIndex'),
    isObject = require('./isObject'),
    toKey = require('./_toKey');

/**
 * The base implementation of `_.set`.
 *
 * @private
 * @param {Object} object The object to modify.
 * @param {Array|string} path The path of the property to set.
 * @param {*} value The value to set.
 * @param {Function} [customizer] The function to customize path creation.
 * @returns {Object} Returns `object`.
 */
function baseSet(object, path, value, customizer) {
  if (!isObject(object)) {
    return object;
  }
  path = castPath(path, object);

  var index = -1,
      length = path.length,
      lastIndex = length - 1,
      nested = object;

  while (nested != null && ++index < length) {
    var key = toKey(path[index]),
        newValue = value;

    if (index != lastIndex) {
      var objValue = nested[key];
      newValue = customizer ? customizer(objValue, key, nested) : undefined;
      if (newValue === undefined) {
        newValue = isObject(objValue)
          ? objValue
          : (isIndex(path[index + 1]) ? [] : {});
      }
    }
    assignValue(nested, key, newValue);
    nested = nested[key];
  }
  return object;
}

module.exports = baseSet;

},{"./_assignValue":29,"./_castPath":73,"./_isIndex":120,"./_toKey":159,"./isObject":176}],66:[function(require,module,exports){
var constant = require('./constant'),
    defineProperty = require('./_defineProperty'),
    identity = require('./identity');

/**
 * The base implementation of `setToString` without support for hot loop shorting.
 *
 * @private
 * @param {Function} func The function to modify.
 * @param {Function} string The `toString` result.
 * @returns {Function} Returns `func`.
 */
var baseSetToString = !defineProperty ? identity : function(func, string) {
  return defineProperty(func, 'toString', {
    'configurable': true,
    'enumerable': false,
    'value': constant(string),
    'writable': true
  });
};

module.exports = baseSetToString;

},{"./_defineProperty":93,"./constant":162,"./identity":168}],67:[function(require,module,exports){
/**
 * The base implementation of `_.sortBy` which uses `comparer` to define the
 * sort order of `array` and replaces criteria objects with their corresponding
 * values.
 *
 * @private
 * @param {Array} array The array to sort.
 * @param {Function} comparer The function to define sort order.
 * @returns {Array} Returns `array`.
 */
function baseSortBy(array, comparer) {
  var length = array.length;

  array.sort(comparer);
  while (length--) {
    array[length] = array[length].value;
  }
  return array;
}

module.exports = baseSortBy;

},{}],68:[function(require,module,exports){
/**
 * The base implementation of `_.times` without support for iteratee shorthands
 * or max array length checks.
 *
 * @private
 * @param {number} n The number of times to invoke `iteratee`.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array} Returns the array of results.
 */
function baseTimes(n, iteratee) {
  var index = -1,
      result = Array(n);

  while (++index < n) {
    result[index] = iteratee(index);
  }
  return result;
}

module.exports = baseTimes;

},{}],69:[function(require,module,exports){
var Symbol = require('./_Symbol'),
    arrayMap = require('./_arrayMap'),
    isArray = require('./isArray'),
    isSymbol = require('./isSymbol');

/** Used as references for various `Number` constants. */
var INFINITY = 1 / 0;

/** Used to convert symbols to primitives and strings. */
var symbolProto = Symbol ? Symbol.prototype : undefined,
    symbolToString = symbolProto ? symbolProto.toString : undefined;

/**
 * The base implementation of `_.toString` which doesn't convert nullish
 * values to empty strings.
 *
 * @private
 * @param {*} value The value to process.
 * @returns {string} Returns the string.
 */
function baseToString(value) {
  // Exit early for strings to avoid a performance hit in some environments.
  if (typeof value == 'string') {
    return value;
  }
  if (isArray(value)) {
    // Recursively convert values (susceptible to call stack limits).
    return arrayMap(value, baseToString) + '';
  }
  if (isSymbol(value)) {
    return symbolToString ? symbolToString.call(value) : '';
  }
  var result = (value + '');
  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;
}

module.exports = baseToString;

},{"./_Symbol":13,"./_arrayMap":25,"./isArray":170,"./isSymbol":178}],70:[function(require,module,exports){
/**
 * The base implementation of `_.unary` without support for storing metadata.
 *
 * @private
 * @param {Function} func The function to cap arguments for.
 * @returns {Function} Returns the new capped function.
 */
function baseUnary(func) {
  return function(value) {
    return func(value);
  };
}

module.exports = baseUnary;

},{}],71:[function(require,module,exports){
var SetCache = require('./_SetCache'),
    arrayIncludes = require('./_arrayIncludes'),
    arrayIncludesWith = require('./_arrayIncludesWith'),
    cacheHas = require('./_cacheHas'),
    createSet = require('./_createSet'),
    setToArray = require('./_setToArray');

/** Used as the size to enable large array optimizations. */
var LARGE_ARRAY_SIZE = 200;

/**
 * The base implementation of `_.uniqBy` without support for iteratee shorthands.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {Function} [iteratee] The iteratee invoked per element.
 * @param {Function} [comparator] The comparator invoked per element.
 * @returns {Array} Returns the new duplicate free array.
 */
function baseUniq(array, iteratee, comparator) {
  var index = -1,
      includes = arrayIncludes,
      length = array.length,
      isCommon = true,
      result = [],
      seen = result;

  if (comparator) {
    isCommon = false;
    includes = arrayIncludesWith;
  }
  else if (length >= LARGE_ARRAY_SIZE) {
    var set = iteratee ? null : createSet(array);
    if (set) {
      return setToArray(set);
    }
    isCommon = false;
    includes = cacheHas;
    seen = new SetCache;
  }
  else {
    seen = iteratee ? [] : result;
  }
  outer:
  while (++index < length) {
    var value = array[index],
        computed = iteratee ? iteratee(value) : value;

    value = (comparator || value !== 0) ? value : 0;
    if (isCommon && computed === computed) {
      var seenIndex = seen.length;
      while (seenIndex--) {
        if (seen[seenIndex] === computed) {
          continue outer;
        }
      }
      if (iteratee) {
        seen.push(computed);
      }
      result.push(value);
    }
    else if (!includes(seen, computed, comparator)) {
      if (seen !== result) {
        seen.push(computed);
      }
      result.push(value);
    }
  }
  return result;
}

module.exports = baseUniq;

},{"./_SetCache":11,"./_arrayIncludes":22,"./_arrayIncludesWith":23,"./_cacheHas":72,"./_createSet":92,"./_setToArray":149}],72:[function(require,module,exports){
/**
 * Checks if a `cache` value for `key` exists.
 *
 * @private
 * @param {Object} cache The cache to query.
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function cacheHas(cache, key) {
  return cache.has(key);
}

module.exports = cacheHas;

},{}],73:[function(require,module,exports){
var isArray = require('./isArray'),
    isKey = require('./_isKey'),
    stringToPath = require('./_stringToPath'),
    toString = require('./toString');

/**
 * Casts `value` to a path array if it's not one.
 *
 * @private
 * @param {*} value The value to inspect.
 * @param {Object} [object] The object to query keys on.
 * @returns {Array} Returns the cast property path array.
 */
function castPath(value, object) {
  if (isArray(value)) {
    return value;
  }
  return isKey(value, object) ? [value] : stringToPath(toString(value));
}

module.exports = castPath;

},{"./_isKey":121,"./_stringToPath":158,"./isArray":170,"./toString":193}],74:[function(require,module,exports){
var Uint8Array = require('./_Uint8Array');

/**
 * Creates a clone of `arrayBuffer`.
 *
 * @private
 * @param {ArrayBuffer} arrayBuffer The array buffer to clone.
 * @returns {ArrayBuffer} Returns the cloned array buffer.
 */
function cloneArrayBuffer(arrayBuffer) {
  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);
  new Uint8Array(result).set(new Uint8Array(arrayBuffer));
  return result;
}

module.exports = cloneArrayBuffer;

},{"./_Uint8Array":14}],75:[function(require,module,exports){
var root = require('./_root');

/** Detect free variable `exports`. */
var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;

/** Detect free variable `module`. */
var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;

/** Detect the popular CommonJS extension `module.exports`. */
var moduleExports = freeModule && freeModule.exports === freeExports;

/** Built-in value references. */
var Buffer = moduleExports ? root.Buffer : undefined,
    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;

/**
 * Creates a clone of  `buffer`.
 *
 * @private
 * @param {Buffer} buffer The buffer to clone.
 * @param {boolean} [isDeep] Specify a deep clone.
 * @returns {Buffer} Returns the cloned buffer.
 */
function cloneBuffer(buffer, isDeep) {
  if (isDeep) {
    return buffer.slice();
  }
  var length = buffer.length,
      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);

  buffer.copy(result);
  return result;
}

module.exports = cloneBuffer;

},{"./_root":146}],76:[function(require,module,exports){
var cloneArrayBuffer = require('./_cloneArrayBuffer');

/**
 * Creates a clone of `dataView`.
 *
 * @private
 * @param {Object} dataView The data view to clone.
 * @param {boolean} [isDeep] Specify a deep clone.
 * @returns {Object} Returns the cloned data view.
 */
function cloneDataView(dataView, isDeep) {
  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;
  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);
}

module.exports = cloneDataView;

},{"./_cloneArrayBuffer":74}],77:[function(require,module,exports){
var addMapEntry = require('./_addMapEntry'),
    arrayReduce = require('./_arrayReduce'),
    mapToArray = require('./_mapToArray');

/** Used to compose bitmasks for cloning. */
var CLONE_DEEP_FLAG = 1;

/**
 * Creates a clone of `map`.
 *
 * @private
 * @param {Object} map The map to clone.
 * @param {Function} cloneFunc The function to clone values.
 * @param {boolean} [isDeep] Specify a deep clone.
 * @returns {Object} Returns the cloned map.
 */
function cloneMap(map, isDeep, cloneFunc) {
  var array = isDeep ? cloneFunc(mapToArray(map), CLONE_DEEP_FLAG) : mapToArray(map);
  return arrayReduce(array, addMapEntry, new map.constructor);
}

module.exports = cloneMap;

},{"./_addMapEntry":16,"./_arrayReduce":27,"./_mapToArray":136}],78:[function(require,module,exports){
/** Used to match `RegExp` flags from their coerced string values. */
var reFlags = /\w*$/;

/**
 * Creates a clone of `regexp`.
 *
 * @private
 * @param {Object} regexp The regexp to clone.
 * @returns {Object} Returns the cloned regexp.
 */
function cloneRegExp(regexp) {
  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));
  result.lastIndex = regexp.lastIndex;
  return result;
}

module.exports = cloneRegExp;

},{}],79:[function(require,module,exports){
var addSetEntry = require('./_addSetEntry'),
    arrayReduce = require('./_arrayReduce'),
    setToArray = require('./_setToArray');

/** Used to compose bitmasks for cloning. */
var CLONE_DEEP_FLAG = 1;

/**
 * Creates a clone of `set`.
 *
 * @private
 * @param {Object} set The set to clone.
 * @param {Function} cloneFunc The function to clone values.
 * @param {boolean} [isDeep] Specify a deep clone.
 * @returns {Object} Returns the cloned set.
 */
function cloneSet(set, isDeep, cloneFunc) {
  var array = isDeep ? cloneFunc(setToArray(set), CLONE_DEEP_FLAG) : setToArray(set);
  return arrayReduce(array, addSetEntry, new set.constructor);
}

module.exports = cloneSet;

},{"./_addSetEntry":17,"./_arrayReduce":27,"./_setToArray":149}],80:[function(require,module,exports){
var Symbol = require('./_Symbol');

/** Used to convert symbols to primitives and strings. */
var symbolProto = Symbol ? Symbol.prototype : undefined,
    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;

/**
 * Creates a clone of the `symbol` object.
 *
 * @private
 * @param {Object} symbol The symbol object to clone.
 * @returns {Object} Returns the cloned symbol object.
 */
function cloneSymbol(symbol) {
  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};
}

module.exports = cloneSymbol;

},{"./_Symbol":13}],81:[function(require,module,exports){
var cloneArrayBuffer = require('./_cloneArrayBuffer');

/**
 * Creates a clone of `typedArray`.
 *
 * @private
 * @param {Object} typedArray The typed array to clone.
 * @param {boolean} [isDeep] Specify a deep clone.
 * @returns {Object} Returns the cloned typed array.
 */
function cloneTypedArray(typedArray, isDeep) {
  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;
  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);
}

module.exports = cloneTypedArray;

},{"./_cloneArrayBuffer":74}],82:[function(require,module,exports){
var isSymbol = require('./isSymbol');

/**
 * Compares values to sort them in ascending order.
 *
 * @private
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @returns {number} Returns the sort order indicator for `value`.
 */
function compareAscending(value, other) {
  if (value !== other) {
    var valIsDefined = value !== undefined,
        valIsNull = value === null,
        valIsReflexive = value === value,
        valIsSymbol = isSymbol(value);

    var othIsDefined = other !== undefined,
        othIsNull = other === null,
        othIsReflexive = other === other,
        othIsSymbol = isSymbol(other);

    if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||
        (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||
        (valIsNull && othIsDefined && othIsReflexive) ||
        (!valIsDefined && othIsReflexive) ||
        !valIsReflexive) {
      return 1;
    }
    if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||
        (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||
        (othIsNull && valIsDefined && valIsReflexive) ||
        (!othIsDefined && valIsReflexive) ||
        !othIsReflexive) {
      return -1;
    }
  }
  return 0;
}

module.exports = compareAscending;

},{"./isSymbol":178}],83:[function(require,module,exports){
var compareAscending = require('./_compareAscending');

/**
 * Used by `_.orderBy` to compare multiple properties of a value to another
 * and stable sort them.
 *
 * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,
 * specify an order of "desc" for descending or "asc" for ascending sort order
 * of corresponding values.
 *
 * @private
 * @param {Object} object The object to compare.
 * @param {Object} other The other object to compare.
 * @param {boolean[]|string[]} orders The order to sort by for each property.
 * @returns {number} Returns the sort order indicator for `object`.
 */
function compareMultiple(object, other, orders) {
  var index = -1,
      objCriteria = object.criteria,
      othCriteria = other.criteria,
      length = objCriteria.length,
      ordersLength = orders.length;

  while (++index < length) {
    var result = compareAscending(objCriteria[index], othCriteria[index]);
    if (result) {
      if (index >= ordersLength) {
        return result;
      }
      var order = orders[index];
      return result * (order == 'desc' ? -1 : 1);
    }
  }
  // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications
  // that causes it, under certain circumstances, to provide the same value for
  // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247
  // for more details.
  //
  // This also ensures a stable sort in V8 and other engines.
  // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.
  return object.index - other.index;
}

module.exports = compareMultiple;

},{"./_compareAscending":82}],84:[function(require,module,exports){
/**
 * Copies the values of `source` to `array`.
 *
 * @private
 * @param {Array} source The array to copy values from.
 * @param {Array} [array=[]] The array to copy values to.
 * @returns {Array} Returns `array`.
 */
function copyArray(source, array) {
  var index = -1,
      length = source.length;

  array || (array = Array(length));
  while (++index < length) {
    array[index] = source[index];
  }
  return array;
}

module.exports = copyArray;

},{}],85:[function(require,module,exports){
var assignValue = require('./_assignValue'),
    baseAssignValue = require('./_baseAssignValue');

/**
 * Copies properties of `source` to `object`.
 *
 * @private
 * @param {Object} source The object to copy properties from.
 * @param {Array} props The property identifiers to copy.
 * @param {Object} [object={}] The object to copy properties to.
 * @param {Function} [customizer] The function to customize copied values.
 * @returns {Object} Returns `object`.
 */
function copyObject(source, props, object, customizer) {
  var isNew = !object;
  object || (object = {});

  var index = -1,
      length = props.length;

  while (++index < length) {
    var key = props[index];

    var newValue = customizer
      ? customizer(object[key], source[key], key, object, source)
      : undefined;

    if (newValue === undefined) {
      newValue = source[key];
    }
    if (isNew) {
      baseAssignValue(object, key, newValue);
    } else {
      assignValue(object, key, newValue);
    }
  }
  return object;
}

module.exports = copyObject;

},{"./_assignValue":29,"./_baseAssignValue":34}],86:[function(require,module,exports){
var copyObject = require('./_copyObject'),
    getSymbols = require('./_getSymbols');

/**
 * Copies own symbols of `source` to `object`.
 *
 * @private
 * @param {Object} source The object to copy symbols from.
 * @param {Object} [object={}] The object to copy symbols to.
 * @returns {Object} Returns `object`.
 */
function copySymbols(source, object) {
  return copyObject(source, getSymbols(source), object);
}

module.exports = copySymbols;

},{"./_copyObject":85,"./_getSymbols":106}],87:[function(require,module,exports){
var copyObject = require('./_copyObject'),
    getSymbolsIn = require('./_getSymbolsIn');

/**
 * Copies own and inherited symbols of `source` to `object`.
 *
 * @private
 * @param {Object} source The object to copy symbols from.
 * @param {Object} [object={}] The object to copy symbols to.
 * @returns {Object} Returns `object`.
 */
function copySymbolsIn(source, object) {
  return copyObject(source, getSymbolsIn(source), object);
}

module.exports = copySymbolsIn;

},{"./_copyObject":85,"./_getSymbolsIn":107}],88:[function(require,module,exports){
var root = require('./_root');

/** Used to detect overreaching core-js shims. */
var coreJsData = root['__core-js_shared__'];

module.exports = coreJsData;

},{"./_root":146}],89:[function(require,module,exports){
var arrayAggregator = require('./_arrayAggregator'),
    baseAggregator = require('./_baseAggregator'),
    baseIteratee = require('./_baseIteratee'),
    isArray = require('./isArray');

/**
 * Creates a function like `_.groupBy`.
 *
 * @private
 * @param {Function} setter The function to set accumulator values.
 * @param {Function} [initializer] The accumulator object initializer.
 * @returns {Function} Returns the new aggregator function.
 */
function createAggregator(setter, initializer) {
  return function(collection, iteratee) {
    var func = isArray(collection) ? arrayAggregator : baseAggregator,
        accumulator = initializer ? initializer() : {};

    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);
  };
}

module.exports = createAggregator;

},{"./_arrayAggregator":19,"./_baseAggregator":31,"./_baseIteratee":54,"./isArray":170}],90:[function(require,module,exports){
var isArrayLike = require('./isArrayLike');

/**
 * Creates a `baseEach` or `baseEachRight` function.
 *
 * @private
 * @param {Function} eachFunc The function to iterate over a collection.
 * @param {boolean} [fromRight] Specify iterating from right to left.
 * @returns {Function} Returns the new base function.
 */
function createBaseEach(eachFunc, fromRight) {
  return function(collection, iteratee) {
    if (collection == null) {
      return collection;
    }
    if (!isArrayLike(collection)) {
      return eachFunc(collection, iteratee);
    }
    var length = collection.length,
        index = fromRight ? length : -1,
        iterable = Object(collection);

    while ((fromRight ? index-- : ++index < length)) {
      if (iteratee(iterable[index], index, iterable) === false) {
        break;
      }
    }
    return collection;
  };
}

module.exports = createBaseEach;

},{"./isArrayLike":171}],91:[function(require,module,exports){
/**
 * Creates a base function for methods like `_.forIn` and `_.forOwn`.
 *
 * @private
 * @param {boolean} [fromRight] Specify iterating from right to left.
 * @returns {Function} Returns the new base function.
 */
function createBaseFor(fromRight) {
  return function(object, iteratee, keysFunc) {
    var index = -1,
        iterable = Object(object),
        props = keysFunc(object),
        length = props.length;

    while (length--) {
      var key = props[fromRight ? length : ++index];
      if (iteratee(iterable[key], key, iterable) === false) {
        break;
      }
    }
    return object;
  };
}

module.exports = createBaseFor;

},{}],92:[function(require,module,exports){
var Set = require('./_Set'),
    noop = require('./noop'),
    setToArray = require('./_setToArray');

/** Used as references for various `Number` constants. */
var INFINITY = 1 / 0;

/**
 * Creates a set object of `values`.
 *
 * @private
 * @param {Array} values The values to add to the set.
 * @returns {Object} Returns the new set.
 */
var createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {
  return new Set(values);
};

module.exports = createSet;

},{"./_Set":10,"./_setToArray":149,"./noop":183}],93:[function(require,module,exports){
var getNative = require('./_getNative');

var defineProperty = (function() {
  try {
    var func = getNative(Object, 'defineProperty');
    func({}, '', {});
    return func;
  } catch (e) {}
}());

module.exports = defineProperty;

},{"./_getNative":103}],94:[function(require,module,exports){
var SetCache = require('./_SetCache'),
    arraySome = require('./_arraySome'),
    cacheHas = require('./_cacheHas');

/** Used to compose bitmasks for value comparisons. */
var COMPARE_PARTIAL_FLAG = 1,
    COMPARE_UNORDERED_FLAG = 2;

/**
 * A specialized version of `baseIsEqualDeep` for arrays with support for
 * partial deep comparisons.
 *
 * @private
 * @param {Array} array The array to compare.
 * @param {Array} other The other array to compare.
 * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
 * @param {Function} customizer The function to customize comparisons.
 * @param {Function} equalFunc The function to determine equivalents of values.
 * @param {Object} stack Tracks traversed `array` and `other` objects.
 * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.
 */
function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {
  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,
      arrLength = array.length,
      othLength = other.length;

  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {
    return false;
  }
  // Assume cyclic values are equal.
  var stacked = stack.get(array);
  if (stacked && stack.get(other)) {
    return stacked == other;
  }
  var index = -1,
      result = true,
      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;

  stack.set(array, other);
  stack.set(other, array);

  // Ignore non-index properties.
  while (++index < arrLength) {
    var arrValue = array[index],
        othValue = other[index];

    if (customizer) {
      var compared = isPartial
        ? customizer(othValue, arrValue, index, other, array, stack)
        : customizer(arrValue, othValue, index, array, other, stack);
    }
    if (compared !== undefined) {
      if (compared) {
        continue;
      }
      result = false;
      break;
    }
    // Recursively compare arrays (susceptible to call stack limits).
    if (seen) {
      if (!arraySome(other, function(othValue, othIndex) {
            if (!cacheHas(seen, othIndex) &&
                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {
              return seen.push(othIndex);
            }
          })) {
        result = false;
        break;
      }
    } else if (!(
          arrValue === othValue ||
            equalFunc(arrValue, othValue, bitmask, customizer, stack)
        )) {
      result = false;
      break;
    }
  }
  stack['delete'](array);
  stack['delete'](other);
  return result;
}

module.exports = equalArrays;

},{"./_SetCache":11,"./_arraySome":28,"./_cacheHas":72}],95:[function(require,module,exports){
var Symbol = require('./_Symbol'),
    Uint8Array = require('./_Uint8Array'),
    eq = require('./eq'),
    equalArrays = require('./_equalArrays'),
    mapToArray = require('./_mapToArray'),
    setToArray = require('./_setToArray');

/** Used to compose bitmasks for value comparisons. */
var COMPARE_PARTIAL_FLAG = 1,
    COMPARE_UNORDERED_FLAG = 2;

/** `Object#toString` result references. */
var boolTag = '[object Boolean]',
    dateTag = '[object Date]',
    errorTag = '[object Error]',
    mapTag = '[object Map]',
    numberTag = '[object Number]',
    regexpTag = '[object RegExp]',
    setTag = '[object Set]',
    stringTag = '[object String]',
    symbolTag = '[object Symbol]';

var arrayBufferTag = '[object ArrayBuffer]',
    dataViewTag = '[object DataView]';

/** Used to convert symbols to primitives and strings. */
var symbolProto = Symbol ? Symbol.prototype : undefined,
    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;

/**
 * A specialized version of `baseIsEqualDeep` for comparing objects of
 * the same `toStringTag`.
 *
 * **Note:** This function only supports comparing values with tags of
 * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.
 *
 * @private
 * @param {Object} object The object to compare.
 * @param {Object} other The other object to compare.
 * @param {string} tag The `toStringTag` of the objects to compare.
 * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
 * @param {Function} customizer The function to customize comparisons.
 * @param {Function} equalFunc The function to determine equivalents of values.
 * @param {Object} stack Tracks traversed `object` and `other` objects.
 * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
 */
function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {
  switch (tag) {
    case dataViewTag:
      if ((object.byteLength != other.byteLength) ||
          (object.byteOffset != other.byteOffset)) {
        return false;
      }
      object = object.buffer;
      other = other.buffer;

    case arrayBufferTag:
      if ((object.byteLength != other.byteLength) ||
          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {
        return false;
      }
      return true;

    case boolTag:
    case dateTag:
    case numberTag:
      // Coerce booleans to `1` or `0` and dates to milliseconds.
      // Invalid dates are coerced to `NaN`.
      return eq(+object, +other);

    case errorTag:
      return object.name == other.name && object.message == other.message;

    case regexpTag:
    case stringTag:
      // Coerce regexes to strings and treat strings, primitives and objects,
      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring
      // for more details.
      return object == (other + '');

    case mapTag:
      var convert = mapToArray;

    case setTag:
      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;
      convert || (convert = setToArray);

      if (object.size != other.size && !isPartial) {
        return false;
      }
      // Assume cyclic values are equal.
      var stacked = stack.get(object);
      if (stacked) {
        return stacked == other;
      }
      bitmask |= COMPARE_UNORDERED_FLAG;

      // Recursively compare objects (susceptible to call stack limits).
      stack.set(object, other);
      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);
      stack['delete'](object);
      return result;

    case symbolTag:
      if (symbolValueOf) {
        return symbolValueOf.call(object) == symbolValueOf.call(other);
      }
  }
  return false;
}

module.exports = equalByTag;

},{"./_Symbol":13,"./_Uint8Array":14,"./_equalArrays":94,"./_mapToArray":136,"./_setToArray":149,"./eq":164}],96:[function(require,module,exports){
var getAllKeys = require('./_getAllKeys');

/** Used to compose bitmasks for value comparisons. */
var COMPARE_PARTIAL_FLAG = 1;

/** Used for built-in method references. */
var objectProto = Object.prototype;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * A specialized version of `baseIsEqualDeep` for objects with support for
 * partial deep comparisons.
 *
 * @private
 * @param {Object} object The object to compare.
 * @param {Object} other The other object to compare.
 * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
 * @param {Function} customizer The function to customize comparisons.
 * @param {Function} equalFunc The function to determine equivalents of values.
 * @param {Object} stack Tracks traversed `object` and `other` objects.
 * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
 */
function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {
  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,
      objProps = getAllKeys(object),
      objLength = objProps.length,
      othProps = getAllKeys(other),
      othLength = othProps.length;

  if (objLength != othLength && !isPartial) {
    return false;
  }
  var index = objLength;
  while (index--) {
    var key = objProps[index];
    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {
      return false;
    }
  }
  // Assume cyclic values are equal.
  var stacked = stack.get(object);
  if (stacked && stack.get(other)) {
    return stacked == other;
  }
  var result = true;
  stack.set(object, other);
  stack.set(other, object);

  var skipCtor = isPartial;
  while (++index < objLength) {
    key = objProps[index];
    var objValue = object[key],
        othValue = other[key];

    if (customizer) {
      var compared = isPartial
        ? customizer(othValue, objValue, key, other, object, stack)
        : customizer(objValue, othValue, key, object, other, stack);
    }
    // Recursively compare objects (susceptible to call stack limits).
    if (!(compared === undefined
          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))
          : compared
        )) {
      result = false;
      break;
    }
    skipCtor || (skipCtor = key == 'constructor');
  }
  if (result && !skipCtor) {
    var objCtor = object.constructor,
        othCtor = other.constructor;

    // Non `Object` object instances with different constructors are not equal.
    if (objCtor != othCtor &&
        ('constructor' in object && 'constructor' in other) &&
        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&
          typeof othCtor == 'function' && othCtor instanceof othCtor)) {
      result = false;
    }
  }
  stack['delete'](object);
  stack['delete'](other);
  return result;
}

module.exports = equalObjects;

},{"./_getAllKeys":99}],97:[function(require,module,exports){
var flatten = require('./flatten'),
    overRest = require('./_overRest'),
    setToString = require('./_setToString');

/**
 * A specialized version of `baseRest` which flattens the rest array.
 *
 * @private
 * @param {Function} func The function to apply a rest parameter to.
 * @returns {Function} Returns the new function.
 */
function flatRest(func) {
  return setToString(overRest(func, undefined, flatten), func + '');
}

module.exports = flatRest;

},{"./_overRest":145,"./_setToString":150,"./flatten":165}],98:[function(require,module,exports){
(function (global){
/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

module.exports = freeGlobal;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],99:[function(require,module,exports){
var baseGetAllKeys = require('./_baseGetAllKeys'),
    getSymbols = require('./_getSymbols'),
    keys = require('./keys');

/**
 * Creates an array of own enumerable property names and symbols of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names and symbols.
 */
function getAllKeys(object) {
  return baseGetAllKeys(object, keys, getSymbols);
}

module.exports = getAllKeys;

},{"./_baseGetAllKeys":43,"./_getSymbols":106,"./keys":180}],100:[function(require,module,exports){
var baseGetAllKeys = require('./_baseGetAllKeys'),
    getSymbolsIn = require('./_getSymbolsIn'),
    keysIn = require('./keysIn');

/**
 * Creates an array of own and inherited enumerable property names and
 * symbols of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names and symbols.
 */
function getAllKeysIn(object) {
  return baseGetAllKeys(object, keysIn, getSymbolsIn);
}

module.exports = getAllKeysIn;

},{"./_baseGetAllKeys":43,"./_getSymbolsIn":107,"./keysIn":181}],101:[function(require,module,exports){
var isKeyable = require('./_isKeyable');

/**
 * Gets the data for `map`.
 *
 * @private
 * @param {Object} map The map to query.
 * @param {string} key The reference key.
 * @returns {*} Returns the map data.
 */
function getMapData(map, key) {
  var data = map.__data__;
  return isKeyable(key)
    ? data[typeof key == 'string' ? 'string' : 'hash']
    : data.map;
}

module.exports = getMapData;

},{"./_isKeyable":122}],102:[function(require,module,exports){
var isStrictComparable = require('./_isStrictComparable'),
    keys = require('./keys');

/**
 * Gets the property names, values, and compare flags of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the match data of `object`.
 */
function getMatchData(object) {
  var result = keys(object),
      length = result.length;

  while (length--) {
    var key = result[length],
        value = object[key];

    result[length] = [key, value, isStrictComparable(value)];
  }
  return result;
}

module.exports = getMatchData;

},{"./_isStrictComparable":125,"./keys":180}],103:[function(require,module,exports){
var baseIsNative = require('./_baseIsNative'),
    getValue = require('./_getValue');

/**
 * Gets the native function at `key` of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the method to get.
 * @returns {*} Returns the function if it's native, else `undefined`.
 */
function getNative(object, key) {
  var value = getValue(object, key);
  return baseIsNative(value) ? value : undefined;
}

module.exports = getNative;

},{"./_baseIsNative":52,"./_getValue":109}],104:[function(require,module,exports){
var overArg = require('./_overArg');

/** Built-in value references. */
var getPrototype = overArg(Object.getPrototypeOf, Object);

module.exports = getPrototype;

},{"./_overArg":144}],105:[function(require,module,exports){
var Symbol = require('./_Symbol');

/** Used for built-in method references. */
var objectProto = Object.prototype;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var nativeObjectToString = objectProto.toString;

/** Built-in value references. */
var symToStringTag = Symbol ? Symbol.toStringTag : undefined;

/**
 * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the raw `toStringTag`.
 */
function getRawTag(value) {
  var isOwn = hasOwnProperty.call(value, symToStringTag),
      tag = value[symToStringTag];

  try {
    value[symToStringTag] = undefined;
    var unmasked = true;
  } catch (e) {}

  var result = nativeObjectToString.call(value);
  if (unmasked) {
    if (isOwn) {
      value[symToStringTag] = tag;
    } else {
      delete value[symToStringTag];
    }
  }
  return result;
}

module.exports = getRawTag;

},{"./_Symbol":13}],106:[function(require,module,exports){
var arrayFilter = require('./_arrayFilter'),
    stubArray = require('./stubArray');

/** Used for built-in method references. */
var objectProto = Object.prototype;

/** Built-in value references. */
var propertyIsEnumerable = objectProto.propertyIsEnumerable;

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeGetSymbols = Object.getOwnPropertySymbols;

/**
 * Creates an array of the own enumerable symbols of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of symbols.
 */
var getSymbols = !nativeGetSymbols ? stubArray : function(object) {
  if (object == null) {
    return [];
  }
  object = Object(object);
  return arrayFilter(nativeGetSymbols(object), function(symbol) {
    return propertyIsEnumerable.call(object, symbol);
  });
};

module.exports = getSymbols;

},{"./_arrayFilter":21,"./stubArray":189}],107:[function(require,module,exports){
var arrayPush = require('./_arrayPush'),
    getPrototype = require('./_getPrototype'),
    getSymbols = require('./_getSymbols'),
    stubArray = require('./stubArray');

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeGetSymbols = Object.getOwnPropertySymbols;

/**
 * Creates an array of the own and inherited enumerable symbols of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of symbols.
 */
var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {
  var result = [];
  while (object) {
    arrayPush(result, getSymbols(object));
    object = getPrototype(object);
  }
  return result;
};

module.exports = getSymbolsIn;

},{"./_arrayPush":26,"./_getPrototype":104,"./_getSymbols":106,"./stubArray":189}],108:[function(require,module,exports){
var DataView = require('./_DataView'),
    Map = require('./_Map'),
    Promise = require('./_Promise'),
    Set = require('./_Set'),
    WeakMap = require('./_WeakMap'),
    baseGetTag = require('./_baseGetTag'),
    toSource = require('./_toSource');

/** `Object#toString` result references. */
var mapTag = '[object Map]',
    objectTag = '[object Object]',
    promiseTag = '[object Promise]',
    setTag = '[object Set]',
    weakMapTag = '[object WeakMap]';

var dataViewTag = '[object DataView]';

/** Used to detect maps, sets, and weakmaps. */
var dataViewCtorString = toSource(DataView),
    mapCtorString = toSource(Map),
    promiseCtorString = toSource(Promise),
    setCtorString = toSource(Set),
    weakMapCtorString = toSource(WeakMap);

/**
 * Gets the `toStringTag` of `value`.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the `toStringTag`.
 */
var getTag = baseGetTag;

// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.
if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||
    (Map && getTag(new Map) != mapTag) ||
    (Promise && getTag(Promise.resolve()) != promiseTag) ||
    (Set && getTag(new Set) != setTag) ||
    (WeakMap && getTag(new WeakMap) != weakMapTag)) {
  getTag = function(value) {
    var result = baseGetTag(value),
        Ctor = result == objectTag ? value.constructor : undefined,
        ctorString = Ctor ? toSource(Ctor) : '';

    if (ctorString) {
      switch (ctorString) {
        case dataViewCtorString: return dataViewTag;
        case mapCtorString: return mapTag;
        case promiseCtorString: return promiseTag;
        case setCtorString: return setTag;
        case weakMapCtorString: return weakMapTag;
      }
    }
    return result;
  };
}

module.exports = getTag;

},{"./_DataView":4,"./_Map":7,"./_Promise":9,"./_Set":10,"./_WeakMap":15,"./_baseGetTag":44,"./_toSource":160}],109:[function(require,module,exports){
/**
 * Gets the value at `key` of `object`.
 *
 * @private
 * @param {Object} [object] The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */
function getValue(object, key) {
  return object == null ? undefined : object[key];
}

module.exports = getValue;

},{}],110:[function(require,module,exports){
var castPath = require('./_castPath'),
    isArguments = require('./isArguments'),
    isArray = require('./isArray'),
    isIndex = require('./_isIndex'),
    isLength = require('./isLength'),
    toKey = require('./_toKey');

/**
 * Checks if `path` exists on `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {Array|string} path The path to check.
 * @param {Function} hasFunc The function to check properties.
 * @returns {boolean} Returns `true` if `path` exists, else `false`.
 */
function hasPath(object, path, hasFunc) {
  path = castPath(path, object);

  var index = -1,
      length = path.length,
      result = false;

  while (++index < length) {
    var key = toKey(path[index]);
    if (!(result = object != null && hasFunc(object, key))) {
      break;
    }
    object = object[key];
  }
  if (result || ++index != length) {
    return result;
  }
  length = object == null ? 0 : object.length;
  return !!length && isLength(length) && isIndex(key, length) &&
    (isArray(object) || isArguments(object));
}

module.exports = hasPath;

},{"./_castPath":73,"./_isIndex":120,"./_toKey":159,"./isArguments":169,"./isArray":170,"./isLength":175}],111:[function(require,module,exports){
var nativeCreate = require('./_nativeCreate');

/**
 * Removes all key-value entries from the hash.
 *
 * @private
 * @name clear
 * @memberOf Hash
 */
function hashClear() {
  this.__data__ = nativeCreate ? nativeCreate(null) : {};
  this.size = 0;
}

module.exports = hashClear;

},{"./_nativeCreate":139}],112:[function(require,module,exports){
/**
 * Removes `key` and its value from the hash.
 *
 * @private
 * @name delete
 * @memberOf Hash
 * @param {Object} hash The hash to modify.
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function hashDelete(key) {
  var result = this.has(key) && delete this.__data__[key];
  this.size -= result ? 1 : 0;
  return result;
}

module.exports = hashDelete;

},{}],113:[function(require,module,exports){
var nativeCreate = require('./_nativeCreate');

/** Used to stand-in for `undefined` hash values. */
var HASH_UNDEFINED = '__lodash_hash_undefined__';

/** Used for built-in method references. */
var objectProto = Object.prototype;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Gets the hash value for `key`.
 *
 * @private
 * @name get
 * @memberOf Hash
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function hashGet(key) {
  var data = this.__data__;
  if (nativeCreate) {
    var result = data[key];
    return result === HASH_UNDEFINED ? undefined : result;
  }
  return hasOwnProperty.call(data, key) ? data[key] : undefined;
}

module.exports = hashGet;

},{"./_nativeCreate":139}],114:[function(require,module,exports){
var nativeCreate = require('./_nativeCreate');

/** Used for built-in method references. */
var objectProto = Object.prototype;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Checks if a hash value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf Hash
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function hashHas(key) {
  var data = this.__data__;
  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);
}

module.exports = hashHas;

},{"./_nativeCreate":139}],115:[function(require,module,exports){
var nativeCreate = require('./_nativeCreate');

/** Used to stand-in for `undefined` hash values. */
var HASH_UNDEFINED = '__lodash_hash_undefined__';

/**
 * Sets the hash `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Hash
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the hash instance.
 */
function hashSet(key, value) {
  var data = this.__data__;
  this.size += this.has(key) ? 0 : 1;
  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;
  return this;
}

module.exports = hashSet;

},{"./_nativeCreate":139}],116:[function(require,module,exports){
/** Used for built-in method references. */
var objectProto = Object.prototype;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Initializes an array clone.
 *
 * @private
 * @param {Array} array The array to clone.
 * @returns {Array} Returns the initialized clone.
 */
function initCloneArray(array) {
  var length = array.length,
      result = array.constructor(length);

  // Add properties assigned by `RegExp#exec`.
  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {
    result.index = array.index;
    result.input = array.input;
  }
  return result;
}

module.exports = initCloneArray;

},{}],117:[function(require,module,exports){
var cloneArrayBuffer = require('./_cloneArrayBuffer'),
    cloneDataView = require('./_cloneDataView'),
    cloneMap = require('./_cloneMap'),
    cloneRegExp = require('./_cloneRegExp'),
    cloneSet = require('./_cloneSet'),
    cloneSymbol = require('./_cloneSymbol'),
    cloneTypedArray = require('./_cloneTypedArray');

/** `Object#toString` result references. */
var boolTag = '[object Boolean]',
    dateTag = '[object Date]',
    mapTag = '[object Map]',
    numberTag = '[object Number]',
    regexpTag = '[object RegExp]',
    setTag = '[object Set]',
    stringTag = '[object String]',
    symbolTag = '[object Symbol]';

var arrayBufferTag = '[object ArrayBuffer]',
    dataViewTag = '[object DataView]',
    float32Tag = '[object Float32Array]',
    float64Tag = '[object Float64Array]',
    int8Tag = '[object Int8Array]',
    int16Tag = '[object Int16Array]',
    int32Tag = '[object Int32Array]',
    uint8Tag = '[object Uint8Array]',
    uint8ClampedTag = '[object Uint8ClampedArray]',
    uint16Tag = '[object Uint16Array]',
    uint32Tag = '[object Uint32Array]';

/**
 * Initializes an object clone based on its `toStringTag`.
 *
 * **Note:** This function only supports cloning values with tags of
 * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.
 *
 * @private
 * @param {Object} object The object to clone.
 * @param {string} tag The `toStringTag` of the object to clone.
 * @param {Function} cloneFunc The function to clone values.
 * @param {boolean} [isDeep] Specify a deep clone.
 * @returns {Object} Returns the initialized clone.
 */
function initCloneByTag(object, tag, cloneFunc, isDeep) {
  var Ctor = object.constructor;
  switch (tag) {
    case arrayBufferTag:
      return cloneArrayBuffer(object);

    case boolTag:
    case dateTag:
      return new Ctor(+object);

    case dataViewTag:
      return cloneDataView(object, isDeep);

    case float32Tag: case float64Tag:
    case int8Tag: case int16Tag: case int32Tag:
    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:
      return cloneTypedArray(object, isDeep);

    case mapTag:
      return cloneMap(object, isDeep, cloneFunc);

    case numberTag:
    case stringTag:
      return new Ctor(object);

    case regexpTag:
      return cloneRegExp(object);

    case setTag:
      return cloneSet(object, isDeep, cloneFunc);

    case symbolTag:
      return cloneSymbol(object);
  }
}

module.exports = initCloneByTag;

},{"./_cloneArrayBuffer":74,"./_cloneDataView":76,"./_cloneMap":77,"./_cloneRegExp":78,"./_cloneSet":79,"./_cloneSymbol":80,"./_cloneTypedArray":81}],118:[function(require,module,exports){
var baseCreate = require('./_baseCreate'),
    getPrototype = require('./_getPrototype'),
    isPrototype = require('./_isPrototype');

/**
 * Initializes an object clone.
 *
 * @private
 * @param {Object} object The object to clone.
 * @returns {Object} Returns the initialized clone.
 */
function initCloneObject(object) {
  return (typeof object.constructor == 'function' && !isPrototype(object))
    ? baseCreate(getPrototype(object))
    : {};
}

module.exports = initCloneObject;

},{"./_baseCreate":36,"./_getPrototype":104,"./_isPrototype":124}],119:[function(require,module,exports){
var Symbol = require('./_Symbol'),
    isArguments = require('./isArguments'),
    isArray = require('./isArray');

/** Built-in value references. */
var spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;

/**
 * Checks if `value` is a flattenable `arguments` object or array.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.
 */
function isFlattenable(value) {
  return isArray(value) || isArguments(value) ||
    !!(spreadableSymbol && value && value[spreadableSymbol]);
}

module.exports = isFlattenable;

},{"./_Symbol":13,"./isArguments":169,"./isArray":170}],120:[function(require,module,exports){
/** Used as references for various `Number` constants. */
var MAX_SAFE_INTEGER = 9007199254740991;

/** Used to detect unsigned integer values. */
var reIsUint = /^(?:0|[1-9]\d*)$/;

/**
 * Checks if `value` is a valid array-like index.
 *
 * @private
 * @param {*} value The value to check.
 * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
 * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
 */
function isIndex(value, length) {
  length = length == null ? MAX_SAFE_INTEGER : length;
  return !!length &&
    (typeof value == 'number' || reIsUint.test(value)) &&
    (value > -1 && value % 1 == 0 && value < length);
}

module.exports = isIndex;

},{}],121:[function(require,module,exports){
var isArray = require('./isArray'),
    isSymbol = require('./isSymbol');

/** Used to match property names within property paths. */
var reIsDeepProp = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
    reIsPlainProp = /^\w*$/;

/**
 * Checks if `value` is a property name and not a property path.
 *
 * @private
 * @param {*} value The value to check.
 * @param {Object} [object] The object to query keys on.
 * @returns {boolean} Returns `true` if `value` is a property name, else `false`.
 */
function isKey(value, object) {
  if (isArray(value)) {
    return false;
  }
  var type = typeof value;
  if (type == 'number' || type == 'symbol' || type == 'boolean' ||
      value == null || isSymbol(value)) {
    return true;
  }
  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||
    (object != null && value in Object(object));
}

module.exports = isKey;

},{"./isArray":170,"./isSymbol":178}],122:[function(require,module,exports){
/**
 * Checks if `value` is suitable for use as unique object key.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
 */
function isKeyable(value) {
  var type = typeof value;
  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')
    ? (value !== '__proto__')
    : (value === null);
}

module.exports = isKeyable;

},{}],123:[function(require,module,exports){
var coreJsData = require('./_coreJsData');

/** Used to detect methods masquerading as native. */
var maskSrcKey = (function() {
  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');
  return uid ? ('Symbol(src)_1.' + uid) : '';
}());

/**
 * Checks if `func` has its source masked.
 *
 * @private
 * @param {Function} func The function to check.
 * @returns {boolean} Returns `true` if `func` is masked, else `false`.
 */
function isMasked(func) {
  return !!maskSrcKey && (maskSrcKey in func);
}

module.exports = isMasked;

},{"./_coreJsData":88}],124:[function(require,module,exports){
/** Used for built-in method references. */
var objectProto = Object.prototype;

/**
 * Checks if `value` is likely a prototype object.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.
 */
function isPrototype(value) {
  var Ctor = value && value.constructor,
      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;

  return value === proto;
}

module.exports = isPrototype;

},{}],125:[function(require,module,exports){
var isObject = require('./isObject');

/**
 * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` if suitable for strict
 *  equality comparisons, else `false`.
 */
function isStrictComparable(value) {
  return value === value && !isObject(value);
}

module.exports = isStrictComparable;

},{"./isObject":176}],126:[function(require,module,exports){
/**
 * Removes all key-value entries from the list cache.
 *
 * @private
 * @name clear
 * @memberOf ListCache
 */
function listCacheClear() {
  this.__data__ = [];
  this.size = 0;
}

module.exports = listCacheClear;

},{}],127:[function(require,module,exports){
var assocIndexOf = require('./_assocIndexOf');

/** Used for built-in method references. */
var arrayProto = Array.prototype;

/** Built-in value references. */
var splice = arrayProto.splice;

/**
 * Removes `key` and its value from the list cache.
 *
 * @private
 * @name delete
 * @memberOf ListCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function listCacheDelete(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    return false;
  }
  var lastIndex = data.length - 1;
  if (index == lastIndex) {
    data.pop();
  } else {
    splice.call(data, index, 1);
  }
  --this.size;
  return true;
}

module.exports = listCacheDelete;

},{"./_assocIndexOf":30}],128:[function(require,module,exports){
var assocIndexOf = require('./_assocIndexOf');

/**
 * Gets the list cache value for `key`.
 *
 * @private
 * @name get
 * @memberOf ListCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function listCacheGet(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  return index < 0 ? undefined : data[index][1];
}

module.exports = listCacheGet;

},{"./_assocIndexOf":30}],129:[function(require,module,exports){
var assocIndexOf = require('./_assocIndexOf');

/**
 * Checks if a list cache value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf ListCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function listCacheHas(key) {
  return assocIndexOf(this.__data__, key) > -1;
}

module.exports = listCacheHas;

},{"./_assocIndexOf":30}],130:[function(require,module,exports){
var assocIndexOf = require('./_assocIndexOf');

/**
 * Sets the list cache `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf ListCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the list cache instance.
 */
function listCacheSet(key, value) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    ++this.size;
    data.push([key, value]);
  } else {
    data[index][1] = value;
  }
  return this;
}

module.exports = listCacheSet;

},{"./_assocIndexOf":30}],131:[function(require,module,exports){
var Hash = require('./_Hash'),
    ListCache = require('./_ListCache'),
    Map = require('./_Map');

/**
 * Removes all key-value entries from the map.
 *
 * @private
 * @name clear
 * @memberOf MapCache
 */
function mapCacheClear() {
  this.size = 0;
  this.__data__ = {
    'hash': new Hash,
    'map': new (Map || ListCache),
    'string': new Hash
  };
}

module.exports = mapCacheClear;

},{"./_Hash":5,"./_ListCache":6,"./_Map":7}],132:[function(require,module,exports){
var getMapData = require('./_getMapData');

/**
 * Removes `key` and its value from the map.
 *
 * @private
 * @name delete
 * @memberOf MapCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function mapCacheDelete(key) {
  var result = getMapData(this, key)['delete'](key);
  this.size -= result ? 1 : 0;
  return result;
}

module.exports = mapCacheDelete;

},{"./_getMapData":101}],133:[function(require,module,exports){
var getMapData = require('./_getMapData');

/**
 * Gets the map value for `key`.
 *
 * @private
 * @name get
 * @memberOf MapCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function mapCacheGet(key) {
  return getMapData(this, key).get(key);
}

module.exports = mapCacheGet;

},{"./_getMapData":101}],134:[function(require,module,exports){
var getMapData = require('./_getMapData');

/**
 * Checks if a map value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf MapCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function mapCacheHas(key) {
  return getMapData(this, key).has(key);
}

module.exports = mapCacheHas;

},{"./_getMapData":101}],135:[function(require,module,exports){
var getMapData = require('./_getMapData');

/**
 * Sets the map `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf MapCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the map cache instance.
 */
function mapCacheSet(key, value) {
  var data = getMapData(this, key),
      size = data.size;

  data.set(key, value);
  this.size += data.size == size ? 0 : 1;
  return this;
}

module.exports = mapCacheSet;

},{"./_getMapData":101}],136:[function(require,module,exports){
/**
 * Converts `map` to its key-value pairs.
 *
 * @private
 * @param {Object} map The map to convert.
 * @returns {Array} Returns the key-value pairs.
 */
function mapToArray(map) {
  var index = -1,
      result = Array(map.size);

  map.forEach(function(value, key) {
    result[++index] = [key, value];
  });
  return result;
}

module.exports = mapToArray;

},{}],137:[function(require,module,exports){
/**
 * A specialized version of `matchesProperty` for source values suitable
 * for strict equality comparisons, i.e. `===`.
 *
 * @private
 * @param {string} key The key of the property to get.
 * @param {*} srcValue The value to match.
 * @returns {Function} Returns the new spec function.
 */
function matchesStrictComparable(key, srcValue) {
  return function(object) {
    if (object == null) {
      return false;
    }
    return object[key] === srcValue &&
      (srcValue !== undefined || (key in Object(object)));
  };
}

module.exports = matchesStrictComparable;

},{}],138:[function(require,module,exports){
var memoize = require('./memoize');

/** Used as the maximum memoize cache size. */
var MAX_MEMOIZE_SIZE = 500;

/**
 * A specialized version of `_.memoize` which clears the memoized function's
 * cache when it exceeds `MAX_MEMOIZE_SIZE`.
 *
 * @private
 * @param {Function} func The function to have its output memoized.
 * @returns {Function} Returns the new memoized function.
 */
function memoizeCapped(func) {
  var result = memoize(func, function(key) {
    if (cache.size === MAX_MEMOIZE_SIZE) {
      cache.clear();
    }
    return key;
  });

  var cache = result.cache;
  return result;
}

module.exports = memoizeCapped;

},{"./memoize":182}],139:[function(require,module,exports){
var getNative = require('./_getNative');

/* Built-in method references that are verified to be native. */
var nativeCreate = getNative(Object, 'create');

module.exports = nativeCreate;

},{"./_getNative":103}],140:[function(require,module,exports){
var overArg = require('./_overArg');

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeKeys = overArg(Object.keys, Object);

module.exports = nativeKeys;

},{"./_overArg":144}],141:[function(require,module,exports){
/**
 * This function is like
 * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
 * except that it includes inherited enumerable properties.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 */
function nativeKeysIn(object) {
  var result = [];
  if (object != null) {
    for (var key in Object(object)) {
      result.push(key);
    }
  }
  return result;
}

module.exports = nativeKeysIn;

},{}],142:[function(require,module,exports){
var freeGlobal = require('./_freeGlobal');

/** Detect free variable `exports`. */
var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;

/** Detect free variable `module`. */
var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;

/** Detect the popular CommonJS extension `module.exports`. */
var moduleExports = freeModule && freeModule.exports === freeExports;

/** Detect free variable `process` from Node.js. */
var freeProcess = moduleExports && freeGlobal.process;

/** Used to access faster Node.js helpers. */
var nodeUtil = (function() {
  try {
    return freeProcess && freeProcess.binding && freeProcess.binding('util');
  } catch (e) {}
}());

module.exports = nodeUtil;

},{"./_freeGlobal":98}],143:[function(require,module,exports){
/** Used for built-in method references. */
var objectProto = Object.prototype;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var nativeObjectToString = objectProto.toString;

/**
 * Converts `value` to a string using `Object.prototype.toString`.
 *
 * @private
 * @param {*} value The value to convert.
 * @returns {string} Returns the converted string.
 */
function objectToString(value) {
  return nativeObjectToString.call(value);
}

module.exports = objectToString;

},{}],144:[function(require,module,exports){
/**
 * Creates a unary function that invokes `func` with its argument transformed.
 *
 * @private
 * @param {Function} func The function to wrap.
 * @param {Function} transform The argument transform.
 * @returns {Function} Returns the new function.
 */
function overArg(func, transform) {
  return function(arg) {
    return func(transform(arg));
  };
}

module.exports = overArg;

},{}],145:[function(require,module,exports){
var apply = require('./_apply');

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeMax = Math.max;

/**
 * A specialized version of `baseRest` which transforms the rest array.
 *
 * @private
 * @param {Function} func The function to apply a rest parameter to.
 * @param {number} [start=func.length-1] The start position of the rest parameter.
 * @param {Function} transform The rest array transform.
 * @returns {Function} Returns the new function.
 */
function overRest(func, start, transform) {
  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);
  return function() {
    var args = arguments,
        index = -1,
        length = nativeMax(args.length - start, 0),
        array = Array(length);

    while (++index < length) {
      array[index] = args[start + index];
    }
    index = -1;
    var otherArgs = Array(start + 1);
    while (++index < start) {
      otherArgs[index] = args[index];
    }
    otherArgs[start] = transform(array);
    return apply(func, this, otherArgs);
  };
}

module.exports = overRest;

},{"./_apply":18}],146:[function(require,module,exports){
var freeGlobal = require('./_freeGlobal');

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

module.exports = root;

},{"./_freeGlobal":98}],147:[function(require,module,exports){
/** Used to stand-in for `undefined` hash values. */
var HASH_UNDEFINED = '__lodash_hash_undefined__';

/**
 * Adds `value` to the array cache.
 *
 * @private
 * @name add
 * @memberOf SetCache
 * @alias push
 * @param {*} value The value to cache.
 * @returns {Object} Returns the cache instance.
 */
function setCacheAdd(value) {
  this.__data__.set(value, HASH_UNDEFINED);
  return this;
}

module.exports = setCacheAdd;

},{}],148:[function(require,module,exports){
/**
 * Checks if `value` is in the array cache.
 *
 * @private
 * @name has
 * @memberOf SetCache
 * @param {*} value The value to search for.
 * @returns {number} Returns `true` if `value` is found, else `false`.
 */
function setCacheHas(value) {
  return this.__data__.has(value);
}

module.exports = setCacheHas;

},{}],149:[function(require,module,exports){
/**
 * Converts `set` to an array of its values.
 *
 * @private
 * @param {Object} set The set to convert.
 * @returns {Array} Returns the values.
 */
function setToArray(set) {
  var index = -1,
      result = Array(set.size);

  set.forEach(function(value) {
    result[++index] = value;
  });
  return result;
}

module.exports = setToArray;

},{}],150:[function(require,module,exports){
var baseSetToString = require('./_baseSetToString'),
    shortOut = require('./_shortOut');

/**
 * Sets the `toString` method of `func` to return `string`.
 *
 * @private
 * @param {Function} func The function to modify.
 * @param {Function} string The `toString` result.
 * @returns {Function} Returns `func`.
 */
var setToString = shortOut(baseSetToString);

module.exports = setToString;

},{"./_baseSetToString":66,"./_shortOut":151}],151:[function(require,module,exports){
/** Used to detect hot functions by number of calls within a span of milliseconds. */
var HOT_COUNT = 800,
    HOT_SPAN = 16;

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeNow = Date.now;

/**
 * Creates a function that'll short out and invoke `identity` instead
 * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`
 * milliseconds.
 *
 * @private
 * @param {Function} func The function to restrict.
 * @returns {Function} Returns the new shortable function.
 */
function shortOut(func) {
  var count = 0,
      lastCalled = 0;

  return function() {
    var stamp = nativeNow(),
        remaining = HOT_SPAN - (stamp - lastCalled);

    lastCalled = stamp;
    if (remaining > 0) {
      if (++count >= HOT_COUNT) {
        return arguments[0];
      }
    } else {
      count = 0;
    }
    return func.apply(undefined, arguments);
  };
}

module.exports = shortOut;

},{}],152:[function(require,module,exports){
var ListCache = require('./_ListCache');

/**
 * Removes all key-value entries from the stack.
 *
 * @private
 * @name clear
 * @memberOf Stack
 */
function stackClear() {
  this.__data__ = new ListCache;
  this.size = 0;
}

module.exports = stackClear;

},{"./_ListCache":6}],153:[function(require,module,exports){
/**
 * Removes `key` and its value from the stack.
 *
 * @private
 * @name delete
 * @memberOf Stack
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function stackDelete(key) {
  var data = this.__data__,
      result = data['delete'](key);

  this.size = data.size;
  return result;
}

module.exports = stackDelete;

},{}],154:[function(require,module,exports){
/**
 * Gets the stack value for `key`.
 *
 * @private
 * @name get
 * @memberOf Stack
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function stackGet(key) {
  return this.__data__.get(key);
}

module.exports = stackGet;

},{}],155:[function(require,module,exports){
/**
 * Checks if a stack value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf Stack
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function stackHas(key) {
  return this.__data__.has(key);
}

module.exports = stackHas;

},{}],156:[function(require,module,exports){
var ListCache = require('./_ListCache'),
    Map = require('./_Map'),
    MapCache = require('./_MapCache');

/** Used as the size to enable large array optimizations. */
var LARGE_ARRAY_SIZE = 200;

/**
 * Sets the stack `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Stack
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the stack cache instance.
 */
function stackSet(key, value) {
  var data = this.__data__;
  if (data instanceof ListCache) {
    var pairs = data.__data__;
    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {
      pairs.push([key, value]);
      this.size = ++data.size;
      return this;
    }
    data = this.__data__ = new MapCache(pairs);
  }
  data.set(key, value);
  this.size = data.size;
  return this;
}

module.exports = stackSet;

},{"./_ListCache":6,"./_Map":7,"./_MapCache":8}],157:[function(require,module,exports){
/**
 * A specialized version of `_.indexOf` which performs strict equality
 * comparisons of values, i.e. `===`.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {*} value The value to search for.
 * @param {number} fromIndex The index to search from.
 * @returns {number} Returns the index of the matched value, else `-1`.
 */
function strictIndexOf(array, value, fromIndex) {
  var index = fromIndex - 1,
      length = array.length;

  while (++index < length) {
    if (array[index] === value) {
      return index;
    }
  }
  return -1;
}

module.exports = strictIndexOf;

},{}],158:[function(require,module,exports){
var memoizeCapped = require('./_memoizeCapped');

/** Used to match property names within property paths. */
var reLeadingDot = /^\./,
    rePropName = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;

/** Used to match backslashes in property paths. */
var reEscapeChar = /\\(\\)?/g;

/**
 * Converts `string` to a property path array.
 *
 * @private
 * @param {string} string The string to convert.
 * @returns {Array} Returns the property path array.
 */
var stringToPath = memoizeCapped(function(string) {
  var result = [];
  if (reLeadingDot.test(string)) {
    result.push('');
  }
  string.replace(rePropName, function(match, number, quote, string) {
    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));
  });
  return result;
});

module.exports = stringToPath;

},{"./_memoizeCapped":138}],159:[function(require,module,exports){
var isSymbol = require('./isSymbol');

/** Used as references for various `Number` constants. */
var INFINITY = 1 / 0;

/**
 * Converts `value` to a string key if it's not a string or symbol.
 *
 * @private
 * @param {*} value The value to inspect.
 * @returns {string|symbol} Returns the key.
 */
function toKey(value) {
  if (typeof value == 'string' || isSymbol(value)) {
    return value;
  }
  var result = (value + '');
  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;
}

module.exports = toKey;

},{"./isSymbol":178}],160:[function(require,module,exports){
/** Used for built-in method references. */
var funcProto = Function.prototype;

/** Used to resolve the decompiled source of functions. */
var funcToString = funcProto.toString;

/**
 * Converts `func` to its source code.
 *
 * @private
 * @param {Function} func The function to convert.
 * @returns {string} Returns the source code.
 */
function toSource(func) {
  if (func != null) {
    try {
      return funcToString.call(func);
    } catch (e) {}
    try {
      return (func + '');
    } catch (e) {}
  }
  return '';
}

module.exports = toSource;

},{}],161:[function(require,module,exports){
var baseClone = require('./_baseClone');

/** Used to compose bitmasks for cloning. */
var CLONE_DEEP_FLAG = 1,
    CLONE_SYMBOLS_FLAG = 4;

/**
 * This method is like `_.clone` except that it recursively clones `value`.
 *
 * @static
 * @memberOf _
 * @since 1.0.0
 * @category Lang
 * @param {*} value The value to recursively clone.
 * @returns {*} Returns the deep cloned value.
 * @see _.clone
 * @example
 *
 * var objects = [{ 'a': 1 }, { 'b': 2 }];
 *
 * var deep = _.cloneDeep(objects);
 * console.log(deep[0] === objects[0]);
 * // => false
 */
function cloneDeep(value) {
  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);
}

module.exports = cloneDeep;

},{"./_baseClone":35}],162:[function(require,module,exports){
/**
 * Creates a function that returns `value`.
 *
 * @static
 * @memberOf _
 * @since 2.4.0
 * @category Util
 * @param {*} value The value to return from the new function.
 * @returns {Function} Returns the new constant function.
 * @example
 *
 * var objects = _.times(2, _.constant({ 'a': 1 }));
 *
 * console.log(objects);
 * // => [{ 'a': 1 }, { 'a': 1 }]
 *
 * console.log(objects[0] === objects[1]);
 * // => true
 */
function constant(value) {
  return function() {
    return value;
  };
}

module.exports = constant;

},{}],163:[function(require,module,exports){
var isObject = require('./isObject'),
    now = require('./now'),
    toNumber = require('./toNumber');

/** Error message constants. */
var FUNC_ERROR_TEXT = 'Expected a function';

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeMax = Math.max,
    nativeMin = Math.min;

/**
 * Creates a debounced function that delays invoking `func` until after `wait`
 * milliseconds have elapsed since the last time the debounced function was
 * invoked. The debounced function comes with a `cancel` method to cancel
 * delayed `func` invocations and a `flush` method to immediately invoke them.
 * Provide `options` to indicate whether `func` should be invoked on the
 * leading and/or trailing edge of the `wait` timeout. The `func` is invoked
 * with the last arguments provided to the debounced function. Subsequent
 * calls to the debounced function return the result of the last `func`
 * invocation.
 *
 * **Note:** If `leading` and `trailing` options are `true`, `func` is
 * invoked on the trailing edge of the timeout only if the debounced function
 * is invoked more than once during the `wait` timeout.
 *
 * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
 * until to the next tick, similar to `setTimeout` with a timeout of `0`.
 *
 * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
 * for details over the differences between `_.debounce` and `_.throttle`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to debounce.
 * @param {number} [wait=0] The number of milliseconds to delay.
 * @param {Object} [options={}] The options object.
 * @param {boolean} [options.leading=false]
 *  Specify invoking on the leading edge of the timeout.
 * @param {number} [options.maxWait]
 *  The maximum time `func` is allowed to be delayed before it's invoked.
 * @param {boolean} [options.trailing=true]
 *  Specify invoking on the trailing edge of the timeout.
 * @returns {Function} Returns the new debounced function.
 * @example
 *
 * // Avoid costly calculations while the window size is in flux.
 * jQuery(window).on('resize', _.debounce(calculateLayout, 150));
 *
 * // Invoke `sendMail` when clicked, debouncing subsequent calls.
 * jQuery(element).on('click', _.debounce(sendMail, 300, {
 *   'leading': true,
 *   'trailing': false
 * }));
 *
 * // Ensure `batchLog` is invoked once after 1 second of debounced calls.
 * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });
 * var source = new EventSource('/stream');
 * jQuery(source).on('message', debounced);
 *
 * // Cancel the trailing debounced invocation.
 * jQuery(window).on('popstate', debounced.cancel);
 */
function debounce(func, wait, options) {
  var lastArgs,
      lastThis,
      maxWait,
      result,
      timerId,
      lastCallTime,
      lastInvokeTime = 0,
      leading = false,
      maxing = false,
      trailing = true;

  if (typeof func != 'function') {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  wait = toNumber(wait) || 0;
  if (isObject(options)) {
    leading = !!options.leading;
    maxing = 'maxWait' in options;
    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;
    trailing = 'trailing' in options ? !!options.trailing : trailing;
  }

  function invokeFunc(time) {
    var args = lastArgs,
        thisArg = lastThis;

    lastArgs = lastThis = undefined;
    lastInvokeTime = time;
    result = func.apply(thisArg, args);
    return result;
  }

  function leadingEdge(time) {
    // Reset any `maxWait` timer.
    lastInvokeTime = time;
    // Start the timer for the trailing edge.
    timerId = setTimeout(timerExpired, wait);
    // Invoke the leading edge.
    return leading ? invokeFunc(time) : result;
  }

  function remainingWait(time) {
    var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime,
        result = wait - timeSinceLastCall;

    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;
  }

  function shouldInvoke(time) {
    var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime;

    // Either this is the first call, activity has stopped and we're at the
    // trailing edge, the system time has gone backwards and we're treating
    // it as the trailing edge, or we've hit the `maxWait` limit.
    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||
      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));
  }

  function timerExpired() {
    var time = now();
    if (shouldInvoke(time)) {
      return trailingEdge(time);
    }
    // Restart the timer.
    timerId = setTimeout(timerExpired, remainingWait(time));
  }

  function trailingEdge(time) {
    timerId = undefined;

    // Only invoke if we have `lastArgs` which means `func` has been
    // debounced at least once.
    if (trailing && lastArgs) {
      return invokeFunc(time);
    }
    lastArgs = lastThis = undefined;
    return result;
  }

  function cancel() {
    if (timerId !== undefined) {
      clearTimeout(timerId);
    }
    lastInvokeTime = 0;
    lastArgs = lastCallTime = lastThis = timerId = undefined;
  }

  function flush() {
    return timerId === undefined ? result : trailingEdge(now());
  }

  function debounced() {
    var time = now(),
        isInvoking = shouldInvoke(time);

    lastArgs = arguments;
    lastThis = this;
    lastCallTime = time;

    if (isInvoking) {
      if (timerId === undefined) {
        return leadingEdge(lastCallTime);
      }
      if (maxing) {
        // Handle invocations in a tight loop.
        timerId = setTimeout(timerExpired, wait);
        return invokeFunc(lastCallTime);
      }
    }
    if (timerId === undefined) {
      timerId = setTimeout(timerExpired, wait);
    }
    return result;
  }
  debounced.cancel = cancel;
  debounced.flush = flush;
  return debounced;
}

module.exports = debounce;

},{"./isObject":176,"./now":184,"./toNumber":192}],164:[function(require,module,exports){
/**
 * Performs a
 * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * comparison between two values to determine if they are equivalent.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
 * @example
 *
 * var object = { 'a': 1 };
 * var other = { 'a': 1 };
 *
 * _.eq(object, object);
 * // => true
 *
 * _.eq(object, other);
 * // => false
 *
 * _.eq('a', 'a');
 * // => true
 *
 * _.eq('a', Object('a'));
 * // => false
 *
 * _.eq(NaN, NaN);
 * // => true
 */
function eq(value, other) {
  return value === other || (value !== value && other !== other);
}

module.exports = eq;

},{}],165:[function(require,module,exports){
var baseFlatten = require('./_baseFlatten');

/**
 * Flattens `array` a single level deep.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Array
 * @param {Array} array The array to flatten.
 * @returns {Array} Returns the new flattened array.
 * @example
 *
 * _.flatten([1, [2, [3, [4]], 5]]);
 * // => [1, 2, [3, [4]], 5]
 */
function flatten(array) {
  var length = array == null ? 0 : array.length;
  return length ? baseFlatten(array, 1) : [];
}

module.exports = flatten;

},{"./_baseFlatten":39}],166:[function(require,module,exports){
var baseGet = require('./_baseGet');

/**
 * Gets the value at `path` of `object`. If the resolved value is
 * `undefined`, the `defaultValue` is returned in its place.
 *
 * @static
 * @memberOf _
 * @since 3.7.0
 * @category Object
 * @param {Object} object The object to query.
 * @param {Array|string} path The path of the property to get.
 * @param {*} [defaultValue] The value returned for `undefined` resolved values.
 * @returns {*} Returns the resolved value.
 * @example
 *
 * var object = { 'a': [{ 'b': { 'c': 3 } }] };
 *
 * _.get(object, 'a[0].b.c');
 * // => 3
 *
 * _.get(object, ['a', '0', 'b', 'c']);
 * // => 3
 *
 * _.get(object, 'a.b.c', 'default');
 * // => 'default'
 */
function get(object, path, defaultValue) {
  var result = object == null ? undefined : baseGet(object, path);
  return result === undefined ? defaultValue : result;
}

module.exports = get;

},{"./_baseGet":42}],167:[function(require,module,exports){
var baseHasIn = require('./_baseHasIn'),
    hasPath = require('./_hasPath');

/**
 * Checks if `path` is a direct or inherited property of `object`.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Object
 * @param {Object} object The object to query.
 * @param {Array|string} path The path to check.
 * @returns {boolean} Returns `true` if `path` exists, else `false`.
 * @example
 *
 * var object = _.create({ 'a': _.create({ 'b': 2 }) });
 *
 * _.hasIn(object, 'a');
 * // => true
 *
 * _.hasIn(object, 'a.b');
 * // => true
 *
 * _.hasIn(object, ['a', 'b']);
 * // => true
 *
 * _.hasIn(object, 'b');
 * // => false
 */
function hasIn(object, path) {
  return object != null && hasPath(object, path, baseHasIn);
}

module.exports = hasIn;

},{"./_baseHasIn":45,"./_hasPath":110}],168:[function(require,module,exports){
/**
 * This method returns the first argument it receives.
 *
 * @static
 * @since 0.1.0
 * @memberOf _
 * @category Util
 * @param {*} value Any value.
 * @returns {*} Returns `value`.
 * @example
 *
 * var object = { 'a': 1 };
 *
 * console.log(_.identity(object) === object);
 * // => true
 */
function identity(value) {
  return value;
}

module.exports = identity;

},{}],169:[function(require,module,exports){
var baseIsArguments = require('./_baseIsArguments'),
    isObjectLike = require('./isObjectLike');

/** Used for built-in method references. */
var objectProto = Object.prototype;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/** Built-in value references. */
var propertyIsEnumerable = objectProto.propertyIsEnumerable;

/**
 * Checks if `value` is likely an `arguments` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an `arguments` object,
 *  else `false`.
 * @example
 *
 * _.isArguments(function() { return arguments; }());
 * // => true
 *
 * _.isArguments([1, 2, 3]);
 * // => false
 */
var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {
  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&
    !propertyIsEnumerable.call(value, 'callee');
};

module.exports = isArguments;

},{"./_baseIsArguments":47,"./isObjectLike":177}],170:[function(require,module,exports){
/**
 * Checks if `value` is classified as an `Array` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array, else `false`.
 * @example
 *
 * _.isArray([1, 2, 3]);
 * // => true
 *
 * _.isArray(document.body.children);
 * // => false
 *
 * _.isArray('abc');
 * // => false
 *
 * _.isArray(_.noop);
 * // => false
 */
var isArray = Array.isArray;

module.exports = isArray;

},{}],171:[function(require,module,exports){
var isFunction = require('./isFunction'),
    isLength = require('./isLength');

/**
 * Checks if `value` is array-like. A value is considered array-like if it's
 * not a function and has a `value.length` that's an integer greater than or
 * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
 * @example
 *
 * _.isArrayLike([1, 2, 3]);
 * // => true
 *
 * _.isArrayLike(document.body.children);
 * // => true
 *
 * _.isArrayLike('abc');
 * // => true
 *
 * _.isArrayLike(_.noop);
 * // => false
 */
function isArrayLike(value) {
  return value != null && isLength(value.length) && !isFunction(value);
}

module.exports = isArrayLike;

},{"./isFunction":174,"./isLength":175}],172:[function(require,module,exports){
var root = require('./_root'),
    stubFalse = require('./stubFalse');

/** Detect free variable `exports`. */
var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;

/** Detect free variable `module`. */
var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;

/** Detect the popular CommonJS extension `module.exports`. */
var moduleExports = freeModule && freeModule.exports === freeExports;

/** Built-in value references. */
var Buffer = moduleExports ? root.Buffer : undefined;

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;

/**
 * Checks if `value` is a buffer.
 *
 * @static
 * @memberOf _
 * @since 4.3.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.
 * @example
 *
 * _.isBuffer(new Buffer(2));
 * // => true
 *
 * _.isBuffer(new Uint8Array(2));
 * // => false
 */
var isBuffer = nativeIsBuffer || stubFalse;

module.exports = isBuffer;

},{"./_root":146,"./stubFalse":190}],173:[function(require,module,exports){
var baseIsEqual = require('./_baseIsEqual');

/**
 * Performs a deep comparison between two values to determine if they are
 * equivalent.
 *
 * **Note:** This method supports comparing arrays, array buffers, booleans,
 * date objects, error objects, maps, numbers, `Object` objects, regexes,
 * sets, strings, symbols, and typed arrays. `Object` objects are compared
 * by their own, not inherited, enumerable properties. Functions and DOM
 * nodes are compared by strict equality, i.e. `===`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
 * @example
 *
 * var object = { 'a': 1 };
 * var other = { 'a': 1 };
 *
 * _.isEqual(object, other);
 * // => true
 *
 * object === other;
 * // => false
 */
function isEqual(value, other) {
  return baseIsEqual(value, other);
}

module.exports = isEqual;

},{"./_baseIsEqual":48}],174:[function(require,module,exports){
var baseGetTag = require('./_baseGetTag'),
    isObject = require('./isObject');

/** `Object#toString` result references. */
var asyncTag = '[object AsyncFunction]',
    funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]',
    proxyTag = '[object Proxy]';

/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */
function isFunction(value) {
  if (!isObject(value)) {
    return false;
  }
  // The use of `Object#toString` avoids issues with the `typeof` operator
  // in Safari 9 which returns 'object' for typed arrays and other constructors.
  var tag = baseGetTag(value);
  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;
}

module.exports = isFunction;

},{"./_baseGetTag":44,"./isObject":176}],175:[function(require,module,exports){
/** Used as references for various `Number` constants. */
var MAX_SAFE_INTEGER = 9007199254740991;

/**
 * Checks if `value` is a valid array-like length.
 *
 * **Note:** This method is loosely based on
 * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
 * @example
 *
 * _.isLength(3);
 * // => true
 *
 * _.isLength(Number.MIN_VALUE);
 * // => false
 *
 * _.isLength(Infinity);
 * // => false
 *
 * _.isLength('3');
 * // => false
 */
function isLength(value) {
  return typeof value == 'number' &&
    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
}

module.exports = isLength;

},{}],176:[function(require,module,exports){
/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return value != null && (type == 'object' || type == 'function');
}

module.exports = isObject;

},{}],177:[function(require,module,exports){
/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return value != null && typeof value == 'object';
}

module.exports = isObjectLike;

},{}],178:[function(require,module,exports){
var baseGetTag = require('./_baseGetTag'),
    isObjectLike = require('./isObjectLike');

/** `Object#toString` result references. */
var symbolTag = '[object Symbol]';

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return typeof value == 'symbol' ||
    (isObjectLike(value) && baseGetTag(value) == symbolTag);
}

module.exports = isSymbol;

},{"./_baseGetTag":44,"./isObjectLike":177}],179:[function(require,module,exports){
var baseIsTypedArray = require('./_baseIsTypedArray'),
    baseUnary = require('./_baseUnary'),
    nodeUtil = require('./_nodeUtil');

/* Node.js helper references. */
var nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;

/**
 * Checks if `value` is classified as a typed array.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
 * @example
 *
 * _.isTypedArray(new Uint8Array);
 * // => true
 *
 * _.isTypedArray([]);
 * // => false
 */
var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;

module.exports = isTypedArray;

},{"./_baseIsTypedArray":53,"./_baseUnary":70,"./_nodeUtil":142}],180:[function(require,module,exports){
var arrayLikeKeys = require('./_arrayLikeKeys'),
    baseKeys = require('./_baseKeys'),
    isArrayLike = require('./isArrayLike');

/**
 * Creates an array of the own enumerable property names of `object`.
 *
 * **Note:** Non-object values are coerced to objects. See the
 * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
 * for more details.
 *
 * @static
 * @since 0.1.0
 * @memberOf _
 * @category Object
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 * @example
 *
 * function Foo() {
 *   this.a = 1;
 *   this.b = 2;
 * }
 *
 * Foo.prototype.c = 3;
 *
 * _.keys(new Foo);
 * // => ['a', 'b'] (iteration order is not guaranteed)
 *
 * _.keys('hi');
 * // => ['0', '1']
 */
function keys(object) {
  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);
}

module.exports = keys;

},{"./_arrayLikeKeys":24,"./_baseKeys":55,"./isArrayLike":171}],181:[function(require,module,exports){
var arrayLikeKeys = require('./_arrayLikeKeys'),
    baseKeysIn = require('./_baseKeysIn'),
    isArrayLike = require('./isArrayLike');

/**
 * Creates an array of the own and inherited enumerable property names of `object`.
 *
 * **Note:** Non-object values are coerced to objects.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category Object
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 * @example
 *
 * function Foo() {
 *   this.a = 1;
 *   this.b = 2;
 * }
 *
 * Foo.prototype.c = 3;
 *
 * _.keysIn(new Foo);
 * // => ['a', 'b', 'c'] (iteration order is not guaranteed)
 */
function keysIn(object) {
  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);
}

module.exports = keysIn;

},{"./_arrayLikeKeys":24,"./_baseKeysIn":56,"./isArrayLike":171}],182:[function(require,module,exports){
var MapCache = require('./_MapCache');

/** Error message constants. */
var FUNC_ERROR_TEXT = 'Expected a function';

/**
 * Creates a function that memoizes the result of `func`. If `resolver` is
 * provided, it determines the cache key for storing the result based on the
 * arguments provided to the memoized function. By default, the first argument
 * provided to the memoized function is used as the map cache key. The `func`
 * is invoked with the `this` binding of the memoized function.
 *
 * **Note:** The cache is exposed as the `cache` property on the memoized
 * function. Its creation may be customized by replacing the `_.memoize.Cache`
 * constructor with one whose instances implement the
 * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)
 * method interface of `clear`, `delete`, `get`, `has`, and `set`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to have its output memoized.
 * @param {Function} [resolver] The function to resolve the cache key.
 * @returns {Function} Returns the new memoized function.
 * @example
 *
 * var object = { 'a': 1, 'b': 2 };
 * var other = { 'c': 3, 'd': 4 };
 *
 * var values = _.memoize(_.values);
 * values(object);
 * // => [1, 2]
 *
 * values(other);
 * // => [3, 4]
 *
 * object.a = 2;
 * values(object);
 * // => [1, 2]
 *
 * // Modify the result cache.
 * values.cache.set(object, ['a', 'b']);
 * values(object);
 * // => ['a', 'b']
 *
 * // Replace `_.memoize.Cache`.
 * _.memoize.Cache = WeakMap;
 */
function memoize(func, resolver) {
  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  var memoized = function() {
    var args = arguments,
        key = resolver ? resolver.apply(this, args) : args[0],
        cache = memoized.cache;

    if (cache.has(key)) {
      return cache.get(key);
    }
    var result = func.apply(this, args);
    memoized.cache = cache.set(key, result) || cache;
    return result;
  };
  memoized.cache = new (memoize.Cache || MapCache);
  return memoized;
}

// Expose `MapCache`.
memoize.Cache = MapCache;

module.exports = memoize;

},{"./_MapCache":8}],183:[function(require,module,exports){
/**
 * This method returns `undefined`.
 *
 * @static
 * @memberOf _
 * @since 2.3.0
 * @category Util
 * @example
 *
 * _.times(2, _.noop);
 * // => [undefined, undefined]
 */
function noop() {
  // No operation performed.
}

module.exports = noop;

},{}],184:[function(require,module,exports){
var root = require('./_root');

/**
 * Gets the timestamp of the number of milliseconds that have elapsed since
 * the Unix epoch (1 January 1970 00:00:00 UTC).
 *
 * @static
 * @memberOf _
 * @since 2.4.0
 * @category Date
 * @returns {number} Returns the timestamp.
 * @example
 *
 * _.defer(function(stamp) {
 *   console.log(_.now() - stamp);
 * }, _.now());
 * // => Logs the number of milliseconds it took for the deferred invocation.
 */
var now = function() {
  return root.Date.now();
};

module.exports = now;

},{"./_root":146}],185:[function(require,module,exports){
var baseOrderBy = require('./_baseOrderBy'),
    isArray = require('./isArray');

/**
 * This method is like `_.sortBy` except that it allows specifying the sort
 * orders of the iteratees to sort by. If `orders` is unspecified, all values
 * are sorted in ascending order. Otherwise, specify an order of "desc" for
 * descending or "asc" for ascending sort order of corresponding values.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Collection
 * @param {Array|Object} collection The collection to iterate over.
 * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]
 *  The iteratees to sort by.
 * @param {string[]} [orders] The sort orders of `iteratees`.
 * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.
 * @returns {Array} Returns the new sorted array.
 * @example
 *
 * var users = [
 *   { 'user': 'fred',   'age': 48 },
 *   { 'user': 'barney', 'age': 34 },
 *   { 'user': 'fred',   'age': 40 },
 *   { 'user': 'barney', 'age': 36 }
 * ];
 *
 * // Sort by `user` in ascending order and by `age` in descending order.
 * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);
 * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]
 */
function orderBy(collection, iteratees, orders, guard) {
  if (collection == null) {
    return [];
  }
  if (!isArray(iteratees)) {
    iteratees = iteratees == null ? [] : [iteratees];
  }
  orders = guard ? undefined : orders;
  if (!isArray(orders)) {
    orders = orders == null ? [] : [orders];
  }
  return baseOrderBy(collection, iteratees, orders);
}

module.exports = orderBy;

},{"./_baseOrderBy":60,"./isArray":170}],186:[function(require,module,exports){
var createAggregator = require('./_createAggregator');

/**
 * Creates an array of elements split into two groups, the first of which
 * contains elements `predicate` returns truthy for, the second of which
 * contains elements `predicate` returns falsey for. The predicate is
 * invoked with one argument: (value).
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category Collection
 * @param {Array|Object} collection The collection to iterate over.
 * @param {Function} [predicate=_.identity] The function invoked per iteration.
 * @returns {Array} Returns the array of grouped elements.
 * @example
 *
 * var users = [
 *   { 'user': 'barney',  'age': 36, 'active': false },
 *   { 'user': 'fred',    'age': 40, 'active': true },
 *   { 'user': 'pebbles', 'age': 1,  'active': false }
 * ];
 *
 * _.partition(users, function(o) { return o.active; });
 * // => objects for [['fred'], ['barney', 'pebbles']]
 *
 * // The `_.matches` iteratee shorthand.
 * _.partition(users, { 'age': 1, 'active': false });
 * // => objects for [['pebbles'], ['barney', 'fred']]
 *
 * // The `_.matchesProperty` iteratee shorthand.
 * _.partition(users, ['active', false]);
 * // => objects for [['barney', 'pebbles'], ['fred']]
 *
 * // The `_.property` iteratee shorthand.
 * _.partition(users, 'active');
 * // => objects for [['fred'], ['barney', 'pebbles']]
 */
var partition = createAggregator(function(result, value, key) {
  result[key ? 0 : 1].push(value);
}, function() { return [[], []]; });

module.exports = partition;

},{"./_createAggregator":89}],187:[function(require,module,exports){
var basePick = require('./_basePick'),
    flatRest = require('./_flatRest');

/**
 * Creates an object composed of the picked `object` properties.
 *
 * @static
 * @since 0.1.0
 * @memberOf _
 * @category Object
 * @param {Object} object The source object.
 * @param {...(string|string[])} [paths] The property paths to pick.
 * @returns {Object} Returns the new object.
 * @example
 *
 * var object = { 'a': 1, 'b': '2', 'c': 3 };
 *
 * _.pick(object, ['a', 'c']);
 * // => { 'a': 1, 'c': 3 }
 */
var pick = flatRest(function(object, paths) {
  return object == null ? {} : basePick(object, paths);
});

module.exports = pick;

},{"./_basePick":61,"./_flatRest":97}],188:[function(require,module,exports){
var baseProperty = require('./_baseProperty'),
    basePropertyDeep = require('./_basePropertyDeep'),
    isKey = require('./_isKey'),
    toKey = require('./_toKey');

/**
 * Creates a function that returns the value at `path` of a given object.
 *
 * @static
 * @memberOf _
 * @since 2.4.0
 * @category Util
 * @param {Array|string} path The path of the property to get.
 * @returns {Function} Returns the new accessor function.
 * @example
 *
 * var objects = [
 *   { 'a': { 'b': 2 } },
 *   { 'a': { 'b': 1 } }
 * ];
 *
 * _.map(objects, _.property('a.b'));
 * // => [2, 1]
 *
 * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');
 * // => [1, 2]
 */
function property(path) {
  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);
}

module.exports = property;

},{"./_baseProperty":63,"./_basePropertyDeep":64,"./_isKey":121,"./_toKey":159}],189:[function(require,module,exports){
/**
 * This method returns a new empty array.
 *
 * @static
 * @memberOf _
 * @since 4.13.0
 * @category Util
 * @returns {Array} Returns the new empty array.
 * @example
 *
 * var arrays = _.times(2, _.stubArray);
 *
 * console.log(arrays);
 * // => [[], []]
 *
 * console.log(arrays[0] === arrays[1]);
 * // => false
 */
function stubArray() {
  return [];
}

module.exports = stubArray;

},{}],190:[function(require,module,exports){
/**
 * This method returns `false`.
 *
 * @static
 * @memberOf _
 * @since 4.13.0
 * @category Util
 * @returns {boolean} Returns `false`.
 * @example
 *
 * _.times(2, _.stubFalse);
 * // => [false, false]
 */
function stubFalse() {
  return false;
}

module.exports = stubFalse;

},{}],191:[function(require,module,exports){
var debounce = require('./debounce'),
    isObject = require('./isObject');

/** Error message constants. */
var FUNC_ERROR_TEXT = 'Expected a function';

/**
 * Creates a throttled function that only invokes `func` at most once per
 * every `wait` milliseconds. The throttled function comes with a `cancel`
 * method to cancel delayed `func` invocations and a `flush` method to
 * immediately invoke them. Provide `options` to indicate whether `func`
 * should be invoked on the leading and/or trailing edge of the `wait`
 * timeout. The `func` is invoked with the last arguments provided to the
 * throttled function. Subsequent calls to the throttled function return the
 * result of the last `func` invocation.
 *
 * **Note:** If `leading` and `trailing` options are `true`, `func` is
 * invoked on the trailing edge of the timeout only if the throttled function
 * is invoked more than once during the `wait` timeout.
 *
 * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
 * until to the next tick, similar to `setTimeout` with a timeout of `0`.
 *
 * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
 * for details over the differences between `_.throttle` and `_.debounce`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to throttle.
 * @param {number} [wait=0] The number of milliseconds to throttle invocations to.
 * @param {Object} [options={}] The options object.
 * @param {boolean} [options.leading=true]
 *  Specify invoking on the leading edge of the timeout.
 * @param {boolean} [options.trailing=true]
 *  Specify invoking on the trailing edge of the timeout.
 * @returns {Function} Returns the new throttled function.
 * @example
 *
 * // Avoid excessively updating the position while scrolling.
 * jQuery(window).on('scroll', _.throttle(updatePosition, 100));
 *
 * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.
 * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });
 * jQuery(element).on('click', throttled);
 *
 * // Cancel the trailing throttled invocation.
 * jQuery(window).on('popstate', throttled.cancel);
 */
function throttle(func, wait, options) {
  var leading = true,
      trailing = true;

  if (typeof func != 'function') {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  if (isObject(options)) {
    leading = 'leading' in options ? !!options.leading : leading;
    trailing = 'trailing' in options ? !!options.trailing : trailing;
  }
  return debounce(func, wait, {
    'leading': leading,
    'maxWait': wait,
    'trailing': trailing
  });
}

module.exports = throttle;

},{"./debounce":163,"./isObject":176}],192:[function(require,module,exports){
var isObject = require('./isObject'),
    isSymbol = require('./isSymbol');

/** Used as references for various `Number` constants. */
var NAN = 0 / 0;

/** Used to match leading and trailing whitespace. */
var reTrim = /^\s+|\s+$/g;

/** Used to detect bad signed hexadecimal string values. */
var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;

/** Used to detect binary string values. */
var reIsBinary = /^0b[01]+$/i;

/** Used to detect octal string values. */
var reIsOctal = /^0o[0-7]+$/i;

/** Built-in method references without a dependency on `root`. */
var freeParseInt = parseInt;

/**
 * Converts `value` to a number.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {number} Returns the number.
 * @example
 *
 * _.toNumber(3.2);
 * // => 3.2
 *
 * _.toNumber(Number.MIN_VALUE);
 * // => 5e-324
 *
 * _.toNumber(Infinity);
 * // => Infinity
 *
 * _.toNumber('3.2');
 * // => 3.2
 */
function toNumber(value) {
  if (typeof value == 'number') {
    return value;
  }
  if (isSymbol(value)) {
    return NAN;
  }
  if (isObject(value)) {
    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;
    value = isObject(other) ? (other + '') : other;
  }
  if (typeof value != 'string') {
    return value === 0 ? value : +value;
  }
  value = value.replace(reTrim, '');
  var isBinary = reIsBinary.test(value);
  return (isBinary || reIsOctal.test(value))
    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)
    : (reIsBadHex.test(value) ? NAN : +value);
}

module.exports = toNumber;

},{"./isObject":176,"./isSymbol":178}],193:[function(require,module,exports){
var baseToString = require('./_baseToString');

/**
 * Converts `value` to a string. An empty string is returned for `null`
 * and `undefined` values. The sign of `-0` is preserved.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to convert.
 * @returns {string} Returns the converted string.
 * @example
 *
 * _.toString(null);
 * // => ''
 *
 * _.toString(-0);
 * // => '-0'
 *
 * _.toString([1, 2, 3]);
 * // => '1,2,3'
 */
function toString(value) {
  return value == null ? '' : baseToString(value);
}

module.exports = toString;

},{"./_baseToString":69}],194:[function(require,module,exports){
var baseUniq = require('./_baseUniq');

/**
 * This method is like `_.uniq` except that it accepts `comparator` which
 * is invoked to compare elements of `array`. The order of result values is
 * determined by the order they occur in the array.The comparator is invoked
 * with two arguments: (arrVal, othVal).
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Array
 * @param {Array} array The array to inspect.
 * @param {Function} [comparator] The comparator invoked per element.
 * @returns {Array} Returns the new duplicate free array.
 * @example
 *
 * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];
 *
 * _.uniqWith(objects, _.isEqual);
 * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]
 */
function uniqWith(array, comparator) {
  comparator = typeof comparator == 'function' ? comparator : undefined;
  return (array && array.length) ? baseUniq(array, undefined, comparator) : [];
}

module.exports = uniqWith;

},{"./_baseUniq":71}],195:[function(require,module,exports){
'use strict';

var Config = {
    DEBUG: false,
    LIB_VERSION: '2.11.1'
};

// since es6 imports are static and we run unit tests from the console, window won't be defined when importing this file
var win;
if (typeof(window) === 'undefined') {
    win = {
        navigator: {}
    };
} else {
    win = window;
}



/*
 * Saved references to long variable names, so that closure compiler can
 * minimize file size.
 */

var ArrayProto = Array.prototype;
var FuncProto = Function.prototype;
var ObjProto = Object.prototype;
var slice = ArrayProto.slice;
var toString = ObjProto.toString;
var hasOwnProperty = ObjProto.hasOwnProperty;
var windowConsole = win.console;
var navigator$1 = win.navigator;
var document$1 = win.document;
var userAgent = navigator$1.userAgent;
var nativeBind = FuncProto.bind;
var nativeForEach = ArrayProto.forEach;
var nativeIndexOf = ArrayProto.indexOf;
var nativeIsArray = Array.isArray;
var breaker = {};
var _ = {
    trim: function(str) {
        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/Trim#Polyfill
        return str.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, '');
    }
};

// Console override
var console$1 = {
    /** @type {function(...[*])} */
    log: function() {
        if (Config.DEBUG && !_.isUndefined(windowConsole) && windowConsole) {
            try {
                windowConsole.log.apply(windowConsole, arguments);
            } catch (err) {
                _.each(arguments, function(arg) {
                    windowConsole.log(arg);
                });
            }
        }
    },
    /** @type {function(...[*])} */
    error: function() {
        if (Config.DEBUG && !_.isUndefined(windowConsole) && windowConsole) {
            var args = ['Mixpanel error:'].concat(_.toArray(arguments));
            try {
                windowConsole.error.apply(windowConsole, args);
            } catch (err) {
                _.each(args, function(arg) {
                    windowConsole.error(arg);
                });
            }
        }
    },
    /** @type {function(...[*])} */
    critical: function() {
        if (!_.isUndefined(windowConsole) && windowConsole) {
            var args = ['Mixpanel error:'].concat(_.toArray(arguments));
            try {
                windowConsole.error.apply(windowConsole, args);
            } catch (err) {
                _.each(args, function(arg) {
                    windowConsole.error(arg);
                });
            }
        }
    }
};


// UNDERSCORE
// Embed part of the Underscore Library
_.bind = function(func, context) {
    var args, bound;
    if (nativeBind && func.bind === nativeBind) {
        return nativeBind.apply(func, slice.call(arguments, 1));
    }
    if (!_.isFunction(func)) {
        throw new TypeError();
    }
    args = slice.call(arguments, 2);
    bound = function() {
        if (!(this instanceof bound)) {
            return func.apply(context, args.concat(slice.call(arguments)));
        }
        var ctor = {};
        ctor.prototype = func.prototype;
        var self = new ctor();
        ctor.prototype = null;
        var result = func.apply(self, args.concat(slice.call(arguments)));
        if (Object(result) === result) {
            return result;
        }
        return self;
    };
    return bound;
};

_.bind_instance_methods = function(obj) {
    for (var func in obj) {
        if (typeof(obj[func]) === 'function') {
            obj[func] = _.bind(obj[func], obj);
        }
    }
};

/**
 * @param {*=} obj
 * @param {function(...[*])=} iterator
 * @param {Object=} context
 */
_.each = function(obj, iterator, context) {
    if (obj === null || obj === undefined) {
        return;
    }
    if (nativeForEach && obj.forEach === nativeForEach) {
        obj.forEach(iterator, context);
    } else if (obj.length === +obj.length) {
        for (var i = 0, l = obj.length; i < l; i++) {
            if (i in obj && iterator.call(context, obj[i], i, obj) === breaker) {
                return;
            }
        }
    } else {
        for (var key in obj) {
            if (hasOwnProperty.call(obj, key)) {
                if (iterator.call(context, obj[key], key, obj) === breaker) {
                    return;
                }
            }
        }
    }
};

_.escapeHTML = function(s) {
    var escaped = s;
    if (escaped && _.isString(escaped)) {
        escaped = escaped
            .replace(/&/g, '&amp;')
            .replace(/</g, '&lt;')
            .replace(/>/g, '&gt;')
            .replace(/"/g, '&quot;')
            .replace(/'/g, '&#039;');
    }
    return escaped;
};

_.extend = function(obj) {
    _.each(slice.call(arguments, 1), function(source) {
        for (var prop in source) {
            if (source[prop] !== void 0) {
                obj[prop] = source[prop];
            }
        }
    });
    return obj;
};

_.isArray = nativeIsArray || function(obj) {
    return toString.call(obj) === '[object Array]';
};

// from a comment on http://dbj.org/dbj/?p=286
// fails on only one very rare and deliberate custom object:
// var bomb = { toString : undefined, valueOf: function(o) { return "function BOMBA!"; }};
_.isFunction = function(f) {
    try {
        return /^\s*\bfunction\b/.test(f);
    } catch (x) {
        return false;
    }
};

_.isArguments = function(obj) {
    return !!(obj && hasOwnProperty.call(obj, 'callee'));
};

_.toArray = function(iterable) {
    if (!iterable) {
        return [];
    }
    if (iterable.toArray) {
        return iterable.toArray();
    }
    if (_.isArray(iterable)) {
        return slice.call(iterable);
    }
    if (_.isArguments(iterable)) {
        return slice.call(iterable);
    }
    return _.values(iterable);
};

_.values = function(obj) {
    var results = [];
    if (obj === null) {
        return results;
    }
    _.each(obj, function(value) {
        results[results.length] = value;
    });
    return results;
};

_.identity = function(value) {
    return value;
};

_.include = function(obj, target) {
    var found = false;
    if (obj === null) {
        return found;
    }
    if (nativeIndexOf && obj.indexOf === nativeIndexOf) {
        return obj.indexOf(target) != -1;
    }
    _.each(obj, function(value) {
        if (found || (found = (value === target))) {
            return breaker;
        }
    });
    return found;
};

_.includes = function(str, needle) {
    return str.indexOf(needle) !== -1;
};

// Underscore Addons
_.inherit = function(subclass, superclass) {
    subclass.prototype = new superclass();
    subclass.prototype.constructor = subclass;
    subclass.superclass = superclass.prototype;
    return subclass;
};

_.isObject = function(obj) {
    return (obj === Object(obj) && !_.isArray(obj));
};

_.isEmptyObject = function(obj) {
    if (_.isObject(obj)) {
        for (var key in obj) {
            if (hasOwnProperty.call(obj, key)) {
                return false;
            }
        }
        return true;
    }
    return false;
};

_.isUndefined = function(obj) {
    return obj === void 0;
};

_.isString = function(obj) {
    return toString.call(obj) == '[object String]';
};

_.isDate = function(obj) {
    return toString.call(obj) == '[object Date]';
};

_.isNumber = function(obj) {
    return toString.call(obj) == '[object Number]';
};

_.isElement = function(obj) {
    return !!(obj && obj.nodeType === 1);
};

_.encodeDates = function(obj) {
    _.each(obj, function(v, k) {
        if (_.isDate(v)) {
            obj[k] = _.formatDate(v);
        } else if (_.isObject(v)) {
            obj[k] = _.encodeDates(v); // recurse
        }
    });
    return obj;
};

_.timestamp = function() {
    Date.now = Date.now || function() {
        return +new Date;
    };
    return Date.now();
};

_.formatDate = function(d) {
    // YYYY-MM-DDTHH:MM:SS in UTC
    function pad(n) {
        return n < 10 ? '0' + n : n;
    }
    return d.getUTCFullYear() + '-' +
        pad(d.getUTCMonth() + 1) + '-' +
        pad(d.getUTCDate()) + 'T' +
        pad(d.getUTCHours()) + ':' +
        pad(d.getUTCMinutes()) + ':' +
        pad(d.getUTCSeconds());
};

_.safewrap = function(f) {
    return function() {
        try {
            return f.apply(this, arguments);
        } catch (e) {
            console$1.critical('Implementation error. Please contact support@mixpanel.com.');
        }
    };
};

_.safewrap_class = function(klass, functions) {
    for (var i = 0; i < functions.length; i++) {
        klass.prototype[functions[i]] = _.safewrap(klass.prototype[functions[i]]);
    }
};

_.safewrap_instance_methods = function(obj) {
    for (var func in obj) {
        if (typeof(obj[func]) === 'function') {
            obj[func] = _.safewrap(obj[func]);
        }
    }
};

_.strip_empty_properties = function(p) {
    var ret = {};
    _.each(p, function(v, k) {
        if (_.isString(v) && v.length > 0) {
            ret[k] = v;
        }
    });
    return ret;
};

/*
 * this function returns a copy of object after truncating it.  If
 * passed an Array or Object it will iterate through obj and
 * truncate all the values recursively.
 */
_.truncate = function(obj, length) {
    var ret;

    if (typeof(obj) === 'string') {
        ret = obj.slice(0, length);
    } else if (_.isArray(obj)) {
        ret = [];
        _.each(obj, function(val) {
            ret.push(_.truncate(val, length));
        });
    } else if (_.isObject(obj)) {
        ret = {};
        _.each(obj, function(val, key) {
            ret[key] = _.truncate(val, length);
        });
    } else {
        ret = obj;
    }

    return ret;
};

_.JSONEncode = (function() {
    return function(mixed_val) {
        var value = mixed_val;
        var quote = function(string) {
            var escapable = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g; // eslint-disable-line no-control-regex
            var meta = { // table of character substitutions
                '\b': '\\b',
                '\t': '\\t',
                '\n': '\\n',
                '\f': '\\f',
                '\r': '\\r',
                '"': '\\"',
                '\\': '\\\\'
            };

            escapable.lastIndex = 0;
            return escapable.test(string) ?
                '"' + string.replace(escapable, function(a) {
                    var c = meta[a];
                    return typeof c === 'string' ? c :
                        '\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);
                }) + '"' :
                '"' + string + '"';
        };

        var str = function(key, holder) {
            var gap = '';
            var indent = '    ';
            var i = 0; // The loop counter.
            var k = ''; // The member key.
            var v = ''; // The member value.
            var length = 0;
            var mind = gap;
            var partial = [];
            var value = holder[key];

            // If the value has a toJSON method, call it to obtain a replacement value.
            if (value && typeof value === 'object' &&
                typeof value.toJSON === 'function') {
                value = value.toJSON(key);
            }

            // What happens next depends on the value's type.
            switch (typeof value) {
                case 'string':
                    return quote(value);

                case 'number':
                    // JSON numbers must be finite. Encode non-finite numbers as null.
                    return isFinite(value) ? String(value) : 'null';

                case 'boolean':
                case 'null':
                    // If the value is a boolean or null, convert it to a string. Note:
                    // typeof null does not produce 'null'. The case is included here in
                    // the remote chance that this gets fixed someday.

                    return String(value);

                case 'object':
                    // If the type is 'object', we might be dealing with an object or an array or
                    // null.
                    // Due to a specification blunder in ECMAScript, typeof null is 'object',
                    // so watch out for that case.
                    if (!value) {
                        return 'null';
                    }

                    // Make an array to hold the partial results of stringifying this object value.
                    gap += indent;
                    partial = [];

                    // Is the value an array?
                    if (toString.apply(value) === '[object Array]') {
                        // The value is an array. Stringify every element. Use null as a placeholder
                        // for non-JSON values.

                        length = value.length;
                        for (i = 0; i < length; i += 1) {
                            partial[i] = str(i, value) || 'null';
                        }

                        // Join all of the elements together, separated with commas, and wrap them in
                        // brackets.
                        v = partial.length === 0 ? '[]' :
                            gap ? '[\n' + gap +
                            partial.join(',\n' + gap) + '\n' +
                            mind + ']' :
                            '[' + partial.join(',') + ']';
                        gap = mind;
                        return v;
                    }

                    // Iterate through all of the keys in the object.
                    for (k in value) {
                        if (hasOwnProperty.call(value, k)) {
                            v = str(k, value);
                            if (v) {
                                partial.push(quote(k) + (gap ? ': ' : ':') + v);
                            }
                        }
                    }

                    // Join all of the member texts together, separated with commas,
                    // and wrap them in braces.
                    v = partial.length === 0 ? '{}' :
                        gap ? '{' + partial.join(',') + '' +
                        mind + '}' : '{' + partial.join(',') + '}';
                    gap = mind;
                    return v;
            }
        };

        // Make a fake root object containing our value under the key of ''.
        // Return the result of stringifying the value.
        return str('', {
            '': value
        });
    };
})();

_.JSONDecode = (function() { // https://github.com/douglascrockford/JSON-js/blob/master/json_parse.js
    var at, // The index of the current character
        ch, // The current character
        escapee = {
            '"': '"',
            '\\': '\\',
            '/': '/',
            'b': '\b',
            'f': '\f',
            'n': '\n',
            'r': '\r',
            't': '\t'
        },
        text,
        error = function(m) {
            throw {
                name: 'SyntaxError',
                message: m,
                at: at,
                text: text
            };
        },
        next = function(c) {
            // If a c parameter is provided, verify that it matches the current character.
            if (c && c !== ch) {
                error('Expected \'' + c + '\' instead of \'' + ch + '\'');
            }
            // Get the next character. When there are no more characters,
            // return the empty string.
            ch = text.charAt(at);
            at += 1;
            return ch;
        },
        number = function() {
            // Parse a number value.
            var number,
                string = '';

            if (ch === '-') {
                string = '-';
                next('-');
            }
            while (ch >= '0' && ch <= '9') {
                string += ch;
                next();
            }
            if (ch === '.') {
                string += '.';
                while (next() && ch >= '0' && ch <= '9') {
                    string += ch;
                }
            }
            if (ch === 'e' || ch === 'E') {
                string += ch;
                next();
                if (ch === '-' || ch === '+') {
                    string += ch;
                    next();
                }
                while (ch >= '0' && ch <= '9') {
                    string += ch;
                    next();
                }
            }
            number = +string;
            if (!isFinite(number)) {
                error('Bad number');
            } else {
                return number;
            }
        },

        string = function() {
            // Parse a string value.
            var hex,
                i,
                string = '',
                uffff;
            // When parsing for string values, we must look for " and \ characters.
            if (ch === '"') {
                while (next()) {
                    if (ch === '"') {
                        next();
                        return string;
                    }
                    if (ch === '\\') {
                        next();
                        if (ch === 'u') {
                            uffff = 0;
                            for (i = 0; i < 4; i += 1) {
                                hex = parseInt(next(), 16);
                                if (!isFinite(hex)) {
                                    break;
                                }
                                uffff = uffff * 16 + hex;
                            }
                            string += String.fromCharCode(uffff);
                        } else if (typeof escapee[ch] === 'string') {
                            string += escapee[ch];
                        } else {
                            break;
                        }
                    } else {
                        string += ch;
                    }
                }
            }
            error('Bad string');
        },
        white = function() {
            // Skip whitespace.
            while (ch && ch <= ' ') {
                next();
            }
        },
        word = function() {
            // true, false, or null.
            switch (ch) {
                case 't':
                    next('t');
                    next('r');
                    next('u');
                    next('e');
                    return true;
                case 'f':
                    next('f');
                    next('a');
                    next('l');
                    next('s');
                    next('e');
                    return false;
                case 'n':
                    next('n');
                    next('u');
                    next('l');
                    next('l');
                    return null;
            }
            error('Unexpected "' + ch + '"');
        },
        value, // Placeholder for the value function.
        array = function() {
            // Parse an array value.
            var array = [];

            if (ch === '[') {
                next('[');
                white();
                if (ch === ']') {
                    next(']');
                    return array; // empty array
                }
                while (ch) {
                    array.push(value());
                    white();
                    if (ch === ']') {
                        next(']');
                        return array;
                    }
                    next(',');
                    white();
                }
            }
            error('Bad array');
        },
        object = function() {
            // Parse an object value.
            var key,
                object = {};

            if (ch === '{') {
                next('{');
                white();
                if (ch === '}') {
                    next('}');
                    return object; // empty object
                }
                while (ch) {
                    key = string();
                    white();
                    next(':');
                    if (Object.hasOwnProperty.call(object, key)) {
                        error('Duplicate key "' + key + '"');
                    }
                    object[key] = value();
                    white();
                    if (ch === '}') {
                        next('}');
                        return object;
                    }
                    next(',');
                    white();
                }
            }
            error('Bad object');
        };

    value = function() {
        // Parse a JSON value. It could be an object, an array, a string,
        // a number, or a word.
        white();
        switch (ch) {
            case '{':
                return object();
            case '[':
                return array();
            case '"':
                return string();
            case '-':
                return number();
            default:
                return ch >= '0' && ch <= '9' ? number() : word();
        }
    };

    // Return the json_parse function. It will have access to all of the
    // above functions and variables.
    return function(source) {
        var result;

        text = source;
        at = 0;
        ch = ' ';
        result = value();
        white();
        if (ch) {
            error('Syntax error');
        }

        return result;
    };
})();

_.base64Encode = function(data) {
    var b64 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';
    var o1, o2, o3, h1, h2, h3, h4, bits, i = 0,
        ac = 0,
        enc = '',
        tmp_arr = [];

    if (!data) {
        return data;
    }

    data = _.utf8Encode(data);

    do { // pack three octets into four hexets
        o1 = data.charCodeAt(i++);
        o2 = data.charCodeAt(i++);
        o3 = data.charCodeAt(i++);

        bits = o1 << 16 | o2 << 8 | o3;

        h1 = bits >> 18 & 0x3f;
        h2 = bits >> 12 & 0x3f;
        h3 = bits >> 6 & 0x3f;
        h4 = bits & 0x3f;

        // use hexets to index into b64, and append result to encoded string
        tmp_arr[ac++] = b64.charAt(h1) + b64.charAt(h2) + b64.charAt(h3) + b64.charAt(h4);
    } while (i < data.length);

    enc = tmp_arr.join('');

    switch (data.length % 3) {
        case 1:
            enc = enc.slice(0, -2) + '==';
            break;
        case 2:
            enc = enc.slice(0, -1) + '=';
            break;
    }

    return enc;
};

_.utf8Encode = function(string) {
    string = (string + '').replace(/\r\n/g, '\n').replace(/\r/g, '\n');

    var utftext = '',
        start,
        end;
    var stringl = 0,
        n;

    start = end = 0;
    stringl = string.length;

    for (n = 0; n < stringl; n++) {
        var c1 = string.charCodeAt(n);
        var enc = null;

        if (c1 < 128) {
            end++;
        } else if ((c1 > 127) && (c1 < 2048)) {
            enc = String.fromCharCode((c1 >> 6) | 192, (c1 & 63) | 128);
        } else {
            enc = String.fromCharCode((c1 >> 12) | 224, ((c1 >> 6) & 63) | 128, (c1 & 63) | 128);
        }
        if (enc !== null) {
            if (end > start) {
                utftext += string.substring(start, end);
            }
            utftext += enc;
            start = end = n + 1;
        }
    }

    if (end > start) {
        utftext += string.substring(start, string.length);
    }

    return utftext;
};

_.UUID = (function() {

    // Time/ticks information
    // 1*new Date() is a cross browser version of Date.now()
    var T = function() {
        var d = 1 * new Date(),
            i = 0;

        // this while loop figures how many browser ticks go by
        // before 1*new Date() returns a new number, ie the amount
        // of ticks that go by per millisecond
        while (d == 1 * new Date()) {
            i++;
        }

        return d.toString(16) + i.toString(16);
    };

    // Math.Random entropy
    var R = function() {
        return Math.random().toString(16).replace('.', '');
    };

    // User agent entropy
    // This function takes the user agent string, and then xors
    // together each sequence of 8 bytes.  This produces a final
    // sequence of 8 bytes which it returns as hex.
    var UA = function() {
        var ua = userAgent,
            i, ch, buffer = [],
            ret = 0;

        function xor(result, byte_array) {
            var j, tmp = 0;
            for (j = 0; j < byte_array.length; j++) {
                tmp |= (buffer[j] << j * 8);
            }
            return result ^ tmp;
        }

        for (i = 0; i < ua.length; i++) {
            ch = ua.charCodeAt(i);
            buffer.unshift(ch & 0xFF);
            if (buffer.length >= 4) {
                ret = xor(ret, buffer);
                buffer = [];
            }
        }

        if (buffer.length > 0) {
            ret = xor(ret, buffer);
        }

        return ret.toString(16);
    };

    return function() {
        var se = (screen.height * screen.width).toString(16);
        return (T() + '-' + R() + '-' + UA() + '-' + se + '-' + T());
    };
})();

// _.isBlockedUA()
// This is to block various web spiders from executing our JS and
// sending false tracking data
_.isBlockedUA = function(ua) {
    if (/(google web preview|baiduspider|yandexbot|bingbot|googlebot|yahoo! slurp)/i.test(ua)) {
        return true;
    }
    return false;
};

/**
 * @param {Object=} formdata
 * @param {string=} arg_separator
 */
_.HTTPBuildQuery = function(formdata, arg_separator) {
    var use_val, use_key, tmp_arr = [];

    if (_.isUndefined(arg_separator)) {
        arg_separator = '&';
    }

    _.each(formdata, function(val, key) {
        use_val = encodeURIComponent(val.toString());
        use_key = encodeURIComponent(key);
        tmp_arr[tmp_arr.length] = use_key + '=' + use_val;
    });

    return tmp_arr.join(arg_separator);
};

_.getQueryParam = function(url, param) {
    // Expects a raw URL

    param = param.replace(/[\[]/, '\\\[').replace(/[\]]/, '\\\]');
    var regexS = '[\\?&]' + param + '=([^&#]*)',
        regex = new RegExp(regexS),
        results = regex.exec(url);
    if (results === null || (results && typeof(results[1]) !== 'string' && results[1].length)) {
        return '';
    } else {
        return decodeURIComponent(results[1]).replace(/\+/g, ' ');
    }
};

_.getHashParam = function(hash, param) {
    var matches = hash.match(new RegExp(param + '=([^&]*)'));
    return matches ? matches[1] : null;
};

// _.cookie
// Methods partially borrowed from quirksmode.org/js/cookies.html
_.cookie = {
    get: function(name) {
        var nameEQ = name + '=';
        var ca = document$1.cookie.split(';');
        for (var i = 0; i < ca.length; i++) {
            var c = ca[i];
            while (c.charAt(0) == ' ') {
                c = c.substring(1, c.length);
            }
            if (c.indexOf(nameEQ) === 0) {
                return decodeURIComponent(c.substring(nameEQ.length, c.length));
            }
        }
        return null;
    },

    parse: function(name) {
        var cookie;
        try {
            cookie = _.JSONDecode(_.cookie.get(name)) || {};
        } catch (err) {
            // noop
        }
        return cookie;
    },

    set_seconds: function(name, value, seconds, cross_subdomain, is_secure) {
        var cdomain = '',
            expires = '',
            secure = '';

        if (cross_subdomain) {
            var matches = document$1.location.hostname.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i),
                domain = matches ? matches[0] : '';

            cdomain = ((domain) ? '; domain=.' + domain : '');
        }

        if (seconds) {
            var date = new Date();
            date.setTime(date.getTime() + (seconds * 1000));
            expires = '; expires=' + date.toGMTString();
        }

        if (is_secure) {
            secure = '; secure';
        }

        document$1.cookie = name + '=' + encodeURIComponent(value) + expires + '; path=/' + cdomain + secure;
    },

    set: function(name, value, days, cross_subdomain, is_secure) {
        var cdomain = '', expires = '', secure = '';

        if (cross_subdomain) {
            var matches = document$1.location.hostname.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i),
                domain = matches ? matches[0] : '';

            cdomain   = ((domain) ? '; domain=.' + domain : '');
        }

        if (days) {
            var date = new Date();
            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
            expires = '; expires=' + date.toGMTString();
        }

        if (is_secure) {
            secure = '; secure';
        }

        var new_cookie_val = name + '=' + encodeURIComponent(value) + expires + '; path=/' + cdomain + secure;
        document$1.cookie = new_cookie_val;
        return new_cookie_val;
    },

    remove: function(name, cross_subdomain) {
        _.cookie.set(name, '', -1, cross_subdomain);
    }
};

// _.localStorage
_.localStorage = {
    error: function(msg) {
        console$1.error('localStorage error: ' + msg);
    },

    get: function(name) {
        try {
            return window.localStorage.getItem(name);
        } catch (err) {
            _.localStorage.error(err);
        }
        return null;
    },

    parse: function(name) {
        try {
            return _.JSONDecode(_.localStorage.get(name)) || {};
        } catch (err) {
            // noop
        }
        return null;
    },

    set: function(name, value) {
        try {
            window.localStorage.setItem(name, value);
        } catch (err) {
            _.localStorage.error(err);
        }
    },

    remove: function(name) {
        try {
            window.localStorage.removeItem(name);
        } catch (err) {
            _.localStorage.error(err);
        }
    }
};

_.register_event = (function() {
    // written by Dean Edwards, 2005
    // with input from Tino Zijdel - crisp@xs4all.nl
    // with input from Carl Sverre - mail@carlsverre.com
    // with input from Mixpanel
    // http://dean.edwards.name/weblog/2005/10/add-event/
    // https://gist.github.com/1930440

    /**
     * @param {Object} element
     * @param {string} type
     * @param {function(...[*])} handler
     * @param {boolean=} oldSchool
     * @param {boolean=} useCapture
     */
    var register_event = function(element, type, handler, oldSchool, useCapture) {
        if (!element) {
            console$1.error('No valid element provided to register_event');
            return;
        }

        if (element.addEventListener && !oldSchool) {
            element.addEventListener(type, handler, !!useCapture);
        } else {
            var ontype = 'on' + type;
            var old_handler = element[ontype]; // can be undefined
            element[ontype] = makeHandler(element, handler, old_handler);
        }
    };

    function makeHandler(element, new_handler, old_handlers) {
        var handler = function(event) {
            event = event || fixEvent(window.event);

            // this basically happens in firefox whenever another script
            // overwrites the onload callback and doesn't pass the event
            // object to previously defined callbacks.  All the browsers
            // that don't define window.event implement addEventListener
            // so the dom_loaded handler will still be fired as usual.
            if (!event) {
                return undefined;
            }

            var ret = true;
            var old_result, new_result;

            if (_.isFunction(old_handlers)) {
                old_result = old_handlers(event);
            }
            new_result = new_handler.call(element, event);

            if ((false === old_result) || (false === new_result)) {
                ret = false;
            }

            return ret;
        };

        return handler;
    }

    function fixEvent(event) {
        if (event) {
            event.preventDefault = fixEvent.preventDefault;
            event.stopPropagation = fixEvent.stopPropagation;
        }
        return event;
    }
    fixEvent.preventDefault = function() {
        this.returnValue = false;
    };
    fixEvent.stopPropagation = function() {
        this.cancelBubble = true;
    };

    return register_event;
})();

_.dom_query = (function() {
    /* document.getElementsBySelector(selector)
    - returns an array of element objects from the current document
    matching the CSS selector. Selectors can contain element names,
    class names and ids and can be nested. For example:

    elements = document.getElementsBySelector('div#main p a.external')

    Will return an array of all 'a' elements with 'external' in their
    class attribute that are contained inside 'p' elements that are
    contained inside the 'div' element which has id="main"

    New in version 0.4: Support for CSS2 and CSS3 attribute selectors:
    See http://www.w3.org/TR/css3-selectors/#attribute-selectors

    Version 0.4 - Simon Willison, March 25th 2003
    -- Works in Phoenix 0.5, Mozilla 1.3, Opera 7, Internet Explorer 6, Internet Explorer 5 on Windows
    -- Opera 7 fails

    Version 0.5 - Carl Sverre, Jan 7th 2013
    -- Now uses jQuery-esque `hasClass` for testing class name
    equality.  This fixes a bug related to '-' characters being
    considered not part of a 'word' in regex.
    */

    function getAllChildren(e) {
        // Returns all children of element. Workaround required for IE5/Windows. Ugh.
        return e.all ? e.all : e.getElementsByTagName('*');
    }

    var bad_whitespace = /[\t\r\n]/g;

    function hasClass(elem, selector) {
        var className = ' ' + selector + ' ';
        return ((' ' + elem.className + ' ').replace(bad_whitespace, ' ').indexOf(className) >= 0);
    }

    function getElementsBySelector(selector) {
        // Attempt to fail gracefully in lesser browsers
        if (!document$1.getElementsByTagName) {
            return [];
        }
        // Split selector in to tokens
        var tokens = selector.split(' ');
        var token, bits, tagName, found, foundCount, i, j, k, elements, currentContextIndex;
        var currentContext = [document$1];
        for (i = 0; i < tokens.length; i++) {
            token = tokens[i].replace(/^\s+/, '').replace(/\s+$/, '');
            if (token.indexOf('#') > -1) {
                // Token is an ID selector
                bits = token.split('#');
                tagName = bits[0];
                var id = bits[1];
                var element = document$1.getElementById(id);
                if (!element || (tagName && element.nodeName.toLowerCase() != tagName)) {
                    // element not found or tag with that ID not found, return false
                    return [];
                }
                // Set currentContext to contain just this element
                currentContext = [element];
                continue; // Skip to next token
            }
            if (token.indexOf('.') > -1) {
                // Token contains a class selector
                bits = token.split('.');
                tagName = bits[0];
                var className = bits[1];
                if (!tagName) {
                    tagName = '*';
                }
                // Get elements matching tag, filter them for class selector
                found = [];
                foundCount = 0;
                for (j = 0; j < currentContext.length; j++) {
                    if (tagName == '*') {
                        elements = getAllChildren(currentContext[j]);
                    } else {
                        elements = currentContext[j].getElementsByTagName(tagName);
                    }
                    for (k = 0; k < elements.length; k++) {
                        found[foundCount++] = elements[k];
                    }
                }
                currentContext = [];
                currentContextIndex = 0;
                for (j = 0; j < found.length; j++) {
                    if (found[j].className &&
                        _.isString(found[j].className) && // some SVG elements have classNames which are not strings
                        hasClass(found[j], className)
                    ) {
                        currentContext[currentContextIndex++] = found[j];
                    }
                }
                continue; // Skip to next token
            }
            // Code to deal with attribute selectors
            var token_match = token.match(/^(\w*)\[(\w+)([=~\|\^\$\*]?)=?"?([^\]"]*)"?\]$/);
            if (token_match) {
                tagName = token_match[1];
                var attrName = token_match[2];
                var attrOperator = token_match[3];
                var attrValue = token_match[4];
                if (!tagName) {
                    tagName = '*';
                }
                // Grab all of the tagName elements within current context
                found = [];
                foundCount = 0;
                for (j = 0; j < currentContext.length; j++) {
                    if (tagName == '*') {
                        elements = getAllChildren(currentContext[j]);
                    } else {
                        elements = currentContext[j].getElementsByTagName(tagName);
                    }
                    for (k = 0; k < elements.length; k++) {
                        found[foundCount++] = elements[k];
                    }
                }
                currentContext = [];
                currentContextIndex = 0;
                var checkFunction; // This function will be used to filter the elements
                switch (attrOperator) {
                    case '=': // Equality
                        checkFunction = function(e) {
                            return (e.getAttribute(attrName) == attrValue);
                        };
                        break;
                    case '~': // Match one of space seperated words
                        checkFunction = function(e) {
                            return (e.getAttribute(attrName).match(new RegExp('\\b' + attrValue + '\\b')));
                        };
                        break;
                    case '|': // Match start with value followed by optional hyphen
                        checkFunction = function(e) {
                            return (e.getAttribute(attrName).match(new RegExp('^' + attrValue + '-?')));
                        };
                        break;
                    case '^': // Match starts with value
                        checkFunction = function(e) {
                            return (e.getAttribute(attrName).indexOf(attrValue) === 0);
                        };
                        break;
                    case '$': // Match ends with value - fails with "Warning" in Opera 7
                        checkFunction = function(e) {
                            return (e.getAttribute(attrName).lastIndexOf(attrValue) == e.getAttribute(attrName).length - attrValue.length);
                        };
                        break;
                    case '*': // Match ends with value
                        checkFunction = function(e) {
                            return (e.getAttribute(attrName).indexOf(attrValue) > -1);
                        };
                        break;
                    default:
                        // Just test for existence of attribute
                        checkFunction = function(e) {
                            return e.getAttribute(attrName);
                        };
                }
                currentContext = [];
                currentContextIndex = 0;
                for (j = 0; j < found.length; j++) {
                    if (checkFunction(found[j])) {
                        currentContext[currentContextIndex++] = found[j];
                    }
                }
                // alert('Attribute Selector: '+tagName+' '+attrName+' '+attrOperator+' '+attrValue);
                continue; // Skip to next token
            }
            // If we get here, token is JUST an element (not a class or ID selector)
            tagName = token;
            found = [];
            foundCount = 0;
            for (j = 0; j < currentContext.length; j++) {
                elements = currentContext[j].getElementsByTagName(tagName);
                for (k = 0; k < elements.length; k++) {
                    found[foundCount++] = elements[k];
                }
            }
            currentContext = found;
        }
        return currentContext;
    }

    return function(query) {
        if (_.isElement(query)) {
            return [query];
        } else if (_.isObject(query) && !_.isUndefined(query.length)) {
            return query;
        } else {
            return getElementsBySelector.call(this, query);
        }
    };
})();

_.info = {
    campaignParams: function() {
        var campaign_keywords = 'utm_source utm_medium utm_campaign utm_content utm_term'.split(' '),
            kw = '',
            params = {};
        _.each(campaign_keywords, function(kwkey) {
            kw = _.getQueryParam(document$1.URL, kwkey);
            if (kw.length) {
                params[kwkey] = kw;
            }
        });

        return params;
    },

    searchEngine: function(referrer) {
        if (referrer.search('https?://(.*)google.([^/?]*)') === 0) {
            return 'google';
        } else if (referrer.search('https?://(.*)bing.com') === 0) {
            return 'bing';
        } else if (referrer.search('https?://(.*)yahoo.com') === 0) {
            return 'yahoo';
        } else if (referrer.search('https?://(.*)duckduckgo.com') === 0) {
            return 'duckduckgo';
        } else {
            return null;
        }
    },

    searchInfo: function(referrer) {
        var search = _.info.searchEngine(referrer),
            param = (search != 'yahoo') ? 'q' : 'p',
            ret = {};

        if (search !== null) {
            ret['$search_engine'] = search;

            var keyword = _.getQueryParam(referrer, param);
            if (keyword.length) {
                ret['mp_keyword'] = keyword;
            }
        }

        return ret;
    },

    /**
     * This function detects which browser is running this script.
     * The order of the checks are important since many user agents
     * include key words used in later checks.
     */
    browser: function(user_agent, vendor, opera) {
        vendor = vendor || ''; // vendor is undefined for at least IE9
        if (opera || _.includes(user_agent, ' OPR/')) {
            if (_.includes(user_agent, 'Mini')) {
                return 'Opera Mini';
            }
            return 'Opera';
        } else if (/(BlackBerry|PlayBook|BB10)/i.test(user_agent)) {
            return 'BlackBerry';
        } else if (_.includes(user_agent, 'IEMobile') || _.includes(user_agent, 'WPDesktop')) {
            return 'Internet Explorer Mobile';
        } else if (_.includes(user_agent, 'Edge')) {
            return 'Microsoft Edge';
        } else if (_.includes(user_agent, 'FBIOS')) {
            return 'Facebook Mobile';
        } else if (_.includes(user_agent, 'Chrome')) {
            return 'Chrome';
        } else if (_.includes(user_agent, 'CriOS')) {
            return 'Chrome iOS';
        } else if (_.includes(user_agent, 'UCWEB') || _.includes(user_agent, 'UCBrowser')) {
            return 'UC Browser';
        } else if (_.includes(user_agent, 'FxiOS')) {
            return 'Firefox iOS';
        } else if (_.includes(vendor, 'Apple')) {
            if (_.includes(user_agent, 'Mobile')) {
                return 'Mobile Safari';
            }
            return 'Safari';
        } else if (_.includes(user_agent, 'Android')) {
            return 'Android Mobile';
        } else if (_.includes(user_agent, 'Konqueror')) {
            return 'Konqueror';
        } else if (_.includes(user_agent, 'Firefox')) {
            return 'Firefox';
        } else if (_.includes(user_agent, 'MSIE') || _.includes(user_agent, 'Trident/')) {
            return 'Internet Explorer';
        } else if (_.includes(user_agent, 'Gecko')) {
            return 'Mozilla';
        } else {
            return '';
        }
    },

    /**
     * This function detects which browser version is running this script,
     * parsing major and minor version (e.g., 42.1). User agent strings from:
     * http://www.useragentstring.com/pages/useragentstring.php
     */
    browserVersion: function(userAgent, vendor, opera) {
        var browser = _.info.browser(userAgent, vendor, opera);
        var versionRegexs = {
            'Internet Explorer Mobile': /rv:(\d+(\.\d+)?)/,
            'Microsoft Edge': /Edge\/(\d+(\.\d+)?)/,
            'Chrome': /Chrome\/(\d+(\.\d+)?)/,
            'Chrome iOS': /CriOS\/(\d+(\.\d+)?)/,
            'UC Browser' : /(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,
            'Safari': /Version\/(\d+(\.\d+)?)/,
            'Mobile Safari': /Version\/(\d+(\.\d+)?)/,
            'Opera': /(Opera|OPR)\/(\d+(\.\d+)?)/,
            'Firefox': /Firefox\/(\d+(\.\d+)?)/,
            'Firefox iOS': /FxiOS\/(\d+(\.\d+)?)/,
            'Konqueror': /Konqueror:(\d+(\.\d+)?)/,
            'BlackBerry': /BlackBerry (\d+(\.\d+)?)/,
            'Android Mobile': /android\s(\d+(\.\d+)?)/,
            'Internet Explorer': /(rv:|MSIE )(\d+(\.\d+)?)/,
            'Mozilla': /rv:(\d+(\.\d+)?)/
        };
        var regex = versionRegexs[browser];
        if (regex === undefined) {
            return null;
        }
        var matches = userAgent.match(regex);
        if (!matches) {
            return null;
        }
        return parseFloat(matches[matches.length - 2]);
    },

    os: function() {
        var a = userAgent;
        if (/Windows/i.test(a)) {
            if (/Phone/.test(a) || /WPDesktop/.test(a)) {
                return 'Windows Phone';
            }
            return 'Windows';
        } else if (/(iPhone|iPad|iPod)/.test(a)) {
            return 'iOS';
        } else if (/Android/.test(a)) {
            return 'Android';
        } else if (/(BlackBerry|PlayBook|BB10)/i.test(a)) {
            return 'BlackBerry';
        } else if (/Mac/i.test(a)) {
            return 'Mac OS X';
        } else if (/Linux/.test(a)) {
            return 'Linux';
        } else {
            return '';
        }
    },

    device: function(user_agent) {
        if (/Windows Phone/i.test(user_agent) || /WPDesktop/.test(user_agent)) {
            return 'Windows Phone';
        } else if (/iPad/.test(user_agent)) {
            return 'iPad';
        } else if (/iPod/.test(user_agent)) {
            return 'iPod Touch';
        } else if (/iPhone/.test(user_agent)) {
            return 'iPhone';
        } else if (/(BlackBerry|PlayBook|BB10)/i.test(user_agent)) {
            return 'BlackBerry';
        } else if (/Android/.test(user_agent)) {
            return 'Android';
        } else {
            return '';
        }
    },

    referringDomain: function(referrer) {
        var split = referrer.split('/');
        if (split.length >= 3) {
            return split[2];
        }
        return '';
    },

    properties: function() {
        return _.extend(_.strip_empty_properties({
            '$os': _.info.os(),
            '$browser': _.info.browser(userAgent, navigator$1.vendor, window.opera),
            '$referrer': document$1.referrer,
            '$referring_domain': _.info.referringDomain(document$1.referrer),
            '$device': _.info.device(userAgent)
        }), {
            '$current_url': window.location.href,
            '$browser_version': _.info.browserVersion(userAgent, navigator$1.vendor, window.opera),
            '$screen_height': screen.height,
            '$screen_width': screen.width,
            'mp_lib': 'web',
            '$lib_version': Config.LIB_VERSION
        });
    },

    people_properties: function() {
        return _.extend(_.strip_empty_properties({
            '$os': _.info.os(),
            '$browser': _.info.browser(userAgent, navigator$1.vendor, window.opera)
        }), {
            '$browser_version': _.info.browserVersion(userAgent, navigator$1.vendor, window.opera)
        });
    },

    pageviewInfo: function(page) {
        return _.strip_empty_properties({
            'mp_page': page,
            'mp_referrer': document$1.referrer,
            'mp_browser': _.info.browser(userAgent, navigator$1.vendor, window.opera),
            'mp_platform': _.info.os()
        });
    }
};

// EXPORTS (for closure compiler)
_['toArray']            = _.toArray;
_['isObject']           = _.isObject;
_['JSONEncode']         = _.JSONEncode;
_['JSONDecode']         = _.JSONDecode;
_['isBlockedUA']        = _.isBlockedUA;
_['isEmptyObject']      = _.isEmptyObject;
_['info']               = _.info;
_['info']['device']     = _.info.device;
_['info']['browser']    = _.info.browser;
_['info']['properties'] = _.info.properties;

// specifying these locally here since some websites override the global Node var
// ex: https://www.codingame.com/
var ELEMENT_NODE = 1;
var TEXT_NODE = 3;

var autotrack = {
    _initializedTokens: [],

    _previousElementSibling: function(el) {
        if (el.previousElementSibling) {
            return el.previousElementSibling;
        } else {
            do {
                el = el.previousSibling;
            } while (el && el.nodeType !== ELEMENT_NODE);
            return el;
        }
    },

    _loadScript: function(scriptUrlToLoad, callback) {
        var scriptTag = document.createElement('script');
        scriptTag.type = 'text/javascript';
        scriptTag.src = scriptUrlToLoad;
        scriptTag.onload = callback;

        var scripts = document.getElementsByTagName('script');
        if (scripts.length > 0) {
            scripts[0].parentNode.insertBefore(scriptTag, scripts[0]);
        } else {
            document.body.appendChild(scriptTag);
        }
    },

    _getClassName: function(elem) {
        switch(typeof elem.className) {
            case 'string':
                return elem.className;
            case 'object': // handle cases where className might be SVGAnimatedString or some other type
                return elem.className.baseVal || elem.getAttribute('class') || '';
            default: // future proof
                return '';
        }
    },

    _getPropertiesFromElement: function(elem) {
        var props = {
            'classes': this._getClassName(elem).split(' '),
            'tag_name': elem.tagName.toLowerCase()
        };

        if (_.includes(['input', 'select', 'textarea'], elem.tagName.toLowerCase())) {
            var formFieldValue = this._getFormFieldValue(elem);
            if (this._includeProperty(elem, formFieldValue)) {
                props['value'] = formFieldValue;
            }
        }

        _.each(elem.attributes, function(attr) {
            props['attr__' + attr.name] = attr.value;
        });

        var nthChild = 1;
        var nthOfType = 1;
        var currentElem = elem;
        while (currentElem = this._previousElementSibling(currentElem)) { // eslint-disable-line no-cond-assign
            nthChild++;
            if (currentElem.tagName === elem.tagName) {
                nthOfType++;
            }
        }
        props['nth_child'] = nthChild;
        props['nth_of_type'] = nthOfType;

        return props;
    },

    /*
     * Due to potential reference discrepancies (such as the webcomponents.js polyfill)
     * We want to match tagNames instead of specific reference because something like element === document.body
     * won't always work because element might not be a native element.
     */
    _isTag: function(el, tag) {
        return el && el.tagName && el.tagName.toLowerCase() === tag.toLowerCase();
    },

    _shouldTrackDomEvent: function(element, event) {
        if (!element || this._isTag(element, 'html') || element.nodeType !== ELEMENT_NODE) {
            return false;
        }
        var tag = element.tagName.toLowerCase();
        switch (tag) {
            case 'html':
                return false;
            case 'form':
                return event.type === 'submit';
            case 'input':
                if (['button', 'submit'].indexOf(element.getAttribute('type')) === -1) {
                    return event.type === 'change';
                } else {
                    return event.type === 'click';
                }
            case 'select':
            case 'textarea':
                return event.type === 'change';
            default:
                return event.type === 'click';
        }
    },

    _getDefaultProperties: function(eventType) {
        return {
            '$event_type': eventType,
            '$ce_version': 1,
            '$host': window.location.host,
            '$pathname': window.location.pathname
        };
    },

    _getInputValue: function(input) {
        var value = null;
        var type = input.type.toLowerCase();
        switch(type) {
            case 'checkbox':
                if (input.checked) {
                    value = [input.value];
                }
                break;
            case 'radio':
                if (input.checked) {
                    value = input.value;
                }
                break;
            default:
                value = input.value;
                break;
        }
        return value;
    },

    _getSelectValue: function(select) {
        var value;
        if (select.multiple) {
            var values = [];
            _.each(select.querySelectorAll('[selected]'), function(option) {
                values.push(option.value);
            });
            value = values;
        } else {
            value = select.value;
        }
        return value;
    },

    _includeProperty: function(input, value) {
        for (var curEl = input; curEl.parentNode && !this._isTag(curEl, 'body'); curEl = curEl.parentNode) {
            var classes = this._getClassName(curEl).split(' ');
            if (_.includes(classes, 'mp-sensitive') || _.includes(classes, 'mp-no-track')) {
                return false;
            }
        }

        if (_.includes(this._getClassName(input).split(' '), 'mp-include')) {
            return true;
        }

        if (value === null) {
            return false;
        }

        // don't include hidden or password fields
        var type = input.type || '';
        switch(type.toLowerCase()) {
            case 'hidden':
                return false;
            case 'password':
                return false;
        }

        // filter out data from fields that look like sensitive fields
        var name = input.name || input.id || '';
        var sensitiveNameRegex = /^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|seccode|securitycode|securitynum|socialsec|socsec|ssn/i;
        if (sensitiveNameRegex.test(name.replace(/[^a-zA-Z0-9]/g, ''))) {
            return false;
        }

        if (typeof value === 'string') {
            // check to see if input value looks like a credit card number
            // see: https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9781449327453/ch04s20.html
            var ccRegex = /^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/;
            if (ccRegex.test((value || '').replace(/[\- ]/g, ''))) {
                return false;
            }

            // check to see if input value looks like a social security number
            var ssnRegex = /(^\d{3}-?\d{2}-?\d{4}$)/;
            if (ssnRegex.test(value)) {
                return false;
            }
        }

        return true;
    },

    _getFormFieldValue: function(field) {
        var val;
        switch(field.tagName.toLowerCase()) {
            case 'input':
                val = this._getInputValue(field);
                break;
            case 'select':
                val = this._getSelectValue(field);
                break;
            default:
                val = field.value || field.textContent;
                break;
        }
        return this._includeProperty(field, val) ? val : null;
    },

    _getFormFieldProperties: function(form) {
        var formFieldProps = {};
        _.each(form.elements, function(field) {
            var name = field.getAttribute('name') || field.getAttribute('id');
            if (name !== null) {
                name = '$form_field__' + name;
                var val = this._getFormFieldValue(field);
                if (this._includeProperty(field, val)) {
                    var prevFieldVal = formFieldProps[name];
                    if (prevFieldVal !== undefined) { // combine values for inputs of same name
                        formFieldProps[name] = [].concat(prevFieldVal, val);
                    } else {
                        formFieldProps[name] = val;
                    }
                }
            }
        }, this);
        return formFieldProps;
    },

    _extractCustomPropertyValue: function(customProperty) {
        var propValues = [];
        _.each(document.querySelectorAll(customProperty['css_selector']), function(matchedElem) {
            if (['input', 'select'].indexOf(matchedElem.tagName.toLowerCase()) > -1) {
                propValues.push(matchedElem['value']);
            } else if (matchedElem['textContent']) {
                propValues.push(matchedElem['textContent']);
            }
        });
        return propValues.join(', ');
    },

    _getCustomProperties: function(targetElementList) {
        var props = {};
        _.each(this._customProperties, function(customProperty) {
            _.each(customProperty['event_selectors'], function(eventSelector) {
                var eventElements = document.querySelectorAll(eventSelector);
                _.each(eventElements, function(eventElement) {
                    if (_.includes(targetElementList, eventElement)) {
                        props[customProperty['name']] = this._extractCustomPropertyValue(customProperty);
                    }
                }, this);
            }, this);
        }, this);
        return props;
    },

    _getEventTarget: function(e) {
        // https://developer.mozilla.org/en-US/docs/Web/API/Event/target#Compatibility_notes
        if (typeof e.target === 'undefined') {
            return e.srcElement;
        } else {
            return e.target;
        }
    },

    _trackEvent: function(e, instance) {
        /*** Don't mess with this code without running IE8 tests on it ***/
        var target = this._getEventTarget(e);
        if (target.nodeType === TEXT_NODE) { // defeat Safari bug (see: http://www.quirksmode.org/js/events_properties.html)
            target = target.parentNode;
        }

        if (this._shouldTrackDomEvent(target, e)) {
            var targetElementList = [target];
            var curEl = target;
            while (curEl.parentNode && !this._isTag(curEl, 'body')) {
                targetElementList.push(curEl.parentNode);
                curEl = curEl.parentNode;
            }

            var elementsJson = [];
            var href, elementText, form, explicitNoTrack = false;
            _.each(targetElementList, function(el, idx) {
                // if the element or a parent element is an anchor tag
                // include the href as a property
                if (el.tagName.toLowerCase() === 'a') {
                    href = el.getAttribute('href');
                } else if (el.tagName.toLowerCase() === 'form') {
                    form = el;
                }
                // crawl up to max of 5 nodes to populate text content
                if (!elementText && idx < 5 && el.textContent) {
                    var textContent = _.trim(el.textContent);
                    if (textContent) {
                        elementText = textContent.replace(/[\r\n]/g, ' ').replace(/[ ]+/g, ' ').substring(0, 255);
                    }
                }

                // allow users to programatically prevent tracking of elements by adding class 'mp-no-track'
                var classes = this._getClassName(el).split(' ');
                if (_.includes(classes, 'mp-no-track')) {
                    explicitNoTrack = true;
                }

                elementsJson.push(this._getPropertiesFromElement(el));
            }, this);

            if (explicitNoTrack) {
                return false;
            }

            var props = _.extend(
                this._getDefaultProperties(e.type),
                {
                    '$elements':  elementsJson,
                    '$el_attr__href': href,
                    '$el_text': elementText
                },
                this._getCustomProperties(targetElementList)
            );

            if (form && (e.type === 'submit' || e.type === 'click')) {
                _.extend(props, this._getFormFieldProperties(form));
            }
            instance.track('$web_event', props);
            return true;
        }
    },

    // only reason is to stub for unit tests
    // since you can't override window.location props
    _navigate: function(href) {
        window.location.href = href;
    },

    _addDomEventHandlers: function(instance) {
        var handler = _.bind(function(e) {
            e = e || window.event;
            this._trackEvent(e, instance);
        }, this);
        _.register_event(document, 'submit', handler, false, true);
        _.register_event(document, 'change', handler, false, true);
        _.register_event(document, 'click', handler, false, true);
    },

    _customProperties: {},
    init: function(instance) {
        if (!(document && document.body)) {
            console.log('document not ready yet, trying again in 500 milliseconds...');
            var that = this;
            setTimeout(function() { that.init(instance); }, 500);
            return;
        }

        var token = instance.get_config('token');
        if (this._initializedTokens.indexOf(token) > -1) {
            console.log('autotrack already initialized for token "' + token + '"');
            return;
        }
        this._initializedTokens.push(token);

        if (!this._maybeLoadEditor(instance)) { // don't autotrack actions when the editor is enabled
            var parseDecideResponse = _.bind(function(response) {
                if (response && response['config'] && response['config']['enable_collect_everything'] === true) {

                    if (response['custom_properties']) {
                        this._customProperties = response['custom_properties'];
                    }

                    instance.track('$web_event', _.extend({
                        '$title': document.title
                    }, this._getDefaultProperties('pageview')));

                    this._addDomEventHandlers(instance);

                } else {
                    instance['__autotrack_enabled'] = false;
                }
            }, this);

            instance._send_request(
                instance.get_config('decide_host') + '/decide/', {
                    'verbose': true,
                    'version': '1',
                    'lib': 'web',
                    'token': token
                },
                instance._prepare_callback(parseDecideResponse)
            );
        }
    },

    _editorParamsFromHash: function(instance, hash) {
        var editorParams;
        try {
            var state = _.getHashParam(hash, 'state');
            state = JSON.parse(decodeURIComponent(state));
            var expiresInSeconds = _.getHashParam(hash, 'expires_in');
            editorParams = {
                'accessToken': _.getHashParam(hash, 'access_token'),
                'accessTokenExpiresAt': (new Date()).getTime() + (Number(expiresInSeconds) * 1000),
                'bookmarkletMode': !!state['bookmarkletMode'],
                'projectId': state['projectId'],
                'projectOwnerId': state['projectOwnerId'],
                'projectToken': state['token'],
                'readOnly': state['readOnly'],
                'userFlags': state['userFlags'],
                'userId': state['userId']
            };
            window.sessionStorage.setItem('editorParams', JSON.stringify(editorParams));

            if (state['desiredHash']) {
                window.location.hash = state['desiredHash'];
            } else if (window.history) {
                history.replaceState('', document.title, window.location.pathname + window.location.search); // completely remove hash
            } else {
                window.location.hash = ''; // clear hash (but leaves # unfortunately)
            }
        } catch (e) {
            console.error('Unable to parse data from hash', e);
        }
        return editorParams;
    },

    /**
     * To load the visual editor, we need an access token and other state. That state comes from one of three places:
     * 1. In the URL hash params if the customer is using an old snippet
     * 2. From session storage under the key `_mpcehash` if the snippet already parsed the hash
     * 3. From session storage under the key `editorParams` if the editor was initialized on a previous page
     */
    _maybeLoadEditor: function(instance) {
        try {
            var parseFromUrl = false;
            if (_.getHashParam(window.location.hash, 'state')) {
                var state = _.getHashParam(window.location.hash, 'state');
                state = JSON.parse(decodeURIComponent(state));
                parseFromUrl = state['action'] === 'mpeditor';
            }
            var parseFromStorage = !!window.sessionStorage.getItem('_mpcehash');
            var editorParams;

            if (parseFromUrl) { // happens if they are initializing the editor using an old snippet
                editorParams = this._editorParamsFromHash(instance, window.location.hash);
            } else if (parseFromStorage) { // happens if they are initialized the editor and using the new snippet
                editorParams = this._editorParamsFromHash(instance, window.sessionStorage.getItem('_mpcehash'));
                window.sessionStorage.removeItem('_mpcehash');
            } else { // get credentials from sessionStorage from a previous initialzation
                editorParams = JSON.parse(window.sessionStorage.getItem('editorParams') || '{}');
            }

            if (editorParams['projectToken'] && instance.get_config('token') === editorParams['projectToken']) {
                this._loadEditor(instance, editorParams);
                return true;
            } else {
                return false;
            }
        } catch (e) {
            return false;
        }
    },

    _loadEditor: function(instance, editorParams) {
        if (!window['_mpEditorLoaded']) { // only load the codeless event editor once, even if there are multiple instances of MixpanelLib
            window['_mpEditorLoaded'] = true;
            var editorUrl;
            var cacheBuster = '?_ts=' + (new Date()).getTime();
            var siteMedia = instance.get_config('app_host') + '/site_media';
            if (Config.DEBUG) {
                editorUrl = siteMedia + '/compiled/reports/collect-everything/editor.js' + cacheBuster;
            } else {
                editorUrl = siteMedia + '/bundle-webpack/reports/collect-everything/editor.min.js' + cacheBuster;
            }
            this._loadScript(editorUrl, function() {
                window['mp_load_editor'](editorParams);
            });
            return true;
        }
        return false;
    },

    // this is a mechanism to ramp up CE with no server-side interaction.
    // when CE is active, every page load results in a decide request. we
    // need to gently ramp this up so we don't overload decide. this decides
    // deterministically if CE is enabled for this project by modding the char
    // value of the project token.
    enabledForProject: function(token, numBuckets, numEnabledBuckets) {
        numBuckets = !_.isUndefined(numBuckets) ? numBuckets : 10;
        numEnabledBuckets = !_.isUndefined(numEnabledBuckets) ? numEnabledBuckets : 10;
        var charCodeSum = 0;
        for (var i = 0; i < token.length; i++) {
            charCodeSum += token.charCodeAt(i);
        }
        return (charCodeSum % numBuckets) < numEnabledBuckets;
    },

    isBrowserSupported: function() {
        return _.isFunction(document.querySelectorAll);
    }
};

_.bind_instance_methods(autotrack);
_.safewrap_instance_methods(autotrack);

/*
 * Mixpanel JS Library
 *
 * Copyright 2012, Mixpanel, Inc. All Rights Reserved
 * http://mixpanel.com/
 *
 * Includes portions of Underscore.js
 * http://documentcloud.github.com/underscore/
 * (c) 2011 Jeremy Ashkenas, DocumentCloud Inc.
 * Released under the MIT License.
 */

// ==ClosureCompiler==
// @compilation_level ADVANCED_OPTIMIZATIONS
// @output_file_name mixpanel-2.8.min.js
// ==/ClosureCompiler==

/*
SIMPLE STYLE GUIDE:

this.x === public function
this._x === internal - only use within this file
this.__x === private - only use within the class

Globals should be all caps
*/

var init_type;       // MODULE or SNIPPET loader
var mixpanel_master; // main mixpanel instance / object
var INIT_MODULE  = 0;
var INIT_SNIPPET = 1;

/*
 * Constants
 */
/** @const */   var PRIMARY_INSTANCE_NAME     = 'mixpanel';
/** @const */   var SET_QUEUE_KEY             = '__mps';
/** @const */   var SET_ONCE_QUEUE_KEY        = '__mpso';
/** @const */   var ADD_QUEUE_KEY             = '__mpa';
/** @const */   var APPEND_QUEUE_KEY          = '__mpap';
/** @const */   var UNION_QUEUE_KEY           = '__mpu';
/** @const */   var SET_ACTION                = '$set';
/** @const */   var SET_ONCE_ACTION           = '$set_once';
/** @const */   var ADD_ACTION                = '$add';
/** @const */   var APPEND_ACTION             = '$append';
/** @const */   var UNION_ACTION              = '$union';
// This key is deprecated, but we want to check for it to see whether aliasing is allowed.
/** @const */   var PEOPLE_DISTINCT_ID_KEY    = '$people_distinct_id';
/** @const */   var ALIAS_ID_KEY              = '__alias';
/** @const */   var CAMPAIGN_IDS_KEY          = '__cmpns';
/** @const */   var EVENT_TIMERS_KEY          = '__timers';
/** @const */   var RESERVED_PROPERTIES       = [
    SET_QUEUE_KEY,
    SET_ONCE_QUEUE_KEY,
    ADD_QUEUE_KEY,
    APPEND_QUEUE_KEY,
    UNION_QUEUE_KEY,
    PEOPLE_DISTINCT_ID_KEY,
    ALIAS_ID_KEY,
    CAMPAIGN_IDS_KEY,
    EVENT_TIMERS_KEY
];

/*
 * Dynamic... constants? Is that an oxymoron?
 */
var HTTP_PROTOCOL = (('https:' === document.location.protocol) ? 'https://' : 'http://');

    // http://hacks.mozilla.org/2009/07/cross-site-xmlhttprequest-with-cors/
    // https://developer.mozilla.org/en-US/docs/DOM/XMLHttpRequest#withCredentials
var USE_XHR = (window.XMLHttpRequest && 'withCredentials' in new XMLHttpRequest());

    // IE<10 does not support cross-origin XHR's but script tags
    // with defer won't block window.onload; ENQUEUE_REQUESTS
    // should only be true for Opera<12
var ENQUEUE_REQUESTS = !USE_XHR && (userAgent.indexOf('MSIE') === -1) && (userAgent.indexOf('Mozilla') === -1);

/*
 * Module-level globals
 */
var DEFAULT_CONFIG = {
    'api_host':               HTTP_PROTOCOL + 'api.mixpanel.com',
    'app_host':               HTTP_PROTOCOL + 'mixpanel.com',
    'autotrack':              true,
    'cdn':                    HTTP_PROTOCOL + 'cdn.mxpnl.com',
    'cross_subdomain_cookie': true,
    'persistence':            'cookie',
    'persistence_name':       '',
    'cookie_name':            '',
    'loaded':                 function() {},
    'store_google':           true,
    'save_referrer':          true,
    'test':                   false,
    'verbose':                false,
    'img':                    false,
    'track_pageview':         true,
    'debug':                  false,
    'track_links_timeout':    300,
    'cookie_expiration':      365,
    'upgrade':                false,
    'disable_persistence':    false,
    'disable_cookie':         false,
    'secure_cookie':          false,
    'ip':                     true,
    'property_blacklist':     []
};
DEFAULT_CONFIG['decide_host'] = DEFAULT_CONFIG['api_host'];

var DOM_LOADED = false;

/**
 * DomTracker Object
 * @constructor
 */
var DomTracker = function() {};

// interface
DomTracker.prototype.create_properties = function() {};
DomTracker.prototype.event_handler = function() {};
DomTracker.prototype.after_track_handler = function() {};

DomTracker.prototype.init = function(mixpanel_instance) {
    this.mp = mixpanel_instance;
    return this;
};

/**
 * @param {Object|string} query
 * @param {string} event_name
 * @param {Object=} properties
 * @param {function(...[*])=} user_callback
 */
DomTracker.prototype.track = function(query, event_name, properties, user_callback) {
    var that = this;
    var elements = _.dom_query(query);

    if (elements.length === 0) {
        console$1.error('The DOM query (' + query + ') returned 0 elements');
        return;
    }

    _.each(elements, function(element) {
        _.register_event(element, this.override_event, function(e) {
            var options = {};
            var props = that.create_properties(properties, this);
            var timeout = that.mp.get_config('track_links_timeout');

            that.event_handler(e, this, options);

            // in case the mixpanel servers don't get back to us in time
            window.setTimeout(that.track_callback(user_callback, props, options, true), timeout);

            // fire the tracking event
            that.mp.track(event_name, props, that.track_callback(user_callback, props, options));
        });
    }, this);

    return true;
};

/**
 * @param {function(...[*])} user_callback
 * @param {Object} props
 * @param {boolean=} timeout_occured
 */
DomTracker.prototype.track_callback = function(user_callback, props, options, timeout_occured) {
    timeout_occured = timeout_occured || false;
    var that = this;

    return function() {
        // options is referenced from both callbacks, so we can have
        // a 'lock' of sorts to ensure only one fires
        if (options.callback_fired) { return; }
        options.callback_fired = true;

        if (user_callback && user_callback(timeout_occured, props) === false) {
            // user can prevent the default functionality by
            // returning false from their callback
            return;
        }

        that.after_track_handler(props, options, timeout_occured);
    };
};

DomTracker.prototype.create_properties = function(properties, element) {
    var props;

    if (typeof(properties) === 'function') {
        props = properties(element);
    } else {
        props = _.extend({}, properties);
    }

    return props;
};

/**
 * LinkTracker Object
 * @constructor
 * @extends DomTracker
 */
var LinkTracker = function() {
    this.override_event = 'click';
};
_.inherit(LinkTracker, DomTracker);

LinkTracker.prototype.create_properties = function(properties, element) {
    var props = LinkTracker.superclass.create_properties.apply(this, arguments);

    if (element.href) { props['url'] = element.href; }

    return props;
};

LinkTracker.prototype.event_handler = function(evt, element, options) {
    options.new_tab = (
        evt.which === 2 ||
        evt.metaKey ||
        evt.ctrlKey ||
        element.target === '_blank'
    );
    options.href = element.href;

    if (!options.new_tab) {
        evt.preventDefault();
    }
};

LinkTracker.prototype.after_track_handler = function(props, options) {
    if (options.new_tab) { return; }

    setTimeout(function() {
        window.location = options.href;
    }, 0);
};

/**
 * FormTracker Object
 * @constructor
 * @extends DomTracker
 */
var FormTracker = function() {
    this.override_event = 'submit';
};
_.inherit(FormTracker, DomTracker);

FormTracker.prototype.event_handler = function(evt, element, options) {
    options.element = element;
    evt.preventDefault();
};

FormTracker.prototype.after_track_handler = function(props, options) {
    setTimeout(function() {
        options.element.submit();
    }, 0);
};

/**
 * Mixpanel Persistence Object
 * @constructor
 */
var MixpanelPersistence = function(config) {
    this['props'] = {};
    this.campaign_params_saved = false;

    if (config['persistence_name']) {
        this.name = 'mp_' + config['persistence_name'];
    } else {
        this.name = 'mp_' + config['token'] + '_mixpanel';
    }

    var storage_type = config['persistence'];
    if (storage_type !== 'cookie' && storage_type !== 'localStorage') {
        console$1.critical('Unknown persistence type ' + storage_type + '; falling back to cookie');
        storage_type = config['persistence'] = 'cookie';
    }

    var localStorage_supported = function() {
        var supported = true;
        try {
            var key = '__mplssupport__',
                val = 'xyz';
            _.localStorage.set(key, val);
            if (_.localStorage.get(key) !== val) {
                supported = false;
            }
            _.localStorage.remove(key);
        } catch (err) {
            supported = false;
        }
        if (!supported) {
            console$1.error('localStorage unsupported; falling back to cookie store');
        }
        return supported;
    };
    if (storage_type === 'localStorage' && localStorage_supported()) {
        this.storage = _.localStorage;
    } else {
        this.storage = _.cookie;
    }

    this.load();
    this.update_config(config);
    this.upgrade(config);
    this.save();
};

MixpanelPersistence.prototype.properties = function() {
    var p = {};
    // Filter out reserved properties
    _.each(this['props'], function(v, k) {
        if (!_.include(RESERVED_PROPERTIES, k)) {
            p[k] = v;
        }
    });
    return p;
};

MixpanelPersistence.prototype.load = function() {
    if (this.disabled) { return; }

    var entry = this.storage.parse(this.name);

    if (entry) {
        this['props'] = _.extend({}, entry);
    }
};

MixpanelPersistence.prototype.upgrade = function(config) {
    var upgrade_from_old_lib = config['upgrade'],
        old_cookie_name,
        old_cookie;

    if (upgrade_from_old_lib) {
        old_cookie_name = 'mp_super_properties';
        // Case where they had a custom cookie name before.
        if (typeof(upgrade_from_old_lib) === 'string') {
            old_cookie_name = upgrade_from_old_lib;
        }

        old_cookie = this.storage.parse(old_cookie_name);

        // remove the cookie
        this.storage.remove(old_cookie_name);
        this.storage.remove(old_cookie_name, true);

        if (old_cookie) {
            this['props'] = _.extend(
                this['props'],
                old_cookie['all'],
                old_cookie['events']
            );
        }
    }

    if (!config['cookie_name'] && config['name'] !== 'mixpanel') {
        // special case to handle people with cookies of the form
        // mp_TOKEN_INSTANCENAME from the first release of this library
        old_cookie_name = 'mp_' + config['token'] + '_' + config['name'];
        old_cookie = this.storage.parse(old_cookie_name);

        if (old_cookie) {
            this.storage.remove(old_cookie_name);
            this.storage.remove(old_cookie_name, true);

            // Save the prop values that were in the cookie from before -
            // this should only happen once as we delete the old one.
            this.register_once(old_cookie);
        }
    }

    if (this.storage === _.localStorage) {
        old_cookie = _.cookie.parse(this.name);

        _.cookie.remove(this.name);
        _.cookie.remove(this.name, true);

        if (old_cookie) {
            this.register_once(old_cookie);
        }
    }
};

MixpanelPersistence.prototype.save = function() {
    if (this.disabled) { return; }
    this._expire_notification_campaigns();
    this.storage.set(
        this.name,
        _.JSONEncode(this['props']),
        this.expire_days,
        this.cross_subdomain,
        this.secure
    );
};

MixpanelPersistence.prototype.remove = function() {
    // remove both domain and subdomain cookies
    this.storage.remove(this.name, false);
    this.storage.remove(this.name, true);
};

// removes the storage entry and deletes all loaded data
// forced name for tests
MixpanelPersistence.prototype.clear = function() {
    this.remove();
    this['props'] = {};
};

/**
 * @param {Object} props
 * @param {*=} default_value
 * @param {number=} days
 */
MixpanelPersistence.prototype.register_once = function(props, default_value, days) {
    if (_.isObject(props)) {
        if (typeof(default_value) === 'undefined') { default_value = 'None'; }
        this.expire_days = (typeof(days) === 'undefined') ? this.default_expiry : days;

        _.each(props, function(val, prop) {
            if (!this['props'][prop] || this['props'][prop] === default_value) {
                this['props'][prop] = val;
            }
        }, this);

        this.save();

        return true;
    }
    return false;
};

/**
 * @param {Object} props
 * @param {number=} days
 */
MixpanelPersistence.prototype.register = function(props, days) {
    if (_.isObject(props)) {
        this.expire_days = (typeof(days) === 'undefined') ? this.default_expiry : days;

        _.extend(this['props'], props);

        this.save();

        return true;
    }
    return false;
};

MixpanelPersistence.prototype.unregister = function(prop) {
    if (prop in this['props']) {
        delete this['props'][prop];
        this.save();
    }
};

MixpanelPersistence.prototype._expire_notification_campaigns = _.safewrap(function() {
    var campaigns_shown = this['props'][CAMPAIGN_IDS_KEY],
        EXPIRY_TIME = Config.DEBUG ? 60 * 1000 : 60 * 60 * 1000; // 1 minute (Config.DEBUG) / 1 hour (PDXN)
    if (!campaigns_shown) {
        return;
    }
    for (var campaign_id in campaigns_shown) {
        if (1 * new Date() - campaigns_shown[campaign_id] > EXPIRY_TIME) {
            delete campaigns_shown[campaign_id];
        }
    }
    if (_.isEmptyObject(campaigns_shown)) {
        delete this['props'][CAMPAIGN_IDS_KEY];
    }
});

MixpanelPersistence.prototype.update_campaign_params = function() {
    if (!this.campaign_params_saved) {
        this.register_once(_.info.campaignParams());
        this.campaign_params_saved = true;
    }
};

MixpanelPersistence.prototype.update_search_keyword = function(referrer) {
    this.register(_.info.searchInfo(referrer));
};

// EXPORTED METHOD, we test this directly.
MixpanelPersistence.prototype.update_referrer_info = function(referrer) {
    // If referrer doesn't exist, we want to note the fact that it was type-in traffic.
    this.register_once({
        '$initial_referrer': referrer || '$direct',
        '$initial_referring_domain': _.info.referringDomain(referrer) || '$direct'
    }, '');
};

MixpanelPersistence.prototype.get_referrer_info = function() {
    return _.strip_empty_properties({
        '$initial_referrer': this['props']['$initial_referrer'],
        '$initial_referring_domain': this['props']['$initial_referring_domain']
    });
};

// safely fills the passed in object with stored properties,
// does not override any properties defined in both
// returns the passed in object
MixpanelPersistence.prototype.safe_merge = function(props) {
    _.each(this['props'], function(val, prop) {
        if (!(prop in props)) {
            props[prop] = val;
        }
    });

    return props;
};

MixpanelPersistence.prototype.update_config = function(config) {
    this.default_expiry = this.expire_days = config['cookie_expiration'];
    this.set_disabled(config['disable_persistence']);
    this.set_cross_subdomain(config['cross_subdomain_cookie']);
    this.set_secure(config['secure_cookie']);
};

MixpanelPersistence.prototype.set_disabled = function(disabled) {
    this.disabled = disabled;
    if (this.disabled) {
        this.remove();
    }
};

MixpanelPersistence.prototype.set_cross_subdomain = function(cross_subdomain) {
    if (cross_subdomain !== this.cross_subdomain) {
        this.cross_subdomain = cross_subdomain;
        this.remove();
        this.save();
    }
};

MixpanelPersistence.prototype.get_cross_subdomain = function() {
    return this.cross_subdomain;
};

MixpanelPersistence.prototype.set_secure = function(secure) {
    if (secure !== this.secure) {
        this.secure = secure ? true : false;
        this.remove();
        this.save();
    }
};

MixpanelPersistence.prototype._add_to_people_queue = function(queue, data) {
    var q_key = this._get_queue_key(queue),
        q_data = data[queue],
        set_q = this._get_or_create_queue(SET_ACTION),
        set_once_q = this._get_or_create_queue(SET_ONCE_ACTION),
        add_q = this._get_or_create_queue(ADD_ACTION),
        union_q = this._get_or_create_queue(UNION_ACTION),
        append_q = this._get_or_create_queue(APPEND_ACTION, []);

    if (q_key === SET_QUEUE_KEY) {
        // Update the set queue - we can override any existing values
        _.extend(set_q, q_data);
        // if there was a pending increment, override it
        // with the set.
        this._pop_from_people_queue(ADD_ACTION, q_data);
        // if there was a pending union, override it
        // with the set.
        this._pop_from_people_queue(UNION_ACTION, q_data);
    } else if (q_key === SET_ONCE_QUEUE_KEY) {
        // only queue the data if there is not already a set_once call for it.
        _.each(q_data, function(v, k) {
            if (!(k in set_once_q)) {
                set_once_q[k] = v;
            }
        });
    } else if (q_key === ADD_QUEUE_KEY) {
        _.each(q_data, function(v, k) {
            // If it exists in the set queue, increment
            // the value
            if (k in set_q) {
                set_q[k] += v;
            } else {
                // If it doesn't exist, update the add
                // queue
                if (!(k in add_q)) {
                    add_q[k] = 0;
                }
                add_q[k] += v;
            }
        }, this);
    } else if (q_key === UNION_QUEUE_KEY) {
        _.each(q_data, function(v, k) {
            if (_.isArray(v)) {
                if (!(k in union_q)) {
                    union_q[k] = [];
                }
                // We may send duplicates, the server will dedup them.
                union_q[k] = union_q[k].concat(v);
            }
        });
    } else if (q_key === APPEND_QUEUE_KEY) {
        append_q.push(q_data);
    }

    console$1.log('MIXPANEL PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):');
    console$1.log(data);

    this.save();
};

MixpanelPersistence.prototype._pop_from_people_queue = function(queue, data) {
    var q = this._get_queue(queue);
    if (!_.isUndefined(q)) {
        _.each(data, function(v, k) {
            delete q[k];
        }, this);

        this.save();
    }
};

MixpanelPersistence.prototype._get_queue_key = function(queue) {
    if (queue === SET_ACTION) {
        return SET_QUEUE_KEY;
    } else if (queue === SET_ONCE_ACTION) {
        return SET_ONCE_QUEUE_KEY;
    } else if (queue === ADD_ACTION) {
        return ADD_QUEUE_KEY;
    } else if (queue === APPEND_ACTION) {
        return APPEND_QUEUE_KEY;
    } else if (queue === UNION_ACTION) {
        return UNION_QUEUE_KEY;
    } else {
        console$1.error('Invalid queue:', queue);
    }
};

MixpanelPersistence.prototype._get_queue = function(queue) {
    return this['props'][this._get_queue_key(queue)];
};
MixpanelPersistence.prototype._get_or_create_queue = function(queue, default_val) {
    var key = this._get_queue_key(queue);
    default_val = _.isUndefined(default_val) ? {} : default_val;

    return this['props'][key] || (this['props'][key] = default_val);
};

MixpanelPersistence.prototype.set_event_timer = function(event_name, timestamp) {
    var timers = this['props'][EVENT_TIMERS_KEY] || {};
    timers[event_name] = timestamp;
    this['props'][EVENT_TIMERS_KEY] = timers;
    this.save();
};

MixpanelPersistence.prototype.remove_event_timer = function(event_name) {
    var timers = this['props'][EVENT_TIMERS_KEY] || {};
    var timestamp = timers[event_name];
    if (!_.isUndefined(timestamp)) {
        delete this['props'][EVENT_TIMERS_KEY][event_name];
        this.save();
    }
    return timestamp;
};

/**
 * Mixpanel Library Object
 * @constructor
 */
var MixpanelLib = function() {};

/**
 * Mixpanel People Object
 * @constructor
 */
var MixpanelPeople = function() {};

var MPNotif;

/**
 * create_mplib(token:string, config:object, name:string)
 *
 * This function is used by the init method of MixpanelLib objects
 * as well as the main initializer at the end of the JSLib (that
 * initializes document.mixpanel as well as any additional instances
 * declared before this file has loaded).
 */
var create_mplib = function(token, config, name) {
    var instance,
        target = (name === PRIMARY_INSTANCE_NAME) ? mixpanel_master : mixpanel_master[name];

    if (target && init_type === INIT_MODULE) {
        instance = target;
    } else {
        if (target && !_.isArray(target)) {
            console$1.error('You have already initialized ' + name);
            return;
        }
        instance = new MixpanelLib();
    }

    instance._init(token, config, name);

    instance['people'] = new MixpanelPeople();
    instance['people']._init(instance);

    // if any instance on the page has debug = true, we set the
    // global debug to be true
    Config.DEBUG = Config.DEBUG || instance.get_config('debug');

    instance['__autotrack_enabled'] = instance.get_config('autotrack');
    if (instance.get_config('autotrack')) {
        var num_buckets = 100;
        var num_enabled_buckets = 100;
        if (!autotrack.enabledForProject(instance.get_config('token'), num_buckets, num_enabled_buckets)) {
            instance['__autotrack_enabled'] = false;
            console$1.log('Not in active bucket: disabling Automatic Event Collection.');
        } else if (!autotrack.isBrowserSupported()) {
            instance['__autotrack_enabled'] = false;
            console$1.log('Disabling Automatic Event Collection because this browser is not supported');
        } else {
            autotrack.init(instance);
        }

        try {
            add_dom_event_counting_handlers(instance);
        } catch (e) {
            console$1.error(e);
        }
    }

    // if target is not defined, we called init after the lib already
    // loaded, so there won't be an array of things to execute
    if (!_.isUndefined(target) && _.isArray(target)) {
        // Crunch through the people queue first - we queue this data up &
        // flush on identify, so it's better to do all these operations first
        instance._execute_array.call(instance['people'], target['people']);
        instance._execute_array(target);
    }

    return instance;
};

// Initialization methods

/**
 * This function initializes a new instance of the Mixpanel tracking object.
 * All new instances are added to the main mixpanel object as sub properties (such as
 * mixpanel.library_name) and also returned by this function. To define a
 * second instance on the page, you would call:
 *
 *     mixpanel.init('new token', { your: 'config' }, 'library_name');
 *
 * and use it like so:
 *
 *     mixpanel.library_name.track(...);
 *
 * @param {String} token   Your Mixpanel API token
 * @param {Object} [config]  A dictionary of config options to override
 * @param {String} [name]    The name for the new mixpanel instance that you want created
 */
MixpanelLib.prototype.init = function (token, config, name) {
    if (_.isUndefined(name)) {
        console$1.error('You must name your new library: init(token, config, name)');
        return;
    }
    if (name === PRIMARY_INSTANCE_NAME) {
        console$1.error('You must initialize the main mixpanel object right after you include the Mixpanel js snippet');
        return;
    }

    var instance = create_mplib(token, config, name);
    mixpanel_master[name] = instance;
    instance._loaded();

    return instance;
};

// mixpanel._init(token:string, config:object, name:string)
//
// This function sets up the current instance of the mixpanel
// library.  The difference between this method and the init(...)
// method is this one initializes the actual instance, whereas the
// init(...) method sets up a new library and calls _init on it.
//
MixpanelLib.prototype._init = function(token, config, name) {
    this['__loaded'] = true;
    this['config'] = {};

    this.set_config(_.extend({}, DEFAULT_CONFIG, config, {
        'name': name,
        'token': token,
        'callback_fn': ((name === PRIMARY_INSTANCE_NAME) ? name : PRIMARY_INSTANCE_NAME + '.' + name) + '._jsc'
    }));

    this['_jsc'] = function() {};

    this.__dom_loaded_queue = [];
    this.__request_queue = [];
    this.__disabled_events = [];
    this._flags = {
        'disable_all_events': false,
        'identify_called': false
    };

    this['persistence'] = this['cookie'] = new MixpanelPersistence(this['config']);
    this.register_once({'distinct_id': _.UUID()}, '');
};

// Private methods

MixpanelLib.prototype._loaded = function() {
    this.get_config('loaded')(this);

    // this happens after so a user can call identify/name_tag in
    // the loaded callback
    if (this.get_config('track_pageview')) {
        this.track_pageview();
    }
};

MixpanelLib.prototype._dom_loaded = function() {
    _.each(this.__dom_loaded_queue, function(item) {
        this._track_dom.apply(this, item);
    }, this);
    _.each(this.__request_queue, function(item) {
        this._send_request.apply(this, item);
    }, this);
    delete this.__dom_loaded_queue;
    delete this.__request_queue;
};

MixpanelLib.prototype._track_dom = function(DomClass, args) {
    if (this.get_config('img')) {
        console$1.error('You can\'t use DOM tracking functions with img = true.');
        return false;
    }

    if (!DOM_LOADED) {
        this.__dom_loaded_queue.push([DomClass, args]);
        return false;
    }

    var dt = new DomClass().init(this);
    return dt.track.apply(dt, args);
};

/**
 * _prepare_callback() should be called by callers of _send_request for use
 * as the callback argument.
 *
 * If there is no callback, this returns null.
 * If we are going to make XHR/XDR requests, this returns a function.
 * If we are going to use script tags, this returns a string to use as the
 * callback GET param.
 */
MixpanelLib.prototype._prepare_callback = function(callback, data) {
    if (_.isUndefined(callback)) {
        return null;
    }

    if (USE_XHR) {
        var callback_function = function(response) {
            callback(response, data);
        };
        return callback_function;
    } else {
        // if the user gives us a callback, we store as a random
        // property on this instances jsc function and update our
        // callback string to reflect that.
        var jsc = this['_jsc'];
        var randomized_cb = '' + Math.floor(Math.random() * 100000000);
        var callback_string = this.get_config('callback_fn') + '[' + randomized_cb + ']';
        jsc[randomized_cb] = function(response) {
            delete jsc[randomized_cb];
            callback(response, data);
        };
        return callback_string;
    }
};

MixpanelLib.prototype._send_request = function(url, data, callback) {
    if (ENQUEUE_REQUESTS) {
        this.__request_queue.push(arguments);
        return;
    }

    // needed to correctly format responses
    var verbose_mode = this.get_config('verbose');
    if (data['verbose']) { verbose_mode = true; }

    if (this.get_config('test')) { data['test'] = 1; }
    if (verbose_mode) { data['verbose'] = 1; }
    if (this.get_config('img')) { data['img'] = 1; }
    if (!USE_XHR) {
        if (callback) {
            data['callback'] = callback;
        } else if (verbose_mode || this.get_config('test')) {
            // Verbose output (from verbose mode, or an error in test mode) is a json blob,
            // which by itself is not valid javascript. Without a callback, this verbose output will
            // cause an error when returned via jsonp, so we force a no-op callback param.
            // See the ECMA script spec: http://www.ecma-international.org/ecma-262/5.1/#sec-12.4
            data['callback'] = '(function(){})';
        }
    }

    data['ip'] = this.get_config('ip')?1:0;
    data['_'] = new Date().getTime().toString();
    url += '?' + _.HTTPBuildQuery(data);

    if ('img' in data) {
        var img = document.createElement('img');
        img.src = url;
        document.body.appendChild(img);
    } else if (USE_XHR) {
        try {
            var req = new XMLHttpRequest();
            req.open('GET', url, true);
            // send the mp_optout cookie
            // withCredentials cannot be modified until after calling .open on Android and Mobile Safari
            req.withCredentials = true;
            req.onreadystatechange = function () {
                if (req.readyState === 4) { // XMLHttpRequest.DONE == 4, except in safari 4
                    if (req.status === 200) {
                        if (callback) {
                            if (verbose_mode) {
                                callback(_.JSONDecode(req.responseText));
                            } else {
                                callback(Number(req.responseText));
                            }
                        }
                    } else {
                        var error = 'Bad HTTP status: ' + req.status + ' ' + req.statusText;
                        console$1.error(error);
                        if (callback) {
                            if (verbose_mode) {
                                callback({status: 0, error: error});
                            } else {
                                callback(0);
                            }
                        }
                    }
                }
            };
            req.send(null);
        } catch (e) {
            console$1.error(e);
        }
    } else {
        var script = document.createElement('script');
        script.type = 'text/javascript';
        script.async = true;
        script.defer = true;
        script.src = url;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(script, s);
    }
};

/**
 * _execute_array() deals with processing any mixpanel function
 * calls that were called before the Mixpanel library were loaded
 * (and are thus stored in an array so they can be called later)
 *
 * Note: we fire off all the mixpanel function calls && user defined
 * functions BEFORE we fire off mixpanel tracking calls. This is so
 * identify/register/set_config calls can properly modify early
 * tracking calls.
 *
 * @param {Array} array
 */
MixpanelLib.prototype._execute_array = function(array) {
    var fn_name, alias_calls = [], other_calls = [], tracking_calls = [];
    _.each(array, function(item) {
        if (item) {
            fn_name = item[0];
            if (typeof(item) === 'function') {
                item.call(this);
            } else if (_.isArray(item) && fn_name === 'alias') {
                alias_calls.push(item);
            } else if (_.isArray(item) && fn_name.indexOf('track') !== -1 && typeof(this[fn_name]) === 'function') {
                tracking_calls.push(item);
            } else {
                other_calls.push(item);
            }
        }
    }, this);

    var execute = function(calls, context) {
        _.each(calls, function(item) {
            this[item[0]].apply(this, item.slice(1));
        }, context);
    };

    execute(alias_calls, this);
    execute(other_calls, this);
    execute(tracking_calls, this);
};

/**
 * push() keeps the standard async-array-push
 * behavior around after the lib is loaded.
 * This is only useful for external integrations that
 * do not wish to rely on our convenience methods
 * (created in the snippet).
 *
 * ### Usage:
 *     mixpanel.push(['register', { a: 'b' }]);
 *
 * @param {Array} item A [function_name, args...] array to be executed
 */
MixpanelLib.prototype.push = function(item) {
    this._execute_array([item]);
};

/**
 * Disable events on the Mixpanel object. If passed no arguments,
 * this function disables tracking of any event. If passed an
 * array of event names, those events will be disabled, but other
 * events will continue to be tracked.
 *
 * Note: this function does not stop other mixpanel functions from
 * firing, such as register() or people.set().
 *
 * @param {Array} [events] An array of event names to disable
 */
MixpanelLib.prototype.disable = function(events) {
    if (typeof(events) === 'undefined') {
        this._flags.disable_all_events = true;
    } else {
        this.__disabled_events = this.__disabled_events.concat(events);
    }
};

/**
 * Track an event. This is the most important and
 * frequently used Mixpanel function.
 *
 * ### Usage:
 *
 *     // track an event named 'Registered'
 *     mixpanel.track('Registered', {'Gender': 'Male', 'Age': 21});
 *
 * To track link clicks or form submissions, see track_links() or track_forms().
 *
 * @param {String} event_name The name of the event. This can be anything the user does - 'Button Click', 'Sign Up', 'Item Purchased', etc.
 * @param {Object} [properties] A set of properties to include with the event you're sending. These describe the user who did the event or details about the event itself.
 * @param {Function} [callback] If provided, the callback function will be called after tracking the event.
 */
MixpanelLib.prototype.track = function(event_name, properties, callback) {
    if (typeof(callback) !== 'function') {
        callback = function() {};
    }

    if (_.isUndefined(event_name)) {
        console$1.error('No event name provided to mixpanel.track');
        return;
    }

    if (this._event_is_disabled(event_name)) {
        callback(0);
        return;
    }

    // set defaults
    properties = properties || {};
    properties['token'] = this.get_config('token');

    // set $duration if time_event was previously called for this event
    var start_timestamp = this['persistence'].remove_event_timer(event_name);
    if (!_.isUndefined(start_timestamp)) {
        var duration_in_ms = new Date().getTime() - start_timestamp;
        properties['$duration'] = parseFloat((duration_in_ms / 1000).toFixed(3));
    }

    // update persistence
    this['persistence'].update_search_keyword(document.referrer);

    if (this.get_config('store_google')) { this['persistence'].update_campaign_params(); }
    if (this.get_config('save_referrer')) { this['persistence'].update_referrer_info(document.referrer); }

    // note: extend writes to the first object, so lets make sure we
    // don't write to the persistence properties object and info
    // properties object by passing in a new object

    // update properties with pageview info and super-properties
    properties = _.extend(
        {},
        _.info.properties(),
        this['persistence'].properties(),
        properties
    );

    try {
        if (this.get_config('autotrack') && event_name !== 'mp_page_view' && event_name !== '$create_alias') {
            // The point of $__c is to count how many clicks occur per tracked event. Since we're
            // tracking an event in this function, we need to reset the $__c value.
            properties = _.extend({}, properties, this.mp_counts);
            this.mp_counts = {'$__c': 0};
            _.cookie.set('mp_' + this.get_config('name') + '__c', 0, 1, true);
        }
    } catch (e) {
        console$1.error(e);
    }

    var property_blacklist = this.get_config('property_blacklist');
    if (_.isArray(property_blacklist)) {
        _.each(property_blacklist, function(blacklisted_prop) {
            delete properties[blacklisted_prop];
        });
    } else {
        console$1.error('Invalid value for property_blacklist config: ' + property_blacklist);
    }

    var data = {
        'event': event_name,
        'properties': properties
    };

    var truncated_data = _.truncate(data, 255);
    var json_data      = _.JSONEncode(truncated_data);
    var encoded_data   = _.base64Encode(json_data);

    console$1.log('MIXPANEL REQUEST:');
    console$1.log(truncated_data);

    this._send_request(
        this.get_config('api_host') + '/track/',
        { 'data': encoded_data },
        this._prepare_callback(callback, truncated_data)
    );

    return truncated_data;
};

/**
 * Track a page view event, which is currently ignored by the server.
 * This function is called by default on page load unless the
 * track_pageview configuration variable is false.
 *
 * @param {String} [page] The url of the page to record. If you don't include this, it defaults to the current url.
 * @api private
 */
MixpanelLib.prototype.track_pageview = function(page) {
    if (_.isUndefined(page)) {
        page = document.location.href;
    }
    this.track('mp_page_view', _.info.pageviewInfo(page));
};

/**
 * Track clicks on a set of document elements. Selector must be a
 * valid query. Elements must exist on the page at the time track_links is called.
 *
 * ### Usage:
 *
 *     // track click for link id #nav
 *     mixpanel.track_links('#nav', 'Clicked Nav Link');
 *
 * ### Notes:
 *
 * This function will wait up to 300 ms for the Mixpanel
 * servers to respond. If they have not responded by that time
 * it will head to the link without ensuring that your event
 * has been tracked.  To configure this timeout please see the
 * set_config() documentation below.
 *
 * If you pass a function in as the properties argument, the
 * function will receive the DOMElement that triggered the
 * event as an argument.  You are expected to return an object
 * from the function; any properties defined on this object
 * will be sent to mixpanel as event properties.
 *
 * @type {Function}
 * @param {Object|String} query A valid DOM query, element or jQuery-esque list
 * @param {String} event_name The name of the event to track
 * @param {Object|Function} [properties] A properties object or function that returns a dictionary of properties when passed a DOMElement
 */
MixpanelLib.prototype.track_links = function() {
    return this._track_dom.call(this, LinkTracker, arguments);
};

/**
 * Track form submissions. Selector must be a valid query.
 *
 * ### Usage:
 *
 *     // track submission for form id 'register'
 *     mixpanel.track_forms('#register', 'Created Account');
 *
 * ### Notes:
 *
 * This function will wait up to 300 ms for the mixpanel
 * servers to respond, if they have not responded by that time
 * it will head to the link without ensuring that your event
 * has been tracked.  To configure this timeout please see the
 * set_config() documentation below.
 *
 * If you pass a function in as the properties argument, the
 * function will receive the DOMElement that triggered the
 * event as an argument.  You are expected to return an object
 * from the function; any properties defined on this object
 * will be sent to mixpanel as event properties.
 *
 * @type {Function}
 * @param {Object|String} query A valid DOM query, element or jQuery-esque list
 * @param {String} event_name The name of the event to track
 * @param {Object|Function} [properties] This can be a set of properties, or a function that returns a set of properties after being passed a DOMElement
 */
MixpanelLib.prototype.track_forms = function() {
    return this._track_dom.call(this, FormTracker, arguments);
};

/**
 * Time an event by including the time between this call and a
 * later 'track' call for the same event in the properties sent
 * with the event.
 *
 * ### Usage:
 *
 *     // time an event named 'Registered'
 *     mixpanel.time_event('Registered');
 *     mixpanel.track('Registered', {'Gender': 'Male', 'Age': 21});
 *
 * When called for a particular event name, the next track call for that event
 * name will include the elapsed time between the 'time_event' and 'track'
 * calls. This value is stored as seconds in the '$duration' property.
 *
 * @param {String} event_name The name of the event.
 */
MixpanelLib.prototype.time_event = function(event_name) {
    if (_.isUndefined(event_name)) {
        console$1.error('No event name provided to mixpanel.time_event');
        return;
    }

    if (this._event_is_disabled(event_name)) {
        return;
    }

    this['persistence'].set_event_timer(event_name,  new Date().getTime());
};

/**
 * Register a set of super properties, which are included with all
 * events. This will overwrite previous super property values.
 *
 * ### Usage:
 *
 *     // register 'Gender' as a super property
 *     mixpanel.register({'Gender': 'Female'});
 *
 *     // register several super properties when a user signs up
 *     mixpanel.register({
 *         'Email': 'jdoe@example.com',
 *         'Account Type': 'Free'
 *     });
 *
 * @param {Object} properties An associative array of properties to store about the user
 * @param {Number} [days] How many days since the user's last visit to store the super properties
 */
MixpanelLib.prototype.register = function(props, days) {
    this['persistence'].register(props, days);
};

/**
 * Register a set of super properties only once. This will not
 * overwrite previous super property values, unlike register().
 *
 * ### Usage:
 *
 *     // register a super property for the first time only
 *     mixpanel.register_once({
 *         'First Login Date': new Date().toISOString()
 *     });
 *
 * ### Notes:
 *
 * If default_value is specified, current super properties
 * with that value will be overwritten.
 *
 * @param {Object} properties An associative array of properties to store about the user
 * @param {*} [default_value] Value to override if already set in super properties (ex: 'False') Default: 'None'
 * @param {Number} [days] How many days since the users last visit to store the super properties
 */
MixpanelLib.prototype.register_once = function(props, default_value, days) {
    this['persistence'].register_once(props, default_value, days);
};

/**
 * Delete a super property stored with the current user.
 *
 * @param {String} property The name of the super property to remove
 */
MixpanelLib.prototype.unregister = function(property) {
    this['persistence'].unregister(property);
};

MixpanelLib.prototype._register_single = function(prop, value) {
    var props = {};
    props[prop] = value;
    this.register(props);
};

/**
 * Identify a user with a unique ID. All subsequent
 * actions caused by this user will be tied to this unique ID. This
 * property is used to track unique visitors. If the method is
 * never called, then unique visitors will be identified by a UUID
 * generated the first time they visit the site.
 *
 * ### Notes:
 *
 * You can call this function to overwrite a previously set
 * unique ID for the current user. Mixpanel cannot translate
 * between IDs at this time, so when you change a user's ID
 * they will appear to be a new user.
 *
 * identify() should not be called to link anonymous activity to
 * subsequent activity when a unique ID is first assigned.
 * Use alias() when a unique ID is first assigned (registration), and
 * use identify() to identify the user with that unique ID on an ongoing
 * basis (e.g., each time a user logs in after registering).
 * Do not call identify() at the same time as alias().
 *
 * @param {String} [unique_id] A string that uniquely identifies a user. If not provided, the distinct_id currently in the persistent store (cookie or localStorage) will be used.
 */
MixpanelLib.prototype.identify = function(unique_id, _set_callback, _add_callback, _append_callback, _set_once_callback, _union_callback) {
    // Optional Parameters
    //  _set_callback:function  A callback to be run if and when the People set queue is flushed
    //  _add_callback:function  A callback to be run if and when the People add queue is flushed
    //  _append_callback:function  A callback to be run if and when the People append queue is flushed
    //  _set_once_callback:function  A callback to be run if and when the People set_once queue is flushed
    //  _union_callback:function  A callback to be run if and when the People union queue is flushed

    // identify only changes the distinct id if it doesn't match either the existing or the alias;
    // if it's new, blow away the alias as well.
    if (unique_id !== this.get_distinct_id() && unique_id !== this.get_property(ALIAS_ID_KEY)) {
        this.unregister(ALIAS_ID_KEY);
        this._register_single('distinct_id', unique_id);
    }
    this._check_and_handle_notifications(this.get_distinct_id());
    this._flags.identify_called = true;
    // Flush any queued up people requests
    this['people']._flush(_set_callback, _add_callback, _append_callback, _set_once_callback, _union_callback);
};

/**
 * Clears super properties and generates a new random distinct_id for this instance.
 * Useful for clearing data when a user logs out.
 */
MixpanelLib.prototype.reset = function() {
    this['persistence'].clear();
    this._flags.identify_called = false;
    this.register_once({'distinct_id': _.UUID()}, '');
};

/**
 * Returns the current distinct id of the user. This is either the id automatically
 * generated by the library or the id that has been passed by a call to identify().
 *
 * ### Notes:
 *
 * get_distinct_id() can only be called after the Mixpanel library has finished loading.
 * init() has a loaded function available to handle this automatically. For example:
 *
 *     // set distinct_id after the mixpanel library has loaded
 *     mixpanel.init('YOUR PROJECT TOKEN', {
 *         loaded: function(mixpanel) {
 *             distinct_id = mixpanel.get_distinct_id();
 *         }
 *     });
 */
MixpanelLib.prototype.get_distinct_id = function() {
    return this.get_property('distinct_id');
};

/**
 * Create an alias, which Mixpanel will use to link two distinct_ids going forward (not retroactively).
 * Multiple aliases can map to the same original ID, but not vice-versa. Aliases can also be chained - the
 * following is a valid scenario:
 *
 *     mixpanel.alias('new_id', 'existing_id');
 *     ...
 *     mixpanel.alias('newer_id', 'new_id');
 *
 * If the original ID is not passed in, we will use the current distinct_id - probably the auto-generated GUID.
 *
 * ### Notes:
 *
 * The best practice is to call alias() when a unique ID is first created for a user
 * (e.g., when a user first registers for an account and provides an email address).
 * alias() should never be called more than once for a given user, except to
 * chain a newer ID to a previously new ID, as described above.
 *
 * @param {String} alias A unique identifier that you want to use for this user in the future.
 * @param {String} [original] The current identifier being used for this user.
 */
MixpanelLib.prototype.alias = function(alias, original) {
    // If the $people_distinct_id key exists in persistence, there has been a previous
    // mixpanel.people.identify() call made for this user. It is VERY BAD to make an alias with
    // this ID, as it will duplicate users.
    if (alias === this.get_property(PEOPLE_DISTINCT_ID_KEY)) {
        console$1.critical('Attempting to create alias for existing People user - aborting.');
        return -2;
    }

    var _this = this;
    if (_.isUndefined(original)) {
        original = this.get_distinct_id();
    }
    if (alias !== original) {
        this._register_single(ALIAS_ID_KEY, alias);
        return this.track('$create_alias', { 'alias': alias, 'distinct_id': original }, function() {
            // Flush the people queue
            _this.identify(alias);
        });
    } else {
        console$1.error('alias matches current distinct_id - skipping api call.');
        this.identify(alias);
        return -1;
    }
};

/**
 * Provide a string to recognize the user by. The string passed to
 * this method will appear in the Mixpanel Streams product rather
 * than an automatically generated name. Name tags do not have to
 * be unique.
 *
 * This value will only be included in Streams data.
 *
 * @param {String} name_tag A human readable name for the user
 * @api private
 */
MixpanelLib.prototype.name_tag = function(name_tag) {
    this._register_single('mp_name_tag', name_tag);
};

/**
 * Update the configuration of a mixpanel library instance.
 *
 * The default config is:
 *
 *     {
 *       // super properties cookie expiration (in days)
 *       cookie_expiration:          365
 *
 *       // super properties span subdomains
 *       cross_subdomain_cookie:     true
 *
 *       // if this is true, the mixpanel cookie or localStorage entry
 *       // will be deleted, and no user persistence will take place
 *       disable_persistence:        false
 *
 *       // type of persistent store for super properties (cookie/
 *       // localStorage) if set to 'localStorage', any existing
 *       // mixpanel cookie value with the same persistence_name
 *       // will be transferred to localStorage and deleted
 *       persistence:                'cookie'
 *
 *       // name for super properties persistent store
 *       persistence_name:           ''
 *
 *       // names of properties/superproperties which should never
 *       // be sent with track() calls
 *       property_blacklist:         []
 *
 *       // if this is true, mixpanel cookies will be marked as
 *       // secure, meaning they will only be transmitted over https
 *       secure_cookie:              false
 *
 *       // the amount of time track_links will
 *       // wait for Mixpanel's servers to respond
 *       track_links_timeout:        300
 *
 *       // should we track a page view on page load
 *       track_pageview:             true
 *
 *       // if you set upgrade to be true, the library will check for
 *       // a cookie from our old js library and import super
 *       // properties from it, then the old cookie is deleted
 *       // The upgrade config option only works in the initialization,
 *       // so make sure you set it when you create the library.
 *       upgrade:                    false
 *     }
 *
 *
 * @param {Object} config A dictionary of new configuration values to update
 */
MixpanelLib.prototype.set_config = function(config) {
    if (_.isObject(config)) {
        _.extend(this['config'], config);

        if (!this.get_config('persistence_name')) {
            this['config']['persistence_name'] = this['config']['cookie_name'];
        }
        if (!this.get_config('disable_persistence')) {
            this['config']['disable_persistence'] = this['config']['disable_cookie'];
        }

        if (this['persistence']) {
            this['persistence'].update_config(this['config']);
        }
        Config.DEBUG = Config.DEBUG || this.get_config('debug');
    }
};

/**
 * returns the current config object for the library.
 */
MixpanelLib.prototype.get_config = function(prop_name) {
    return this['config'][prop_name];
};

/**
 * Returns the value of the super property named property_name. If no such
 * property is set, get_property() will return the undefined value.
 *
 * ### Notes:
 *
 * get_property() can only be called after the Mixpanel library has finished loading.
 * init() has a loaded function available to handle this automatically. For example:
 *
 *     // grab value for 'user_id' after the mixpanel library has loaded
 *     mixpanel.init('YOUR PROJECT TOKEN', {
 *         loaded: function(mixpanel) {
 *             user_id = mixpanel.get_property('user_id');
 *         }
 *     });
 *
 * @param {String} property_name The name of the super property you want to retrieve
 */
MixpanelLib.prototype.get_property = function(property_name) {
    return this['persistence']['props'][property_name];
};

MixpanelLib.prototype.toString = function() {
    var name = this.get_config('name');
    if (name !== PRIMARY_INSTANCE_NAME) {
        name = PRIMARY_INSTANCE_NAME + '.' + name;
    }
    return name;
};

MixpanelLib.prototype._event_is_disabled = function(event_name) {
    return _.isBlockedUA(userAgent) ||
        this._flags.disable_all_events ||
        _.include(this.__disabled_events, event_name);
};

MixpanelLib.prototype._check_and_handle_notifications = function(distinct_id) {
    if (!distinct_id || this._flags.identify_called || this.get_config('disable_notifications')) {
        return;
    }

    console$1.log('MIXPANEL NOTIFICATION CHECK');

    var data = {
        'verbose':     true,
        'version':     '2',
        'lib':         'web',
        'token':       this.get_config('token'),
        'distinct_id': distinct_id
    };
    var self = this;
    this._send_request(
        this.get_config('decide_host') + '/decide/',
        data,
        this._prepare_callback(function(r) {
            if (r['notifications'] && r['notifications'].length > 0) {
                self._show_notification.call(self, r['notifications'][0]);
            }
        })
    );
};

MixpanelLib.prototype._show_notification = function(notification_data) {
    var notification = new MPNotif(notification_data, this);
    notification.show();
};

MixpanelPeople.prototype._init = function(mixpanel_instance) {
    this._mixpanel = mixpanel_instance;
};

/*
 * Set properties on a user record.
 *
 * ### Usage:
 *
 *     mixpanel.people.set('gender', 'm');
 *
 *     // or set multiple properties at once
 *     mixpanel.people.set({
 *         'Company': 'Acme',
 *         'Plan': 'Premium',
 *         'Upgrade date': new Date()
 *     });
 *     // properties can be strings, integers, dates, or lists
 *
 * @param {Object|String} prop If a string, this is the name of the property. If an object, this is an associative array of names and values.
 * @param {*} [to] A value to set on the given property name
 * @param {Function} [callback] If provided, the callback will be called after the tracking event
 */
MixpanelPeople.prototype.set = function(prop, to, callback) {
    var data = {};
    var $set = {};
    if (_.isObject(prop)) {
        _.each(prop, function(v, k) {
            if (!this._is_reserved_property(k)) {
                $set[k] = v;
            }
        }, this);
        callback = to;
    } else {
        $set[prop] = to;
    }

    // make sure that the referrer info has been updated and saved
    if (this._get_config('save_referrer')) {
        this._mixpanel['persistence'].update_referrer_info(document.referrer);
    }

    // update $set object with default people properties
    $set = _.extend(
        {},
        _.info.people_properties(),
        this._mixpanel['persistence'].get_referrer_info(),
        $set
    );

    data[SET_ACTION] = $set;

    return this._send_request(data, callback);
};

/*
 * Set properties on a user record, only if they do not yet exist.
 * This will not overwrite previous people property values, unlike
 * people.set().
 *
 * ### Usage:
 *
 *     mixpanel.people.set_once('First Login Date', new Date());
 *
 *     // or set multiple properties at once
 *     mixpanel.people.set_once({
 *         'First Login Date': new Date(),
 *         'Starting Plan': 'Premium'
 *     });
 *
 *     // properties can be strings, integers or dates
 *
 * @param {Object|String} prop If a string, this is the name of the property. If an object, this is an associative array of names and values.
 * @param {*} [to] A value to set on the given property name
 * @param {Function} [callback] If provided, the callback will be called after the tracking event
 */
MixpanelPeople.prototype.set_once = function(prop, to, callback) {
    var data = {};
    var $set_once = {};
    if (_.isObject(prop)) {
        _.each(prop, function(v, k) {
            if (!this._is_reserved_property(k)) {
                $set_once[k] = v;
            }
        }, this);
        callback = to;
    } else {
        $set_once[prop] = to;
    }
    data[SET_ONCE_ACTION] = $set_once;
    return this._send_request(data, callback);
};

/*
 * Increment/decrement numeric people analytics properties.
 *
 * ### Usage:
 *
 *     mixpanel.people.increment('page_views', 1);
 *
 *     // or, for convenience, if you're just incrementing a counter by
 *     // 1, you can simply do
 *     mixpanel.people.increment('page_views');
 *
 *     // to decrement a counter, pass a negative number
 *     mixpanel.people.increment('credits_left', -1);
 *
 *     // like mixpanel.people.set(), you can increment multiple
 *     // properties at once:
 *     mixpanel.people.increment({
 *         counter1: 1,
 *         counter2: 6
 *     });
 *
 * @param {Object|String} prop If a string, this is the name of the property. If an object, this is an associative array of names and numeric values.
 * @param {Number} [by] An amount to increment the given property
 * @param {Function} [callback] If provided, the callback will be called after the tracking event
 */
MixpanelPeople.prototype.increment = function(prop, by, callback) {
    var data = {};
    var $add = {};
    if (_.isObject(prop)) {
        _.each(prop, function(v, k) {
            if (!this._is_reserved_property(k)) {
                if (isNaN(parseFloat(v))) {
                    console$1.error('Invalid increment value passed to mixpanel.people.increment - must be a number');
                    return;
                } else {
                    $add[k] = v;
                }
            }
        }, this);
        callback = by;
    } else {
        // convenience: mixpanel.people.increment('property'); will
        // increment 'property' by 1
        if (_.isUndefined(by)) {
            by = 1;
        }
        $add[prop] = by;
    }
    data[ADD_ACTION] = $add;

    return this._send_request(data, callback);
};

/*
 * Append a value to a list-valued people analytics property.
 *
 * ### Usage:
 *
 *     // append a value to a list, creating it if needed
 *     mixpanel.people.append('pages_visited', 'homepage');
 *
 *     // like mixpanel.people.set(), you can append multiple
 *     // properties at once:
 *     mixpanel.people.append({
 *         list1: 'bob',
 *         list2: 123
 *     });
 *
 * @param {Object|String} prop If a string, this is the name of the property. If an object, this is an associative array of names and values.
 * @param {*} [value] An item to append to the list
 * @param {Function} [callback] If provided, the callback will be called after the tracking event
 */
MixpanelPeople.prototype.append = function(list_name, value, callback) {
    var data = {};
    var $append = {};
    if (_.isObject(list_name)) {
        _.each(list_name, function(v, k) {
            if (!this._is_reserved_property(k)) {
                $append[k] = v;
            }
        }, this);
        callback = value;
    } else {
        $append[list_name] = value;
    }
    data[APPEND_ACTION] = $append;

    return this._send_request(data, callback);
};

/*
 * Merge a given list with a list-valued people analytics property,
 * excluding duplicate values.
 *
 * ### Usage:
 *
 *     // merge a value to a list, creating it if needed
 *     mixpanel.people.union('pages_visited', 'homepage');
 *
 *     // like mixpanel.people.set(), you can append multiple
 *     // properties at once:
 *     mixpanel.people.union({
 *         list1: 'bob',
 *         list2: 123
 *     });
 *
 *     // like mixpanel.people.append(), you can append multiple
 *     // values to the same list:
 *     mixpanel.people.union({
 *         list1: ['bob', 'billy']
 *     });
 *
 * @param {Object|String} prop If a string, this is the name of the property. If an object, this is an associative array of names and values.
 * @param {*} [value] Value / values to merge with the given property
 * @param {Function} [callback] If provided, the callback will be called after the tracking event
 */
MixpanelPeople.prototype.union = function(list_name, values, callback) {
    var data = {};
    var $union = {};
    if (_.isObject(list_name)) {
        _.each(list_name, function(v, k) {
            if (!this._is_reserved_property(k)) {
                $union[k] = _.isArray(v) ? v : [v];
            }
        }, this);
        callback = values;
    } else {
        $union[list_name] = _.isArray(values) ? values : [values];
    }
    data[UNION_ACTION] = $union;

    return this._send_request(data, callback);
};

/*
 * Record that you have charged the current user a certain amount
 * of money. Charges recorded with track_charge() will appear in the
 * Mixpanel revenue report.
 *
 * ### Usage:
 *
 *     // charge a user $50
 *     mixpanel.people.track_charge(50);
 *
 *     // charge a user $30.50 on the 2nd of january
 *     mixpanel.people.track_charge(30.50, {
 *         '$time': new Date('jan 1 2012')
 *     });
 *
 * @param {Number} amount The amount of money charged to the current user
 * @param {Object} [properties] An associative array of properties associated with the charge
 * @param {Function} [callback] If provided, the callback will be called when the server responds
 */
MixpanelPeople.prototype.track_charge = function(amount, properties, callback) {
    if (!_.isNumber(amount)) {
        amount = parseFloat(amount);
        if (isNaN(amount)) {
            console$1.error('Invalid value passed to mixpanel.people.track_charge - must be a number');
            return;
        }
    }

    return this.append('$transactions', _.extend({
        '$amount': amount
    }, properties), callback);
};

/*
 * Permanently clear all revenue report transactions from the
 * current user's people analytics profile.
 *
 * ### Usage:
 *
 *     mixpanel.people.clear_charges();
 *
 * @param {Function} [callback] If provided, the callback will be called after the tracking event
 */
MixpanelPeople.prototype.clear_charges = function(callback) {
    return this.set('$transactions', [], callback);
};

/*
 * Permanently deletes the current people analytics profile from
 * Mixpanel (using the current distinct_id).
 *
 * ### Usage:
 *
 *     // remove the all data you have stored about the current user
 *     mixpanel.people.delete_user();
 *
 */
MixpanelPeople.prototype.delete_user = function() {
    if (!this._identify_called()) {
        console$1.error('mixpanel.people.delete_user() requires you to call identify() first');
        return;
    }
    var data = {'$delete': this._mixpanel.get_distinct_id()};
    return this._send_request(data);
};

MixpanelPeople.prototype.toString = function() {
    return this._mixpanel.toString() + '.people';
};

MixpanelPeople.prototype._send_request = function(data, callback) {
    data['$token'] = this._get_config('token');
    data['$distinct_id'] = this._mixpanel.get_distinct_id();

    var date_encoded_data = _.encodeDates(data);
    var truncated_data    = _.truncate(date_encoded_data, 255);
    var json_data         = _.JSONEncode(date_encoded_data);
    var encoded_data      = _.base64Encode(json_data);

    if (!this._identify_called()) {
        this._enqueue(data);
        if (!_.isUndefined(callback)) {
            if (this._get_config('verbose')) {
                callback({status: -1, error: null});
            } else {
                callback(-1);
            }
        }
        return truncated_data;
    }

    console$1.log('MIXPANEL PEOPLE REQUEST:');
    console$1.log(truncated_data);

    this._mixpanel._send_request(
        this._get_config('api_host') + '/engage/',
        {'data': encoded_data},
        this._mixpanel._prepare_callback(callback, truncated_data)
    );

    return truncated_data;
};

MixpanelPeople.prototype._get_config = function(conf_var) {
    return this._mixpanel.get_config(conf_var);
};

MixpanelPeople.prototype._identify_called = function() {
    return this._mixpanel._flags.identify_called === true;
};

// Queue up engage operations if identify hasn't been called yet.
MixpanelPeople.prototype._enqueue = function(data) {
    if (SET_ACTION in data) {
        this._mixpanel['persistence']._add_to_people_queue(SET_ACTION, data);
    } else if (SET_ONCE_ACTION in data) {
        this._mixpanel['persistence']._add_to_people_queue(SET_ONCE_ACTION, data);
    } else if (ADD_ACTION in data) {
        this._mixpanel['persistence']._add_to_people_queue(ADD_ACTION, data);
    } else if (APPEND_ACTION in data) {
        this._mixpanel['persistence']._add_to_people_queue(APPEND_ACTION, data);
    } else if (UNION_ACTION in data) {
        this._mixpanel['persistence']._add_to_people_queue(UNION_ACTION, data);
    } else {
        console$1.error('Invalid call to _enqueue():', data);
    }
};

// Flush queued engage operations - order does not matter,
// and there are network level race conditions anyway
MixpanelPeople.prototype._flush = function(_set_callback, _add_callback, _append_callback, _set_once_callback, _union_callback) {
    var _this = this;
    var $set_queue = _.extend({}, this._mixpanel['persistence']._get_queue(SET_ACTION));
    var $set_once_queue = _.extend({}, this._mixpanel['persistence']._get_queue(SET_ONCE_ACTION));
    var $add_queue = _.extend({}, this._mixpanel['persistence']._get_queue(ADD_ACTION));
    var $append_queue = this._mixpanel['persistence']._get_queue(APPEND_ACTION);
    var $union_queue = _.extend({}, this._mixpanel['persistence']._get_queue(UNION_ACTION));

    if (!_.isUndefined($set_queue) && _.isObject($set_queue) && !_.isEmptyObject($set_queue)) {
        _this._mixpanel['persistence']._pop_from_people_queue(SET_ACTION, $set_queue);
        this.set($set_queue, function(response, data) {
            // on bad response, we want to add it back to the queue
            if (response === 0) {
                _this._mixpanel['persistence']._add_to_people_queue(SET_ACTION, $set_queue);
            }
            if (!_.isUndefined(_set_callback)) {
                _set_callback(response, data);
            }
        });
    }

    if (!_.isUndefined($set_once_queue) && _.isObject($set_once_queue) && !_.isEmptyObject($set_once_queue)) {
        _this._mixpanel['persistence']._pop_from_people_queue(SET_ONCE_ACTION, $set_once_queue);
        this.set_once($set_once_queue, function(response, data) {
            // on bad response, we want to add it back to the queue
            if (response === 0) {
                _this._mixpanel['persistence']._add_to_people_queue(SET_ONCE_ACTION, $set_once_queue);
            }
            if (!_.isUndefined(_set_once_callback)) {
                _set_once_callback(response, data);
            }
        });
    }

    if (!_.isUndefined($add_queue) && _.isObject($add_queue) && !_.isEmptyObject($add_queue)) {
        _this._mixpanel['persistence']._pop_from_people_queue(ADD_ACTION, $add_queue);
        this.increment($add_queue, function(response, data) {
            // on bad response, we want to add it back to the queue
            if (response === 0) {
                _this._mixpanel['persistence']._add_to_people_queue(ADD_ACTION, $add_queue);
            }
            if (!_.isUndefined(_add_callback)) {
                _add_callback(response, data);
            }
        });
    }

    if (!_.isUndefined($union_queue) && _.isObject($union_queue) && !_.isEmptyObject($union_queue)) {
        _this._mixpanel['persistence']._pop_from_people_queue(UNION_ACTION, $union_queue);
        this.union($union_queue, function(response, data) {
            // on bad response, we want to add it back to the queue
            if (response === 0) {
                _this._mixpanel['persistence']._add_to_people_queue(UNION_ACTION, $union_queue);
            }
            if (!_.isUndefined(_union_callback)) {
                _union_callback(response, data);
            }
        });
    }

    // we have to fire off each $append individually since there is
    // no concat method server side
    if (!_.isUndefined($append_queue) && _.isArray($append_queue) && $append_queue.length) {
        var $append_item;
        var callback = function(response, data) {
            if (response === 0) {
                _this._mixpanel['persistence']._add_to_people_queue(APPEND_ACTION, $append_item);
            }
            if (!_.isUndefined(_append_callback)) {
                _append_callback(response, data);
            }
        };
        for (var i = $append_queue.length - 1; i >= 0; i--) {
            $append_item = $append_queue.pop();
            _this.append($append_item, callback);
        }
        // Save the shortened append queue
        _this._mixpanel['persistence'].save();
    }
};

MixpanelPeople.prototype._is_reserved_property = function(prop) {
    return prop === '$distinct_id' || prop === '$token';
};


// Internal class for notification display
MixpanelLib._Notification = function(notif_data, mixpanel_instance) {
    _.bind_instance_methods(this);

    this.mixpanel    = mixpanel_instance;
    this.persistence = this.mixpanel['persistence'];

    this.campaign_id = _.escapeHTML(notif_data['id']);
    this.message_id  = _.escapeHTML(notif_data['message_id']);

    this.body            = (_.escapeHTML(notif_data['body']) || '').replace(/\n/g, '<br/>');
    this.cta             = _.escapeHTML(notif_data['cta']) || 'Close';
    this.notif_type      = _.escapeHTML(notif_data['type']) || 'takeover';
    this.style           = _.escapeHTML(notif_data['style']) || 'light';
    this.title           = _.escapeHTML(notif_data['title']) || '';
    this.video_width     = MPNotif.VIDEO_WIDTH;
    this.video_height    = MPNotif.VIDEO_HEIGHT;

    // These fields are url-sanitized in the backend already.
    this.dest_url        = notif_data['cta_url'] || null;
    this.image_url       = notif_data['image_url'] || null;
    this.thumb_image_url = notif_data['thumb_image_url'] || null;
    this.video_url       = notif_data['video_url'] || null;

    this.clickthrough = true;
    if (!this.dest_url) {
        this.dest_url = '#dismiss';
        this.clickthrough = false;
    }

    this.mini = this.notif_type === 'mini';
    if (!this.mini) {
        this.notif_type = 'takeover';
    }
    this.notif_width = !this.mini ? MPNotif.NOTIF_WIDTH : MPNotif.NOTIF_WIDTH_MINI;

    this._set_client_config();
    this.imgs_to_preload = this._init_image_html();
    this._init_video();
};

MPNotif = MixpanelLib._Notification;

MPNotif.ANIM_TIME         = 200;
MPNotif.MARKUP_PREFIX     = 'mixpanel-notification';
MPNotif.BG_OPACITY        = 0.6;
MPNotif.NOTIF_TOP         = 25;
MPNotif.NOTIF_START_TOP   = 200;
MPNotif.NOTIF_WIDTH       = 388;
MPNotif.NOTIF_WIDTH_MINI  = 420;
MPNotif.NOTIF_HEIGHT_MINI = 85;
MPNotif.THUMB_BORDER_SIZE = 5;
MPNotif.THUMB_IMG_SIZE    = 60;
MPNotif.THUMB_OFFSET      = Math.round(MPNotif.THUMB_IMG_SIZE / 2);
MPNotif.VIDEO_WIDTH       = 595;
MPNotif.VIDEO_HEIGHT      = 334;

MPNotif.prototype.show = function() {
    var self = this;
    this._set_client_config();

    // don't display until HTML body exists
    if (!this.body_el) {
        setTimeout(function() { self.show(); }, 300);
        return;
    }

    this._init_styles();
    this._init_notification_el();

    // wait for any images to load before showing notification
    this._preload_images(this._attach_and_animate);
};

MPNotif.prototype.dismiss = _.safewrap(function() {
    if (!this.marked_as_shown) {
        // unexpected condition: user interacted with notif even though we didn't consider it
        // visible (see _mark_as_shown()); send tracking signals to mark delivery
        this._mark_delivery({'invisible': true});
    }

    var exiting_el = this.showing_video ? this._get_el('video') : this._get_notification_display_el();
    if (this.use_transitions) {
        this._remove_class('bg', 'visible');
        this._add_class(exiting_el, 'exiting');
        setTimeout(this._remove_notification_el, MPNotif.ANIM_TIME);
    } else {
        var notif_attr, notif_start, notif_goal;
        if (this.mini) {
            notif_attr  = 'right';
            notif_start = 20;
            notif_goal  = -100;
        } else {
            notif_attr  = 'top';
            notif_start = MPNotif.NOTIF_TOP;
            notif_goal  = MPNotif.NOTIF_START_TOP + MPNotif.NOTIF_TOP;
        }
        this._animate_els([
            {
                el:    this._get_el('bg'),
                attr:  'opacity',
                start: MPNotif.BG_OPACITY,
                goal:  0.0
            },
            {
                el:    exiting_el,
                attr:  'opacity',
                start: 1.0,
                goal:  0.0
            },
            {
                el:    exiting_el,
                attr:  notif_attr,
                start: notif_start,
                goal:  notif_goal
            }
        ], MPNotif.ANIM_TIME, this._remove_notification_el);
    }
});

MPNotif.prototype._add_class = _.safewrap(function(el, class_name) {
    class_name = MPNotif.MARKUP_PREFIX + '-' + class_name;
    if (typeof el === 'string') {
        el = this._get_el(el);
    }
    if (!el.className) {
        el.className = class_name;
    } else if (!~(' ' + el.className + ' ').indexOf(' ' + class_name + ' ')) {
        el.className += ' ' + class_name;
    }
});
MPNotif.prototype._remove_class = _.safewrap(function(el, class_name) {
    class_name = MPNotif.MARKUP_PREFIX + '-' + class_name;
    if (typeof el === 'string') {
        el = this._get_el(el);
    }
    if (el.className) {
        el.className = (' ' + el.className + ' ')
                .replace(' ' + class_name + ' ', '')
                .replace(/^[\s\xA0]+/, '')
                .replace(/[\s\xA0]+$/, '');
    }
});

MPNotif.prototype._animate_els = _.safewrap(function(anims, mss, done_cb, start_time) {
    var self = this,
        in_progress = false,
        ai, anim,
        cur_time = 1 * new Date(), time_diff;

    start_time = start_time || cur_time;
    time_diff = cur_time - start_time;

    for (ai = 0; ai < anims.length; ai++) {
        anim = anims[ai];
        if (typeof anim.val === 'undefined') {
            anim.val = anim.start;
        }
        if (anim.val !== anim.goal) {
            in_progress = true;
            var anim_diff = anim.goal - anim.start,
                anim_dir = anim.goal >= anim.start ? 1 : -1;
            anim.val = anim.start + anim_diff * time_diff / mss;
            if (anim.attr !== 'opacity') {
                anim.val = Math.round(anim.val);
            }
            if ((anim_dir > 0 && anim.val >= anim.goal) || (anim_dir < 0 && anim.val <= anim.goal)) {
                anim.val = anim.goal;
            }
        }
    }
    if (!in_progress) {
        if (done_cb) {
            done_cb();
        }
        return;
    }

    for (ai = 0; ai < anims.length; ai++) {
        anim = anims[ai];
        if (anim.el) {
            var suffix = anim.attr === 'opacity' ? '' : 'px';
            anim.el.style[anim.attr] = String(anim.val) + suffix;
        }
    }
    setTimeout(function() { self._animate_els(anims, mss, done_cb, start_time); }, 10);
});

MPNotif.prototype._attach_and_animate = _.safewrap(function() {
    var self = this;

    // no possibility to double-display
    if (this.shown || this._get_shown_campaigns()[this.campaign_id]) {
        return;
    }
    this.shown = true;

    this.body_el.appendChild(this.notification_el);
    setTimeout(function() {
        var notif_el = self._get_notification_display_el();
        if (self.use_transitions) {
            if (!self.mini) {
                self._add_class('bg', 'visible');
            }
            self._add_class(notif_el, 'visible');
            self._mark_as_shown();
        } else {
            var notif_attr, notif_start, notif_goal;
            if (self.mini) {
                notif_attr  = 'right';
                notif_start = -100;
                notif_goal  = 20;
            } else {
                notif_attr  = 'top';
                notif_start = MPNotif.NOTIF_START_TOP + MPNotif.NOTIF_TOP;
                notif_goal  = MPNotif.NOTIF_TOP;
            }
            self._animate_els([
                {
                    el:    self._get_el('bg'),
                    attr:  'opacity',
                    start: 0.0,
                    goal:  MPNotif.BG_OPACITY
                },
                {
                    el:    notif_el,
                    attr:  'opacity',
                    start: 0.0,
                    goal:  1.0
                },
                {
                    el:    notif_el,
                    attr:  notif_attr,
                    start: notif_start,
                    goal:  notif_goal
                }
            ], MPNotif.ANIM_TIME, self._mark_as_shown);
        }
    }, 100);
    _.register_event(self._get_el('cancel'), 'click', function(e) {
        e.preventDefault();
        self.dismiss();
    });
    var click_el = self._get_el('button') ||
                       self._get_el('mini-content');
    _.register_event(click_el, 'click', function(e) {
        e.preventDefault();
        if (self.show_video) {
            self._track_event('$campaign_open', {'$resource_type': 'video'});
            self._switch_to_video();
        } else {
            self.dismiss();
            if (self.clickthrough) {
                self._track_event('$campaign_open', {'$resource_type': 'link'}, function() {
                    window.location.href = self.dest_url;
                });
            }
        }
    });
});

MPNotif.prototype._get_el = function(id) {
    return document.getElementById(MPNotif.MARKUP_PREFIX + '-' + id);
};

MPNotif.prototype._get_notification_display_el = function() {
    return this._get_el(this.notif_type);
};

MPNotif.prototype._get_shown_campaigns = function() {
    return this.persistence['props'][CAMPAIGN_IDS_KEY] || (this.persistence['props'][CAMPAIGN_IDS_KEY] = {});
};

MPNotif.prototype._browser_lte = function(browser, version) {
    return this.browser_versions[browser] && this.browser_versions[browser] <= version;
};

MPNotif.prototype._init_image_html = function() {
    var imgs_to_preload = [];

    if (!this.mini) {
        if (this.image_url) {
            imgs_to_preload.push(this.image_url);
            this.img_html = '<img id="img" src="' + this.image_url + '"/>';
        } else {
            this.img_html = '';
        }
        if (this.thumb_image_url) {
            imgs_to_preload.push(this.thumb_image_url);
            this.thumb_img_html =
                    '<div id="thumbborder-wrapper"><div id="thumbborder"></div></div>' +
                    '<img id="thumbnail"' +
                        ' src="' + this.thumb_image_url + '"' +
                        ' width="' + MPNotif.THUMB_IMG_SIZE + '"' +
                        ' height="' + MPNotif.THUMB_IMG_SIZE + '"' +
                    '/>' +
                    '<div id="thumbspacer"></div>';
        } else {
            this.thumb_img_html = '';
        }
    } else {
        this.thumb_image_url = this.thumb_image_url || '//cdn.mxpnl.com/site_media/images/icons/notifications/mini-news-dark.png';
        imgs_to_preload.push(this.thumb_image_url);
    }

    return imgs_to_preload;
};

MPNotif.prototype._init_notification_el = function() {
    var notification_html = '';
    var video_src         = '';
    var video_html        = '';
    var cancel_html       = '<div id="cancel">' +
                                    '<div id="cancel-icon"></div>' +
                                '</div>';

    this.notification_el = document.createElement('div');
    this.notification_el.id = MPNotif.MARKUP_PREFIX + '-wrapper';
    if (!this.mini) {
        // TAKEOVER notification
        var close_html  = (this.clickthrough || this.show_video) ? '' : '<div id="button-close"></div>',
            play_html   = this.show_video ? '<div id="button-play"></div>' : '';
        if (this._browser_lte('ie', 7)) {
            close_html = '';
            play_html = '';
        }
        notification_html =
                '<div id="takeover">' +
                    this.thumb_img_html +
                    '<div id="mainbox">' +
                        cancel_html +
                        '<div id="content">' +
                            this.img_html +
                            '<div id="title">' + this.title + '</div>' +
                            '<div id="body">' + this.body + '</div>' +
                            '<div id="tagline">' +
                                '<a href="http://mixpanel.com?from=inapp" target="_blank">POWERED BY MIXPANEL</a>' +
                            '</div>' +
                        '</div>' +
                        '<div id="button">' +
                            close_html +
                            '<a id="button-link" href="' + this.dest_url + '">' + this.cta + '</a>' +
                            play_html +
                        '</div>' +
                    '</div>' +
                '</div>';
    } else {
        // MINI notification
        notification_html =
                '<div id="mini">' +
                    '<div id="mainbox">' +
                        cancel_html +
                        '<div id="mini-content">' +
                            '<div id="mini-icon">' +
                                '<div id="mini-icon-img"></div>' +
                            '</div>' +
                            '<div id="body">' +
                                '<div id="body-text"><div>' + this.body + '</div></div>' +
                            '</div>' +
                        '</div>' +
                    '</div>' +
                    '<div id="mini-border"></div>' +
                '</div>';
    }
    if (this.youtube_video) {
        video_src = '//www.youtube.com/embed/' + this.youtube_video +
                '?wmode=transparent&showinfo=0&modestbranding=0&rel=0&autoplay=1&loop=0&vq=hd1080';
        if (this.yt_custom) {
            video_src += '&enablejsapi=1&html5=1&controls=0';
            video_html =
                    '<div id="video-controls">' +
                        '<div id="video-progress" class="video-progress-el">' +
                            '<div id="video-progress-total" class="video-progress-el"></div>' +
                            '<div id="video-elapsed" class="video-progress-el"></div>' +
                        '</div>' +
                        '<div id="video-time" class="video-progress-el"></div>' +
                    '</div>';
        }
    } else if (this.vimeo_video) {
        video_src = '//player.vimeo.com/video/' + this.vimeo_video + '?autoplay=1&title=0&byline=0&portrait=0';
    }
    if (this.show_video) {
        this.video_iframe =
                '<iframe id="' + MPNotif.MARKUP_PREFIX + '-video-frame" ' +
                    'width="' + this.video_width + '" height="' + this.video_height + '" ' +
                    ' src="' + video_src + '"' +
                    ' frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen="1" scrolling="no"' +
                '></iframe>';
        video_html =
                '<div id="video-' + (this.flip_animate ? '' : 'no') + 'flip">' +
                    '<div id="video">' +
                        '<div id="video-holder"></div>' +
                        video_html +
                    '</div>' +
                '</div>';
    }
    var main_html = video_html + notification_html;
    if (this.flip_animate) {
        main_html =
                (this.mini ? notification_html : '') +
                '<div id="flipcontainer"><div id="flipper">' +
                    (this.mini ? video_html : main_html) +
                '</div></div>';
    }

    this.notification_el.innerHTML =
            ('<div id="overlay" class="' + this.notif_type + '">' +
                '<div id="campaignid-' + this.campaign_id + '">' +
                    '<div id="bgwrapper">' +
                        '<div id="bg"></div>' +
                        main_html +
                    '</div>' +
                '</div>' +
            '</div>')
            .replace(/class=\"/g, 'class="' + MPNotif.MARKUP_PREFIX + '-')
            .replace(/id=\"/g, 'id="' + MPNotif.MARKUP_PREFIX + '-');
};

MPNotif.prototype._init_styles = function() {
    if (this.style === 'dark') {
        this.style_vals = {
            bg:             '#1d1f25',
            bg_actions:     '#282b32',
            bg_hover:       '#3a4147',
            bg_light:       '#4a5157',
            border_gray:    '#32353c',
            cancel_opacity: '0.4',
            mini_hover:     '#2a3137',
            text_title:     '#fff',
            text_main:      '#9498a3',
            text_tagline:   '#464851',
            text_hover:     '#ddd'
        };
    } else {
        this.style_vals = {
            bg:             '#fff',
            bg_actions:     '#e7eaee',
            bg_hover:       '#eceff3',
            bg_light:       '#f5f5f5',
            border_gray:    '#e4ecf2',
            cancel_opacity: '1.0',
            mini_hover:     '#fafafa',
            text_title:     '#5c6578',
            text_main:      '#8b949b',
            text_tagline:   '#ced9e6',
            text_hover:     '#7c8598'
        };
    }
    var shadow = '0px 0px 35px 0px rgba(45, 49, 56, 0.7)',
        video_shadow = shadow,
        mini_shadow = shadow,
        thumb_total_size = MPNotif.THUMB_IMG_SIZE + MPNotif.THUMB_BORDER_SIZE * 2,
        anim_seconds = (MPNotif.ANIM_TIME / 1000) + 's';
    if (this.mini) {
        shadow = 'none';
    }

    // don't display on small viewports
    var notif_media_queries = {},
        min_width = MPNotif.NOTIF_WIDTH_MINI + 20;
    notif_media_queries['@media only screen and (max-width: ' + (min_width - 1) + 'px)'] = {
        '#overlay': {
            'display': 'none'
        }
    };
    var notif_styles = {
        '.flipped': {
            'transform': 'rotateY(180deg)'
        },
        '#overlay': {
            'position': 'fixed',
            'top': '0',
            'left': '0',
            'width': '100%',
            'height': '100%',
            'overflow': 'auto',
            'text-align': 'center',
            'z-index': '10000',
            'font-family': '"Helvetica", "Arial", sans-serif',
            '-webkit-font-smoothing': 'antialiased',
            '-moz-osx-font-smoothing': 'grayscale'
        },
        '#overlay.mini': {
            'height': '0',
            'overflow': 'visible'
        },
        '#overlay a': {
            'width': 'initial',
            'padding': '0',
            'text-decoration': 'none',
            'text-transform': 'none',
            'color': 'inherit'
        },
        '#bgwrapper': {
            'position': 'relative',
            'width': '100%',
            'height': '100%'
        },
        '#bg': {
            'position': 'fixed',
            'top': '0',
            'left': '0',
            'width': '100%',
            'height': '100%',
            'min-width': this.doc_width * 4 + 'px',
            'min-height': this.doc_height * 4 + 'px',
            'background-color': 'black',
            'opacity': '0.0',
            '-ms-filter': 'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)', // IE8
            'filter': 'alpha(opacity=60)', // IE5-7
            'transition': 'opacity ' + anim_seconds
        },
        '#bg.visible': {
            'opacity': MPNotif.BG_OPACITY
        },
        '.mini #bg': {
            'width': '0',
            'height': '0',
            'min-width': '0'
        },
        '#flipcontainer': {
            'perspective': '1000px',
            'position': 'absolute',
            'width': '100%'
        },
        '#flipper': {
            'position': 'relative',
            'transform-style': 'preserve-3d',
            'transition': '0.3s'
        },
        '#takeover': {
            'position': 'absolute',
            'left': '50%',
            'width': MPNotif.NOTIF_WIDTH + 'px',
            'margin-left': Math.round(-MPNotif.NOTIF_WIDTH / 2) + 'px',
            'backface-visibility': 'hidden',
            'transform': 'rotateY(0deg)',
            'opacity': '0.0',
            'top': MPNotif.NOTIF_START_TOP + 'px',
            'transition': 'opacity ' + anim_seconds + ', top ' + anim_seconds
        },
        '#takeover.visible': {
            'opacity': '1.0',
            'top': MPNotif.NOTIF_TOP + 'px'
        },
        '#takeover.exiting': {
            'opacity': '0.0',
            'top': MPNotif.NOTIF_START_TOP + 'px'
        },
        '#thumbspacer': {
            'height': MPNotif.THUMB_OFFSET + 'px'
        },
        '#thumbborder-wrapper': {
            'position': 'absolute',
            'top': (-MPNotif.THUMB_BORDER_SIZE) + 'px',
            'left': (MPNotif.NOTIF_WIDTH / 2 - MPNotif.THUMB_OFFSET - MPNotif.THUMB_BORDER_SIZE) + 'px',
            'width': thumb_total_size + 'px',
            'height': (thumb_total_size / 2) + 'px',
            'overflow': 'hidden'
        },
        '#thumbborder': {
            'position': 'absolute',
            'width': thumb_total_size + 'px',
            'height': thumb_total_size + 'px',
            'border-radius': thumb_total_size + 'px',
            'background-color': this.style_vals.bg_actions,
            'opacity': '0.5'
        },
        '#thumbnail': {
            'position': 'absolute',
            'top': '0px',
            'left': (MPNotif.NOTIF_WIDTH / 2 - MPNotif.THUMB_OFFSET) + 'px',
            'width': MPNotif.THUMB_IMG_SIZE + 'px',
            'height': MPNotif.THUMB_IMG_SIZE + 'px',
            'overflow': 'hidden',
            'z-index': '100',
            'border-radius': MPNotif.THUMB_IMG_SIZE + 'px'
        },
        '#mini': {
            'position': 'absolute',
            'right': '20px',
            'top': MPNotif.NOTIF_TOP + 'px',
            'width': this.notif_width + 'px',
            'height': MPNotif.NOTIF_HEIGHT_MINI * 2 + 'px',
            'margin-top': 20 - MPNotif.NOTIF_HEIGHT_MINI + 'px',
            'backface-visibility': 'hidden',
            'opacity': '0.0',
            'transform': 'rotateX(90deg)',
            'transition': 'opacity 0.3s, transform 0.3s, right 0.3s'
        },
        '#mini.visible': {
            'opacity': '1.0',
            'transform': 'rotateX(0deg)'
        },
        '#mini.exiting': {
            'opacity': '0.0',
            'right': '-150px'
        },
        '#mainbox': {
            'border-radius': '4px',
            'box-shadow': shadow,
            'text-align': 'center',
            'background-color': this.style_vals.bg,
            'font-size': '14px',
            'color': this.style_vals.text_main
        },
        '#mini #mainbox': {
            'height': MPNotif.NOTIF_HEIGHT_MINI + 'px',
            'margin-top': MPNotif.NOTIF_HEIGHT_MINI + 'px',
            'border-radius': '3px',
            'transition': 'background-color ' + anim_seconds
        },
        '#mini-border': {
            'height': (MPNotif.NOTIF_HEIGHT_MINI + 6) + 'px',
            'width': (MPNotif.NOTIF_WIDTH_MINI + 6) + 'px',
            'position': 'absolute',
            'top': '-3px',
            'left': '-3px',
            'margin-top': MPNotif.NOTIF_HEIGHT_MINI + 'px',
            'border-radius': '6px',
            'opacity': '0.25',
            'background-color': '#fff',
            'z-index': '-1',
            'box-shadow': mini_shadow
        },
        '#mini-icon': {
            'position': 'relative',
            'display': 'inline-block',
            'width': '75px',
            'height': MPNotif.NOTIF_HEIGHT_MINI + 'px',
            'border-radius': '3px 0 0 3px',
            'background-color': this.style_vals.bg_actions,
            'background': 'linear-gradient(135deg, ' + this.style_vals.bg_light + ' 0%, ' + this.style_vals.bg_actions + ' 100%)',
            'transition': 'background-color ' + anim_seconds
        },
        '#mini:hover #mini-icon': {
            'background-color': this.style_vals.mini_hover
        },
        '#mini:hover #mainbox': {
            'background-color': this.style_vals.mini_hover
        },
        '#mini-icon-img': {
            'position': 'absolute',
            'background-image': 'url(' + this.thumb_image_url + ')',
            'width': '48px',
            'height': '48px',
            'top': '20px',
            'left': '12px'
        },
        '#content': {
            'padding': '30px 20px 0px 20px'
        },
        '#mini-content': {
            'text-align': 'left',
            'height': MPNotif.NOTIF_HEIGHT_MINI + 'px',
            'cursor': 'pointer'
        },
        '#img': {
            'width': '328px',
            'margin-top': '30px',
            'border-radius': '5px'
        },
        '#title': {
            'max-height': '600px',
            'overflow': 'hidden',
            'word-wrap': 'break-word',
            'padding': '25px 0px 20px 0px',
            'font-size': '19px',
            'font-weight': 'bold',
            'color': this.style_vals.text_title
        },
        '#body': {
            'max-height': '600px',
            'margin-bottom': '25px',
            'overflow': 'hidden',
            'word-wrap': 'break-word',
            'line-height': '21px',
            'font-size': '15px',
            'font-weight': 'normal',
            'text-align': 'left'
        },
        '#mini #body': {
            'display': 'inline-block',
            'max-width': '250px',
            'margin': '0 0 0 30px',
            'height': MPNotif.NOTIF_HEIGHT_MINI + 'px',
            'font-size': '16px',
            'letter-spacing': '0.8px',
            'color': this.style_vals.text_title
        },
        '#mini #body-text': {
            'display': 'table',
            'height': MPNotif.NOTIF_HEIGHT_MINI + 'px'
        },
        '#mini #body-text div': {
            'display': 'table-cell',
            'vertical-align': 'middle'
        },
        '#tagline': {
            'margin-bottom': '15px',
            'font-size': '10px',
            'font-weight': '600',
            'letter-spacing': '0.8px',
            'color': '#ccd7e0',
            'text-align': 'left'
        },
        '#tagline a': {
            'color': this.style_vals.text_tagline,
            'transition': 'color ' + anim_seconds
        },
        '#tagline a:hover': {
            'color': this.style_vals.text_hover
        },
        '#cancel': {
            'position': 'absolute',
            'right': '0',
            'width': '8px',
            'height': '8px',
            'padding': '10px',
            'border-radius': '20px',
            'margin': '12px 12px 0 0',
            'box-sizing': 'content-box',
            'cursor': 'pointer',
            'transition': 'background-color ' + anim_seconds
        },
        '#mini #cancel': {
            'margin': '7px 7px 0 0'
        },
        '#cancel-icon': {
            'width': '8px',
            'height': '8px',
            'overflow': 'hidden',
            'background-image': 'url(//cdn.mxpnl.com/site_media/images/icons/notifications/cancel-x.png)',
            'opacity': this.style_vals.cancel_opacity
        },
        '#cancel:hover': {
            'background-color': this.style_vals.bg_hover
        },
        '#button': {
            'display': 'block',
            'height': '60px',
            'line-height': '60px',
            'text-align': 'center',
            'background-color': this.style_vals.bg_actions,
            'border-radius': '0 0 4px 4px',
            'overflow': 'hidden',
            'cursor': 'pointer',
            'transition': 'background-color ' + anim_seconds
        },
        '#button-close': {
            'display': 'inline-block',
            'width': '9px',
            'height': '60px',
            'margin-right': '8px',
            'vertical-align': 'top',
            'background-image': 'url(//cdn.mxpnl.com/site_media/images/icons/notifications/close-x-' + this.style + '.png)',
            'background-repeat': 'no-repeat',
            'background-position': '0px 25px'
        },
        '#button-play': {
            'display': 'inline-block',
            'width': '30px',
            'height': '60px',
            'margin-left': '15px',
            'background-image': 'url(//cdn.mxpnl.com/site_media/images/icons/notifications/play-' + this.style + '-small.png)',
            'background-repeat': 'no-repeat',
            'background-position': '0px 15px'
        },
        'a#button-link': {
            'display': 'inline-block',
            'vertical-align': 'top',
            'text-align': 'center',
            'font-size': '17px',
            'font-weight': 'bold',
            'overflow': 'hidden',
            'word-wrap': 'break-word',
            'color': this.style_vals.text_title,
            'transition': 'color ' + anim_seconds
        },
        '#button:hover': {
            'background-color': this.style_vals.bg_hover,
            'color': this.style_vals.text_hover
        },
        '#button:hover a': {
            'color': this.style_vals.text_hover
        },

        '#video-noflip': {
            'position': 'relative',
            'top': (-this.video_height * 2) + 'px'
        },
        '#video-flip': {
            'backface-visibility': 'hidden',
            'transform': 'rotateY(180deg)'
        },
        '#video': {
            'position': 'absolute',
            'width': (this.video_width - 1) + 'px',
            'height': this.video_height + 'px',
            'top': MPNotif.NOTIF_TOP + 'px',
            'margin-top': '100px',
            'left': '50%',
            'margin-left': Math.round(-this.video_width / 2) + 'px',
            'overflow': 'hidden',
            'border-radius': '5px',
            'box-shadow': video_shadow,
            'transform': 'translateZ(1px)', // webkit rendering bug http://stackoverflow.com/questions/18167981/clickable-link-area-unexpectedly-smaller-after-css-transform
            'transition': 'opacity ' + anim_seconds + ', top ' + anim_seconds
        },
        '#video.exiting': {
            'opacity': '0.0',
            'top': this.video_height + 'px'
        },
        '#video-holder': {
            'position': 'absolute',
            'width': (this.video_width - 1) + 'px',
            'height': this.video_height + 'px',
            'overflow': 'hidden',
            'border-radius': '5px'
        },
        '#video-frame': {
            'margin-left': '-1px',
            'width': this.video_width + 'px'
        },
        '#video-controls': {
            'opacity': '0',
            'transition': 'opacity 0.5s'
        },
        '#video:hover #video-controls': {
            'opacity': '1.0'
        },
        '#video .video-progress-el': {
            'position': 'absolute',
            'bottom': '0',
            'height': '25px',
            'border-radius': '0 0 0 5px'
        },
        '#video-progress': {
            'width': '90%'
        },
        '#video-progress-total': {
            'width': '100%',
            'background-color': this.style_vals.bg,
            'opacity': '0.7'
        },
        '#video-elapsed': {
            'width': '0',
            'background-color': '#6cb6f5',
            'opacity': '0.9'
        },
        '#video #video-time': {
            'width': '10%',
            'right': '0',
            'font-size': '11px',
            'line-height': '25px',
            'color': this.style_vals.text_main,
            'background-color': '#666',
            'border-radius': '0 0 5px 0'
        }
    };

    // IE hacks
    if (this._browser_lte('ie', 8)) {
        _.extend(notif_styles, {
            '* html #overlay': {
                'position': 'absolute'
            },
            '* html #bg': {
                'position': 'absolute'
            },
            'html, body': {
                'height': '100%'
            }
        });
    }
    if (this._browser_lte('ie', 7)) {
        _.extend(notif_styles, {
            '#mini #body': {
                'display': 'inline',
                'zoom': '1',
                'border': '1px solid ' + this.style_vals.bg_hover
            },
            '#mini #body-text': {
                'padding': '20px'
            },
            '#mini #mini-icon': {
                'display': 'none'
            }
        });
    }

    // add vendor-prefixed style rules
    var VENDOR_STYLES   = ['backface-visibility', 'border-radius', 'box-shadow', 'opacity',
                               'perspective', 'transform', 'transform-style', 'transition'],
        VENDOR_PREFIXES = ['khtml', 'moz', 'ms', 'o', 'webkit'];
    for (var selector in notif_styles) {
        for (var si = 0; si < VENDOR_STYLES.length; si++) {
            var prop = VENDOR_STYLES[si];
            if (prop in notif_styles[selector]) {
                var val = notif_styles[selector][prop];
                for (var pi = 0; pi < VENDOR_PREFIXES.length; pi++) {
                    notif_styles[selector]['-' + VENDOR_PREFIXES[pi] + '-' + prop] = val;
                }
            }
        }
    }

    var inject_styles = function(styles, media_queries) {
        var create_style_text = function(style_defs) {
            var st = '';
            for (var selector in style_defs) {
                var mp_selector = selector
                        .replace(/#/g, '#' + MPNotif.MARKUP_PREFIX + '-')
                        .replace(/\./g, '.' + MPNotif.MARKUP_PREFIX + '-');
                st += '\n' + mp_selector + ' {';
                var props = style_defs[selector];
                for (var k in props) {
                    st += k + ':' + props[k] + ';';
                }
                st += '}';
            }
            return st;
        };
        var create_media_query_text = function(mq_defs) {
            var mqt = '';
            for (var mq in mq_defs) {
                mqt += '\n' + mq + ' {' + create_style_text(mq_defs[mq]) + '\n}';
            }
            return mqt;
        };

        var style_text = create_style_text(styles) + create_media_query_text(media_queries),
            head_el = document.head || document.getElementsByTagName('head')[0] || document.documentElement,
            style_el = document.createElement('style');
        head_el.appendChild(style_el);
        style_el.setAttribute('type', 'text/css');
        if (style_el.styleSheet) { // IE
            style_el.styleSheet.cssText = style_text;
        } else {
            style_el.textContent = style_text;
        }
    };
    inject_styles(notif_styles, notif_media_queries);
};

MPNotif.prototype._init_video = _.safewrap(function() {
    if (!this.video_url) {
        return;
    }
    var self = this;

    // Youtube iframe API compatibility
    self.yt_custom = 'postMessage' in window;

    self.dest_url = self.video_url;
    var youtube_match = self.video_url.match(
                // http://stackoverflow.com/questions/2936467/parse-youtube-video-id-using-preg-match
                /(?:youtube(?:-nocookie)?\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i
            ),
        vimeo_match = self.video_url.match(
                /vimeo\.com\/.*?(\d+)/i
            );
    if (youtube_match) {
        self.show_video = true;
        self.youtube_video = youtube_match[1];

        if (self.yt_custom) {
            window['onYouTubeIframeAPIReady'] = function() {
                if (self._get_el('video-frame')) {
                    self._yt_video_ready();
                }
            };

            // load Youtube iframe API; see https://developers.google.com/youtube/iframe_api_reference
            var tag = document.createElement('script');
            tag.src = '//www.youtube.com/iframe_api';
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
        }
    } else if (vimeo_match) {
        self.show_video = true;
        self.vimeo_video = vimeo_match[1];
    }

    // IE <= 7, FF <= 3: fall through to video link rather than embedded player
    if (self._browser_lte('ie', 7) || self._browser_lte('firefox', 3)) {
        self.show_video = false;
        self.clickthrough = true;
    }
});

MPNotif.prototype._mark_as_shown = _.safewrap(function() {
    // click on background to dismiss
    var self = this;
    _.register_event(self._get_el('bg'), 'click', function() {
        self.dismiss();
    });

    var get_style = function(el, style_name) {
        var styles = {};
        if (document.defaultView && document.defaultView.getComputedStyle) {
            styles = document.defaultView.getComputedStyle(el, null); // FF3 requires both args
        } else if (el.currentStyle) { // IE
            styles = el.currentStyle;
        }
        return styles[style_name];
    };

    if (this.campaign_id) {
        var notif_el = this._get_el('overlay');
        if (notif_el && get_style(notif_el, 'visibility') !== 'hidden' && get_style(notif_el, 'display') !== 'none') {
            this._mark_delivery();
        }
    }
});

MPNotif.prototype._mark_delivery = _.safewrap(function(extra_props) {
    if (!this.marked_as_shown) {
        this.marked_as_shown = true;

        if (this.campaign_id) {
            // mark notification shown (local cache)
            this._get_shown_campaigns()[this.campaign_id] = 1 * new Date();
            this.persistence.save();
        }

        // track delivery
        this._track_event('$campaign_delivery', extra_props);

        // mark notification shown (mixpanel property)
        this.mixpanel['people']['append']({
            '$campaigns': this.campaign_id,
            '$notifications': {
                'campaign_id': this.campaign_id,
                'message_id':  this.message_id,
                'type':        'web',
                'time':        new Date()
            }
        });
    }
});

MPNotif.prototype._preload_images = function(all_loaded_cb) {
    var self = this;
    if (this.imgs_to_preload.length === 0) {
        all_loaded_cb();
        return;
    }

    var preloaded_imgs = 0;
    var img_objs = [];
    var onload = function() {
        preloaded_imgs++;
        if (preloaded_imgs === self.imgs_to_preload.length && all_loaded_cb) {
            all_loaded_cb();
            all_loaded_cb = null;
        }
    };
    for (var i = 0; i < this.imgs_to_preload.length; i++) {
        var img = new Image();
        img.onload = onload;
        img.src = this.imgs_to_preload[i];
        if (img.complete) {
            onload();
        }
        img_objs.push(img);
    }

    // IE6/7 doesn't fire onload reliably
    if (this._browser_lte('ie', 7)) {
        setTimeout(function() {
            var imgs_loaded = true;
            for (i = 0; i < img_objs.length; i++) {
                if (!img_objs[i].complete) {
                    imgs_loaded = false;
                }
            }
            if (imgs_loaded && all_loaded_cb) {
                all_loaded_cb();
                all_loaded_cb = null;
            }
        }, 500);
    }
};

MPNotif.prototype._remove_notification_el = _.safewrap(function() {
    window.clearInterval(this._video_progress_checker);
    this.notification_el.style.visibility = 'hidden';
    this.body_el.removeChild(this.notification_el);
});

MPNotif.prototype._set_client_config = function() {
    var get_browser_version = function(browser_ex) {
        var match = navigator.userAgent.match(browser_ex);
        return match && match[1];
    };
    this.browser_versions = {};
    this.browser_versions['chrome']  = get_browser_version(/Chrome\/(\d+)/);
    this.browser_versions['firefox'] = get_browser_version(/Firefox\/(\d+)/);
    this.browser_versions['ie']      = get_browser_version(/MSIE (\d+).+/);
    if (!this.browser_versions['ie'] && !(window.ActiveXObject) && 'ActiveXObject' in window) {
        this.browser_versions['ie'] = 11;
    }

    this.body_el = document.body || document.getElementsByTagName('body')[0];
    if (this.body_el) {
        this.doc_width = Math.max(
                this.body_el.scrollWidth, document.documentElement.scrollWidth,
                this.body_el.offsetWidth, document.documentElement.offsetWidth,
                this.body_el.clientWidth, document.documentElement.clientWidth
            );
        this.doc_height = Math.max(
                this.body_el.scrollHeight, document.documentElement.scrollHeight,
                this.body_el.offsetHeight, document.documentElement.offsetHeight,
                this.body_el.clientHeight, document.documentElement.clientHeight
            );
    }

    // detect CSS compatibility
    var ie_ver = this.browser_versions['ie'];
    var sample_styles = document.createElement('div').style,
        is_css_compatible = function(rule) {
            if (rule in sample_styles) {
                return true;
            }
            if (!ie_ver) {
                rule = rule[0].toUpperCase() + rule.slice(1);
                var props = ['O' + rule, 'Webkit' + rule, 'Moz' + rule];
                for (var i = 0; i < props.length; i++) {
                    if (props[i] in sample_styles) {
                        return true;
                    }
                }
            }
            return false;
        };
    this.use_transitions = this.body_el &&
        is_css_compatible('transition') &&
        is_css_compatible('transform');
    this.flip_animate = (this.browser_versions['chrome'] >= 33 || this.browser_versions['firefox'] >= 15) &&
        this.body_el &&
        is_css_compatible('backfaceVisibility') &&
        is_css_compatible('perspective') &&
        is_css_compatible('transform');
};

MPNotif.prototype._switch_to_video = _.safewrap(function() {
    var self = this,
        anims = [
            {
                el:    self._get_notification_display_el(),
                attr:  'opacity',
                start: 1.0,
                goal:  0.0
            },
            {
                el:    self._get_notification_display_el(),
                attr:  'top',
                start: MPNotif.NOTIF_TOP,
                goal:  -500
            },
            {
                el:    self._get_el('video-noflip'),
                attr:  'opacity',
                start: 0.0,
                goal:  1.0
            },
            {
                el:    self._get_el('video-noflip'),
                attr:  'top',
                start: -self.video_height * 2,
                goal:  0
            }
        ];

    if (self.mini) {
        var bg = self._get_el('bg'),
            overlay = self._get_el('overlay');
        bg.style.width = '100%';
        bg.style.height = '100%';
        overlay.style.width = '100%';

        self._add_class(self._get_notification_display_el(), 'exiting');
        self._add_class(bg, 'visible');

        anims.push({
            el:    self._get_el('bg'),
            attr:  'opacity',
            start: 0.0,
            goal:  MPNotif.BG_OPACITY
        });
    }

    var video_el = self._get_el('video-holder');
    video_el.innerHTML = self.video_iframe;

    var video_ready = function() {
        if (window['YT'] && window['YT']['loaded']) {
            self._yt_video_ready();
        }
        self.showing_video = true;
        self._get_notification_display_el().style.visibility = 'hidden';
    };
    if (self.flip_animate) {
        self._add_class('flipper', 'flipped');
        setTimeout(video_ready, MPNotif.ANIM_TIME);
    } else {
        self._animate_els(anims, MPNotif.ANIM_TIME, video_ready);
    }
});

MPNotif.prototype._track_event = function(event_name, properties, cb) {
    if (this.campaign_id) {
        properties = properties || {};
        properties = _.extend(properties, {
            'campaign_id':     this.campaign_id,
            'message_id':      this.message_id,
            'message_type':    'web_inapp',
            'message_subtype': this.notif_type
        });
        this.mixpanel['track'](event_name, properties, cb);
    } else if (cb) {
        cb.call();
    }
};

MPNotif.prototype._yt_video_ready = _.safewrap(function() {
    var self = this;
    if (self.video_inited) {
        return;
    }
    self.video_inited = true;

    var progress_bar  = self._get_el('video-elapsed'),
        progress_time = self._get_el('video-time'),
        progress_el   = self._get_el('video-progress');

    new window['YT']['Player'](MPNotif.MARKUP_PREFIX + '-video-frame', {
        'events': {
            'onReady': function(event) {
                var ytplayer = event['target'],
                    video_duration = ytplayer['getDuration'](),
                    pad = function(i) {
                        return ('00' + i).slice(-2);
                    },
                    update_video_time = function(current_time) {
                        var secs = Math.round(video_duration - current_time),
                            mins = Math.floor(secs / 60),
                            hours = Math.floor(mins / 60);
                        secs -= mins * 60;
                        mins -= hours * 60;
                        progress_time.innerHTML = '-' + (hours ? hours + ':' : '') + pad(mins) + ':' + pad(secs);
                    };
                update_video_time(0);
                self._video_progress_checker = window.setInterval(function() {
                    var current_time = ytplayer['getCurrentTime']();
                    progress_bar.style.width = (current_time / video_duration * 100) + '%';
                    update_video_time(current_time);
                }, 250);
                _.register_event(progress_el, 'click', function(e) {
                    var clickx = Math.max(0, e.pageX - progress_el.getBoundingClientRect().left);
                    ytplayer['seekTo'](video_duration * clickx / progress_el.clientWidth, true);
                });
            }
        }
    });
});

// EXPORTS (for closure compiler)

// MixpanelLib Exports
MixpanelLib.prototype['init']                            = MixpanelLib.prototype.init;
MixpanelLib.prototype['reset']                           = MixpanelLib.prototype.reset;
MixpanelLib.prototype['disable']                         = MixpanelLib.prototype.disable;
MixpanelLib.prototype['time_event']                      = MixpanelLib.prototype.time_event;
MixpanelLib.prototype['track']                           = MixpanelLib.prototype.track;
MixpanelLib.prototype['track_links']                     = MixpanelLib.prototype.track_links;
MixpanelLib.prototype['track_forms']                     = MixpanelLib.prototype.track_forms;
MixpanelLib.prototype['track_pageview']                  = MixpanelLib.prototype.track_pageview;
MixpanelLib.prototype['register']                        = MixpanelLib.prototype.register;
MixpanelLib.prototype['register_once']                   = MixpanelLib.prototype.register_once;
MixpanelLib.prototype['unregister']                      = MixpanelLib.prototype.unregister;
MixpanelLib.prototype['identify']                        = MixpanelLib.prototype.identify;
MixpanelLib.prototype['alias']                           = MixpanelLib.prototype.alias;
MixpanelLib.prototype['name_tag']                        = MixpanelLib.prototype.name_tag;
MixpanelLib.prototype['set_config']                      = MixpanelLib.prototype.set_config;
MixpanelLib.prototype['get_config']                      = MixpanelLib.prototype.get_config;
MixpanelLib.prototype['get_property']                    = MixpanelLib.prototype.get_property;
MixpanelLib.prototype['get_distinct_id']                 = MixpanelLib.prototype.get_distinct_id;
MixpanelLib.prototype['toString']                        = MixpanelLib.prototype.toString;
MixpanelLib.prototype['_check_and_handle_notifications'] = MixpanelLib.prototype._check_and_handle_notifications;
MixpanelLib.prototype['_show_notification']              = MixpanelLib.prototype._show_notification;

// MixpanelPersistence Exports
MixpanelPersistence.prototype['properties']            = MixpanelPersistence.prototype.properties;
MixpanelPersistence.prototype['update_search_keyword'] = MixpanelPersistence.prototype.update_search_keyword;
MixpanelPersistence.prototype['update_referrer_info']  = MixpanelPersistence.prototype.update_referrer_info;
MixpanelPersistence.prototype['get_cross_subdomain']   = MixpanelPersistence.prototype.get_cross_subdomain;
MixpanelPersistence.prototype['clear']                 = MixpanelPersistence.prototype.clear;

// MixpanelPeople Exports
MixpanelPeople.prototype['set']           = MixpanelPeople.prototype.set;
MixpanelPeople.prototype['set_once']      = MixpanelPeople.prototype.set_once;
MixpanelPeople.prototype['increment']     = MixpanelPeople.prototype.increment;
MixpanelPeople.prototype['append']        = MixpanelPeople.prototype.append;
MixpanelPeople.prototype['union']         = MixpanelPeople.prototype.union;
MixpanelPeople.prototype['track_charge']  = MixpanelPeople.prototype.track_charge;
MixpanelPeople.prototype['clear_charges'] = MixpanelPeople.prototype.clear_charges;
MixpanelPeople.prototype['delete_user']   = MixpanelPeople.prototype.delete_user;
MixpanelPeople.prototype['toString']      = MixpanelPeople.prototype.toString;

_.safewrap_class(MixpanelLib, ['identify', '_check_and_handle_notifications', '_show_notification']);

var instances = {};
var extend_mp = function() {
    // add all the sub mixpanel instances
    _.each(instances, function(instance, name) {
        if (name !== PRIMARY_INSTANCE_NAME) { mixpanel_master[name] = instance; }
    });

    // add private functions as _
    mixpanel_master['_'] = _;
};

var override_mp_init_func = function() {
    // we override the snippets init function to handle the case where a
    // user initializes the mixpanel library after the script loads & runs
    mixpanel_master['init'] = function(token, config, name) {
        if (name) {
            // initialize a sub library
            if (!mixpanel_master[name]) {
                mixpanel_master[name] = instances[name] = create_mplib(token, config, name);
                mixpanel_master[name]._loaded();
            }
            return mixpanel_master[name];
        } else {
            var instance = mixpanel_master;

            if (instances[PRIMARY_INSTANCE_NAME]) {
                // main mixpanel lib already initialized
                instance = instances[PRIMARY_INSTANCE_NAME];
            } else if (token) {
                // intialize the main mixpanel lib
                instance = create_mplib(token, config, PRIMARY_INSTANCE_NAME);
                instance._loaded();
                instances[PRIMARY_INSTANCE_NAME] = instance;
            }

            mixpanel_master = instance;
            if (init_type === INIT_SNIPPET) {
                window[PRIMARY_INSTANCE_NAME] = mixpanel_master;
            }
            extend_mp();
        }
    };
};

var add_dom_loaded_handler = function() {
    // Cross browser DOM Loaded support
    function dom_loaded_handler() {
        // function flag since we only want to execute this once
        if (dom_loaded_handler.done) { return; }
        dom_loaded_handler.done = true;

        DOM_LOADED = true;
        ENQUEUE_REQUESTS = false;

        _.each(instances, function(inst) {
            inst._dom_loaded();
        });
    }

    function do_scroll_check() {
        try {
            document.documentElement.doScroll('left');
        } catch(e) {
            setTimeout(do_scroll_check, 1);
            return;
        }

        dom_loaded_handler();
    }

    if (document.addEventListener) {
        if (document.readyState === 'complete') {
            // safari 4 can fire the DOMContentLoaded event before loading all
            // external JS (including this file). you will see some copypasta
            // on the internet that checks for 'complete' and 'loaded', but
            // 'loaded' is an IE thing
            dom_loaded_handler();
        } else {
            document.addEventListener('DOMContentLoaded', dom_loaded_handler, false);
        }
    } else if (document.attachEvent) {
        // IE
        document.attachEvent('onreadystatechange', dom_loaded_handler);

        // check to make sure we arn't in a frame
        var toplevel = false;
        try {
            toplevel = window.frameElement === null;
        } catch(e) {
            // noop
        }

        if (document.documentElement.doScroll && toplevel) {
            do_scroll_check();
        }
    }

    // fallback handler, always will work
    _.register_event(window, 'load', dom_loaded_handler, true);
};

var add_dom_event_counting_handlers = function(instance) {
    var name = instance.get_config('name');

    instance.mp_counts = instance.mp_counts || {};
    instance.mp_counts['$__c'] = parseInt(_.cookie.get('mp_' + name + '__c')) || 0;

    var increment_count = function() {
        instance.mp_counts['$__c'] = (instance.mp_counts['$__c'] || 0) + 1;
        _.cookie.set('mp_' + name + '__c', instance.mp_counts['$__c'], 1, true);
    };

    var evtCallback = function() {
        try {
            instance.mp_counts = instance.mp_counts || {};
            increment_count();
        } catch (e) {
            console$1.error(e);
        }
    };
    _.register_event(document, 'submit', evtCallback);
    _.register_event(document, 'change', evtCallback);
    var mousedownTarget = null;
    _.register_event(document, 'mousedown', function(e) {
        mousedownTarget = e.target;
    });
    _.register_event(document, 'mouseup', function(e) {
        if (e.target === mousedownTarget) {
            evtCallback(e);
        }
    });
};

function init_as_module() {
    init_type = INIT_MODULE;
    mixpanel_master = new MixpanelLib();

    override_mp_init_func();
    mixpanel_master['init']();
    add_dom_loaded_handler();

    return mixpanel_master;
}

var mixpanel = init_as_module();

module.exports = mixpanel;
},{}],196:[function(require,module,exports){
'use strict';

function _jade_template_fn(locals) {
  locals = locals || {};;;
  var result_of_with = function ($component, Object) {
    var h = require('panel').h;
    var proxyAttrs = {
      'modal-type': 'popup'
    };
    ['closeable', 'not-fullscreen', 'open'].forEach(function (attr) {
      return proxyAttrs[attr] = $component.getAttribute(attr);
    });
    return {
      value: h("mp-modal", {
        "attrs": proxyAttrs
      }, function () {
        var __jade_nodes = [];
        __jade_nodes = __jade_nodes.concat(h("div", {
          "class": {
            'mp-alert-container': true
          }
        }, function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(h("div", {
            "class": {
              'mp-alert-body': true
            }
          }, function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(h("div", {
              "class": Object.assign({}, {
                'large-icon': $component.isAttributeEnabled('large-icon')
              }, {
                'mp-alert-icon': true
              })
            }, function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h("svg-icon", {
                "attrs": {
                  icon: 'alert'
                }
              }));;
              return __jade_nodes;
            }.call(this).filter(Boolean)));
            __jade_nodes = __jade_nodes.concat(h("div", {
              "class": {
                'mp-alert-copy': true
              }
            }, function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h("content"));;
              return __jade_nodes;
            }.call(this).filter(Boolean)));;
            return __jade_nodes;
          }.call(this).filter(Boolean)));;
          return __jade_nodes;
        }.call(this).filter(Boolean)));;
        return __jade_nodes;
      }.call(this).filter(Boolean))
    };
  }.call(this, "$component" in locals ? locals.$component : typeof $component !== "undefined" ? $component : undefined, "Object" in locals ? locals.Object : typeof Object !== "undefined" ? Object : undefined);
  if (result_of_with) return result_of_with.value;
}
module.exports = _jade_template_fn;
},{"panel":343}],197:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _panel = require('panel');

var _registerElement = require('../../util/register-element.js');

var _index = require('./index.jade');

var _index2 = _interopRequireDefault(_index);

var _index3 = require('./index.styl');

var _index4 = _interopRequireDefault(_index3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

exports.default = (0, _registerElement.registerMPElement)('mp-alert', function (_Component) {
  _inherits(_class, _Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'config',
    get: function get() {
      return {
        css: _index4.default,
        template: _index2.default,
        useShadowDom: true
      };
    }
  }]);

  return _class;
}(_panel.Component));
},{"../../util/register-element.js":283,"./index.jade":196,"./index.styl":198,"panel":343}],198:[function(require,module,exports){
module.exports = "* {   -webkit-font-smoothing: antialiased; } *:focus {   outline: 0; } *::-ms-clear {   height: 0;   width: 0; } body {   color: #6d859e;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-stretch: normal;   font-weight: 400; } body.no-scroll {   overflow: hidden; } a, .mp-link {   cursor: pointer;   text-decoration: none; } a, .mp-link, a:visited, .mp-link:visited {   color: #3b99f0; } a:hover, .mp-link:hover {   color: #4ba8ff; } .mp-font-size-xl {   font-size: 18px; } .mp-font-size-large {   font-size: 16px; } .mp-font-size-medium {   font-size: 14px; } .mp-font-size-default {   font-size: 13px; } .mp-font-size-xs {   font-size: 11px;   text-transform: uppercase; } .mp-font-weight-bold {   font-weight: 600; } .mp-font-weight-medium {   font-weight: 500; } .mp-font-weight-regular {   font-weight: 400; } .mp-font-paragraph {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } input[type=text], textarea {   border: 1px solid #d8e0ea;   border-radius: 5px;   box-sizing: border-box;   color: #4c6072;   display: inline-block;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 400;   padding: 8px;   transition: border-color 150ms ease-out; } input[type=text]::-webkit-input-placeholder, textarea::-webkit-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::-moz-placeholder, textarea::-moz-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:-ms-input-placeholder, textarea:-ms-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::placeholder, textarea::placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:focus, textarea:focus, input[type=text]:active, textarea:active {   border-color: #3391e9;   transition: border-color 200ms ease-in; } input[type=text] {   height: 36px; } mp-truncated-text {   display: inline-block;   white-space: nowrap;   width: 100%; } svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } svg-icon[icon=lightning-bolt] #bolt, svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } svg-icon[icon=alert] #circle, svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } mp-alert {   width: 300px; } :host {   width: 300px; } mp-modal {   width: inherit; } .mp-alert-container {   display: -webkit-box;   display: -ms-flexbox;   display: flex;   -webkit-box-orient: vertical;   -webkit-box-direction: normal;       -ms-flex-direction: column;           flex-direction: column;   margin-right: 40px; } .mp-alert-container .mp-alert-body {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   display: -webkit-inline-box;   display: -ms-inline-flexbox;   display: inline-flex;   margin: 10px 10px 12px; } .mp-alert-container .mp-alert-icon {   display: inline-block; } .mp-alert-container .mp-alert-icon svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } .mp-alert-container .mp-alert-icon svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .mp-alert-container .mp-alert-icon svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .mp-alert-container .mp-alert-icon svg-icon[icon=lightning-bolt] #bolt, .mp-alert-container .mp-alert-icon svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .mp-alert-container .mp-alert-icon svg-icon[icon=alert] #circle, .mp-alert-container .mp-alert-icon svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .mp-alert-container .mp-alert-icon svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .mp-alert-container .mp-alert-icon svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .mp-alert-container .mp-alert-icon svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } .mp-alert-container .mp-alert-icon svg-icon svg, .mp-alert-container .mp-alert-icon svg-icon path {   color: #ec7191;   fill: #ec7191; } .mp-alert-container .mp-alert-copy {   display: -webkit-inline-box;   display: -ms-inline-flexbox;   display: inline-flex;   -ms-flex-wrap: wrap;       flex-wrap: wrap;   margin-left: 10px; } .large-icon {   margin: auto; } .large-icon svg-icon {   display: inline-block;   height: 40px;   min-height: 40px;   min-width: 40px;   position: relative;   width: 40px; } .large-icon svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .large-icon svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .large-icon svg-icon[icon=lightning-bolt] #bolt, .large-icon svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .large-icon svg-icon[icon=alert] #circle, .large-icon svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .large-icon svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .large-icon svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .large-icon svg-icon svg {   height: 40px;   left: 0;   min-height: 40px;   min-width: 40px;   position: absolute;   top: 0;   width: 40px; } .large-icon svg-icon svg, .large-icon svg-icon path {   color: #ec7191;   fill: #ec7191; } ";

},{}],199:[function(require,module,exports){
"use strict";

function _jade_template_fn(locals) {
  locals = locals || {};;;
  var result_of_with = function ($component, $helpers, Object, inputValue, inputWidth) {
    var h = require('panel').h;
    return {
      value: h("div", {
        "class": {
          'autoresizing-input-input-container': true
        }
      }, function () {
        var __jade_nodes = [];
        __jade_nodes = __jade_nodes.concat(h("input", {
          "attrs": {
            placeholder: $component.getAttribute("placeholder")
          },
          "props": {
            type: "text",
            value: inputValue
          },
          "style": Object.assign({
            width: inputWidth + "px"
          }, $component.getJSONAttribute("input-style-overrides")),
          "on": {
            input: $helpers.updatedInput,
            focus: $helpers.handleFocus,
            blur: $helpers.handleBlur
          },
          "hook": {
            insert: function insert(vnode) {
              return $helpers.inserted(vnode);
            },
            postpatch: function postpatch(oldVnode, vnode) {
              return $helpers.inserted(vnode);
            }
          }
        }));;
        return __jade_nodes;
      }.call(this).filter(Boolean))
    };
  }.call(this, "$component" in locals ? locals.$component : typeof $component !== "undefined" ? $component : undefined, "$helpers" in locals ? locals.$helpers : typeof $helpers !== "undefined" ? $helpers : undefined, "Object" in locals ? locals.Object : typeof Object !== "undefined" ? Object : undefined, "inputValue" in locals ? locals.inputValue : typeof inputValue !== "undefined" ? inputValue : undefined, "inputWidth" in locals ? locals.inputWidth : typeof inputWidth !== "undefined" ? inputWidth : undefined);
  if (result_of_with) return result_of_with.value;
}
module.exports = _jade_template_fn;
},{"panel":343}],200:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _pick = require('lodash/pick');

var _pick2 = _interopRequireDefault(_pick);

var _panel = require('panel');

var _registerElement = require('../../util/register-element.js');

var _index = require('./index.styl');

var _index2 = _interopRequireDefault(_index);

var _index3 = require('./index.jade');

var _index4 = _interopRequireDefault(_index3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var GLOBAL_MIN_WIDTH = 0;
var SIZER_PROPS = ['fontFamily', 'fontSize', 'fontWeight', 'height', 'letterSpacing', 'padding-left', 'padding-right', 'whiteSpace'];

exports.default = (0, _registerElement.registerMPElement)('mp-autoresizing-input', function (_Component) {
  _inherits(_class, _Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'createdCallback',
    value: function createdCallback() {
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'createdCallback', this).apply(this, arguments);
      this.minimumWidth = GLOBAL_MIN_WIDTH;
    }
  }, {
    key: 'attachedCallback',
    value: function attachedCallback() {
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'attachedCallback', this).apply(this, arguments);
      this.removeSizer();
      this.setMinimumWidth(this.getTextWidth(this.getAttribute('placeholder')));
      this.resize();
    }
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(name, oldValue, newValue) {
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'attributeChangedCallback', this).apply(this, arguments);
      if (!this.isAttached && name === 'initial-width') {
        this.update({ inputWidth: newValue });
      } else if (this.isAttached && name === 'placeholder') {
        this.setMinimumWidth(this.getTextWidth(newValue));
      }
    }
  }, {
    key: 'detachedCallback',
    value: function detachedCallback() {
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'detachedCallback', this).apply(this, arguments);
      this.removeSizer();
    }
  }, {
    key: 'removeSizer',
    value: function removeSizer() {
      if (this.sizer) {
        this.sizer.remove();
        this.sizer = null;
      }
    }
  }, {
    key: 'getTextWidth',
    value: function getTextWidth() {
      var text = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';

      if (!this.sizer) {
        this.sizer = this._initSizer();
      }

      // replace spaces with non-break spaces to prevent any measurement error caused by text wrapping
      this.sizer.innerHTML = text.replace(/ /g, '&nbsp;');
      // add an extra 1px to prevent the input caret causing 1px horizontal scrolling glitch
      return this.sizer.getBoundingClientRect().width + 1;
    }
  }, {
    key: 'resize',
    value: function resize() {
      if (this.isAttached) {
        var newWidth = Math.max(this.minimumWidth, this.getTextWidth(this.state.inputValue));
        this.update({ inputWidth: newWidth });
      }
    }
  }, {
    key: 'setMinimumWidth',
    value: function setMinimumWidth(newMin) {
      if (newMin !== this.minimumWidth && newMin > GLOBAL_MIN_WIDTH) {
        this.minimumWidth = newMin;
        this.resize();
      }
    }
  }, {
    key: '_initSizer',
    value: function _initSizer() {
      var sizer = document.createElement('div');
      var input = this.el.querySelector('input');
      var inputStyle = window.getComputedStyle(input);
      Object.assign(sizer.style, (0, _pick2.default)(inputStyle, SIZER_PROPS));
      sizer.style.display = 'inline-block';
      sizer.style.position = 'absolute';
      sizer.style.left = '-9999px';
      sizer.style.visibility = 'hidden';
      document.body.appendChild(sizer);
      return sizer;
    }
  }, {
    key: 'config',
    get: function get() {
      var _this2 = this;

      return {
        css: _index2.default,
        template: _index4.default,
        useShadowDom: true,
        updateSync: true,
        defaultState: {
          autofocus: true,
          inputValue: '',
          inputWidth: GLOBAL_MIN_WIDTH
        },
        helpers: {
          inserted: function inserted(vnode) {
            requestAnimationFrame(function () {
              if (_this2.isAttributeEnabled('focus')) {
                vnode.elm.focus();
              } else {
                vnode.elm.blur();
              }
            });
          },
          handleFocus: function handleFocus() {
            _this2.setAttribute('focus', true);
          },
          handleBlur: function handleBlur() {
            _this2.removeAttribute('focus');
          },
          updatedInput: function updatedInput(ev) {
            _this2.value = ev.target.value;
          }
        }
      };
    }
  }, {
    key: 'isAttached',
    get: function get() {
      return document.body.contains(this);
    }
  }, {
    key: 'value',
    get: function get() {
      return this.state.inputValue;
    },
    set: function set(inputValue) {
      this.update({ inputValue: inputValue });
      this.resize();
    }
  }]);

  return _class;
}(_panel.Component));
},{"../../util/register-element.js":283,"./index.jade":199,"./index.styl":201,"lodash/pick":187,"panel":343}],201:[function(require,module,exports){
module.exports = "* {   -webkit-font-smoothing: antialiased; } *:focus {   outline: 0; } *::-ms-clear {   height: 0;   width: 0; } body {   color: #6d859e;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-stretch: normal;   font-weight: 400; } body.no-scroll {   overflow: hidden; } a, .mp-link {   cursor: pointer;   text-decoration: none; } a, .mp-link, a:visited, .mp-link:visited {   color: #3b99f0; } a:hover, .mp-link:hover {   color: #4ba8ff; } .mp-font-size-xl {   font-size: 18px; } .mp-font-size-large {   font-size: 16px; } .mp-font-size-medium {   font-size: 14px; } .mp-font-size-default {   font-size: 13px; } .mp-font-size-xs {   font-size: 11px;   text-transform: uppercase; } .mp-font-weight-bold {   font-weight: 600; } .mp-font-weight-medium {   font-weight: 500; } .mp-font-weight-regular {   font-weight: 400; } .mp-font-paragraph {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } input[type=text], textarea {   border: 1px solid #d8e0ea;   border-radius: 5px;   box-sizing: border-box;   color: #4c6072;   display: inline-block;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 400;   padding: 8px;   transition: border-color 150ms ease-out; } input[type=text]::-webkit-input-placeholder, textarea::-webkit-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::-moz-placeholder, textarea::-moz-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:-ms-input-placeholder, textarea:-ms-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::placeholder, textarea::placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:focus, textarea:focus, input[type=text]:active, textarea:active {   border-color: #3391e9;   transition: border-color 200ms ease-in; } input[type=text] {   height: 36px; } mp-truncated-text {   display: inline-block;   white-space: nowrap;   width: 100%; } svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } svg-icon[icon=lightning-bolt] #bolt, svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } svg-icon[icon=alert] #circle, svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } mp-autoresizing-input {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   display: -webkit-inline-box;   display: -ms-inline-flexbox;   display: inline-flex; } :host {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   display: -webkit-inline-box;   display: -ms-inline-flexbox;   display: inline-flex; } .autoresizing-input-input-container input {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   border: 0;   border-radius: 0;   box-shadow: none;   color: #3b99f0;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   font-size: 13px;   font-weight: 500;   height: 100%;   margin-right: -1px;   padding: 0; } ";

},{}],202:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _panel = require('panel');

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_Component) {
  _inherits(_class, _Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'attachedCallback',
    value: function attachedCallback() {
      var _this2 = this;

      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'attachedCallback', this).apply(this, arguments);

      // don't dispatch click event if disabled
      this._clickHandler = function (e) {
        if (_this2.isAttributeEnabled('disabled')) {
          e.stopImmediatePropagation();
        }
      };
      this.el.addEventListener('click', this._clickHandler);
    }
  }, {
    key: 'detachedCallback',
    value: function detachedCallback() {
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'detachedCallback', this).apply(this, arguments);
      this.el.removeEventListener('click', this._clickHandler);
      this._clickHandler = null;
    }
  }, {
    key: 'config',
    get: function get() {
      var _this3 = this;

      return {
        useShadowDom: true,
        helpers: {
          getComponentClasses: function getComponentClasses(prefixFilter) {
            var componentClasses = {};
            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
              for (var _iterator = _this3.classList[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                var className = _step.value;

                if (className.startsWith(prefixFilter)) {
                  componentClasses[className] = true;
                }
              }
            } catch (err) {
              _didIteratorError = true;
              _iteratorError = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion && _iterator.return) {
                  _iterator.return();
                }
              } finally {
                if (_didIteratorError) {
                  throw _iteratorError;
                }
              }
            }

            return componentClasses;
          },
          getButtonAttrs: function getButtonAttrs() {
            var attrs = {};
            if (_this3.isAttributeEnabled('disabled')) {
              attrs.disabled = true;
            }
            return attrs;
          }
        }
      };
    }
  }, {
    key: 'disabled',
    get: function get() {
      return this.isAttributeEnabled('disabled');
    },
    set: function set(disabled) {
      this.setAttribute('disabled', disabled);
    }
  }]);

  return _class;
}(_panel.Component);

exports.default = _class;
},{"panel":343}],203:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _panel = require('panel');

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_Component) {
  _inherits(_class, _Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'config',
    get: function get() {
      var _this2 = this;

      return {
        useShadowDom: true,
        helpers: {
          cancel: function cancel() {
            var e = new CustomEvent('submit', { detail: { action: 'cancel' } });
            _this2.dispatchEvent(e);
            if (!e.defaultPrevented) {
              _this2.setAttribute('open', false);
            }
          },
          confirm: function confirm() {
            var e = new CustomEvent('submit', { detail: { action: 'confirm' } });
            _this2.dispatchEvent(e);
            if (!e.defaultPrevented) {
              _this2.setAttribute('open', false);
            }
          }
        }
      };
    }
  }]);

  return _class;
}(_panel.Component);

exports.default = _class;
},{"panel":343}],204:[function(require,module,exports){
"use strict";

function _jade_template_fn(locals) {
  locals = locals || {};;;
  var result_of_with = function ($component, $helpers, Object) {
    var h = require('panel').h;
    return {
      value: h("div", {
        "attrs": $helpers.getButtonAttrs(),
        "class": Object.assign({}, Object.assign($helpers.getComponentClasses("mp-button-bar-"), {
          'mp-button-bar-with-icon': !!$component.getAttribute('icon'),
          'mp-button-bar-blue': $component.getAttribute('color') === 'blue',
          'mp-button-bar-grey': $component.getAttribute('color') === 'grey'
        }), {
          'mp-button-bar-container': true
        })
      }, function () {
        var __jade_nodes = [];
        __jade_nodes = __jade_nodes.concat(h("div", {
          "class": {
            'mp-button-bar-content-wrapper': true
          }
        }, function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(h("div", {
            "class": {
              'mp-button-bar-content': true
            }
          }, function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(h("content"));;
            return __jade_nodes;
          }.call(this).filter(Boolean)));
          __jade_nodes = __jade_nodes.concat($component.isAttributeEnabled('arrow-next') ? function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(h("div", {
              "class": {
                'mp-button-bar-arrow-next': true
              }
            }, function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h("svg-icon", {
                "attrs": {
                  icon: 'arrow-right'
                }
              }));;
              return __jade_nodes;
            }.call(this).filter(Boolean)));;
            return __jade_nodes;
          }.call(this) : undefined);;
          return __jade_nodes;
        }.call(this).filter(Boolean)));;
        return __jade_nodes;
      }.call(this).filter(Boolean))
    };
  }.call(this, "$component" in locals ? locals.$component : typeof $component !== "undefined" ? $component : undefined, "$helpers" in locals ? locals.$helpers : typeof $helpers !== "undefined" ? $helpers : undefined, "Object" in locals ? locals.Object : typeof Object !== "undefined" ? Object : undefined);
  if (result_of_with) return result_of_with.value;
}
module.exports = _jade_template_fn;
},{"panel":343}],205:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _button = require('../base/button');

var _button2 = _interopRequireDefault(_button);

var _registerElement = require('../../util/register-element.js');

var _index = require('./index.jade');

var _index2 = _interopRequireDefault(_index);

var _index3 = require('./index.styl');

var _index4 = _interopRequireDefault(_index3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

exports.default = (0, _registerElement.registerMPElement)('mp-button-bar', function (_Button) {
  _inherits(_class, _Button);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'config',
    get: function get() {
      return Object.assign(_get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'config', this), {
        css: _index4.default,
        template: _index2.default
      });
    }
  }]);

  return _class;
}(_button2.default));
},{"../../util/register-element.js":283,"../base/button":202,"./index.jade":204,"./index.styl":206}],206:[function(require,module,exports){
module.exports = "* {   -webkit-font-smoothing: antialiased; } *:focus {   outline: 0; } *::-ms-clear {   height: 0;   width: 0; } body {   color: #6d859e;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-stretch: normal;   font-weight: 400; } body.no-scroll {   overflow: hidden; } a, .mp-link {   cursor: pointer;   text-decoration: none; } a, .mp-link, a:visited, .mp-link:visited {   color: #3b99f0; } a:hover, .mp-link:hover {   color: #4ba8ff; } .mp-font-size-xl {   font-size: 18px; } .mp-font-size-large {   font-size: 16px; } .mp-font-size-medium {   font-size: 14px; } .mp-font-size-default {   font-size: 13px; } .mp-font-size-xs {   font-size: 11px;   text-transform: uppercase; } .mp-font-weight-bold {   font-weight: 600; } .mp-font-weight-medium {   font-weight: 500; } .mp-font-weight-regular {   font-weight: 400; } .mp-font-paragraph {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } input[type=text], textarea {   border: 1px solid #d8e0ea;   border-radius: 5px;   box-sizing: border-box;   color: #4c6072;   display: inline-block;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 400;   padding: 8px;   transition: border-color 150ms ease-out; } input[type=text]::-webkit-input-placeholder, textarea::-webkit-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::-moz-placeholder, textarea::-moz-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:-ms-input-placeholder, textarea:-ms-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::placeholder, textarea::placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:focus, textarea:focus, input[type=text]:active, textarea:active {   border-color: #3391e9;   transition: border-color 200ms ease-in; } input[type=text] {   height: 36px; } mp-truncated-text {   display: inline-block;   white-space: nowrap;   width: 100%; } svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } svg-icon[icon=lightning-bolt] #bolt, svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } svg-icon[icon=alert] #circle, svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } mp-button-bar {   display: block;   height: 48px;   width: 100%; } :host {   display: block;   height: 48px;   width: 100%; } mp-modal mp-button-bar {   margin-bottom: -2px;   margin-left: -1px;   width: calc(100% + 2px); } :host-context(mp-modal) {   margin-bottom: -2px;   margin-left: -1px;   width: calc(100% + 2px); } .mp-button-bar-container, .mp-button-bar-container * {   box-sizing: border-box; } .mp-button-bar-container {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   border-bottom-left-radius: 5px;   border-bottom-right-radius: 5px;   border-top: 1px solid;   cursor: pointer;   display: -webkit-inline-box;   display: -ms-inline-flexbox;   display: inline-flex;   -webkit-box-flex: 1;       -ms-flex: 1;           flex: 1;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 14px;   font-weight: 600;   height: 100%;   -webkit-box-pack: center;       -ms-flex-pack: center;           justify-content: center;   letter-spacing: 0;   -webkit-user-select: none;      -moz-user-select: none;       -ms-user-select: none;           user-select: none;   width: 100%; } .mp-button-bar-container .mp-button-bar-content-wrapper {   display: -webkit-box;   display: -ms-flexbox;   display: flex;   padding: 0 12px; } .mp-button-bar-container .mp-button-bar-content {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   display: -webkit-inline-box;   display: -ms-inline-flexbox;   display: inline-flex;   -webkit-box-pack: center;       -ms-flex-pack: center;           justify-content: center;   margin-top: -2px;   max-width: 100%; } .mp-button-bar-container svg-icon {   margin-right: 6px; } .mp-button-bar-container content::content svg-icon {   margin-right: 6px; } .mp-button-bar-container:disabled, .mp-button-bar-container[disabled] {   cursor: default; } .mp-button-bar-container:disabled .mp-button-bar-content, .mp-button-bar-container[disabled] .mp-button-bar-content, .mp-button-bar-container:disabled .mp-button-bar-arrow-next, .mp-button-bar-container[disabled] .mp-button-bar-arrow-next {   opacity: 0.6; } .mp-button-bar-container .mp-button-bar-arrow-next {   height: 22px;   margin-left: 6px;   width: 18px; } .mp-button-bar-container.mp-button-bar-blue, .mp-button-bar-container.mp-button-bar-primary {   background-color: #4ba8ff;   border-color: #3391e9; } .mp-button-bar-container.mp-button-bar-blue, .mp-button-bar-container.mp-button-bar-primary {   color: #fff; } .mp-button-bar-container.mp-button-bar-blue svg-icon svg, .mp-button-bar-container.mp-button-bar-primary svg-icon svg, .mp-button-bar-container.mp-button-bar-blue svg-icon path, .mp-button-bar-container.mp-button-bar-primary svg-icon path {   color: #fff;   fill: #fff;   transition: 0s; } .mp-button-bar-container.mp-button-bar-blue content::content, .mp-button-bar-container.mp-button-bar-primary content::content {   color: #fff; } .mp-button-bar-container.mp-button-bar-blue content::content svg-icon svg, .mp-button-bar-container.mp-button-bar-primary content::content svg-icon svg, .mp-button-bar-container.mp-button-bar-blue content::content svg-icon path, .mp-button-bar-container.mp-button-bar-primary content::content svg-icon path {   color: #fff;   fill: #fff;   transition: 0s; } .mp-button-bar-container.mp-button-bar-blue:hover:not([disabled]):not(:disabled), .mp-button-bar-container.mp-button-bar-primary:hover:not([disabled]):not(:disabled) {   background-color: #6cb8ff; } .mp-button-bar-container.mp-button-bar-blue:active:not([disabled]):not(:disabled), .mp-button-bar-container.mp-button-bar-primary:active:not([disabled]):not(:disabled), .mp-button-bar-container.mp-button-bar-blue.mp-button-bar-active:not([disabled]):not(:disabled), .mp-button-bar-container.mp-button-bar-primary.mp-button-bar-active:not([disabled]):not(:disabled) {   background-color: #4ba8ff;   box-shadow: 0 1px 1px 0 rgba(0,0,0,0), inset 0 2px 2px 0 rgba(0,0,0,0.2); } .mp-button-bar-container.mp-button-bar-blue:active:not([disabled]):not(:disabled), .mp-button-bar-container.mp-button-bar-primary:active:not([disabled]):not(:disabled), .mp-button-bar-container.mp-button-bar-blue.mp-button-bar-active:not([disabled]):not(:disabled), .mp-button-bar-container.mp-button-bar-primary.mp-button-bar-active:not([disabled]):not(:disabled) {   color: rgba(255,255,255,0.6); } .mp-button-bar-container.mp-button-bar-blue:active:not([disabled]):not(:disabled) svg-icon svg, .mp-button-bar-container.mp-button-bar-primary:active:not([disabled]):not(:disabled) svg-icon svg, .mp-button-bar-container.mp-button-bar-blue.mp-button-bar-active:not([disabled]):not(:disabled) svg-icon svg, .mp-button-bar-container.mp-button-bar-primary.mp-button-bar-active:not([disabled]):not(:disabled) svg-icon svg, .mp-button-bar-container.mp-button-bar-blue:active:not([disabled]):not(:disabled) svg-icon path, .mp-button-bar-container.mp-button-bar-primary:active:not([disabled]):not(:disabled) svg-icon path, .mp-button-bar-container.mp-button-bar-blue.mp-button-bar-active:not([disabled]):not(:disabled) svg-icon path, .mp-button-bar-container.mp-button-bar-primary.mp-button-bar-active:not([disabled]):not(:disabled) svg-icon path {   color: rgba(255,255,255,0.6);   fill: rgba(255,255,255,0.6);   transition: 0s; } .mp-button-bar-container.mp-button-bar-blue:active:not([disabled]):not(:disabled) content::content, .mp-button-bar-container.mp-button-bar-primary:active:not([disabled]):not(:disabled) content::content, .mp-button-bar-container.mp-button-bar-blue.mp-button-bar-active:not([disabled]):not(:disabled) content::content, .mp-button-bar-container.mp-button-bar-primary.mp-button-bar-active:not([disabled]):not(:disabled) content::content {   color: rgba(255,255,255,0.6); } .mp-button-bar-container.mp-button-bar-blue:active:not([disabled]):not(:disabled) content::content svg-icon svg, .mp-button-bar-container.mp-button-bar-primary:active:not([disabled]):not(:disabled) content::content svg-icon svg, .mp-button-bar-container.mp-button-bar-blue.mp-button-bar-active:not([disabled]):not(:disabled) content::content svg-icon svg, .mp-button-bar-container.mp-button-bar-primary.mp-button-bar-active:not([disabled]):not(:disabled) content::content svg-icon svg, .mp-button-bar-container.mp-button-bar-blue:active:not([disabled]):not(:disabled) content::content svg-icon path, .mp-button-bar-container.mp-button-bar-primary:active:not([disabled]):not(:disabled) content::content svg-icon path, .mp-button-bar-container.mp-button-bar-blue.mp-button-bar-active:not([disabled]):not(:disabled) content::content svg-icon path, .mp-button-bar-container.mp-button-bar-primary.mp-button-bar-active:not([disabled]):not(:disabled) content::content svg-icon path {   color: rgba(255,255,255,0.6);   fill: rgba(255,255,255,0.6);   transition: 0s; } .mp-button-bar-container.mp-button-bar-grey, .mp-button-bar-container.mp-button-bar-secondary {   background-color: #f4f9fd;   border-color: #e5eef4; } .mp-button-bar-container.mp-button-bar-grey, .mp-button-bar-container.mp-button-bar-secondary {   color: #6d859e; } .mp-button-bar-container.mp-button-bar-grey svg-icon svg, .mp-button-bar-container.mp-button-bar-secondary svg-icon svg, .mp-button-bar-container.mp-button-bar-grey svg-icon path, .mp-button-bar-container.mp-button-bar-secondary svg-icon path {   color: #6d859e;   fill: #6d859e;   transition: 0s; } .mp-button-bar-container.mp-button-bar-grey content::content, .mp-button-bar-container.mp-button-bar-secondary content::content {   color: #6d859e; } .mp-button-bar-container.mp-button-bar-grey content::content svg-icon svg, .mp-button-bar-container.mp-button-bar-secondary content::content svg-icon svg, .mp-button-bar-container.mp-button-bar-grey content::content svg-icon path, .mp-button-bar-container.mp-button-bar-secondary content::content svg-icon path {   color: #6d859e;   fill: #6d859e;   transition: 0s; } .mp-button-bar-container.mp-button-bar-grey:hover:not([disabled]):not(:disabled), .mp-button-bar-container.mp-button-bar-secondary:hover:not([disabled]):not(:disabled) {   background-color: #fff; } .mp-button-bar-container.mp-button-bar-grey:hover:not([disabled]):not(:disabled), .mp-button-bar-container.mp-button-bar-secondary:hover:not([disabled]):not(:disabled) {   color: #4ba8ff; } .mp-button-bar-container.mp-button-bar-grey:hover:not([disabled]):not(:disabled) svg-icon svg, .mp-button-bar-container.mp-button-bar-secondary:hover:not([disabled]):not(:disabled) svg-icon svg, .mp-button-bar-container.mp-button-bar-grey:hover:not([disabled]):not(:disabled) svg-icon path, .mp-button-bar-container.mp-button-bar-secondary:hover:not([disabled]):not(:disabled) svg-icon path {   color: #4ba8ff;   fill: #4ba8ff;   transition: 0s; } .mp-button-bar-container.mp-button-bar-grey:hover:not([disabled]):not(:disabled) content::content, .mp-button-bar-container.mp-button-bar-secondary:hover:not([disabled]):not(:disabled) content::content {   color: #4ba8ff; } .mp-button-bar-container.mp-button-bar-grey:hover:not([disabled]):not(:disabled) content::content svg-icon svg, .mp-button-bar-container.mp-button-bar-secondary:hover:not([disabled]):not(:disabled) content::content svg-icon svg, .mp-button-bar-container.mp-button-bar-grey:hover:not([disabled]):not(:disabled) content::content svg-icon path, .mp-button-bar-container.mp-button-bar-secondary:hover:not([disabled]):not(:disabled) content::content svg-icon path {   color: #4ba8ff;   fill: #4ba8ff;   transition: 0s; } .mp-button-bar-container.mp-button-bar-grey:active:not([disabled]):not(:disabled), .mp-button-bar-container.mp-button-bar-secondary:active:not([disabled]):not(:disabled), .mp-button-bar-container.mp-button-bar-grey.mp-button-bar-active:not([disabled]):not(:disabled), .mp-button-bar-container.mp-button-bar-secondary.mp-button-bar-active:not([disabled]):not(:disabled) {   border-color: #e5eef4;   box-shadow: 0 1px 0 0 #e5eef4, inset 0 2px 3px 0 #d8e0ea; } .mp-button-bar-container.mp-button-bar-grey:active:not([disabled]):not(:disabled), .mp-button-bar-container.mp-button-bar-secondary:active:not([disabled]):not(:disabled), .mp-button-bar-container.mp-button-bar-grey.mp-button-bar-active:not([disabled]):not(:disabled), .mp-button-bar-container.mp-button-bar-secondary.mp-button-bar-active:not([disabled]):not(:disabled) {   color: rgba(109,133,158,0.8); } .mp-button-bar-container.mp-button-bar-grey:active:not([disabled]):not(:disabled) svg-icon svg, .mp-button-bar-container.mp-button-bar-secondary:active:not([disabled]):not(:disabled) svg-icon svg, .mp-button-bar-container.mp-button-bar-grey.mp-button-bar-active:not([disabled]):not(:disabled) svg-icon svg, .mp-button-bar-container.mp-button-bar-secondary.mp-button-bar-active:not([disabled]):not(:disabled) svg-icon svg, .mp-button-bar-container.mp-button-bar-grey:active:not([disabled]):not(:disabled) svg-icon path, .mp-button-bar-container.mp-button-bar-secondary:active:not([disabled]):not(:disabled) svg-icon path, .mp-button-bar-container.mp-button-bar-grey.mp-button-bar-active:not([disabled]):not(:disabled) svg-icon path, .mp-button-bar-container.mp-button-bar-secondary.mp-button-bar-active:not([disabled]):not(:disabled) svg-icon path {   color: rgba(109,133,158,0.8);   fill: rgba(109,133,158,0.8);   transition: 0s; } .mp-button-bar-container.mp-button-bar-grey:active:not([disabled]):not(:disabled) content::content, .mp-button-bar-container.mp-button-bar-secondary:active:not([disabled]):not(:disabled) content::content, .mp-button-bar-container.mp-button-bar-grey.mp-button-bar-active:not([disabled]):not(:disabled) content::content, .mp-button-bar-container.mp-button-bar-secondary.mp-button-bar-active:not([disabled]):not(:disabled) content::content {   color: rgba(109,133,158,0.8); } .mp-button-bar-container.mp-button-bar-grey:active:not([disabled]):not(:disabled) content::content svg-icon svg, .mp-button-bar-container.mp-button-bar-secondary:active:not([disabled]):not(:disabled) content::content svg-icon svg, .mp-button-bar-container.mp-button-bar-grey.mp-button-bar-active:not([disabled]):not(:disabled) content::content svg-icon svg, .mp-button-bar-container.mp-button-bar-secondary.mp-button-bar-active:not([disabled]):not(:disabled) content::content svg-icon svg, .mp-button-bar-container.mp-button-bar-grey:active:not([disabled]):not(:disabled) content::content svg-icon path, .mp-button-bar-container.mp-button-bar-secondary:active:not([disabled]):not(:disabled) content::content svg-icon path, .mp-button-bar-container.mp-button-bar-grey.mp-button-bar-active:not([disabled]):not(:disabled) content::content svg-icon path, .mp-button-bar-container.mp-button-bar-secondary.mp-button-bar-active:not([disabled]):not(:disabled) content::content svg-icon path {   color: rgba(109,133,158,0.8);   fill: rgba(109,133,158,0.8);   transition: 0s; } ";

},{}],207:[function(require,module,exports){
"use strict";

function _jade_template_fn(locals) {
  locals = locals || {};;;
  var result_of_with = function ($component, $helpers, Object) {
    var h = require('panel').h;
    return {
      value: h("div", {
        "attrs": $helpers.getButtonAttrs(),
        "class": Object.assign({}, Object.assign($helpers.getComponentClasses("mp-button-"), {
          'mp-button-with-icon': !!$component.getAttribute('icon'),
          'mp-button-blue': $component.getAttribute('color') === 'blue',
          'mp-button-grey': $component.getAttribute('color') === 'grey',
          'mp-button-small': $component.getAttribute('size') === 'small',
          'mp-button-large': $component.getAttribute('size') !== 'small'
        }), {
          'mp-button-container': true
        })
      }, function () {
        var __jade_nodes = [];
        __jade_nodes = __jade_nodes.concat(h("div", {
          "class": {
            'mp-button-content': true
          }
        }, function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat($component.getAttribute('icon') ? function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(h("svg-icon", {
              "attrs": {
                icon: $component.getAttribute('icon')
              }
            }));;
            return __jade_nodes;
          }.call(this) : undefined);
          __jade_nodes = __jade_nodes.concat(h("content"));;
          return __jade_nodes;
        }.call(this).filter(Boolean)));;
        return __jade_nodes;
      }.call(this).filter(Boolean))
    };
  }.call(this, "$component" in locals ? locals.$component : typeof $component !== "undefined" ? $component : undefined, "$helpers" in locals ? locals.$helpers : typeof $helpers !== "undefined" ? $helpers : undefined, "Object" in locals ? locals.Object : typeof Object !== "undefined" ? Object : undefined);
  if (result_of_with) return result_of_with.value;
}
module.exports = _jade_template_fn;
},{"panel":343}],208:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _button = require('../base/button');

var _button2 = _interopRequireDefault(_button);

var _registerElement = require('../../util/register-element.js');

var _index = require('./index.jade');

var _index2 = _interopRequireDefault(_index);

var _index3 = require('./index.styl');

var _index4 = _interopRequireDefault(_index3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

exports.default = (0, _registerElement.registerMPElement)('mp-button', function (_Button) {
  _inherits(_class, _Button);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'config',
    get: function get() {
      return Object.assign(_get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'config', this), {
        css: _index4.default,
        template: _index2.default
      });
    }
  }]);

  return _class;
}(_button2.default));
},{"../../util/register-element.js":283,"../base/button":202,"./index.jade":207,"./index.styl":209}],209:[function(require,module,exports){
module.exports = "* {   -webkit-font-smoothing: antialiased; } *:focus {   outline: 0; } *::-ms-clear {   height: 0;   width: 0; } body {   color: #6d859e;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-stretch: normal;   font-weight: 400; } body.no-scroll {   overflow: hidden; } a, .mp-link {   cursor: pointer;   text-decoration: none; } a, .mp-link, a:visited, .mp-link:visited {   color: #3b99f0; } a:hover, .mp-link:hover {   color: #4ba8ff; } .mp-font-size-xl {   font-size: 18px; } .mp-font-size-large {   font-size: 16px; } .mp-font-size-medium {   font-size: 14px; } .mp-font-size-default {   font-size: 13px; } .mp-font-size-xs {   font-size: 11px;   text-transform: uppercase; } .mp-font-weight-bold {   font-weight: 600; } .mp-font-weight-medium {   font-weight: 500; } .mp-font-weight-regular {   font-weight: 400; } .mp-font-paragraph {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } input[type=text], textarea {   border: 1px solid #d8e0ea;   border-radius: 5px;   box-sizing: border-box;   color: #4c6072;   display: inline-block;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 400;   padding: 8px;   transition: border-color 150ms ease-out; } input[type=text]::-webkit-input-placeholder, textarea::-webkit-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::-moz-placeholder, textarea::-moz-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:-ms-input-placeholder, textarea:-ms-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::placeholder, textarea::placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:focus, textarea:focus, input[type=text]:active, textarea:active {   border-color: #3391e9;   transition: border-color 200ms ease-in; } input[type=text] {   height: 36px; } mp-truncated-text {   display: inline-block;   white-space: nowrap;   width: 100%; } svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } svg-icon[icon=lightning-bolt] #bolt, svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } svg-icon[icon=alert] #circle, svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } mp-button {   border-radius: 5px;   display: inline-block;   height: 40px; } :host {   border-radius: 5px;   display: inline-block;   height: 40px; } mp-button[size=\"small\"] {   border-radius: 3px;   height: 32px; } :host([size=\"small\"]) {   border-radius: 3px;   height: 32px; } .mp-button-container, .mp-button-container * {   box-sizing: border-box; } .mp-button-container {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   border: 1px solid;   border-radius: inherit;   cursor: pointer;   display: -webkit-inline-box;   display: -ms-inline-flexbox;   display: inline-flex;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-weight: 600;   height: 100%;   -webkit-box-pack: center;       -ms-flex-pack: center;           justify-content: center;   letter-spacing: 0;   text-align: center;   -webkit-user-select: none;      -moz-user-select: none;       -ms-user-select: none;           user-select: none;   width: 100%; /* BEGIN COLOR THEMES */ /* ICON STYLES */ /* END ICON STYLES */ } .mp-button-container.mp-button-small {   font-size: 13px;   padding: 0 15px; } .mp-button-container.mp-button-large {   box-shadow: 0 1px 1px 0 rgba(0,0,0,0.2);   font-size: 14px;   padding: 0 25px; } .mp-button-container .mp-button-content {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   display: -webkit-inline-box;   display: -ms-inline-flexbox;   display: inline-flex;   -webkit-box-pack: center;       -ms-flex-pack: center;           justify-content: center;   line-height: 18px; } .mp-button-container:disabled, .mp-button-container[disabled] {   box-shadow: none;   cursor: default; } .mp-button-container:disabled .mp-button-content, .mp-button-container[disabled] .mp-button-content {   opacity: 0.6; } .mp-button-container.mp-button-primary, .mp-button-container.mp-button-blue {   background-image: linear-gradient(0deg, #4ba8ff 0, #6cb8ff 100%);   border-color: #3b99f0;   box-shadow: 0 1px 1px 0 rgba(109,133,158,0.5); } .mp-button-container.mp-button-primary, .mp-button-container.mp-button-blue {   color: #fff; } .mp-button-container.mp-button-primary svg-icon svg, .mp-button-container.mp-button-blue svg-icon svg, .mp-button-container.mp-button-primary svg-icon path, .mp-button-container.mp-button-blue svg-icon path {   color: #fff;   fill: #fff;   transition: 0s; } .mp-button-container.mp-button-primary content::content, .mp-button-container.mp-button-blue content::content {   color: #fff; } .mp-button-container.mp-button-primary content::content svg-icon svg, .mp-button-container.mp-button-blue content::content svg-icon svg, .mp-button-container.mp-button-primary content::content svg-icon path, .mp-button-container.mp-button-blue content::content svg-icon path {   color: #fff;   fill: #fff;   transition: 0s; } .mp-button-container.mp-button-primary:hover:not([disabled]):not(:disabled), .mp-button-container.mp-button-blue:hover:not([disabled]):not(:disabled) {   background-image: linear-gradient(0deg, #6cb8ff 0, #6cb8ff 100%);   box-shadow: 0 2px 1px 0 rgba(155,172,191,0.5); } .mp-button-container.mp-button-primary:active:not([disabled]):not(:disabled), .mp-button-container.mp-button-blue:active:not([disabled]):not(:disabled), .mp-button-container.mp-button-primary.mp-button-active:not([disabled]):not(:disabled), .mp-button-container.mp-button-blue.mp-button-active:not([disabled]):not(:disabled) {   border-color: #4ba8ff;   box-shadow: 0 1px 1px 0 rgba(0,0,0,0), inset 0 2px 2px 0 rgba(0,0,0,0.2); } .mp-button-container.mp-button-primary:active:not([disabled]):not(:disabled), .mp-button-container.mp-button-blue:active:not([disabled]):not(:disabled), .mp-button-container.mp-button-primary.mp-button-active:not([disabled]):not(:disabled), .mp-button-container.mp-button-blue.mp-button-active:not([disabled]):not(:disabled) {   color: rgba(255,255,255,0.6); } .mp-button-container.mp-button-primary:active:not([disabled]):not(:disabled) svg-icon svg, .mp-button-container.mp-button-blue:active:not([disabled]):not(:disabled) svg-icon svg, .mp-button-container.mp-button-primary.mp-button-active:not([disabled]):not(:disabled) svg-icon svg, .mp-button-container.mp-button-blue.mp-button-active:not([disabled]):not(:disabled) svg-icon svg, .mp-button-container.mp-button-primary:active:not([disabled]):not(:disabled) svg-icon path, .mp-button-container.mp-button-blue:active:not([disabled]):not(:disabled) svg-icon path, .mp-button-container.mp-button-primary.mp-button-active:not([disabled]):not(:disabled) svg-icon path, .mp-button-container.mp-button-blue.mp-button-active:not([disabled]):not(:disabled) svg-icon path {   color: rgba(255,255,255,0.6);   fill: rgba(255,255,255,0.6);   transition: 0s; } .mp-button-container.mp-button-primary:active:not([disabled]):not(:disabled) content::content, .mp-button-container.mp-button-blue:active:not([disabled]):not(:disabled) content::content, .mp-button-container.mp-button-primary.mp-button-active:not([disabled]):not(:disabled) content::content, .mp-button-container.mp-button-blue.mp-button-active:not([disabled]):not(:disabled) content::content {   color: rgba(255,255,255,0.6); } .mp-button-container.mp-button-primary:active:not([disabled]):not(:disabled) content::content svg-icon svg, .mp-button-container.mp-button-blue:active:not([disabled]):not(:disabled) content::content svg-icon svg, .mp-button-container.mp-button-primary.mp-button-active:not([disabled]):not(:disabled) content::content svg-icon svg, .mp-button-container.mp-button-blue.mp-button-active:not([disabled]):not(:disabled) content::content svg-icon svg, .mp-button-container.mp-button-primary:active:not([disabled]):not(:disabled) content::content svg-icon path, .mp-button-container.mp-button-blue:active:not([disabled]):not(:disabled) content::content svg-icon path, .mp-button-container.mp-button-primary.mp-button-active:not([disabled]):not(:disabled) content::content svg-icon path, .mp-button-container.mp-button-blue.mp-button-active:not([disabled]):not(:disabled) content::content svg-icon path {   color: rgba(255,255,255,0.6);   fill: rgba(255,255,255,0.6);   transition: 0s; } .mp-button-container.mp-button-primary:active:not([disabled]):not(:disabled).mp-button-small, .mp-button-container.mp-button-blue:active:not([disabled]):not(:disabled).mp-button-small, .mp-button-container.mp-button-primary.mp-button-active:not([disabled]):not(:disabled).mp-button-small, .mp-button-container.mp-button-blue.mp-button-active:not([disabled]):not(:disabled).mp-button-small {   background-color: #4ba8ff; } .mp-button-container.mp-button-primary:active:not([disabled]):not(:disabled).mp-button-large, .mp-button-container.mp-button-blue:active:not([disabled]):not(:disabled).mp-button-large, .mp-button-container.mp-button-primary.mp-button-active:not([disabled]):not(:disabled).mp-button-large, .mp-button-container.mp-button-blue.mp-button-active:not([disabled]):not(:disabled).mp-button-large {   background-image: linear-gradient(0deg, #4ba8ff 0, #6cb8ff 100%); } .mp-button-container.mp-button-primary.mp-button-on-blue, .mp-button-container.mp-button-blue.mp-button-on-blue {   border-color: #2687e3;   box-shadow: none; } .mp-button-container.mp-button-primary.mp-button-on-blue:hover:not([disabled]):not(:disabled).mp-button-small, .mp-button-container.mp-button-blue.mp-button-on-blue:hover:not([disabled]):not(:disabled).mp-button-small {   background-color: #4ba8ff; } .mp-button-container.mp-button-primary.mp-button-on-blue:hover:not([disabled]):not(:disabled).mp-button-large, .mp-button-container.mp-button-blue.mp-button-on-blue:hover:not([disabled]):not(:disabled).mp-button-large {   background-image: linear-gradient(0deg, #4ba8ff 0, #6cb8ff 100%);   box-shadow: 0 1px 1px 0 rgba(0,0,0,0.2); } .mp-button-container.mp-button-primary.mp-button-on-blue:active:not([disabled]):not(:disabled), .mp-button-container.mp-button-blue.mp-button-on-blue:active:not([disabled]):not(:disabled), .mp-button-container.mp-button-primary.mp-button-on-blue.mp-button-active:not([disabled]):not(:disabled), .mp-button-container.mp-button-blue.mp-button-on-blue.mp-button-active:not([disabled]):not(:disabled) {   border-color: #3391e9; } .mp-button-container.mp-button-primary.mp-button-on-blue:active:not([disabled]):not(:disabled).mp-button-large, .mp-button-container.mp-button-blue.mp-button-on-blue:active:not([disabled]):not(:disabled).mp-button-large, .mp-button-container.mp-button-primary.mp-button-on-blue.mp-button-active:not([disabled]):not(:disabled).mp-button-large, .mp-button-container.mp-button-blue.mp-button-on-blue.mp-button-active:not([disabled]):not(:disabled).mp-button-large {   box-shadow: 0 1px 1px 0 rgba(0,0,0,0), inset 0 2px 2px 0 rgba(0,0,0,0.2); } .mp-button-container.mp-button-secondary, .mp-button-container.mp-button-grey {   border-color: #d8e0ea; } .mp-button-container.mp-button-secondary, .mp-button-container.mp-button-grey {   color: #6d859e; } .mp-button-container.mp-button-secondary svg-icon svg, .mp-button-container.mp-button-grey svg-icon svg, .mp-button-container.mp-button-secondary svg-icon path, .mp-button-container.mp-button-grey svg-icon path {   color: #6d859e;   fill: #6d859e;   transition: 0s; } .mp-button-container.mp-button-secondary content::content, .mp-button-container.mp-button-grey content::content {   color: #6d859e; } .mp-button-container.mp-button-secondary content::content svg-icon svg, .mp-button-container.mp-button-grey content::content svg-icon svg, .mp-button-container.mp-button-secondary content::content svg-icon path, .mp-button-container.mp-button-grey content::content svg-icon path {   color: #6d859e;   fill: #6d859e;   transition: 0s; } .mp-button-container.mp-button-secondary.mp-button-small, .mp-button-container.mp-button-grey.mp-button-small {   background-color: #fff;   box-shadow: 0 1px 1px 0 rgba(216,224,234,0.5); } .mp-button-container.mp-button-secondary.mp-button-large, .mp-button-container.mp-button-grey.mp-button-large {   background-image: linear-gradient(0deg, #ecf3f8 0, #fff 100%);   box-shadow: 0 1px 1px 0 rgba(216,224,234,0.5); } .mp-button-container.mp-button-secondary:hover:not([disabled]):not(:disabled), .mp-button-container.mp-button-grey:hover:not([disabled]):not(:disabled) {   box-shadow: 0 2px 1px 0 rgba(216,224,231,0.5); } .mp-button-container.mp-button-secondary:hover:not([disabled]):not(:disabled), .mp-button-container.mp-button-grey:hover:not([disabled]):not(:disabled) {   color: #4ba8ff; } .mp-button-container.mp-button-secondary:hover:not([disabled]):not(:disabled) svg-icon svg, .mp-button-container.mp-button-grey:hover:not([disabled]):not(:disabled) svg-icon svg, .mp-button-container.mp-button-secondary:hover:not([disabled]):not(:disabled) svg-icon path, .mp-button-container.mp-button-grey:hover:not([disabled]):not(:disabled) svg-icon path {   color: #4ba8ff;   fill: #4ba8ff;   transition: 0s; } .mp-button-container.mp-button-secondary:hover:not([disabled]):not(:disabled) content::content, .mp-button-container.mp-button-grey:hover:not([disabled]):not(:disabled) content::content {   color: #4ba8ff; } .mp-button-container.mp-button-secondary:hover:not([disabled]):not(:disabled) content::content svg-icon svg, .mp-button-container.mp-button-grey:hover:not([disabled]):not(:disabled) content::content svg-icon svg, .mp-button-container.mp-button-secondary:hover:not([disabled]):not(:disabled) content::content svg-icon path, .mp-button-container.mp-button-grey:hover:not([disabled]):not(:disabled) content::content svg-icon path {   color: #4ba8ff;   fill: #4ba8ff;   transition: 0s; } .mp-button-container.mp-button-secondary:hover:not([disabled]):not(:disabled).mp-button-large, .mp-button-container.mp-button-grey:hover:not([disabled]):not(:disabled).mp-button-large {   background-image: linear-gradient(0deg, #fff 0, #fff 100%); } .mp-button-container.mp-button-secondary:active:not([disabled]):not(:disabled), .mp-button-container.mp-button-grey:active:not([disabled]):not(:disabled), .mp-button-container.mp-button-secondary.mp-button-active:not([disabled]):not(:disabled), .mp-button-container.mp-button-grey.mp-button-active:not([disabled]):not(:disabled) {   border-color: #d8e0ea;   box-shadow: 0 1px 0 0 #e5eef4, inset 0 2px 3px 0 #d8e0ea; } .mp-button-container.mp-button-secondary:active:not([disabled]):not(:disabled), .mp-button-container.mp-button-grey:active:not([disabled]):not(:disabled), .mp-button-container.mp-button-secondary.mp-button-active:not([disabled]):not(:disabled), .mp-button-container.mp-button-grey.mp-button-active:not([disabled]):not(:disabled) {   color: rgba(110,133,157,0.8); } .mp-button-container.mp-button-secondary:active:not([disabled]):not(:disabled) svg-icon svg, .mp-button-container.mp-button-grey:active:not([disabled]):not(:disabled) svg-icon svg, .mp-button-container.mp-button-secondary.mp-button-active:not([disabled]):not(:disabled) svg-icon svg, .mp-button-container.mp-button-grey.mp-button-active:not([disabled]):not(:disabled) svg-icon svg, .mp-button-container.mp-button-secondary:active:not([disabled]):not(:disabled) svg-icon path, .mp-button-container.mp-button-grey:active:not([disabled]):not(:disabled) svg-icon path, .mp-button-container.mp-button-secondary.mp-button-active:not([disabled]):not(:disabled) svg-icon path, .mp-button-container.mp-button-grey.mp-button-active:not([disabled]):not(:disabled) svg-icon path {   color: rgba(110,133,157,0.8);   fill: rgba(110,133,157,0.8);   transition: 0s; } .mp-button-container.mp-button-secondary:active:not([disabled]):not(:disabled) content::content, .mp-button-container.mp-button-grey:active:not([disabled]):not(:disabled) content::content, .mp-button-container.mp-button-secondary.mp-button-active:not([disabled]):not(:disabled) content::content, .mp-button-container.mp-button-grey.mp-button-active:not([disabled]):not(:disabled) content::content {   color: rgba(110,133,157,0.8); } .mp-button-container.mp-button-secondary:active:not([disabled]):not(:disabled) content::content svg-icon svg, .mp-button-container.mp-button-grey:active:not([disabled]):not(:disabled) content::content svg-icon svg, .mp-button-container.mp-button-secondary.mp-button-active:not([disabled]):not(:disabled) content::content svg-icon svg, .mp-button-container.mp-button-grey.mp-button-active:not([disabled]):not(:disabled) content::content svg-icon svg, .mp-button-container.mp-button-secondary:active:not([disabled]):not(:disabled) content::content svg-icon path, .mp-button-container.mp-button-grey:active:not([disabled]):not(:disabled) content::content svg-icon path, .mp-button-container.mp-button-secondary.mp-button-active:not([disabled]):not(:disabled) content::content svg-icon path, .mp-button-container.mp-button-grey.mp-button-active:not([disabled]):not(:disabled) content::content svg-icon path {   color: rgba(110,133,157,0.8);   fill: rgba(110,133,157,0.8);   transition: 0s; } .mp-button-container.mp-button-secondary.mp-button-on-blue, .mp-button-container.mp-button-grey.mp-button-on-blue {   border-color: transparent;   box-shadow: none; } .mp-button-container.mp-button-secondary.mp-button-on-blue, .mp-button-container.mp-button-grey.mp-button-on-blue {   color: rgba(255,255,255,0.6); } .mp-button-container.mp-button-secondary.mp-button-on-blue svg-icon svg, .mp-button-container.mp-button-grey.mp-button-on-blue svg-icon svg, .mp-button-container.mp-button-secondary.mp-button-on-blue svg-icon path, .mp-button-container.mp-button-grey.mp-button-on-blue svg-icon path {   color: rgba(255,255,255,0.6);   fill: rgba(255,255,255,0.6);   transition: 0s; } .mp-button-container.mp-button-secondary.mp-button-on-blue content::content, .mp-button-container.mp-button-grey.mp-button-on-blue content::content {   color: rgba(255,255,255,0.6); } .mp-button-container.mp-button-secondary.mp-button-on-blue content::content svg-icon svg, .mp-button-container.mp-button-grey.mp-button-on-blue content::content svg-icon svg, .mp-button-container.mp-button-secondary.mp-button-on-blue content::content svg-icon path, .mp-button-container.mp-button-grey.mp-button-on-blue content::content svg-icon path {   color: rgba(255,255,255,0.6);   fill: rgba(255,255,255,0.6);   transition: 0s; } .mp-button-container.mp-button-secondary.mp-button-on-blue.mp-button-small, .mp-button-container.mp-button-grey.mp-button-on-blue.mp-button-small {   background-color: transparent; } .mp-button-container.mp-button-secondary.mp-button-on-blue.mp-button-large, .mp-button-container.mp-button-grey.mp-button-on-blue.mp-button-large {   background-image: none; } .mp-button-container.mp-button-secondary.mp-button-on-blue:hover:not([disabled]):not(:disabled), .mp-button-container.mp-button-grey.mp-button-on-blue:hover:not([disabled]):not(:disabled) {   border-color: transparent;   box-shadow: none; } .mp-button-container.mp-button-secondary.mp-button-on-blue:hover:not([disabled]):not(:disabled), .mp-button-container.mp-button-grey.mp-button-on-blue:hover:not([disabled]):not(:disabled) {   color: #fff; } .mp-button-container.mp-button-secondary.mp-button-on-blue:hover:not([disabled]):not(:disabled) svg-icon svg, .mp-button-container.mp-button-grey.mp-button-on-blue:hover:not([disabled]):not(:disabled) svg-icon svg, .mp-button-container.mp-button-secondary.mp-button-on-blue:hover:not([disabled]):not(:disabled) svg-icon path, .mp-button-container.mp-button-grey.mp-button-on-blue:hover:not([disabled]):not(:disabled) svg-icon path {   color: #fff;   fill: #fff;   transition: 0s; } .mp-button-container.mp-button-secondary.mp-button-on-blue:hover:not([disabled]):not(:disabled) content::content, .mp-button-container.mp-button-grey.mp-button-on-blue:hover:not([disabled]):not(:disabled) content::content {   color: #fff; } .mp-button-container.mp-button-secondary.mp-button-on-blue:hover:not([disabled]):not(:disabled) content::content svg-icon svg, .mp-button-container.mp-button-grey.mp-button-on-blue:hover:not([disabled]):not(:disabled) content::content svg-icon svg, .mp-button-container.mp-button-secondary.mp-button-on-blue:hover:not([disabled]):not(:disabled) content::content svg-icon path, .mp-button-container.mp-button-grey.mp-button-on-blue:hover:not([disabled]):not(:disabled) content::content svg-icon path {   color: #fff;   fill: #fff;   transition: 0s; } .mp-button-container.mp-button-secondary.mp-button-on-blue:hover:not([disabled]):not(:disabled).mp-button-small, .mp-button-container.mp-button-grey.mp-button-on-blue:hover:not([disabled]):not(:disabled).mp-button-small {   background-color: transparent; } .mp-button-container.mp-button-secondary.mp-button-on-blue:hover:not([disabled]):not(:disabled).mp-button-large, .mp-button-container.mp-button-grey.mp-button-on-blue:hover:not([disabled]):not(:disabled).mp-button-large {   background-image: none; } .mp-button-container.mp-button-secondary.mp-button-on-blue:active:not([disabled]):not(:disabled), .mp-button-container.mp-button-grey.mp-button-on-blue:active:not([disabled]):not(:disabled), .mp-button-container.mp-button-secondary.mp-button-on-blue.mp-button-active:not([disabled]):not(:disabled), .mp-button-container.mp-button-grey.mp-button-on-blue.mp-button-active:not([disabled]):not(:disabled) {   background-color: #4ba8ff;   border-color: transparent;   box-shadow: none; } .mp-button-container.mp-button-secondary.mp-button-on-blue:active:not([disabled]):not(:disabled), .mp-button-container.mp-button-grey.mp-button-on-blue:active:not([disabled]):not(:disabled), .mp-button-container.mp-button-secondary.mp-button-on-blue.mp-button-active:not([disabled]):not(:disabled), .mp-button-container.mp-button-grey.mp-button-on-blue.mp-button-active:not([disabled]):not(:disabled) {   color: rgba(255,255,255,0.6); } .mp-button-container.mp-button-secondary.mp-button-on-blue:active:not([disabled]):not(:disabled) svg-icon svg, .mp-button-container.mp-button-grey.mp-button-on-blue:active:not([disabled]):not(:disabled) svg-icon svg, .mp-button-container.mp-button-secondary.mp-button-on-blue.mp-button-active:not([disabled]):not(:disabled) svg-icon svg, .mp-button-container.mp-button-grey.mp-button-on-blue.mp-button-active:not([disabled]):not(:disabled) svg-icon svg, .mp-button-container.mp-button-secondary.mp-button-on-blue:active:not([disabled]):not(:disabled) svg-icon path, .mp-button-container.mp-button-grey.mp-button-on-blue:active:not([disabled]):not(:disabled) svg-icon path, .mp-button-container.mp-button-secondary.mp-button-on-blue.mp-button-active:not([disabled]):not(:disabled) svg-icon path, .mp-button-container.mp-button-grey.mp-button-on-blue.mp-button-active:not([disabled]):not(:disabled) svg-icon path {   color: rgba(255,255,255,0.6);   fill: rgba(255,255,255,0.6);   transition: 0s; } .mp-button-container.mp-button-secondary.mp-button-on-blue:active:not([disabled]):not(:disabled) content::content, .mp-button-container.mp-button-grey.mp-button-on-blue:active:not([disabled]):not(:disabled) content::content, .mp-button-container.mp-button-secondary.mp-button-on-blue.mp-button-active:not([disabled]):not(:disabled) content::content, .mp-button-container.mp-button-grey.mp-button-on-blue.mp-button-active:not([disabled]):not(:disabled) content::content {   color: rgba(255,255,255,0.6); } .mp-button-container.mp-button-secondary.mp-button-on-blue:active:not([disabled]):not(:disabled) content::content svg-icon svg, .mp-button-container.mp-button-grey.mp-button-on-blue:active:not([disabled]):not(:disabled) content::content svg-icon svg, .mp-button-container.mp-button-secondary.mp-button-on-blue.mp-button-active:not([disabled]):not(:disabled) content::content svg-icon svg, .mp-button-container.mp-button-grey.mp-button-on-blue.mp-button-active:not([disabled]):not(:disabled) content::content svg-icon svg, .mp-button-container.mp-button-secondary.mp-button-on-blue:active:not([disabled]):not(:disabled) content::content svg-icon path, .mp-button-container.mp-button-grey.mp-button-on-blue:active:not([disabled]):not(:disabled) content::content svg-icon path, .mp-button-container.mp-button-secondary.mp-button-on-blue.mp-button-active:not([disabled]):not(:disabled) content::content svg-icon path, .mp-button-container.mp-button-grey.mp-button-on-blue.mp-button-active:not([disabled]):not(:disabled) content::content svg-icon path {   color: rgba(255,255,255,0.6);   fill: rgba(255,255,255,0.6);   transition: 0s; } .mp-button-container.mp-button-red {   background-image: linear-gradient(to top, #e4567b, #ec7191);   border-color: #d64174;   box-shadow: 0 1px 1px 0 rgba(109,133,158,0.5); } .mp-button-container.mp-button-red {   color: #fff; } .mp-button-container.mp-button-red svg-icon svg, .mp-button-container.mp-button-red svg-icon path {   color: #fff;   fill: #fff;   transition: 0s; } .mp-button-container.mp-button-red content::content {   color: #fff; } .mp-button-container.mp-button-red content::content svg-icon svg, .mp-button-container.mp-button-red content::content svg-icon path {   color: #fff;   fill: #fff;   transition: 0s; } .mp-button-container.mp-button-red:hover:not([disabled]):not(:disabled) {   background-image: linear-gradient(0deg, #ec7191 0, #ec7191 100%);   box-shadow: 0 2px 1px 0 rgba(155,172,191,0.5); } .mp-button-container.mp-button-red:active:not([disabled]):not(:disabled), .mp-button-container.mp-button-red.mp-button-active:not([disabled]):not(:disabled) {   box-shadow: 0 1px 1px 0 rgba(0,0,0,0), inset 0 2px 2px 0 rgba(0,0,0,0.2); } .mp-button-container.mp-button-red:active:not([disabled]):not(:disabled), .mp-button-container.mp-button-red.mp-button-active:not([disabled]):not(:disabled) {   color: rgba(255,255,255,0.6); } .mp-button-container.mp-button-red:active:not([disabled]):not(:disabled) svg-icon svg, .mp-button-container.mp-button-red.mp-button-active:not([disabled]):not(:disabled) svg-icon svg, .mp-button-container.mp-button-red:active:not([disabled]):not(:disabled) svg-icon path, .mp-button-container.mp-button-red.mp-button-active:not([disabled]):not(:disabled) svg-icon path {   color: rgba(255,255,255,0.6);   fill: rgba(255,255,255,0.6);   transition: 0s; } .mp-button-container.mp-button-red:active:not([disabled]):not(:disabled) content::content, .mp-button-container.mp-button-red.mp-button-active:not([disabled]):not(:disabled) content::content {   color: rgba(255,255,255,0.6); } .mp-button-container.mp-button-red:active:not([disabled]):not(:disabled) content::content svg-icon svg, .mp-button-container.mp-button-red.mp-button-active:not([disabled]):not(:disabled) content::content svg-icon svg, .mp-button-container.mp-button-red:active:not([disabled]):not(:disabled) content::content svg-icon path, .mp-button-container.mp-button-red.mp-button-active:not([disabled]):not(:disabled) content::content svg-icon path {   color: rgba(255,255,255,0.6);   fill: rgba(255,255,255,0.6);   transition: 0s; } .mp-button-container.mp-button-red:active:not([disabled]):not(:disabled).mp-button-small, .mp-button-container.mp-button-red.mp-button-active:not([disabled]):not(:disabled).mp-button-small {   background-color: #e4567b; } .mp-button-container.mp-button-red:active:not([disabled]):not(:disabled).mp-button-large, .mp-button-container.mp-button-red.mp-button-active:not([disabled]):not(:disabled).mp-button-large {   background-image: linear-gradient(0deg, #e4567b 0, #ec7191 100%); } .mp-button-container.mp-button-with-icon.mp-button-small {   padding: 0 15px 0 8px; } .mp-button-container.mp-button-with-icon.mp-button-small svg-icon {   margin-right: 2px; } .mp-button-container.mp-button-with-icon.mp-button-small svg-icon[icon='plus'] svg {   height: 22px;   min-height: 22px;   min-width: 22px;   width: 22px;   left: 0;   top: -2px; } .mp-button-container.mp-button-with-icon.mp-button-small svg-icon {   display: inline-block;   height: 18px;   min-height: 18px;   min-width: 18px;   position: relative;   width: 18px; } .mp-button-container.mp-button-with-icon.mp-button-small svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .mp-button-container.mp-button-with-icon.mp-button-small svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .mp-button-container.mp-button-with-icon.mp-button-small svg-icon[icon=lightning-bolt] #bolt, .mp-button-container.mp-button-with-icon.mp-button-small svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .mp-button-container.mp-button-with-icon.mp-button-small svg-icon[icon=alert] #circle, .mp-button-container.mp-button-with-icon.mp-button-small svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .mp-button-container.mp-button-with-icon.mp-button-small svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .mp-button-container.mp-button-with-icon.mp-button-small svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .mp-button-container.mp-button-with-icon.mp-button-small svg-icon svg {   height: 18px;   left: 0;   min-height: 18px;   min-width: 18px;   position: absolute;   top: 0;   width: 18px; } .mp-button-container.mp-button-with-icon.mp-button-large {   padding: 0 25px 0 16px; } .mp-button-container.mp-button-with-icon.mp-button-large svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } .mp-button-container.mp-button-with-icon.mp-button-large svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .mp-button-container.mp-button-with-icon.mp-button-large svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .mp-button-container.mp-button-with-icon.mp-button-large svg-icon[icon=lightning-bolt] #bolt, .mp-button-container.mp-button-with-icon.mp-button-large svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .mp-button-container.mp-button-with-icon.mp-button-large svg-icon[icon=alert] #circle, .mp-button-container.mp-button-with-icon.mp-button-large svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .mp-button-container.mp-button-with-icon.mp-button-large svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .mp-button-container.mp-button-with-icon.mp-button-large svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .mp-button-container.mp-button-with-icon.mp-button-large svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } .mp-button-container.mp-button-with-icon.mp-button-large svg-icon {   margin-right: 6px; } .mp-button-container.mp-button-with-icon.mp-button-large svg-icon[icon='x'] {   margin-right: 2px; } .mp-button-container.mp-button-with-icon.mp-button-large svg-icon[icon='plus'] svg {   height: 30px;   min-height: 30px;   min-width: 30px;   width: 30px;   left: 0;   top: -4px; } .mp-button-container.mp-button-with-icon.mp-button-large svg-icon[icon='caret-up'], .mp-button-container.mp-button-with-icon.mp-button-large svg-icon[icon='caret-down'] {   margin-right: 2px; } ";

},{}],210:[function(require,module,exports){
"use strict";

function _jade_template_fn(locals) {
  locals = locals || {};
  var h = require('panel').h;
  return h("div", {
    "class": {
      'calendar': true
    }
  });
}
module.exports = _jade_template_fn;
},{"panel":343}],211:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _panel = require('panel');

var _pikaday = require('pikaday');

var _pikaday2 = _interopRequireDefault(_pikaday);

var _date = require('../../util/date');

var _registerElement = require('../../util/register-element.js');

var _index = require('./index.jade');

var _index2 = _interopRequireDefault(_index);

var _index3 = require('./index.styl');

var _index4 = _interopRequireDefault(_index3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var INCOMPLETE_RANGE_CLASS = 'incomplete-range';

exports.default = (0, _registerElement.registerMPElement)('mp-calendar', function (_Component) {
  _inherits(_class, _Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'attachedCallback',
    value: function attachedCallback() {
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'attachedCallback', this).apply(this, arguments);

      this.init();
    }
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(name) {
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'attributeChangedCallback', this).apply(this, arguments);

      if (!this.initialized || this.ignoreAttributeChanges) {
        return;
      }

      if (['is-from-date-focused', 'is-to-date-focused', 'selected-date', 'selected-from-date', 'selected-to-date'].includes(name)) {
        this.updatePicker();
      }
    }
  }, {
    key: 'getDateAttribute',
    value: function getDateAttribute(name) {
      var date = this.getAttribute(name);
      if (date && date !== 'null') {
        if (this.parseDate(date)) {
          return date;
        } else {
          throw new Error(name + ' is set to invalid value ' + date);
        }
      } else {
        return null;
      }
    }
  }, {
    key: 'setDateAttribute',
    value: function setDateAttribute(name, date) {
      if (date) {
        this.setAttribute(name, date);
      } else {
        this.removeAttribute(name);
      }
    }
  }, {
    key: 'init',
    value: function init() {
      var _this2 = this;

      this.contentEl = this.el.querySelector('.calendar');
      this.contentEl.innerHTML = '';

      this.picker = new _pikaday2.default({
        bound: false,
        // HACK: Set events to disabled days in the future gives these days a specific class to indicate they are
        // events. Doing this allows targeting disabled days in the past and future separately to give them different
        // styles.
        events: this.getFutureDateObjs(),
        mainCalendar: 'right',
        maxDate: this.maxDate ? this.parseDate(this.maxDate) : null,
        minDate: this.minDate ? this.parseDate(this.minDate) : null,
        numberOfMonths: this.isDoubleCalendar ? 2 : 1,
        i18n: {
          previousMonth: 'Previous Month',
          nextMonth: 'Next Month',
          months: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
          weekdays: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
          weekdaysShort: ['SU', 'MO', 'TU', 'WE', 'TH', 'FR', 'SA']
        },
        showDaysInNextAndPreviousMonths: false,
        theme: 'pika-mixpanel',
        yearRange: 10,
        onSelect: function onSelect(date) {
          return _this2.handleSelectDate(date);
        },
        onDraw: function onDraw() {
          return _this2.handleDraw();
        }
      });

      // Pikaday registers a keydown event handler on the document (?#&!), get rid of it
      document.removeEventListener('keydown', this.picker._onKeyChange);

      this.contentEl.appendChild(this.picker.el);

      if (!this.isRange) {
        if (this.selectedDate) {
          this.picker.gotoDate(this.parseDate(this.selectedDate));
        }
      } else {
        if (this.selectedToDate) {
          this.picker.gotoDate(this.parseDate(this.selectedToDate));
        } else if (this.selectedFromDate) {
          this.picker.gotoDate(this.parseDate(this.selectedFromDate));
        }
      }
      this.updatePicker();
    }
  }, {
    key: 'getFutureDateObjs',
    value: function getFutureDateObjs() {
      if (!this.maxDate) {
        return [];
      }

      var futureDates = [];
      var maxDate = this.parseDate(this.maxDate);
      var date = maxDate.getDate();
      var thisMonth = maxDate.getMonth();
      var thisYear = maxDate.getFullYear();
      var newDate = new Date(thisYear, thisMonth, date);
      while (newDate.getMonth() === thisMonth) {
        futureDates.push(newDate.toDateString());
        date++;
        newDate = new Date(thisYear, thisMonth, date);
      }
      return futureDates;
    }
  }, {
    key: 'updatePicker',
    value: function updatePicker() {
      if (!this.picker) {
        return;
      }

      if (!this.isRange) {
        this.picker.setStartRange(null);
        this.picker.setEndRange(null);
        this.picker.setDate(this.selectedDate ? this.parseDate(this.selectedDate) : null, /* preventOnSelect= */true);
      } else {
        this.picker.setDate(null);
        this.picker.setStartRange(this.selectedFromDate ? this.parseDate(this.selectedFromDate) : null);
        this.picker.setEndRange(this.selectedToDate ? this.parseDate(this.selectedToDate) : null);
      }

      if (!this.selectedFromDate ^ !this.selectedToDate) {
        this.picker.el.classList.add(INCOMPLETE_RANGE_CLASS);
      } else {
        this.picker.el.classList.remove(INCOMPLETE_RANGE_CLASS);
      }

      this.picker.draw();
    }
  }, {
    key: 'formatDate',
    value: function formatDate(dateObj) {
      var date = (0, _date.formatDate)(dateObj, { iso: true });
      if (!date) {
        throw new Error('Could not formatDate(' + dateObj + ')');
      }
      return date;
    }
  }, {
    key: 'parseDate',
    value: function parseDate(date) {
      var dateObj = (0, _date.parseDate)(date);
      if (!dateObj) {
        throw new Error('Could not parseDate(' + date + ')');
      }
      return dateObj;
    }
  }, {
    key: 'handleSelectDate',
    value: function handleSelectDate(dateObj) {
      this.ignoreAttributeChanges = true;

      var date = this.formatDate(dateObj);
      var oldDate = this.selectedDate;
      var oldFrom = this.selectedFromDate;
      var oldTo = this.selectedToDate;

      if (!this.isRange) {
        this.selectedDate = date;
      } else {
        if (this.isFromDateFocused || this.isToDateFocused) {
          if (this.isFromDateFocused) {
            this.selectedFromDate = date;

            var _normalizeDateRange = (0, _date.normalizeDateRange)(this.selectedFromDate, this.selectedToDate, 'from');

            var _normalizeDateRange2 = _slicedToArray(_normalizeDateRange, 2);

            this.selectedFromDate = _normalizeDateRange2[0];
            this.selectedToDate = _normalizeDateRange2[1];
          } else {
            this.selectedToDate = date;

            var _normalizeDateRange3 = (0, _date.normalizeDateRange)(this.selectedFromDate, this.selectedToDate, 'to');

            var _normalizeDateRange4 = _slicedToArray(_normalizeDateRange3, 2);

            this.selectedFromDate = _normalizeDateRange4[0];
            this.selectedToDate = _normalizeDateRange4[1];
          }
        } else {
          if (!this.selectedFromDate) {
            this.selectedFromDate = date;
          } else if (!this.selectedToDate) {
            this.selectedToDate = date;
          } else {
            this.selectedFromDate = date;
            this.selectedToDate = null;
          }

          if (this.selectedFromDate && this.selectedToDate && this.parseDate(this.selectedFromDate) > this.parseDate(this.selectedToDate)) {
            var _ref = [this.selectedToDate, this.selectedFromDate];
            this.selectedFromDate = _ref[0];
            this.selectedToDate = _ref[1];
          }
        }
      }

      if (this.selectedDate !== oldDate || this.selectedFromDate !== oldFrom || this.selectedToDate !== oldTo) {
        this.updatePicker();
      }

      this.emitSelectDate();

      this.ignoreAttributeChanges = false;
    }
  }, {
    key: 'emitSelectDate',
    value: function emitSelectDate() {
      var detail = {};
      if (this.isRange) {
        detail.from = this.selectedFromDate;
        detail.to = this.selectedToDate;
      } else {
        detail.date = this.selectedDate;
      }
      this.dispatchEvent(new CustomEvent('selectDate', { detail: detail }));
    }
  }, {
    key: 'handleDraw',
    value: function handleDraw() {
      if (!this.picker) {
        // Pikaday will trigger this callback in its constructor, before this.picker has been initialized.
        return;
      }

      this.addPickerRowClasses();
      this.dispatchEvent(new CustomEvent('draw'));
    }

    // For each tr, if it has a child td.is-(start|end|in)range give it the class .has-(start|end|in)range
    // Used to handle edge cases around highlighting cells in the month grid where days are not shown
    // because they are from previous or following months. We still want to highlight these cells
    // according to the date range that is selected.

  }, {
    key: 'addPickerRowClasses',
    value: function addPickerRowClasses() {
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = Array.from(this.picker.el.getElementsByTagName('tr'))[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var row = _step.value;
          var _arr = ['start', 'end', 'in'];

          var _loop = function _loop() {
            var type = _arr[_i];
            if (Array.from(row.childNodes).some(function (node) {
              return node.classList.contains('is-' + type + 'range');
            })) {
              row.classList.add('has-' + type + 'range');
            }
          };

          for (var _i = 0; _i < _arr.length; _i++) {
            _loop();
          }
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }
    }
  }, {
    key: 'config',
    get: function get() {
      return {
        css: _index4.default,
        template: _index2.default,
        useShadowDom: true,
        // updateSync is needed since we attach the pikaday calendar to this component in the attachedCallback, so
        // we need the DOM updated synchronously in the attachedCallback.
        updateSync: true
      };
    }
  }, {
    key: 'isDoubleCalendar',
    get: function get() {
      return this.isAttributeEnabled('is-double-calendar');
    }
  }, {
    key: 'isRange',
    get: function get() {
      return this.isAttributeEnabled('is-range');
    }
  }, {
    key: 'minDate',
    get: function get() {
      return this.getDateAttribute('min-date');
    }
  }, {
    key: 'maxDate',
    get: function get() {
      if (this.hasAttribute('max-date')) {
        return this.getDateAttribute('max-date');
      } else {
        return this.formatDate(new Date());
      }
    }
  }, {
    key: 'selectedDate',
    get: function get() {
      return this.getDateAttribute('selected-date');
    },
    set: function set(date) {
      this.setDateAttribute('selected-date', date);
    }
  }, {
    key: 'selectedFromDate',
    get: function get() {
      return this.getDateAttribute('selected-from-date');
    },
    set: function set(date) {
      this.setDateAttribute('selected-from-date', date);
    }
  }, {
    key: 'selectedToDate',
    get: function get() {
      return this.getDateAttribute('selected-to-date');
    },
    set: function set(date) {
      this.setDateAttribute('selected-to-date', date);
    }
  }, {
    key: 'isFromDateFocused',
    get: function get() {
      return this.isAttributeEnabled('is-from-date-focused');
    }
  }, {
    key: 'isToDateFocused',
    get: function get() {
      return this.isAttributeEnabled('is-to-date-focused');
    }
  }]);

  return _class;
}(_panel.Component));
},{"../../util/date":279,"../../util/register-element.js":283,"./index.jade":210,"./index.styl":212,"panel":343,"pikaday":347}],212:[function(require,module,exports){
module.exports = "@charset \"UTF-8\";  /*!  * Pikaday  * Copyright  2014 David Bushell | BSD & MIT license | http://dbushell.com/  */  .pika-single {     z-index: 9999;     display: block;     position: relative;     color: #333;     background: #fff;     border: 1px solid #ccc;     border-bottom-color: #bbb;     font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif; }  /* clear child float (pika-lendar), using the famous micro clearfix hack http://nicolasgallagher.com/micro-clearfix-hack/ */ .pika-single:before, .pika-single:after {     content: \" \";     display: table; } .pika-single:after { clear: both } .pika-single { *zoom: 1 }  .pika-single.is-hidden {     display: none; }  .pika-single.is-bound {     position: absolute;     box-shadow: 0 5px 15px -5px rgba(0,0,0,.5); }  .pika-lendar {     float: left;     width: 240px;     margin: 8px; }  .pika-title {     position: relative;     text-align: center; }  .pika-label {     display: inline-block;     *display: inline;     position: relative;     z-index: 9999;     overflow: hidden;     margin: 0;     padding: 5px 3px;     font-size: 14px;     line-height: 20px;     font-weight: bold;     background-color: #fff; } .pika-title select {     cursor: pointer;     position: absolute;     z-index: 9998;     margin: 0;     left: 0;     top: 5px;     filter: alpha(opacity=0);     opacity: 0; }  .pika-prev, .pika-next {     display: block;     cursor: pointer;     position: relative;     outline: none;     border: 0;     padding: 0;     width: 20px;     height: 30px;     /* hide text using text-indent trick, using width value (it's enough) */     text-indent: 20px;     white-space: nowrap;     overflow: hidden;     background-color: transparent;     background-position: center center;     background-repeat: no-repeat;     background-size: 75% 75%;     opacity: .5;     *position: absolute;     *top: 0; }  .pika-prev:hover, .pika-next:hover {     opacity: 1; }  .pika-prev, .is-rtl .pika-next {     float: left;     background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAAUklEQVR42u3VMQoAIBADQf8Pgj+OD9hG2CtONJB2ymQkKe0HbwAP0xucDiQWARITIDEBEnMgMQ8S8+AqBIl6kKgHiXqQqAeJepBo/z38J/U0uAHlaBkBl9I4GwAAAABJRU5ErkJggg==');     *left: 0; }  .pika-next, .is-rtl .pika-prev {     float: right;     background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAAU0lEQVR42u3VOwoAMAgE0dwfAnNjU26bYkBCFGwfiL9VVWoO+BJ4Gf3gtsEKKoFBNTCoCAYVwaAiGNQGMUHMkjGbgjk2mIONuXo0nC8XnCf1JXgArVIZAQh5TKYAAAAASUVORK5CYII=');     *right: 0; }  .pika-prev.is-disabled, .pika-next.is-disabled {     cursor: default;     opacity: .2; }  .pika-select {     display: inline-block;     *display: inline; }  .pika-table {     width: 100%;     border-collapse: collapse;     border-spacing: 0;     border: 0; }  .pika-table th, .pika-table td {     width: 14.285714285714286%;     padding: 0; }  .pika-table th {     color: #999;     font-size: 12px;     line-height: 25px;     font-weight: bold;     text-align: center; }  .pika-button {     cursor: pointer;     display: block;     box-sizing: border-box;     -moz-box-sizing: border-box;     outline: none;     border: 0;     margin: 0;     width: 100%;     padding: 5px;     color: #666;     font-size: 12px;     line-height: 15px;     text-align: right;     background: #f5f5f5; }  .pika-week {     font-size: 11px;     color: #999; }  .is-today .pika-button {     color: #33aaff;     font-weight: bold; }  .is-selected .pika-button, .has-event .pika-button {     color: #fff;     font-weight: bold;     background: #33aaff;     box-shadow: inset 0 1px 3px #178fe5;     border-radius: 3px; }  .has-event .pika-button {     background: #005da9;     box-shadow: inset 0 1px 3px #0076c9; }  .is-disabled .pika-button, .is-inrange .pika-button {     background: #D5E9F7; }  .is-startrange .pika-button {     color: #fff;     background: #6CB31D;     box-shadow: none;     border-radius: 3px; }  .is-endrange .pika-button {     color: #fff;     background: #33aaff;     box-shadow: none;     border-radius: 3px; }  .is-disabled .pika-button, .is-outside-current-month .pika-button {     pointer-events: none;     cursor: default;     color: #999;     opacity: .3; }  .pika-button:hover {     color: #fff;     background: #ff8000;     box-shadow: none;     border-radius: 3px; }  /* styling for abbr */ .pika-table abbr {     border-bottom: none;     cursor: help; }   * {   -webkit-font-smoothing: antialiased; } *:focus {   outline: 0; } *::-ms-clear {   height: 0;   width: 0; } body {   color: #6d859e;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-stretch: normal;   font-weight: 400; } body.no-scroll {   overflow: hidden; } a, .mp-link {   cursor: pointer;   text-decoration: none; } a, .mp-link, a:visited, .mp-link:visited {   color: #3b99f0; } a:hover, .mp-link:hover {   color: #4ba8ff; } .mp-font-size-xl {   font-size: 18px; } .mp-font-size-large {   font-size: 16px; } .mp-font-size-medium {   font-size: 14px; } .mp-font-size-default {   font-size: 13px; } .mp-font-size-xs {   font-size: 11px;   text-transform: uppercase; } .mp-font-weight-bold {   font-weight: 600; } .mp-font-weight-medium {   font-weight: 500; } .mp-font-weight-regular {   font-weight: 400; } .mp-font-paragraph {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } input[type=text], textarea {   border: 1px solid #d8e0ea;   border-radius: 5px;   box-sizing: border-box;   color: #4c6072;   display: inline-block;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 400;   padding: 8px;   transition: border-color 150ms ease-out; } input[type=text]::-webkit-input-placeholder, textarea::-webkit-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::-moz-placeholder, textarea::-moz-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:-ms-input-placeholder, textarea:-ms-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::placeholder, textarea::placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:focus, textarea:focus, input[type=text]:active, textarea:active {   border-color: #3391e9;   transition: border-color 200ms ease-in; } input[type=text] {   height: 36px; } mp-truncated-text {   display: inline-block;   white-space: nowrap;   width: 100%; } svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } svg-icon[icon=lightning-bolt] #bolt, svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } svg-icon[icon=alert] #circle, svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } mp-calendar {   display: inline-block;   width: 240px; /* --- highlight styles --- */ } mp-calendar .pika-mixpanel {   border: 0;   border-radius: 10px;   width: 100%; } mp-calendar .pika-mixpanel .pika-lendar {   margin-left: 0;   margin-right: 0;   padding: 8px 0;   width: 100%; } mp-calendar .pika-mixpanel .pika-title {   color: #4c6072;   font-size: 14px;   margin-bottom: 7px;   text-align: center; } mp-calendar .pika-mixpanel .pika-title .pika-prev, mp-calendar .pika-mixpanel .pika-title .pika-next {   background-color: #9bacbf;   background-image: none;   border-radius: 20px;   height: 24px;   position: absolute;   top: 2px;   width: 24px; } mp-calendar .pika-mixpanel .pika-title .pika-prev::before, mp-calendar .pika-mixpanel .pika-title .pika-next::before {   content: '';   display: block;   height: 30px;   position: relative;   top: -3px;   width: 30px; } mp-calendar .pika-mixpanel .pika-title .pika-prev {   left: 20px; } mp-calendar .pika-mixpanel .pika-title .pika-prev::before {   background: url(\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiIgdmlld0JveD0iMCAwIDIyIDIyIj4KPHBhdGggZmlsbD0iIzAwMCIgZD0iTTguMjkzIDEwLjI5M2w0LTRjMC4zOTEtMC4zOTEgMS4wMjMtMC4zOTEgMS40MTQgMHMwLjM5MSAxLjAyMyAwIDEuNDE0bC0zLjI5MyAzLjI5MyAzLjI5MyAzLjI5M2MwLjM5MSAwLjM5MSAwLjM5MSAxLjAyMyAwIDEuNDE0LTAuMTk1IDAuMTk1LTAuNDUxIDAuMjkzLTAuNzA3IDAuMjkzcy0wLjUxMi0wLjA5OC0wLjcwNy0wLjI5M2wtNC00Yy0wLjM5MS0wLjM5MS0wLjM5MS0xLjAyMyAwLTEuNDE0eiI+PC9wYXRoPgo8L3N2Zz4K\") no-repeat center;   left: -4px; } mp-calendar .pika-mixpanel .pika-title .pika-next {   right: 20px; } mp-calendar .pika-mixpanel .pika-title .pika-next::before {   background: url(\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiIgdmlld0JveD0iMCAwIDIyIDIyIj4KPHBhdGggZmlsbD0iIzAwMCIgZD0iTTEzLjcwNyAxMC4yOTNsLTQtNGMtMC4zOTEtMC4zOTEtMS4wMjMtMC4zOTEtMS40MTQgMHMtMC4zOTEgMS4wMjMgMCAxLjQxNGwzLjI5MyAzLjI5My0zLjI5MyAzLjI5M2MtMC4zOTEgMC4zOTEtMC4zOTEgMS4wMjMgMCAxLjQxNCAwLjE5NSAwLjE5NSAwLjQ1MSAwLjI5MyAwLjcwNyAwLjI5M3MwLjUxMi0wLjA5OCAwLjcwNy0wLjI5M2w0LTRjMC4zOTEtMC4zOTEgMC4zOTEtMS4wMjMgMC0xLjQxNHoiPjwvcGF0aD4KPC9zdmc+Cg==\") no-repeat center;   left: -2px; } mp-calendar .pika-mixpanel table.pika-table th {   color: #6d859e;   padding-bottom: 8px; } mp-calendar .pika-mixpanel table.pika-table th abbr {   cursor: initial;   text-decoration: none; } mp-calendar .pika-mixpanel table.pika-table th, mp-calendar .pika-mixpanel table.pika-table td {   position: relative;   width: 32px; } mp-calendar .pika-mixpanel table.pika-table th:first-child, mp-calendar .pika-mixpanel table.pika-table td:first-child {   padding-left: 15px; } mp-calendar .pika-mixpanel table.pika-table th:last-child, mp-calendar .pika-mixpanel table.pika-table td:last-child {   padding-right: 15px; } mp-calendar .pika-mixpanel table.pika-table .pika-button {   background-color: transparent;   box-shadow: none;   color: #6d859e;   font-weight: bold;   height: 24px;   margin: 0 auto;   position: relative;   text-align: center;   width: 24px; } mp-calendar .pika-mixpanel table.pika-table td:not(.is-selected):not(.is-startrange):not(.is-endrange):not(.is-disabled):hover .pika-button {   background-color: #ecf3f8;   border-radius: 15px;   width: 24px; } mp-calendar .pika-mixpanel table.pika-table td:not(.is-selected):not(.is-startrange):not(.is-endrange):not(.is-disabled):hover.is-inrange .pika-button {   background-color: #2687e3; } mp-calendar .pika-mixpanel table.pika-table td.is-selected .pika-button, mp-calendar .pika-mixpanel table.pika-table td.is-startrange .pika-button, mp-calendar .pika-mixpanel table.pika-table td.is-endrange .pika-button {   background-color: #2687e3;   border-radius: 15px;   color: #fff;   width: 24px; } mp-calendar .pika-mixpanel table.pika-table td.is-inrange .pika-button {   color: #fff; } mp-calendar .pika-mixpanel table.pika-table td.is-disabled .pika-button {   opacity: 0.5; } mp-calendar .pika-mixpanel table.pika-table td.is-disabled:not(.has-event) .pika-button {   color: #9270e2;   opacity: 1; } mp-calendar .pika-mixpanel:not(.incomplete-range) table.pika-table td.is-startrange::before, mp-calendar .pika-mixpanel:not(.incomplete-range) table.pika-table td.is-endrange::before {   background-color: #4ba8ff;   content: '';   height: 100%;   position: absolute;   top: 0;   width: 15px; } mp-calendar .pika-mixpanel:not(.incomplete-range) table.pika-table td.is-startrange.is-startrange:not(:last-child)::before, mp-calendar .pika-mixpanel:not(.incomplete-range) table.pika-table td.is-endrange.is-startrange:not(:last-child)::before {   right: 0; } mp-calendar .pika-mixpanel:not(.incomplete-range) table.pika-table td.is-startrange.is-startrange:last-child, mp-calendar .pika-mixpanel:not(.incomplete-range) table.pika-table td.is-endrange.is-startrange:last-child {   background-color: #4ba8ff; } mp-calendar .pika-mixpanel:not(.incomplete-range) table.pika-table td.is-startrange.is-startrange:last-child::before, mp-calendar .pika-mixpanel:not(.incomplete-range) table.pika-table td.is-endrange.is-startrange:last-child::before {   background-color: #fff;   left: 0; } mp-calendar .pika-mixpanel:not(.incomplete-range) table.pika-table td.is-startrange.is-endrange:not(:first-child)::before, mp-calendar .pika-mixpanel:not(.incomplete-range) table.pika-table td.is-endrange.is-endrange:not(:first-child)::before {   left: 0; } mp-calendar .pika-mixpanel:not(.incomplete-range) table.pika-table td.is-startrange.is-endrange:first-child, mp-calendar .pika-mixpanel:not(.incomplete-range) table.pika-table td.is-endrange.is-endrange:first-child {   background-color: #4ba8ff; } mp-calendar .pika-mixpanel:not(.incomplete-range) table.pika-table td.is-startrange.is-endrange:first-child::before, mp-calendar .pika-mixpanel:not(.incomplete-range) table.pika-table td.is-endrange.is-endrange:first-child::before {   background-color: #fff;   right: 0; } mp-calendar .pika-mixpanel:not(.incomplete-range) table.pika-table td.is-startrange.is-endrange::before {   display: none; } mp-calendar .pika-mixpanel:not(.incomplete-range) table.pika-table td.is-inrange {   background-color: #4ba8ff; } mp-calendar .pika-mixpanel:not(.incomplete-range) table.pika-table tr:first-child:not(.has-startrange).has-inrange td.is-empty, mp-calendar .pika-mixpanel:not(.incomplete-range) table.pika-table tr:first-child:not(.has-startrange).has-endrange td.is-empty {   background-color: #4ba8ff; } mp-calendar .pika-mixpanel:not(.incomplete-range) table.pika-table tr:last-child:not(.has-endrange).has-inrange td.is-empty, mp-calendar .pika-mixpanel:not(.incomplete-range) table.pika-table tr:last-child:not(.has-endrange).has-startrange td.is-empty {   background-color: #4ba8ff; } :host {   display: inline-block;   width: 240px; /* --- highlight styles --- */ } :host .pika-mixpanel {   border: 0;   border-radius: 10px;   width: 100%; } :host .pika-mixpanel .pika-lendar {   margin-left: 0;   margin-right: 0;   padding: 8px 0;   width: 100%; } :host .pika-mixpanel .pika-title {   color: #4c6072;   font-size: 14px;   margin-bottom: 7px;   text-align: center; } :host .pika-mixpanel .pika-title .pika-prev, :host .pika-mixpanel .pika-title .pika-next {   background-color: #9bacbf;   background-image: none;   border-radius: 20px;   height: 24px;   position: absolute;   top: 2px;   width: 24px; } :host .pika-mixpanel .pika-title .pika-prev::before, :host .pika-mixpanel .pika-title .pika-next::before {   content: '';   display: block;   height: 30px;   position: relative;   top: -3px;   width: 30px; } :host .pika-mixpanel .pika-title .pika-prev {   left: 20px; } :host .pika-mixpanel .pika-title .pika-prev::before {   background: url(\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiIgdmlld0JveD0iMCAwIDIyIDIyIj4KPHBhdGggZmlsbD0iIzAwMCIgZD0iTTguMjkzIDEwLjI5M2w0LTRjMC4zOTEtMC4zOTEgMS4wMjMtMC4zOTEgMS40MTQgMHMwLjM5MSAxLjAyMyAwIDEuNDE0bC0zLjI5MyAzLjI5MyAzLjI5MyAzLjI5M2MwLjM5MSAwLjM5MSAwLjM5MSAxLjAyMyAwIDEuNDE0LTAuMTk1IDAuMTk1LTAuNDUxIDAuMjkzLTAuNzA3IDAuMjkzcy0wLjUxMi0wLjA5OC0wLjcwNy0wLjI5M2wtNC00Yy0wLjM5MS0wLjM5MS0wLjM5MS0xLjAyMyAwLTEuNDE0eiI+PC9wYXRoPgo8L3N2Zz4K\") no-repeat center;   left: -4px; } :host .pika-mixpanel .pika-title .pika-next {   right: 20px; } :host .pika-mixpanel .pika-title .pika-next::before {   background: url(\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiIgdmlld0JveD0iMCAwIDIyIDIyIj4KPHBhdGggZmlsbD0iIzAwMCIgZD0iTTEzLjcwNyAxMC4yOTNsLTQtNGMtMC4zOTEtMC4zOTEtMS4wMjMtMC4zOTEtMS40MTQgMHMtMC4zOTEgMS4wMjMgMCAxLjQxNGwzLjI5MyAzLjI5My0zLjI5MyAzLjI5M2MtMC4zOTEgMC4zOTEtMC4zOTEgMS4wMjMgMCAxLjQxNCAwLjE5NSAwLjE5NSAwLjQ1MSAwLjI5MyAwLjcwNyAwLjI5M3MwLjUxMi0wLjA5OCAwLjcwNy0wLjI5M2w0LTRjMC4zOTEtMC4zOTEgMC4zOTEtMS4wMjMgMC0xLjQxNHoiPjwvcGF0aD4KPC9zdmc+Cg==\") no-repeat center;   left: -2px; } :host .pika-mixpanel table.pika-table th {   color: #6d859e;   padding-bottom: 8px; } :host .pika-mixpanel table.pika-table th abbr {   cursor: initial;   text-decoration: none; } :host .pika-mixpanel table.pika-table th, :host .pika-mixpanel table.pika-table td {   position: relative;   width: 32px; } :host .pika-mixpanel table.pika-table th:first-child, :host .pika-mixpanel table.pika-table td:first-child {   padding-left: 15px; } :host .pika-mixpanel table.pika-table th:last-child, :host .pika-mixpanel table.pika-table td:last-child {   padding-right: 15px; } :host .pika-mixpanel table.pika-table .pika-button {   background-color: transparent;   box-shadow: none;   color: #6d859e;   font-weight: bold;   height: 24px;   margin: 0 auto;   position: relative;   text-align: center;   width: 24px; } :host .pika-mixpanel table.pika-table td:not(.is-selected):not(.is-startrange):not(.is-endrange):not(.is-disabled):hover .pika-button {   background-color: #ecf3f8;   border-radius: 15px;   width: 24px; } :host .pika-mixpanel table.pika-table td:not(.is-selected):not(.is-startrange):not(.is-endrange):not(.is-disabled):hover.is-inrange .pika-button {   background-color: #2687e3; } :host .pika-mixpanel table.pika-table td.is-selected .pika-button, :host .pika-mixpanel table.pika-table td.is-startrange .pika-button, :host .pika-mixpanel table.pika-table td.is-endrange .pika-button {   background-color: #2687e3;   border-radius: 15px;   color: #fff;   width: 24px; } :host .pika-mixpanel table.pika-table td.is-inrange .pika-button {   color: #fff; } :host .pika-mixpanel table.pika-table td.is-disabled .pika-button {   opacity: 0.5; } :host .pika-mixpanel table.pika-table td.is-disabled:not(.has-event) .pika-button {   color: #9270e2;   opacity: 1; } :host .pika-mixpanel:not(.incomplete-range) table.pika-table td.is-startrange::before, :host .pika-mixpanel:not(.incomplete-range) table.pika-table td.is-endrange::before {   background-color: #4ba8ff;   content: '';   height: 100%;   position: absolute;   top: 0;   width: 15px; } :host .pika-mixpanel:not(.incomplete-range) table.pika-table td.is-startrange.is-startrange:not(:last-child)::before, :host .pika-mixpanel:not(.incomplete-range) table.pika-table td.is-endrange.is-startrange:not(:last-child)::before {   right: 0; } :host .pika-mixpanel:not(.incomplete-range) table.pika-table td.is-startrange.is-startrange:last-child, :host .pika-mixpanel:not(.incomplete-range) table.pika-table td.is-endrange.is-startrange:last-child {   background-color: #4ba8ff; } :host .pika-mixpanel:not(.incomplete-range) table.pika-table td.is-startrange.is-startrange:last-child::before, :host .pika-mixpanel:not(.incomplete-range) table.pika-table td.is-endrange.is-startrange:last-child::before {   background-color: #fff;   left: 0; } :host .pika-mixpanel:not(.incomplete-range) table.pika-table td.is-startrange.is-endrange:not(:first-child)::before, :host .pika-mixpanel:not(.incomplete-range) table.pika-table td.is-endrange.is-endrange:not(:first-child)::before {   left: 0; } :host .pika-mixpanel:not(.incomplete-range) table.pika-table td.is-startrange.is-endrange:first-child, :host .pika-mixpanel:not(.incomplete-range) table.pika-table td.is-endrange.is-endrange:first-child {   background-color: #4ba8ff; } :host .pika-mixpanel:not(.incomplete-range) table.pika-table td.is-startrange.is-endrange:first-child::before, :host .pika-mixpanel:not(.incomplete-range) table.pika-table td.is-endrange.is-endrange:first-child::before {   background-color: #fff;   right: 0; } :host .pika-mixpanel:not(.incomplete-range) table.pika-table td.is-startrange.is-endrange::before {   display: none; } :host .pika-mixpanel:not(.incomplete-range) table.pika-table td.is-inrange {   background-color: #4ba8ff; } :host .pika-mixpanel:not(.incomplete-range) table.pika-table tr:first-child:not(.has-startrange).has-inrange td.is-empty, :host .pika-mixpanel:not(.incomplete-range) table.pika-table tr:first-child:not(.has-startrange).has-endrange td.is-empty {   background-color: #4ba8ff; } :host .pika-mixpanel:not(.incomplete-range) table.pika-table tr:last-child:not(.has-endrange).has-inrange td.is-empty, :host .pika-mixpanel:not(.incomplete-range) table.pika-table tr:last-child:not(.has-endrange).has-startrange td.is-empty {   background-color: #4ba8ff; } mp-calendar[is-double-calendar=\"true\"] {   width: 492px; } mp-calendar[is-double-calendar=\"true\"] .pika-mixpanel {   width: 100%; } mp-calendar[is-double-calendar=\"true\"] .pika-mixpanel .pika-lendar {   width: 50%; } mp-calendar[is-double-calendar=\"true\"] .pika-mixpanel .pika-lendar:not(:first-child) table {   border-left: 1px solid #d8e0ea; } mp-calendar[is-double-calendar=\"true\"] .pika-mixpanel .pika-lendar table.pika-table th:first-child, mp-calendar[is-double-calendar=\"true\"] .pika-mixpanel .pika-lendar table.pika-table td:first-child {   padding-left: 18px; } mp-calendar[is-double-calendar=\"true\"] .pika-mixpanel .pika-lendar table.pika-table th:last-child, mp-calendar[is-double-calendar=\"true\"] .pika-mixpanel .pika-lendar table.pika-table td:last-child {   padding-right: 18px; } :host([is-double-calendar=\"true\"]) {   width: 492px; } :host([is-double-calendar=\"true\"]) .pika-mixpanel {   width: 100%; } :host([is-double-calendar=\"true\"]) .pika-mixpanel .pika-lendar {   width: 50%; } :host([is-double-calendar=\"true\"]) .pika-mixpanel .pika-lendar:not(:first-child) table {   border-left: 1px solid #d8e0ea; } :host([is-double-calendar=\"true\"]) .pika-mixpanel .pika-lendar table.pika-table th:first-child, :host([is-double-calendar=\"true\"]) .pika-mixpanel .pika-lendar table.pika-table td:first-child {   padding-left: 18px; } :host([is-double-calendar=\"true\"]) .pika-mixpanel .pika-lendar table.pika-table th:last-child, :host([is-double-calendar=\"true\"]) .pika-mixpanel .pika-lendar table.pika-table td:last-child {   padding-right: 18px; } ";

},{}],213:[function(require,module,exports){
'use strict';

function _jade_template_fn(locals) {
  locals = locals || {};;;
  var result_of_with = function ($component, $helpers) {
    var h = require('panel').h;
    var proxyAttrs = {};
    ['closeable', 'open'].forEach(function (attr) {
      return proxyAttrs[attr] = $component.getAttribute(attr);
    });
    return {
      value: h("mp-modal", {
        "attrs": proxyAttrs
      }, function () {
        var __jade_nodes = [];
        __jade_nodes = __jade_nodes.concat(h("div", {
          "class": {
            'mp-confirm-delete-container': true
          }
        }, function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(h("div", {
            "class": {
              'mp-confirm-delete-body': true
            }
          }, function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(h("div", {
              "class": {
                'mp-confirm-delete-icon': true
              }
            }, function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h("svg-icon", {
                "attrs": {
                  icon: 'alert'
                }
              }));;
              return __jade_nodes;
            }.call(this).filter(Boolean)));
            __jade_nodes = __jade_nodes.concat(h("div", {
              "class": {
                'mp-confirm-delete-copy': true
              }
            }, function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h("content"));;
              return __jade_nodes;
            }.call(this).filter(Boolean)));;
            return __jade_nodes;
          }.call(this).filter(Boolean)));
          __jade_nodes = __jade_nodes.concat(h("div", {
            "class": {
              'mp-confirm-delete-buttons': true
            }
          }, function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(h("mp-button", {
              "on": {
                click: $helpers.cancel
              },
              "class": {
                'mp-button-secondary': true
              }
            }, function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat($component.getAttribute('cancel-button-label') || 'Cancel');;
              return __jade_nodes;
            }.call(this).filter(Boolean)));
            __jade_nodes = __jade_nodes.concat(h("mp-button", {
              "on": {
                click: $helpers.confirm
              },
              "class": {
                'mp-button-red': true
              }
            }, function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat($component.getAttribute('delete-button-label') || 'Delete');;
              return __jade_nodes;
            }.call(this).filter(Boolean)));;
            return __jade_nodes;
          }.call(this).filter(Boolean)));;
          return __jade_nodes;
        }.call(this).filter(Boolean)));;
        return __jade_nodes;
      }.call(this).filter(Boolean))
    };
  }.call(this, "$component" in locals ? locals.$component : typeof $component !== "undefined" ? $component : undefined, "$helpers" in locals ? locals.$helpers : typeof $helpers !== "undefined" ? $helpers : undefined);
  if (result_of_with) return result_of_with.value;
}
module.exports = _jade_template_fn;
},{"panel":343}],214:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _confirm = require('../base/confirm');

var _confirm2 = _interopRequireDefault(_confirm);

var _registerElement = require('../../util/register-element.js');

var _index = require('./index.jade');

var _index2 = _interopRequireDefault(_index);

var _index3 = require('./index.styl');

var _index4 = _interopRequireDefault(_index3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

exports.default = (0, _registerElement.registerMPElement)('mp-confirm-delete', function (_Confirm) {
  _inherits(_class, _Confirm);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'config',
    get: function get() {
      return Object.assign(_get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'config', this), {
        css: _index4.default,
        template: _index2.default
      });
    }
  }]);

  return _class;
}(_confirm2.default));
},{"../../util/register-element.js":283,"../base/confirm":203,"./index.jade":213,"./index.styl":215}],215:[function(require,module,exports){
module.exports = "* {   -webkit-font-smoothing: antialiased; } *:focus {   outline: 0; } *::-ms-clear {   height: 0;   width: 0; } body {   color: #6d859e;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-stretch: normal;   font-weight: 400; } body.no-scroll {   overflow: hidden; } a, .mp-link {   cursor: pointer;   text-decoration: none; } a, .mp-link, a:visited, .mp-link:visited {   color: #3b99f0; } a:hover, .mp-link:hover {   color: #4ba8ff; } .mp-font-size-xl {   font-size: 18px; } .mp-font-size-large {   font-size: 16px; } .mp-font-size-medium {   font-size: 14px; } .mp-font-size-default {   font-size: 13px; } .mp-font-size-xs {   font-size: 11px;   text-transform: uppercase; } .mp-font-weight-bold {   font-weight: 600; } .mp-font-weight-medium {   font-weight: 500; } .mp-font-weight-regular {   font-weight: 400; } .mp-font-paragraph {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } input[type=text], textarea {   border: 1px solid #d8e0ea;   border-radius: 5px;   box-sizing: border-box;   color: #4c6072;   display: inline-block;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 400;   padding: 8px;   transition: border-color 150ms ease-out; } input[type=text]::-webkit-input-placeholder, textarea::-webkit-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::-moz-placeholder, textarea::-moz-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:-ms-input-placeholder, textarea:-ms-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::placeholder, textarea::placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:focus, textarea:focus, input[type=text]:active, textarea:active {   border-color: #3391e9;   transition: border-color 200ms ease-in; } input[type=text] {   height: 36px; } mp-truncated-text {   display: inline-block;   white-space: nowrap;   width: 100%; } svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } svg-icon[icon=lightning-bolt] #bolt, svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } svg-icon[icon=alert] #circle, svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } mp-confirm-delete {   width: 400px; } :host {   width: 400px; } mp-modal {   width: inherit; } .mp-confirm-delete-container, .mp-confirm-delete-container * {   box-sizing: border-box; } .mp-confirm-delete-container {   display: -webkit-box;   display: -ms-flexbox;   display: flex;   -webkit-box-orient: vertical;   -webkit-box-direction: normal;       -ms-flex-direction: column;           flex-direction: column; } .mp-confirm-delete-container .mp-confirm-delete-body {   display: -webkit-box;   display: -ms-flexbox;   display: flex;   -webkit-box-orient: horizontal;   -webkit-box-direction: normal;       -ms-flex-direction: row;           flex-direction: row;   min-height: 92px;   overflow: auto;   padding: 15px 30px 0 20px;   text-align: left; } .mp-confirm-delete-container .mp-confirm-delete-body .mp-confirm-delete-icon {   width: 22px; } .mp-confirm-delete-container .mp-confirm-delete-body .mp-confirm-delete-icon svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } .mp-confirm-delete-container .mp-confirm-delete-body .mp-confirm-delete-icon svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .mp-confirm-delete-container .mp-confirm-delete-body .mp-confirm-delete-icon svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .mp-confirm-delete-container .mp-confirm-delete-body .mp-confirm-delete-icon svg-icon[icon=lightning-bolt] #bolt, .mp-confirm-delete-container .mp-confirm-delete-body .mp-confirm-delete-icon svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .mp-confirm-delete-container .mp-confirm-delete-body .mp-confirm-delete-icon svg-icon[icon=alert] #circle, .mp-confirm-delete-container .mp-confirm-delete-body .mp-confirm-delete-icon svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .mp-confirm-delete-container .mp-confirm-delete-body .mp-confirm-delete-icon svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .mp-confirm-delete-container .mp-confirm-delete-body .mp-confirm-delete-icon svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .mp-confirm-delete-container .mp-confirm-delete-body .mp-confirm-delete-icon svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } .mp-confirm-delete-container .mp-confirm-delete-body .mp-confirm-delete-icon svg-icon svg, .mp-confirm-delete-container .mp-confirm-delete-body .mp-confirm-delete-icon svg-icon path {   color: #e4567b;   fill: #e4567b; } .mp-confirm-delete-container .mp-confirm-delete-body .mp-confirm-delete-copy {   margin-left: 6px; } .mp-confirm-delete-container .mp-confirm-delete-buttons {   border-top: 1px solid #d8e0ea;   margin-top: 15px;   padding: 15px 20px 15px 0;   text-align: right; } .mp-confirm-delete-container .mp-confirm-delete-buttons mp-button {   margin-left: 15px; } .mp-confirm-delete-container .mp-confirm-delete-title {   color: #4c6072;   font-size: 16px;   font-weight: 600;   line-height: 1.4;   margin-bottom: 10px; } .mp-confirm-delete-container .mp-confirm-delete-description {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } .mp-confirm-delete-container content::content .mp-confirm-delete-title {   color: #4c6072;   font-size: 16px;   font-weight: 600;   line-height: 1.4;   margin-bottom: 10px; } .mp-confirm-delete-container content::content .mp-confirm-delete-description {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } ";

},{}],216:[function(require,module,exports){
'use strict';

function _jade_template_fn(locals) {
  locals = locals || {};;;
  var result_of_with = function ($component, $helpers) {
    var h = require('panel').h;
    var proxyAttrs = {};
    ['closeable', 'open'].forEach(function (attr) {
      return proxyAttrs[attr] = $component.getAttribute(attr);
    });
    return {
      value: h("mp-modal", {
        "attrs": proxyAttrs
      }, function () {
        var __jade_nodes = [];
        __jade_nodes = __jade_nodes.concat(h("div", {
          "class": {
            'mp-confirm-container': true
          }
        }, function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(h("div", {
            "class": {
              'mp-confirm-body': true
            }
          }, function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(h("content"));;
            return __jade_nodes;
          }.call(this).filter(Boolean)));
          __jade_nodes = __jade_nodes.concat(h("div", {
            "class": {
              'mp-confirm-buttons': true
            }
          }, function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(h("mp-button", {
              "on": {
                click: $helpers.cancel
              },
              "class": {
                'mp-button-secondary': true
              }
            }, function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat($component.getAttribute('cancel-button-label') || 'Cancel');;
              return __jade_nodes;
            }.call(this).filter(Boolean)));
            __jade_nodes = __jade_nodes.concat(h("mp-button", {
              "on": {
                click: $helpers.confirm
              },
              "class": {
                'mp-button-primary': true
              }
            }, function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat($component.getAttribute('confirm-button-label') || 'Ok');;
              return __jade_nodes;
            }.call(this).filter(Boolean)));;
            return __jade_nodes;
          }.call(this).filter(Boolean)));;
          return __jade_nodes;
        }.call(this).filter(Boolean)));;
        return __jade_nodes;
      }.call(this).filter(Boolean))
    };
  }.call(this, "$component" in locals ? locals.$component : typeof $component !== "undefined" ? $component : undefined, "$helpers" in locals ? locals.$helpers : typeof $helpers !== "undefined" ? $helpers : undefined);
  if (result_of_with) return result_of_with.value;
}
module.exports = _jade_template_fn;
},{"panel":343}],217:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _confirm = require('../base/confirm');

var _confirm2 = _interopRequireDefault(_confirm);

var _registerElement = require('../../util/register-element.js');

var _index = require('./index.jade');

var _index2 = _interopRequireDefault(_index);

var _index3 = require('./index.styl');

var _index4 = _interopRequireDefault(_index3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

exports.default = (0, _registerElement.registerMPElement)('mp-confirm', function (_Confirm) {
  _inherits(_class, _Confirm);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'config',
    get: function get() {
      return Object.assign(_get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'config', this), {
        css: _index4.default,
        template: _index2.default
      });
    }
  }]);

  return _class;
}(_confirm2.default));
},{"../../util/register-element.js":283,"../base/confirm":203,"./index.jade":216,"./index.styl":218}],218:[function(require,module,exports){
module.exports = "* {   -webkit-font-smoothing: antialiased; } *:focus {   outline: 0; } *::-ms-clear {   height: 0;   width: 0; } body {   color: #6d859e;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-stretch: normal;   font-weight: 400; } body.no-scroll {   overflow: hidden; } a, .mp-link {   cursor: pointer;   text-decoration: none; } a, .mp-link, a:visited, .mp-link:visited {   color: #3b99f0; } a:hover, .mp-link:hover {   color: #4ba8ff; } .mp-font-size-xl {   font-size: 18px; } .mp-font-size-large {   font-size: 16px; } .mp-font-size-medium {   font-size: 14px; } .mp-font-size-default {   font-size: 13px; } .mp-font-size-xs {   font-size: 11px;   text-transform: uppercase; } .mp-font-weight-bold {   font-weight: 600; } .mp-font-weight-medium {   font-weight: 500; } .mp-font-weight-regular {   font-weight: 400; } .mp-font-paragraph {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } input[type=text], textarea {   border: 1px solid #d8e0ea;   border-radius: 5px;   box-sizing: border-box;   color: #4c6072;   display: inline-block;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 400;   padding: 8px;   transition: border-color 150ms ease-out; } input[type=text]::-webkit-input-placeholder, textarea::-webkit-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::-moz-placeholder, textarea::-moz-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:-ms-input-placeholder, textarea:-ms-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::placeholder, textarea::placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:focus, textarea:focus, input[type=text]:active, textarea:active {   border-color: #3391e9;   transition: border-color 200ms ease-in; } input[type=text] {   height: 36px; } mp-truncated-text {   display: inline-block;   white-space: nowrap;   width: 100%; } svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } svg-icon[icon=lightning-bolt] #bolt, svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } svg-icon[icon=alert] #circle, svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } mp-confirm {   width: 400px; } :host {   width: 400px; } mp-modal {   width: inherit; } .mp-confirm-container, .mp-confirm-container * {   box-sizing: border-box; } .mp-confirm-container {   display: -webkit-box;   display: -ms-flexbox;   display: flex;   -webkit-box-orient: vertical;   -webkit-box-direction: normal;       -ms-flex-direction: column;           flex-direction: column; } .mp-confirm-container .mp-confirm-body {   display: -webkit-box;   display: -ms-flexbox;   display: flex;   -webkit-box-orient: horizontal;   -webkit-box-direction: normal;       -ms-flex-direction: row;           flex-direction: row;   min-height: 92px;   padding: 15px 30px 0 20px;   text-align: left; } .mp-confirm-container .mp-confirm-buttons {   border-top: 1px solid #d8e0ea;   margin-top: 15px;   padding: 15px 20px 15px 0;   text-align: right; } .mp-confirm-container .mp-confirm-buttons mp-button {   margin-left: 15px;   min-width: 90px; } .mp-confirm-container .mp-confirm-title {   color: #4c6072;   font-size: 16px;   font-weight: 600;   line-height: 1.4;   margin-bottom: 10px; } .mp-confirm-container .mp-confirm-description {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } .mp-confirm-container content::content .mp-confirm-title {   color: #4c6072;   font-size: 16px;   font-weight: 600;   line-height: 1.4;   margin-bottom: 10px; } .mp-confirm-container content::content .mp-confirm-description {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } ";

},{}],219:[function(require,module,exports){
"use strict";

function _jade_template_fn(locals) {
  locals = locals || {};;;
  var result_of_with = function ($component, $helpers, Object, delayRemove, open) {
    var h = require('panel').h;
    return {
      value: h("div", {
        "class": {
          'mp-dialog-stage': true
        }
      }, function () {
        var __jade_nodes = [];
        __jade_nodes = __jade_nodes.concat(h("div", {
          "class": Object.assign({}, {
            'mp-dialog-open': open
          }, {
            'mp-dialog-wrapper': true
          })
        }, function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(open ? function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(h("div", {
              "hook": {
                insert: $helpers.handleDialogInserted,
                destroy: $helpers.handleDialogRemoved
              },
              "class": Object.assign({}, {
                delayed: {
                  'mp-dialog-in': true
                },
                remove: {
                  'mp-dialog-out': true,
                  delayRemove: delayRemove
                }
              }, {
                'mp-dialog-main': true
              })
            }, function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat($component.isAttributeEnabled('closeable') ? function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat(h("div", {
                  "on": {
                    click: $helpers.closeClicked
                  },
                  "class": {
                    'mp-dialog-close-btn': true
                  }
                }, function () {
                  var __jade_nodes = [];
                  __jade_nodes = __jade_nodes.concat(h("div", {
                    "class": {
                      'mp-dialog-close-icon': true
                    }
                  }, function () {
                    var __jade_nodes = [];
                    __jade_nodes = __jade_nodes.concat(h('div', {
                      props: {
                        innerHTML: '<?xml version="1.0" encoding="utf-8"?><!-- Generator: Adobe Illustrator 19.2.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"	 viewBox="0 0 10.6 10.5" style="enable-background:new 0 0 10.6 10.5;" xml:space="preserve"><style type="text/css">	.x{fill-rule:evenodd;clip-rule:evenodd;fill:#D8E0E7;}</style><path class="x" d="M8.6,0L5.3,3.3L2,0L0,2l3.3,3.3L0,8.5l2,2l3.2-3.2l3.2,3.2l2-2L7.3,5.3L10.6,2L8.6,0z"/></svg>'
                      }
                    }));;
                    return __jade_nodes;
                  }.call(this).filter(Boolean)));;
                  return __jade_nodes;
                }.call(this).filter(Boolean)));;
                return __jade_nodes;
              }.call(this) : undefined);
              __jade_nodes = __jade_nodes.concat(h("content"));;
              return __jade_nodes;
            }.call(this).filter(Boolean)));;
            return __jade_nodes;
          }.call(this) : undefined);;
          return __jade_nodes;
        }.call(this).filter(Boolean)));;
        return __jade_nodes;
      }.call(this).filter(Boolean))
    };
  }.call(this, "$component" in locals ? locals.$component : typeof $component !== "undefined" ? $component : undefined, "$helpers" in locals ? locals.$helpers : typeof $helpers !== "undefined" ? $helpers : undefined, "Object" in locals ? locals.Object : typeof Object !== "undefined" ? Object : undefined, "delayRemove" in locals ? locals.delayRemove : typeof delayRemove !== "undefined" ? delayRemove : undefined, "open" in locals ? locals.open : typeof open !== "undefined" ? open : undefined);
  if (result_of_with) return result_of_with.value;
}
module.exports = _jade_template_fn;
},{"panel":343}],220:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _panel = require('panel');

var _registerElement = require('../../util/register-element.js');

var _timingJson = require('../../stylesheets/mixins/timing.json.js');

var _timingJson2 = _interopRequireDefault(_timingJson);

var _index = require('./index.jade');

var _index2 = _interopRequireDefault(_index);

var _index3 = require('./index.styl');

var _index4 = _interopRequireDefault(_index3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

exports.default = (0, _registerElement.registerMPElement)('mp-dialog', function (_Component) {
  _inherits(_class, _Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'close',
    value: function close() {
      this.update({ open: false });
    }
  }, {
    key: 'open',
    value: function open() {
      this.update({ open: true });
    }
  }, {
    key: 'attachedCallback',
    value: function attachedCallback() {
      var _this2 = this;

      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'attachedCallback', this).apply(this, arguments);

      // listen for escape keypress
      this.maybeCloseOnEscape = function (e) {
        if (_this2.isAttributeEnabled('closeable') && e.keyCode === 27) {
          _this2.close();
        }
      };

      document.body.addEventListener('keydown', this.maybeCloseOnEscape);
      if (this.isAttributeEnabled('open')) {
        this.open();
      }
    }
  }, {
    key: 'detachedCallback',
    value: function detachedCallback() {
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'detachedCallback', this).apply(this, arguments);
      document.body.removeEventListener('keydown', this.maybeCloseOnEscape);
    }
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(name) {
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'attributeChangedCallback', this).apply(this, arguments);
      if (this.initialized && name === 'open') {
        if (this.isAttributeEnabled('open')) {
          this.open();
        } else {
          this.close();
        }
      }
    }
  }, {
    key: 'config',
    get: function get() {
      var _this3 = this;

      return {
        css: _index4.default,
        template: _index2.default,
        useShadowDom: true,
        defaultState: {
          delayRemove: _timingJson2.default['mp-fast'],
          open: false
        },
        helpers: {
          handleDialogInserted: function handleDialogInserted() {
            _this3.dispatchEvent(new CustomEvent('change', { detail: { state: 'open' } }));
          },
          handleDialogRemoved: function handleDialogRemoved() {
            _this3.dispatchEvent(new CustomEvent('change', { detail: { state: 'closed' } }));
          },
          closeClicked: function closeClicked() {
            _this3.close();
          }
        }
      };
    }
  }]);

  return _class;
}(_panel.Component));
},{"../../stylesheets/mixins/timing.json.js":274,"../../util/register-element.js":283,"./index.jade":219,"./index.styl":221,"panel":343}],221:[function(require,module,exports){
module.exports = "* {   -webkit-font-smoothing: antialiased; } *:focus {   outline: 0; } *::-ms-clear {   height: 0;   width: 0; } body {   color: #6d859e;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-stretch: normal;   font-weight: 400; } body.no-scroll {   overflow: hidden; } a, .mp-link {   cursor: pointer;   text-decoration: none; } a, .mp-link, a:visited, .mp-link:visited {   color: #3b99f0; } a:hover, .mp-link:hover {   color: #4ba8ff; } .mp-font-size-xl {   font-size: 18px; } .mp-font-size-large {   font-size: 16px; } .mp-font-size-medium {   font-size: 14px; } .mp-font-size-default {   font-size: 13px; } .mp-font-size-xs {   font-size: 11px;   text-transform: uppercase; } .mp-font-weight-bold {   font-weight: 600; } .mp-font-weight-medium {   font-weight: 500; } .mp-font-weight-regular {   font-weight: 400; } .mp-font-paragraph {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } input[type=text], textarea {   border: 1px solid #d8e0ea;   border-radius: 5px;   box-sizing: border-box;   color: #4c6072;   display: inline-block;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 400;   padding: 8px;   transition: border-color 150ms ease-out; } input[type=text]::-webkit-input-placeholder, textarea::-webkit-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::-moz-placeholder, textarea::-moz-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:-ms-input-placeholder, textarea:-ms-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::placeholder, textarea::placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:focus, textarea:focus, input[type=text]:active, textarea:active {   border-color: #3391e9;   transition: border-color 200ms ease-in; } input[type=text] {   height: 36px; } mp-truncated-text {   display: inline-block;   white-space: nowrap;   width: 100%; } svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } svg-icon[icon=lightning-bolt] #bolt, svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } svg-icon[icon=alert] #circle, svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } mp-dialog {   width: 400px; } :host {   width: 400px; } .mp-dialog-stage, .mp-dialog-stage * {   box-sizing: border-box; } .mp-dialog-stage {   bottom: 0;   left: 0;   min-width: 100%;   pointer-events: none;   position: absolute;   right: 0;   top: 0;   width: inherit;   z-index: 8000; } .mp-dialog-stage .mp-dialog-wrapper {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   height: 100%;   -webkit-box-pack: center;       -ms-flex-pack: center;           justify-content: center;   min-width: 100%;   pointer-events: none;   position: absolute;   width: inherit;   z-index: 9000; } .mp-dialog-stage .mp-dialog-wrapper.mp-dialog-open {   pointer-events: auto; } .mp-dialog-stage .mp-dialog-wrapper .mp-dialog-main {   background: #fff;   border: 1px solid #ecf3f8;   border-radius: 5px;   box-shadow: 0 1px 30px 0 rgba(0,0,0,0.19);   opacity: 0;   pointer-events: auto;   position: relative;   -webkit-transform: scale(1.1, 1.1);           transform: scale(1.1, 1.1);   width: inherit; } .mp-dialog-stage .mp-dialog-wrapper .mp-dialog-main.mp-dialog-in {   opacity: 1;   -webkit-transform: scale(1, 1);           transform: scale(1, 1);   transition: all 250ms cubic-bezier(0.165, 0.84, 0.44, 1); } .mp-dialog-stage .mp-dialog-wrapper .mp-dialog-main.mp-dialog-out {   opacity: 0;   -webkit-transform: scale(1.1, 1.1);           transform: scale(1.1, 1.1);   transition: all 250ms cubic-bezier(0.895, 0.03, 0.685, 0.22); } .mp-dialog-stage .mp-dialog-wrapper .mp-dialog-main .mp-dialog-close-btn {   cursor: pointer;   height: 10px;   position: absolute;   right: 15px;   top: 15px; } .mp-dialog-stage .mp-dialog-wrapper .mp-dialog-main .mp-dialog-close-btn .mp-dialog-close-icon svg {   width: 10px; } .mp-dialog-stage .mp-dialog-wrapper .mp-dialog-main .mp-dialog-close-btn .mp-dialog-close-icon svg path {   fill: #bdc9d6; } .mp-dialog-stage .mp-dialog-wrapper .mp-dialog-main .mp-dialog-close-btn:hover .mp-dialog-close-icon svg path {   fill: #d8e0ea; } .mp-dialog-content {   padding: 15px 30px; } .mp-dialog-container {   display: -webkit-box;   display: -ms-flexbox;   display: flex;   -webkit-box-orient: vertical;   -webkit-box-direction: normal;       -ms-flex-direction: column;           flex-direction: column; } .mp-dialog-container .mp-dialog-body {   display: -webkit-box;   display: -ms-flexbox;   display: flex;   -webkit-box-orient: horizontal;   -webkit-box-direction: normal;       -ms-flex-direction: row;           flex-direction: row;   min-height: 92px;   padding: 15px 30px 0 20px;   text-align: left; } .mp-dialog-container .mp-dialog-buttons {   border-top: 1px solid #d8e0ea;   margin-top: 15px;   padding: 15px 20px 15px 0;   text-align: right; } .mp-dialog-container mp-button {   margin-left: 15px;   min-width: 90px; } .mp-dialog-title {   color: #4c6072;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 18px;   font-weight: 600;   line-height: 1.4; } .mp-dialog-subtitle {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px;   margin: 12px 0; } content::content .mp-dialog-content {   padding: 15px 30px; } content::content .mp-dialog-container {   display: -webkit-box;   display: -ms-flexbox;   display: flex;   -webkit-box-orient: vertical;   -webkit-box-direction: normal;       -ms-flex-direction: column;           flex-direction: column; } content::content .mp-dialog-container .mp-dialog-body {   display: -webkit-box;   display: -ms-flexbox;   display: flex;   -webkit-box-orient: horizontal;   -webkit-box-direction: normal;       -ms-flex-direction: row;           flex-direction: row;   min-height: 92px;   padding: 15px 30px 0 20px;   text-align: left; } content::content .mp-dialog-container .mp-dialog-buttons {   border-top: 1px solid #d8e0ea;   margin-top: 15px;   padding: 15px 20px 15px 0;   text-align: right; } content::content .mp-dialog-container mp-button {   margin-left: 15px;   min-width: 90px; } content::content .mp-dialog-title {   color: #4c6072;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 18px;   font-weight: 600;   line-height: 1.4; } content::content .mp-dialog-subtitle {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px;   margin: 12px 0; } ";

},{}],222:[function(require,module,exports){
"use strict";

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _jade_template_fn(locals) {
  locals = locals || {};;;
  var result_of_with = function ($component, $helpers, Object, delayRemove, placement) {
    var h = require('panel').h;
    return {
      value: h("div", {
        "class": {
          'mp-drawer-stage': true
        }
      }, function () {
        var __jade_nodes = [];
        __jade_nodes = __jade_nodes.concat($component.isAttributeEnabled("open") ? function () {
          var _Object$assign;

          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(h("div", {
            "class": Object.assign({}, (_Object$assign = {
              delayed: {
                'mp-drawer-in': true
              },
              remove: {
                'mp-drawer-out': true,
                delayRemove: delayRemove
              }
            }, _defineProperty(_Object$assign, "mp-drawer-placement-" + placement, true), _defineProperty(_Object$assign, 'mp-drawer-not-fullscreen', $component.isAttributeEnabled('not-fullscreen')), _Object$assign), {
              'mp-drawer': true
            })
          }, function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(h("div", {
              "on": {
                click: $helpers.close
              },
              "class": {
                'mp-drawer-overlay': true
              }
            }));
            __jade_nodes = __jade_nodes.concat(h("div", {
              "class": {
                'mp-drawer-bg': true
              }
            }));
            __jade_nodes = __jade_nodes.concat(h("div", {
              "class": {
                'mp-drawer-content': true
              }
            }, function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h("content"));;
              return __jade_nodes;
            }.call(this).filter(Boolean)));;
            return __jade_nodes;
          }.call(this).filter(Boolean)));;
          return __jade_nodes;
        }.call(this) : undefined);;
        return __jade_nodes;
      }.call(this).filter(Boolean))
    };
  }.call(this, "$component" in locals ? locals.$component : typeof $component !== "undefined" ? $component : undefined, "$helpers" in locals ? locals.$helpers : typeof $helpers !== "undefined" ? $helpers : undefined, "Object" in locals ? locals.Object : typeof Object !== "undefined" ? Object : undefined, "delayRemove" in locals ? locals.delayRemove : typeof delayRemove !== "undefined" ? delayRemove : undefined, "placement" in locals ? locals.placement : typeof placement !== "undefined" ? placement : undefined);
  if (result_of_with) return result_of_with.value;
}
module.exports = _jade_template_fn;
},{"panel":343}],223:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _panel = require('panel');

var _registerElement = require('../../util/register-element.js');

var _timing = require('../../stylesheets/mixins/timing.json');

var _timing2 = _interopRequireDefault(_timing);

var _index = require('./index.styl');

var _index2 = _interopRequireDefault(_index);

var _index3 = require('./index.jade');

var _index4 = _interopRequireDefault(_index3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

exports.default = (0, _registerElement.registerMPElement)('mp-drawer', function (_Component) {
  _inherits(_class, _Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback() {
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'attributeChangedCallback', this).apply(this, arguments);

      if (!this.getAttribute('not-fullscreen')) {
        if (this.isAttributeEnabled('open')) {
          document.querySelector('body').classList.add('no-scroll');
        } else {
          document.querySelector('body').classList.remove('no-scroll');
        }
      }

      this.update({ placement: this.getAttribute('placement') || 'right' });
    }
  }, {
    key: 'config',
    get: function get() {
      var _this2 = this;

      return {
        css: _index2.default,
        template: _index4.default,
        useShadowDom: true,
        defaultState: {
          delayRemove: _timing2.default['mp-fast'],
          placement: ''
        },
        helpers: {
          close: function close() {
            return _this2.dispatchEvent(new CustomEvent('close'));
          }
        }
      };
    }
  }]);

  return _class;
}(_panel.Component));
},{"../../stylesheets/mixins/timing.json":275,"../../util/register-element.js":283,"./index.jade":222,"./index.styl":224,"panel":343}],224:[function(require,module,exports){
module.exports = "* {   -webkit-font-smoothing: antialiased; } *:focus {   outline: 0; } *::-ms-clear {   height: 0;   width: 0; } body {   color: #6d859e;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-stretch: normal;   font-weight: 400; } body.no-scroll {   overflow: hidden; } a, .mp-link {   cursor: pointer;   text-decoration: none; } a, .mp-link, a:visited, .mp-link:visited {   color: #3b99f0; } a:hover, .mp-link:hover {   color: #4ba8ff; } .mp-font-size-xl {   font-size: 18px; } .mp-font-size-large {   font-size: 16px; } .mp-font-size-medium {   font-size: 14px; } .mp-font-size-default {   font-size: 13px; } .mp-font-size-xs {   font-size: 11px;   text-transform: uppercase; } .mp-font-weight-bold {   font-weight: 600; } .mp-font-weight-medium {   font-weight: 500; } .mp-font-weight-regular {   font-weight: 400; } .mp-font-paragraph {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } input[type=text], textarea {   border: 1px solid #d8e0ea;   border-radius: 5px;   box-sizing: border-box;   color: #4c6072;   display: inline-block;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 400;   padding: 8px;   transition: border-color 150ms ease-out; } input[type=text]::-webkit-input-placeholder, textarea::-webkit-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::-moz-placeholder, textarea::-moz-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:-ms-input-placeholder, textarea:-ms-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::placeholder, textarea::placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:focus, textarea:focus, input[type=text]:active, textarea:active {   border-color: #3391e9;   transition: border-color 200ms ease-in; } input[type=text] {   height: 36px; } mp-truncated-text {   display: inline-block;   white-space: nowrap;   width: 100%; } svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } svg-icon[icon=lightning-bolt] #bolt, svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } svg-icon[icon=alert] #circle, svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } .mp-drawer {   height: 0;   overflow: hidden;   position: fixed;   right: 0;   top: 0;   width: 0;   z-index: 9000; } .mp-drawer .mp-drawer-content {   background-color: #fff;   min-height: 100%;   overflow: hidden;   padding: 0;   position: fixed;   right: 0;   top: 0; } .mp-drawer .mp-drawer-bg {   background-color: #fff;   height: 100%;   position: fixed;   right: 0; } .mp-drawer .mp-drawer-bg, .mp-drawer .mp-drawer-content {   -webkit-transform: translate3d(100%, 0, 0);           transform: translate3d(100%, 0, 0);   transition: -webkit-transform 250ms;   transition: transform 250ms;   transition: transform 250ms, -webkit-transform 250ms; } .mp-drawer .mp-drawer-overlay {   opacity: 0; } .mp-drawer.mp-drawer-in {   height: 100%;   overflow: initial;   width: 100%; } .mp-drawer.mp-drawer-in .mp-drawer-overlay {   background-color: #4c6072;   height: 100%;   opacity: 0.8;   position: fixed;   transition: opacity 250ms;   width: 100%; } .mp-drawer.mp-drawer-in .mp-drawer-bg, .mp-drawer.mp-drawer-in .mp-drawer-content {   -webkit-transform: translate3d(0%, 0, 0);           transform: translate3d(0%, 0, 0); } .mp-drawer.mp-drawer-out .mp-drawer-overlay {   opacity: 0; } .mp-drawer.mp-drawer-out .mp-drawer-bg, .mp-drawer.mp-drawer-out .mp-drawer-content {   -webkit-transform: translate3d(100%, 0, 0);           transform: translate3d(100%, 0, 0); } .mp-drawer.mp-drawer-placement-right .mp-drawer-content {   min-width: 690px; } .mp-drawer.mp-drawer-placement-top .mp-drawer-content {   min-height: 0;   -webkit-transform: translate3d(0, -100%, 0);           transform: translate3d(0, -100%, 0);   width: 100%; } .mp-drawer.mp-drawer-placement-top.mp-drawer-in .mp-drawer-bg, .mp-drawer.mp-drawer-placement-top.mp-drawer-in .mp-drawer-content {   -webkit-transform: translate3d(0, 0, 0);           transform: translate3d(0, 0, 0); } .mp-drawer.mp-drawer-placement-top.mp-drawer-out .mp-drawer-bg, .mp-drawer.mp-drawer-placement-top.mp-drawer-out .mp-drawer-content {   -webkit-transform: translate3d(0, -100%, 0);           transform: translate3d(0, -100%, 0); } .mp-drawer.mp-drawer-not-fullscreen {   position: absolute; } .mp-drawer.mp-drawer-not-fullscreen .mp-drawer-overlay, .mp-drawer.mp-drawer-not-fullscreen .mp-drawer-content, .mp-drawer.mp-drawer-not-fullscreen .mp-drawer-bg {   position: absolute; } ";

},{}],225:[function(require,module,exports){
"use strict";

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _jade_template_fn(locals) {
  locals = locals || {};;;
  var result_of_with = function (Object, visibility) {
    var h = require('panel').h;
    return {
      value: h("div", {
        "class": Object.assign({}, _defineProperty({}, "mp-drop-menu-" + visibility, true), {
          'mp-drop-menu-body': true
        })
      }, function () {
        var __jade_nodes = [];
        __jade_nodes = __jade_nodes.concat(h("content"));;
        return __jade_nodes;
      }.call(this).filter(Boolean))
    };
  }.call(this, "Object" in locals ? locals.Object : typeof Object !== "undefined" ? Object : undefined, "visibility" in locals ? locals.visibility : typeof visibility !== "undefined" ? visibility : undefined);
  if (result_of_with) return result_of_with.value;
}
module.exports = _jade_template_fn;
},{"panel":343}],226:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _panel = require('panel');

var _registerElement = require('../../util/register-element.js');

var _dom = require('../../util/dom.js');

var _dom2 = require('../../util/dom');

var _index = require('./index.jade');

var _index2 = _interopRequireDefault(_index);

var _index3 = require('./index.styl');

var _index4 = _interopRequireDefault(_index3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var VISIBILITY_OPEN = 'open';
var VISIBILITY_OPENING = 'opening';
var VISIBILITY_CLOSED = 'closed';
var VISIBILITY_CLOSING = 'closing';

exports.default = (0, _registerElement.registerMPElement)('mp-drop-menu', function (_Component) {
  _inherits(_class, _Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: '_closeMenu',
    value: function _closeMenu() {
      switch (this.state.visibility) {
        case VISIBILITY_CLOSED:
        case VISIBILITY_CLOSING:
          break;
        case VISIBILITY_OPENING:
          this.update({ visibility: VISIBILITY_CLOSED });
          this.dispatchCurrentVisibility();
          break;
        case VISIBILITY_OPEN:
          this.update({ visibility: VISIBILITY_CLOSING });
          this.dispatchCurrentVisibility();
          break;
      }
    }
  }, {
    key: '_openMenu',
    value: function _openMenu() {
      switch (this.state.visibility) {
        case VISIBILITY_OPEN:
        case VISIBILITY_OPENING:
          break;
        case VISIBILITY_CLOSING:
          this.update({ visibility: VISIBILITY_OPEN });
          this.dispatchCurrentVisibility();
          break;
        case VISIBILITY_CLOSED:
          this.update({ visibility: VISIBILITY_OPENING });
          this.dispatchCurrentVisibility();
          break;
      }
    }
  }, {
    key: 'dispatchCurrentVisibility',
    value: function dispatchCurrentVisibility() {
      this.dispatchEvent(new CustomEvent('change', { detail: { state: this.state.visibility } }));
    }
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(attr) {
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'attributeChangedCallback', this).apply(this, arguments);
      if (attr === 'open' && this.initialized) {
        if (this.isAttributeEnabled('open')) {
          this._openMenu();
        } else {
          this._closeMenu();
        }
      } else if (attr === 'prevent-close-selectors') {
        this.update({ preventCloseSelectors: this.getJSONAttribute(attr) });
      }
    }
  }, {
    key: 'attachedCallback',
    value: function attachedCallback() {
      var _this2 = this;

      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'attachedCallback', this).apply(this, arguments);
      if (this.isAttributeEnabled('open')) {
        this._openMenu();
      }
      this._onAnimationEnd = function () {
        switch (_this2.state.visibility) {
          case VISIBILITY_OPENING:
            _this2.update({ visibility: VISIBILITY_OPEN });
            document.body.addEventListener('keydown', _this2.maybeCloseOnEscape);
            document.addEventListener('click', _this2.clickOutsideListener);
            _this2.dispatchCurrentVisibility();
            break;
          case VISIBILITY_CLOSING:
            _this2.update({ visibility: VISIBILITY_CLOSED });
            document.body.removeEventListener('keydown', _this2.maybeCloseOnEscape);
            document.removeEventListener('click', _this2.clickOutsideListener);
            _this2.dispatchCurrentVisibility();
            break;
        }
      };
      (0, _dom2.onAnimationEnd)(this.el, this._onAnimationEnd);

      // close the menu when escape is pressed
      this.maybeCloseOnEscape = function (e) {
        if (e.keyCode === 27) {
          _this2._closeMenu();
        }
      };

      // close when the user clicks outside of the menu
      this.clickOutsideListener = function (e) {
        var path = window.ShadowDOMPolyfill || typeof e.composedPath !== 'function' ? e.path : e.composedPath();
        var clickWithinPreventCloseElement = _this2.state.preventCloseSelectors.some(function (selector) {
          return path.some(function (el) {
            return el.matches && el.matches(selector);
          });
        });
        if (_this2.isAttributeEnabled('open') && (0, _dom.clickWasOutside)(e, _this2) && !clickWithinPreventCloseElement) {
          _this2._closeMenu();
        }
      };
    }
  }, {
    key: 'detachedCallback',
    value: function detachedCallback() {
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'detachedCallback', this).apply(this, arguments);
      (0, _dom2.offAnimationEnd)(this.el, this._onAnimationEnd);
      document.body.removeEventListener('keydown', this.maybeCloseOnEscape);
      document.removeEventListener('click', this.clickOutsideListener);
    }
  }, {
    key: 'config',
    get: function get() {
      return {
        css: _index4.default,
        template: _index2.default,
        useShadowDom: true,

        defaultState: {
          preventCloseSelectors: [],
          visibility: VISIBILITY_CLOSED
        }
      };
    }
  }]);

  return _class;
}(_panel.Component));
},{"../../util/dom":280,"../../util/dom.js":280,"../../util/register-element.js":283,"./index.jade":225,"./index.styl":227,"panel":343}],227:[function(require,module,exports){
module.exports = "* {   -webkit-font-smoothing: antialiased; } *:focus {   outline: 0; } *::-ms-clear {   height: 0;   width: 0; } body {   color: #6d859e;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-stretch: normal;   font-weight: 400; } body.no-scroll {   overflow: hidden; } a, .mp-link {   cursor: pointer;   text-decoration: none; } a, .mp-link, a:visited, .mp-link:visited {   color: #3b99f0; } a:hover, .mp-link:hover {   color: #4ba8ff; } .mp-font-size-xl {   font-size: 18px; } .mp-font-size-large {   font-size: 16px; } .mp-font-size-medium {   font-size: 14px; } .mp-font-size-default {   font-size: 13px; } .mp-font-size-xs {   font-size: 11px;   text-transform: uppercase; } .mp-font-weight-bold {   font-weight: 600; } .mp-font-weight-medium {   font-weight: 500; } .mp-font-weight-regular {   font-weight: 400; } .mp-font-paragraph {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } input[type=text], textarea {   border: 1px solid #d8e0ea;   border-radius: 5px;   box-sizing: border-box;   color: #4c6072;   display: inline-block;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 400;   padding: 8px;   transition: border-color 150ms ease-out; } input[type=text]::-webkit-input-placeholder, textarea::-webkit-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::-moz-placeholder, textarea::-moz-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:-ms-input-placeholder, textarea:-ms-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::placeholder, textarea::placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:focus, textarea:focus, input[type=text]:active, textarea:active {   border-color: #3391e9;   transition: border-color 200ms ease-in; } input[type=text] {   height: 36px; } mp-truncated-text {   display: inline-block;   white-space: nowrap;   width: 100%; } svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } svg-icon[icon=lightning-bolt] #bolt, svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } svg-icon[icon=alert] #circle, svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } mp-drop-menu {   display: -webkit-box;   display: -ms-flexbox;   display: flex;   left: 0;   margin-bottom: 30px;   position: absolute;   top: 0;   z-index: 100; } :host {   display: -webkit-box;   display: -ms-flexbox;   display: flex;   left: 0;   margin-bottom: 30px;   position: absolute;   top: 0;   z-index: 100; } .mp-drop-menu-body, .mp-drop-menu-body * {   box-sizing: border-box; } .mp-drop-menu-body {   background-color: #fff;   border-radius: 5px;   box-shadow: 0 10px 40px rgba(0,0,0,0.15); } .mp-drop-menu-closed {   display: none; } .mp-drop-menu-opening {   -webkit-animation: fadeOverlayIn 100ms forwards;           animation: fadeOverlayIn 100ms forwards;   opacity: 0; } .mp-drop-menu-open {   opacity: 1; } .mp-drop-menu-closing {   -webkit-animation: fadeOverlayOut 100ms forwards;           animation: fadeOverlayOut 100ms forwards; } @-webkit-keyframes fadeOverlayIn {   from {     opacity: 0;     -webkit-transform: translateY(-10px);             transform: translateY(-10px);   }   to {     opacity: 0.9;   } } @keyframes fadeOverlayIn {   from {     opacity: 0;     -webkit-transform: translateY(-10px);             transform: translateY(-10px);   }   to {     opacity: 0.9;   } } @-webkit-keyframes fadeOverlayOut {   from {     opacity: 0.9;   }   to {     opacity: 0;     -webkit-transform: translateY(-10px);             transform: translateY(-10px);   } } @keyframes fadeOverlayOut {   from {     opacity: 0.9;   }   to {     opacity: 0;     -webkit-transform: translateY(-10px);             transform: translateY(-10px);   } } ";

},{}],228:[function(require,module,exports){
"use strict";

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _jade_template_fn(locals) {
  locals = locals || {};;;
  var result_of_with = function ($component) {
    var h = require('panel').h;
    return {
      value: h("div", function () {
        var __jade_nodes = [];
        __jade_nodes = __jade_nodes.concat($component.parts.reduce(function (__each_nodes, part, $index) {
          return __each_nodes.concat(function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(part.type === "span" ? function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h("span", {
                "class": _defineProperty({}, part.class, true)
              }, function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat(part.text);;
                return __jade_nodes;
              }.call(this).filter(Boolean)));;
              return __jade_nodes;
            }.call(this) : function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(part.text);;
              return __jade_nodes;
            }.call(this));;
            return __jade_nodes;
          }.call(this));
        }, []));;
        return __jade_nodes;
      }.call(this).filter(Boolean))
    };
  }.call(this, "$component" in locals ? locals.$component : typeof $component !== "undefined" ? $component : undefined);
  if (result_of_with) return result_of_with.value;
}
module.exports = _jade_template_fn;
},{"panel":343}],229:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _panel = require('panel');

var _registerElement = require('../../util/register-element');

var _index = require('./index.jade');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

exports.default = (0, _registerElement.registerMPElement)('mp-formatted-message', function (_Component) {
  _inherits(_class, _Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'config',
    get: function get() {
      return {
        template: _index2.default
      };
    }
  }, {
    key: 'parts',
    get: function get() {
      return this.getJSONAttribute('parts');
    }
  }]);

  return _class;
}(_panel.Component));
},{"../../util/register-element":283,"./index.jade":228,"panel":343}],230:[function(require,module,exports){
'use strict';

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _jade_template_fn(locals) {
  locals = locals || {};;;
  var result_of_with = function ($component, $helpers, Array, Object, inputValue) {
    var h = require('panel').h;
    var attrObj = Array.from($component.attributes).reduce(function (acc, attr) {
      return Object.assign(acc, _defineProperty({}, attr.nodeName, attr.nodeValue));
    }, {
      type: 'text'
    });
    return {
      value: h("div", {
        "class": {
          'mp-icon-input-container': true
        }
      }, function () {
        var __jade_nodes = [];
        __jade_nodes = __jade_nodes.concat(h("div", {
          "class": {
            'mp-icon-input-icon': true
          }
        }, function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(h("svg-icon", {
            "attrs": {
              icon: $component.getAttribute('icon')
            }
          }));;
          return __jade_nodes;
        }.call(this).filter(Boolean)));
        __jade_nodes = __jade_nodes.concat(h("input", {
          "attrs": attrObj,
          "on": {
            input: $helpers.handleInput
          },
          "props": {
            value: inputValue
          },
          "class": Object.assign({}, {
            'mp-icon-input-rounded': $component.isAttributeEnabled('rounded')
          }, {
            'mp-icon-input-input': true
          })
        }));
        __jade_nodes = __jade_nodes.concat(inputValue ? function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(h("div", {
            "class": {
              'mp-icon-input-clear-icon': true
            }
          }, function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(h("svg-icon", {
              "attrs": {
                icon: 'x-clear-search'
              },
              "on": {
                click: $helpers.clearInput
              }
            }));;
            return __jade_nodes;
          }.call(this).filter(Boolean)));;
          return __jade_nodes;
        }.call(this) : undefined);;
        return __jade_nodes;
      }.call(this).filter(Boolean))
    };
  }.call(this, "$component" in locals ? locals.$component : typeof $component !== "undefined" ? $component : undefined, "$helpers" in locals ? locals.$helpers : typeof $helpers !== "undefined" ? $helpers : undefined, "Array" in locals ? locals.Array : typeof Array !== "undefined" ? Array : undefined, "Object" in locals ? locals.Object : typeof Object !== "undefined" ? Object : undefined, "inputValue" in locals ? locals.inputValue : typeof inputValue !== "undefined" ? inputValue : undefined);
  if (result_of_with) return result_of_with.value;
}
module.exports = _jade_template_fn;
},{"panel":343}],231:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _panel = require('panel');

var _registerElement = require('../../util/register-element.js');

var _index = require('./index.styl');

var _index2 = _interopRequireDefault(_index);

var _index3 = require('./index.jade');

var _index4 = _interopRequireDefault(_index3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

exports.default = (0, _registerElement.registerMPElement)('mp-icon-input', function (_Component) {
  _inherits(_class, _Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(attr, oldValue, newValue) {
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'attributeChangedCallback', this).apply(this, arguments);
      if (attr === 'value') {
        this.update({ inputValue: newValue });
      }
    }
  }, {
    key: 'focus',
    value: function focus() {
      this.el.querySelector('input').focus();
    }
  }, {
    key: 'config',
    get: function get() {
      var _this2 = this;

      return {
        css: _index2.default,
        template: _index4.default,
        useShadowDom: true,
        defaultState: {
          inputValue: ''
        },
        helpers: {
          clearInput: function clearInput() {
            _this2.update({ inputValue: '' });
            _this2.dispatchEvent(new Event('input'));
          },
          handleInput: function handleInput(ev) {
            _this2.update({ inputValue: ev.target.value });
          }
        }
      };
    }
  }, {
    key: 'value',
    get: function get() {
      return this.state.inputValue;
    },
    set: function set(val) {
      this.update({ inputValue: val });
    }
  }]);

  return _class;
}(_panel.Component));
},{"../../util/register-element.js":283,"./index.jade":230,"./index.styl":232,"panel":343}],232:[function(require,module,exports){
module.exports = "* {   -webkit-font-smoothing: antialiased; } *:focus {   outline: 0; } *::-ms-clear {   height: 0;   width: 0; } body {   color: #6d859e;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-stretch: normal;   font-weight: 400; } body.no-scroll {   overflow: hidden; } a, .mp-link {   cursor: pointer;   text-decoration: none; } a, .mp-link, a:visited, .mp-link:visited {   color: #3b99f0; } a:hover, .mp-link:hover {   color: #4ba8ff; } .mp-font-size-xl {   font-size: 18px; } .mp-font-size-large {   font-size: 16px; } .mp-font-size-medium {   font-size: 14px; } .mp-font-size-default {   font-size: 13px; } .mp-font-size-xs {   font-size: 11px;   text-transform: uppercase; } .mp-font-weight-bold {   font-weight: 600; } .mp-font-weight-medium {   font-weight: 500; } .mp-font-weight-regular {   font-weight: 400; } .mp-font-paragraph {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } input[type=text], textarea {   border: 1px solid #d8e0ea;   border-radius: 5px;   box-sizing: border-box;   color: #4c6072;   display: inline-block;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 400;   padding: 8px;   transition: border-color 150ms ease-out; } input[type=text]::-webkit-input-placeholder, textarea::-webkit-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::-moz-placeholder, textarea::-moz-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:-ms-input-placeholder, textarea:-ms-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::placeholder, textarea::placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:focus, textarea:focus, input[type=text]:active, textarea:active {   border-color: #3391e9;   transition: border-color 200ms ease-in; } input[type=text] {   height: 36px; } mp-truncated-text {   display: inline-block;   white-space: nowrap;   width: 100%; } svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } svg-icon[icon=lightning-bolt] #bolt, svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } svg-icon[icon=alert] #circle, svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } mp-icon-input {   display: inline-block; } :host {   display: inline-block; } .mp-icon-input-container {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   display: -webkit-inline-box;   display: -ms-inline-flexbox;   display: inline-flex;   position: relative;   width: 100%; } .mp-icon-input-container input.mp-icon-input-input {   padding: 6px 36px 7px;   width: 100%; } .mp-icon-input-container input.mp-icon-input-input.mp-icon-input-rounded {   border-radius: 30px; } .mp-icon-input-container .mp-icon-input-icon {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   bottom: 0;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   left: 8px;   position: absolute;   top: 0; } .mp-icon-input-container .mp-icon-input-icon svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } .mp-icon-input-container .mp-icon-input-icon svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .mp-icon-input-container .mp-icon-input-icon svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .mp-icon-input-container .mp-icon-input-icon svg-icon[icon=lightning-bolt] #bolt, .mp-icon-input-container .mp-icon-input-icon svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .mp-icon-input-container .mp-icon-input-icon svg-icon[icon=alert] #circle, .mp-icon-input-container .mp-icon-input-icon svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .mp-icon-input-container .mp-icon-input-icon svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .mp-icon-input-container .mp-icon-input-icon svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .mp-icon-input-container .mp-icon-input-icon svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } .mp-icon-input-container .mp-icon-input-icon svg-icon svg, .mp-icon-input-container .mp-icon-input-icon svg-icon path {   color: #9bacbf;   fill: #9bacbf; } .mp-icon-input-container .mp-icon-input-clear-icon {   cursor: pointer;   height: 22px;   position: absolute;   right: 12px;   top: 50%;   -webkit-transform: translateY(-50%);           transform: translateY(-50%); } .mp-icon-input-container .mp-icon-input-clear-icon svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } .mp-icon-input-container .mp-icon-input-clear-icon svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .mp-icon-input-container .mp-icon-input-clear-icon svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .mp-icon-input-container .mp-icon-input-clear-icon svg-icon[icon=lightning-bolt] #bolt, .mp-icon-input-container .mp-icon-input-clear-icon svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .mp-icon-input-container .mp-icon-input-clear-icon svg-icon[icon=alert] #circle, .mp-icon-input-container .mp-icon-input-clear-icon svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .mp-icon-input-container .mp-icon-input-clear-icon svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .mp-icon-input-container .mp-icon-input-clear-icon svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .mp-icon-input-container .mp-icon-input-clear-icon svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } .mp-icon-input-container .mp-icon-input-clear-icon svg-icon svg, .mp-icon-input-container .mp-icon-input-clear-icon svg-icon path {   color: #9bacbf;   fill: #9bacbf; } .mp-icon-input-container .mp-icon-input-clear-icon svg-icon svg, .mp-icon-input-container .mp-icon-input-clear-icon svg-icon path {   transition: 0.2s; } .mp-icon-input-container .mp-icon-input-clear-icon:hover svg-icon svg, .mp-icon-input-container .mp-icon-input-clear-icon:hover svg-icon path {   color: #4ba8ff;   fill: #4ba8ff; } ";

},{}],233:[function(require,module,exports){
'use strict';

require('./alert/index.js');

require('./autoresizing-input/index.js');

require('./button-bar/index.js');

require('./button/index.js');

require('./calendar/index.js');

require('./confirm-delete/index.js');

require('./confirm/index.js');

require('./dialog/index.js');

require('./drawer/index.js');

require('./drop-menu/index.js');

require('./formatted-message/index.js');

require('./icon-input/index.js');

require('./input-group/index.js');

require('./list-item/index.js');

require('./modal/index.js');

require('./radio-button/index.js');

require('./spinner/index.js');

require('./svg-icon/index.js');

require('./switch/index.js');

require('./tag/index.js');

require('./toast/index.js');

require('./toggle/index.js');

require('./tooltip/index.js');

require('./truncated-text/index.js');
},{"./alert/index.js":197,"./autoresizing-input/index.js":200,"./button-bar/index.js":205,"./button/index.js":208,"./calendar/index.js":211,"./confirm-delete/index.js":214,"./confirm/index.js":217,"./dialog/index.js":220,"./drawer/index.js":223,"./drop-menu/index.js":226,"./formatted-message/index.js":229,"./icon-input/index.js":231,"./input-group/index.js":235,"./list-item/index.js":238,"./modal/index.js":241,"./radio-button/index.js":244,"./spinner/index.js":247,"./svg-icon/index.js":249,"./switch/index.js":251,"./tag/index.js":254,"./toast/index.js":257,"./toggle/index.js":260,"./tooltip/index.js":263,"./truncated-text/index.js":265}],234:[function(require,module,exports){
"use strict";

function _jade_template_fn(locals) {
  locals = locals || {};;;
  var result_of_with = function ($component, $helpers, value) {
    var h = require('panel').h;
    return {
      value: h("div", {
        "class": {
          'mp-input-group-container': true
        }
      }, function () {
        var __jade_nodes = [];
        var disabled = $component.isAttributeEnabled('disabled');
        var busy = $component.isAttributeEnabled('busy');;
        var inputAttrs = {
          type: 'text',
          placeholder: $component.getAttribute('placeholder') || '',
          value: value
        };
        __jade_nodes = __jade_nodes.concat(disabled || busy ? function () {
          var __jade_nodes = [];
          inputAttrs.disabled = true;;
          return __jade_nodes;
        }.call(this) : undefined);
        __jade_nodes = __jade_nodes.concat(h("input", {
          "attrs": inputAttrs,
          "on": {
            input: $helpers.setValue,
            keyup: $helpers.submitIfEnter
          },
          "class": {
            'mp-input-group-input': true
          }
        }));
        __jade_nodes = __jade_nodes.concat(h("mp-button", {
          "attrs": {
            disabled: disabled || value.trim() === ''
          },
          "on": {
            click: $helpers.submit
          },
          "class": {
            'mp-button-primary': true,
            'mp-input-group-btn': true
          }
        }, function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat($component.isAttributeEnabled('busy') ? function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(h("div", {
              "class": {
                'mp-input-group-spinner': true
              }
            }, function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h('div', {
                props: {
                  innerHTML: '<?xml version="1.0" encoding="utf-8"?><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="uil-ring"><rect x="0" y="0" width="100" height="100" fill="none" class="bk"></rect><circle cx="50" cy="50" r="45" stroke-dasharray="169.64600329384882 113.09733552923257" stroke="#ffffff" fill="none" stroke-width="10"><animateTransform attributeName="transform" type="rotate" values="0 50 50;180 50 50;360 50 50;" keyTimes="0;0.5;1" dur="0.75s" repeatCount="indefinite" begin="0s"></animateTransform></circle></svg>'
                }
              }));;
              return __jade_nodes;
            }.call(this).filter(Boolean)));;
            return __jade_nodes;
          }.call(this) : function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat($component.getAttribute('label') || 'Save');;
            return __jade_nodes;
          }.call(this));;
          return __jade_nodes;
        }.call(this).filter(Boolean)));;
        return __jade_nodes;
      }.call(this).filter(Boolean))
    };
  }.call(this, "$component" in locals ? locals.$component : typeof $component !== "undefined" ? $component : undefined, "$helpers" in locals ? locals.$helpers : typeof $helpers !== "undefined" ? $helpers : undefined, "value" in locals ? locals.value : typeof value !== "undefined" ? value : undefined);
  if (result_of_with) return result_of_with.value;
}
module.exports = _jade_template_fn;
},{"panel":343}],235:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _panel = require('panel');

var _registerElement = require('../../util/register-element.js');

var _index = require('./index.jade');

var _index2 = _interopRequireDefault(_index);

var _index3 = require('./index.styl');

var _index4 = _interopRequireDefault(_index3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

exports.default = (0, _registerElement.registerMPElement)('mp-input-group', function (_Component) {
  _inherits(_class, _Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'focus',
    value: function focus() {
      return this.el.querySelector('input').focus();
    }
  }, {
    key: '_submitIfValid',
    value: function _submitIfValid() {
      if (this.state.value && !this.isAttributeEnabled('busy')) {
        this.dispatchEvent(new Event('submit'));
      }
    }
  }, {
    key: '_updateValueFromAttr',
    value: function _updateValueFromAttr() {
      this.update({ value: this.getAttribute('value') });
    }
  }, {
    key: 'attachedCallback',
    value: function attachedCallback() {
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'attachedCallback', this).apply(this, arguments);
      if (this.getAttribute('value')) {
        this._updateValueFromAttr();
      }
    }
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(name) {
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'attributeChangedCallback', this).apply(this, arguments);
      if (this.initialized && name === 'value') {
        this._updateValueFromAttr();
      }
    }
  }, {
    key: 'config',
    get: function get() {
      var _this2 = this;

      return {
        css: _index4.default,
        template: _index2.default,
        useShadowDom: true,
        defaultState: {
          value: ''
        },
        helpers: {
          setValue: function setValue(e) {
            _this2.update({ value: e.target.value });
            _this2.dispatchEvent(new Event('change'));
          },
          submitIfEnter: function submitIfEnter(e) {
            if (e.keyCode === 13) {
              _this2._submitIfValid();
            }
          },
          submit: function submit() {
            _this2._submitIfValid();
          }
        }
      };
    }
  }, {
    key: 'value',
    get: function get() {
      return this.state.value;
    },
    set: function set(value) {
      this.update({ value: value });
    }
  }]);

  return _class;
}(_panel.Component));
},{"../../util/register-element.js":283,"./index.jade":234,"./index.styl":236,"panel":343}],236:[function(require,module,exports){
module.exports = "* {   -webkit-font-smoothing: antialiased; } *:focus {   outline: 0; } *::-ms-clear {   height: 0;   width: 0; } body {   color: #6d859e;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-stretch: normal;   font-weight: 400; } body.no-scroll {   overflow: hidden; } a, .mp-link {   cursor: pointer;   text-decoration: none; } a, .mp-link, a:visited, .mp-link:visited {   color: #3b99f0; } a:hover, .mp-link:hover {   color: #4ba8ff; } .mp-font-size-xl {   font-size: 18px; } .mp-font-size-large {   font-size: 16px; } .mp-font-size-medium {   font-size: 14px; } .mp-font-size-default {   font-size: 13px; } .mp-font-size-xs {   font-size: 11px;   text-transform: uppercase; } .mp-font-weight-bold {   font-weight: 600; } .mp-font-weight-medium {   font-weight: 500; } .mp-font-weight-regular {   font-weight: 400; } .mp-font-paragraph {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } input[type=text], textarea {   border: 1px solid #d8e0ea;   border-radius: 5px;   box-sizing: border-box;   color: #4c6072;   display: inline-block;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 400;   padding: 8px;   transition: border-color 150ms ease-out; } input[type=text]::-webkit-input-placeholder, textarea::-webkit-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::-moz-placeholder, textarea::-moz-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:-ms-input-placeholder, textarea:-ms-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::placeholder, textarea::placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:focus, textarea:focus, input[type=text]:active, textarea:active {   border-color: #3391e9;   transition: border-color 200ms ease-in; } input[type=text] {   height: 36px; } mp-truncated-text {   display: inline-block;   white-space: nowrap;   width: 100%; } svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } svg-icon[icon=lightning-bolt] #bolt, svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } svg-icon[icon=alert] #circle, svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } mp-input-group {   display: -webkit-inline-box;   display: -ms-inline-flexbox;   display: inline-flex;   height: 40px;   width: 300px; } :host {   display: -webkit-inline-box;   display: -ms-inline-flexbox;   display: inline-flex;   height: 40px;   width: 300px; } .mp-input-group-container, .mp-input-group-container * {   box-sizing: border-box; } .mp-input-group-container {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   display: -webkit-inline-box;   display: -ms-inline-flexbox;   display: inline-flex;   height: 100%;   width: 100%; } .mp-input-group-container .mp-input-group-input, .mp-input-group-container .mp-input-group-btn {   display: -webkit-inline-box;   display: -ms-inline-flexbox;   display: inline-flex; } .mp-input-group-container .mp-input-group-input {   border-bottom-left-radius: 5px;   border-bottom-right-radius: 0;   border-top-left-radius: 5px;   border-top-right-radius: 0;   height: 100%;   margin: 0 -2px 0 0;   margin-right: -2px;   padding-left: 10px;   width: 80%; } .mp-input-group-container .mp-input-group-btn {   border-bottom-left-radius: 0;   border-top-left-radius: 0;   height: 100%;   max-width: 180px;   min-width: 90px;   width: 20%; } .mp-input-group-container .mp-input-group-spinner {   width: 12px; } ";

},{}],237:[function(require,module,exports){
"use strict";

function _jade_template_fn(locals) {
  locals = locals || {};;;
  var result_of_with = function ($component) {
    var h = require('panel').h;
    return {
      value: h("div", {
        "class": {
          'mp-list-item-container': true,
          'mp-list-item-active': $component.isAttributeEnabled('active'),
          'mp-list-item-static': $component.isAttributeEnabled('static')
        }
      }, function () {
        var __jade_nodes = [];
        __jade_nodes = __jade_nodes.concat(h("content"));;
        return __jade_nodes;
      }.call(this).filter(Boolean))
    };
  }.call(this, "$component" in locals ? locals.$component : typeof $component !== "undefined" ? $component : undefined);
  if (result_of_with) return result_of_with.value;
}
module.exports = _jade_template_fn;
},{"panel":343}],238:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _panel = require('panel');

var _registerElement = require('../../util/register-element.js');

var _index = require('./index.jade');

var _index2 = _interopRequireDefault(_index);

var _index3 = require('./index.styl');

var _index4 = _interopRequireDefault(_index3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

exports.default = (0, _registerElement.registerMPElement)('mp-list-item', function (_Component) {
  _inherits(_class, _Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'config',
    get: function get() {
      return {
        css: _index4.default,
        template: _index2.default,
        useShadowDom: true
      };
    }
  }]);

  return _class;
}(_panel.Component));
},{"../../util/register-element.js":283,"./index.jade":237,"./index.styl":239,"panel":343}],239:[function(require,module,exports){
module.exports = "* {   -webkit-font-smoothing: antialiased; } *:focus {   outline: 0; } *::-ms-clear {   height: 0;   width: 0; } body {   color: #6d859e;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-stretch: normal;   font-weight: 400; } body.no-scroll {   overflow: hidden; } a, .mp-link {   cursor: pointer;   text-decoration: none; } a, .mp-link, a:visited, .mp-link:visited {   color: #3b99f0; } a:hover, .mp-link:hover {   color: #4ba8ff; } .mp-font-size-xl {   font-size: 18px; } .mp-font-size-large {   font-size: 16px; } .mp-font-size-medium {   font-size: 14px; } .mp-font-size-default {   font-size: 13px; } .mp-font-size-xs {   font-size: 11px;   text-transform: uppercase; } .mp-font-weight-bold {   font-weight: 600; } .mp-font-weight-medium {   font-weight: 500; } .mp-font-weight-regular {   font-weight: 400; } .mp-font-paragraph {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } input[type=text], textarea {   border: 1px solid #d8e0ea;   border-radius: 5px;   box-sizing: border-box;   color: #4c6072;   display: inline-block;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 400;   padding: 8px;   transition: border-color 150ms ease-out; } input[type=text]::-webkit-input-placeholder, textarea::-webkit-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::-moz-placeholder, textarea::-moz-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:-ms-input-placeholder, textarea:-ms-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::placeholder, textarea::placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:focus, textarea:focus, input[type=text]:active, textarea:active {   border-color: #3391e9;   transition: border-color 200ms ease-in; } input[type=text] {   height: 36px; } mp-truncated-text {   display: inline-block;   white-space: nowrap;   width: 100%; } svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } svg-icon[icon=lightning-bolt] #bolt, svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } svg-icon[icon=alert] #circle, svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } mp-list-item {   box-sizing: border-box;   display: block;   height: 30px; } :host {   box-sizing: border-box;   display: block;   height: 30px; } mp-list-item:first-child {   margin-top: 8px; } :host(:first-child) {   margin-top: 8px; } mp-list-item:last-child {   margin-bottom: 8px; } :host(:last-child) {   margin-bottom: 8px; } .mp-list-item-container {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   background-color: #fff;   border-radius: 3px;   color: #6d859e;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 500;   height: 100%;   line-height: 12px;   margin: 0 8px;   padding: 0 10px;   text-align: left;   -webkit-user-select: none;      -moz-user-select: none;       -ms-user-select: none;           user-select: none; } .mp-list-item-container, .mp-list-item-container * {   box-sizing: border-box; } .mp-list-item-container.mp-list-item-static {   cursor: default; } .mp-list-item-container:not(.mp-list-item-static) {   cursor: pointer; } .mp-list-item-container:hover:not(.mp-list-item-static), .mp-list-item-container.mp-list-item-active {   background-color: #ecf3f8;   color: #3b99f0; } ";

},{}],240:[function(require,module,exports){
"use strict";

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _jade_template_fn(locals) {
  locals = locals || {};;;
  var result_of_with = function ($component, $helpers, Object, visibility) {
    var h = require('panel').h;
    return {
      value: h("div", {
        "on": {
          click: function click(e) {
            return e.stopPropagation();
          }
        },
        "class": Object.assign({}, {
          'mp-modal-absolute': $component.isAttributeEnabled('not-fullscreen'),
          'mp-modal-closed': visibility === 'closed',
          'mp-modal-size-constraints': !$component.isAttributeEnabled('grow-to-content')
        }, {
          'mp-modal-stage': true
        })
      }, function () {
        var __jade_nodes = [];
        __jade_nodes = __jade_nodes.concat($helpers.getType() === 'modal' ? function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(h("div", {
            "on": {
              click: $helpers.backdropClicked
            },
            "class": Object.assign({}, _defineProperty({}, "mp-modal-" + visibility, true), {
              'mp-modal-backdrop': true
            })
          }));;
          return __jade_nodes;
        }.call(this) : undefined);
        __jade_nodes = __jade_nodes.concat(h("div", {
          "class": {
            'mp-modal-wrapper': true
          }
        }, function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(h("div", {
            "class": Object.assign({}, _defineProperty({}, "mp-modal-" + visibility, true), {
              'mp-modal-main': true
            })
          }, function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat($component.isAttributeEnabled('closeable') ? function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h("div", {
                "on": {
                  click: $helpers.closeClicked
                },
                "class": {
                  'mp-modal-close-btn': true
                }
              }, function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat(h("div", {
                  "class": {
                    'mp-modal-close-icon': true
                  }
                }, function () {
                  var __jade_nodes = [];
                  __jade_nodes = __jade_nodes.concat(h('div', {
                    props: {
                      innerHTML: '<?xml version="1.0" encoding="utf-8"?><!-- Generator: Adobe Illustrator 19.2.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"	 viewBox="0 0 10.6 10.5" style="enable-background:new 0 0 10.6 10.5;" xml:space="preserve"><style type="text/css">	.x{fill-rule:evenodd;clip-rule:evenodd;fill:#D8E0E7;}</style><path class="x" d="M8.6,0L5.3,3.3L2,0L0,2l3.3,3.3L0,8.5l2,2l3.2-3.2l3.2,3.2l2-2L7.3,5.3L10.6,2L8.6,0z"/></svg>'
                    }
                  }));;
                  return __jade_nodes;
                }.call(this).filter(Boolean)));;
                return __jade_nodes;
              }.call(this).filter(Boolean)));;
              return __jade_nodes;
            }.call(this) : undefined);
            __jade_nodes = __jade_nodes.concat(h("content"));;
            return __jade_nodes;
          }.call(this).filter(Boolean)));;
          return __jade_nodes;
        }.call(this).filter(Boolean)));;
        return __jade_nodes;
      }.call(this).filter(Boolean))
    };
  }.call(this, "$component" in locals ? locals.$component : typeof $component !== "undefined" ? $component : undefined, "$helpers" in locals ? locals.$helpers : typeof $helpers !== "undefined" ? $helpers : undefined, "Object" in locals ? locals.Object : typeof Object !== "undefined" ? Object : undefined, "visibility" in locals ? locals.visibility : typeof visibility !== "undefined" ? visibility : undefined);
  if (result_of_with) return result_of_with.value;
}
module.exports = _jade_template_fn;
},{"panel":343}],241:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _panel = require('panel');

var _registerElement = require('../../util/register-element.js');

var _index = require('./index.jade');

var _index2 = _interopRequireDefault(_index);

var _index3 = require('./index.styl');

var _index4 = _interopRequireDefault(_index3);

var _dom = require('../../util/dom');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var VISIBILITY_OPEN = 'open';
var VISIBILITY_OPENING = 'opening';
var VISIBILITY_CLOSED = 'closed';
var VISIBILITY_CLOSING = 'closing';

exports.default = (0, _registerElement.registerMPElement)('mp-modal', function (_Component) {
  _inherits(_class, _Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'close',
    value: function close() {
      switch (this.state.visibility) {
        case VISIBILITY_CLOSED:
        case VISIBILITY_CLOSING:
          break;
        case VISIBILITY_OPENING:
          this.update({ visibility: VISIBILITY_CLOSED });
          break;
        case VISIBILITY_OPEN:
          this._pendingAnimations = ['fadeModalOut'];
          if (this.config.helpers.getType() === 'modal') {
            this._pendingAnimations.push('fadeOverlayOut');
          }
          this.update({ visibility: VISIBILITY_CLOSING });
          break;
      }
    }
  }, {
    key: 'open',
    value: function open() {
      switch (this.state.visibility) {
        case VISIBILITY_OPEN:
        case VISIBILITY_OPENING:
          break;
        case VISIBILITY_CLOSING:
          this.update({ visibility: VISIBILITY_OPEN });
          break;
        case VISIBILITY_CLOSED:
          this._pendingAnimations = ['fadeModalIn'];
          if (this.config.helpers.getType() === 'modal') {
            this._pendingAnimations.push('fadeOverlayIn');
          }
          this.update({ visibility: VISIBILITY_OPENING });
          break;
      }
    }
  }, {
    key: 'attachedCallback',
    value: function attachedCallback() {
      var _this2 = this;

      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'attachedCallback', this).apply(this, arguments);

      // listen for escape keypress
      this.maybeCloseOnEscape = function (e) {
        if (_this2.isAttributeEnabled('closeable') && e.keyCode === 27) {
          _this2.close();
        }
      };
      document.body.addEventListener('keydown', this.maybeCloseOnEscape);

      // transition between states after animations complete
      this._onAnimationEnd = function (e) {
        if (_this2._pendingAnimations.length === 0) {
          return;
        }
        _this2._pendingAnimations = _this2._pendingAnimations.filter(function (anim) {
          return anim !== e.animationName;
        });
        if (_this2._pendingAnimations.length > 0) {
          return;
        }
        switch (_this2.state.visibility) {
          case VISIBILITY_OPENING:
            _this2.update({ visibility: VISIBILITY_OPEN });
            _this2.dispatchEvent(new CustomEvent('change', { detail: { state: VISIBILITY_OPEN } }));
            break;
          case VISIBILITY_CLOSING:
            _this2.update({ visibility: VISIBILITY_CLOSED });
            _this2.dispatchEvent(new CustomEvent('change', { detail: { state: VISIBILITY_CLOSED } }));
            break;
        }
      };
      (0, _dom.onAnimationEnd)(this.el, this._onAnimationEnd);

      if (this.isAttributeEnabled('open')) {
        this.open();
      }
    }
  }, {
    key: 'detachedCallback',
    value: function detachedCallback() {
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'detachedCallback', this).apply(this, arguments);
      document.body.removeEventListener('keydown', this.maybeCloseOnEscape);
      (0, _dom.offAnimationEnd)(this.el, this._onAnimationEnd);
    }
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(name) {
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'attributeChangedCallback', this).apply(this, arguments);
      if (this.initialized && name === 'open') {
        if (this.isAttributeEnabled('open')) {
          this.open();
        } else {
          this.close();
        }
      }
    }
  }, {
    key: 'config',
    get: function get() {
      var _this3 = this;

      return {
        css: _index4.default,
        template: _index2.default,
        useShadowDom: true,
        defaultState: {
          visibility: VISIBILITY_CLOSED
        },
        helpers: {
          backdropClicked: function backdropClicked() {
            if (_this3.isAttributeEnabled('closeable')) {
              _this3.close();
            }
          },
          closeClicked: function closeClicked() {
            _this3.close();
          },
          getType: function getType() {
            return _this3.getAttribute('modal-type') || 'modal';
          }
        }
      };
    }
  }]);

  return _class;
}(_panel.Component));
},{"../../util/dom":280,"../../util/register-element.js":283,"./index.jade":240,"./index.styl":242,"panel":343}],242:[function(require,module,exports){
module.exports = "* {   -webkit-font-smoothing: antialiased; } *:focus {   outline: 0; } *::-ms-clear {   height: 0;   width: 0; } body {   color: #6d859e;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-stretch: normal;   font-weight: 400; } body.no-scroll {   overflow: hidden; } a, .mp-link {   cursor: pointer;   text-decoration: none; } a, .mp-link, a:visited, .mp-link:visited {   color: #3b99f0; } a:hover, .mp-link:hover {   color: #4ba8ff; } .mp-font-size-xl {   font-size: 18px; } .mp-font-size-large {   font-size: 16px; } .mp-font-size-medium {   font-size: 14px; } .mp-font-size-default {   font-size: 13px; } .mp-font-size-xs {   font-size: 11px;   text-transform: uppercase; } .mp-font-weight-bold {   font-weight: 600; } .mp-font-weight-medium {   font-weight: 500; } .mp-font-weight-regular {   font-weight: 400; } .mp-font-paragraph {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } input[type=text], textarea {   border: 1px solid #d8e0ea;   border-radius: 5px;   box-sizing: border-box;   color: #4c6072;   display: inline-block;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 400;   padding: 8px;   transition: border-color 150ms ease-out; } input[type=text]::-webkit-input-placeholder, textarea::-webkit-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::-moz-placeholder, textarea::-moz-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:-ms-input-placeholder, textarea:-ms-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::placeholder, textarea::placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:focus, textarea:focus, input[type=text]:active, textarea:active {   border-color: #3391e9;   transition: border-color 200ms ease-in; } input[type=text] {   height: 36px; } mp-truncated-text {   display: inline-block;   white-space: nowrap;   width: 100%; } svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } svg-icon[icon=lightning-bolt] #bolt, svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } svg-icon[icon=alert] #circle, svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } mp-modal {   width: 400px; } :host {   width: 400px; } .mp-modal-stage, .mp-modal-stage * {   box-sizing: border-box; } .mp-modal-size-constraints.mp-modal-stage, .mp-modal-size-constraints .mp-modal-wrapper, .mp-modal-size-constraints .mp-modal-main {   width: inherit; } .mp-modal-stage {   bottom: 0;   left: 0;   min-width: 100%;   pointer-events: none;   position: fixed;   right: 0;   top: 0;   z-index: 100; } .mp-modal-stage.mp-modal-closed {   display: none; } .mp-modal-stage.mp-modal-absolute, .mp-modal-stage.mp-modal-absolute .mp-modal-backdrop, .mp-modal-stage.mp-modal-absolute .mp-modal-wrapper {   position: absolute; } .mp-modal-stage .mp-modal-backdrop {   background: #4c6072;   height: 100%;   pointer-events: auto;   position: fixed;   width: 100%;   z-index: 200; } .mp-modal-stage .mp-modal-backdrop.mp-modal-opening {   -webkit-animation: fadeOverlayIn 300ms forwards;           animation: fadeOverlayIn 300ms forwards;   opacity: 0; } .mp-modal-stage .mp-modal-backdrop.mp-modal-open {   opacity: 0.8; } .mp-modal-stage .mp-modal-backdrop.mp-modal-closing {   -webkit-animation: fadeOverlayOut 300ms forwards;           animation: fadeOverlayOut 300ms forwards; } .mp-modal-stage .mp-modal-backdrop.mp-modal-closed {   opacity: 0; } .mp-modal-stage .mp-modal-backdrop + .mp-modal-wrapper .mp-modal-main {   box-shadow: 0 17px 50px 0 rgba(0,0,0,0.19); } .mp-modal-stage .mp-modal-wrapper {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   height: 100%;   -webkit-box-pack: center;       -ms-flex-pack: center;           justify-content: center;   min-width: 100%;   pointer-events: none;   position: fixed;   z-index: 300; } .mp-modal-stage .mp-modal-wrapper .mp-modal-main {   background: #fff;   border: 1px solid #ecf3f8;   border-radius: 5px;   box-shadow: 0 1px 30px 0 rgba(0,0,0,0.19);   pointer-events: auto;   position: relative; } .mp-modal-stage .mp-modal-wrapper .mp-modal-main.mp-modal-opening {   -webkit-animation: fadeModalIn 300ms forwards 100ms;           animation: fadeModalIn 300ms forwards 100ms;   opacity: 0; } .mp-modal-stage .mp-modal-wrapper .mp-modal-main.mp-modal-open {   opacity: 1; } .mp-modal-stage .mp-modal-wrapper .mp-modal-main.mp-modal-closing {   -webkit-animation: fadeModalOut 200ms forwards;           animation: fadeModalOut 200ms forwards; } .mp-modal-stage .mp-modal-wrapper .mp-modal-main.mp-modal-closed {   opacity: 0; } .mp-modal-stage .mp-modal-wrapper .mp-modal-main .mp-modal-close-btn {   cursor: pointer;   float: right;   height: 10px;   position: absolute;   right: 15px;   top: 15px; } .mp-modal-stage .mp-modal-wrapper .mp-modal-main .mp-modal-close-btn .mp-modal-close-icon svg {   width: 10px; } .mp-modal-stage .mp-modal-wrapper .mp-modal-main .mp-modal-close-btn .mp-modal-close-icon svg path {   fill: #bdc9d6; } .mp-modal-stage .mp-modal-wrapper .mp-modal-main .mp-modal-close-btn:hover .mp-modal-close-icon svg path {   fill: #d8e0ea; } .mp-modal-content {   padding: 15px 30px; } .mp-modal-title {   color: #4c6072;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 18px;   font-weight: 600;   line-height: 1.4; } .mp-modal-subtitle {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px;   margin: 12px 0; } content::content .mp-modal-content {   padding: 15px 30px; } content::content .mp-modal-title {   color: #4c6072;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 18px;   font-weight: 600;   line-height: 1.4; } content::content .mp-modal-subtitle {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px;   margin: 12px 0; } @-webkit-keyframes fadeOverlayIn {   from {     opacity: 0;   }   to {     opacity: 0.8;   } } @keyframes fadeOverlayIn {   from {     opacity: 0;   }   to {     opacity: 0.8;   } } @-webkit-keyframes fadeOverlayOut {   from {     opacity: 0.8;   }   to {     opacity: 0;   } } @keyframes fadeOverlayOut {   from {     opacity: 0.8;   }   to {     opacity: 0;   } } @-webkit-keyframes fadeModalIn {   from {     opacity: 0;     -webkit-transform: scale(1.1, 1.1);             transform: scale(1.1, 1.1);   }   to {     opacity: 1;     -webkit-transform: scale(1, 1);             transform: scale(1, 1);   } } @keyframes fadeModalIn {   from {     opacity: 0;     -webkit-transform: scale(1.1, 1.1);             transform: scale(1.1, 1.1);   }   to {     opacity: 1;     -webkit-transform: scale(1, 1);             transform: scale(1, 1);   } } @-webkit-keyframes fadeModalOut {   from {     opacity: 1;     -webkit-transform: scale(1, 1);             transform: scale(1, 1);   }   to {     opacity: 0;     -webkit-transform: scale(1.1, 1.1);             transform: scale(1.1, 1.1);   } } @keyframes fadeModalOut {   from {     opacity: 1;     -webkit-transform: scale(1, 1);             transform: scale(1, 1);   }   to {     opacity: 0;     -webkit-transform: scale(1.1, 1.1);             transform: scale(1.1, 1.1);   } } ";

},{}],243:[function(require,module,exports){
"use strict";

function _jade_template_fn(locals) {
  locals = locals || {};;;
  var result_of_with = function (Object, selected) {
    var h = require('panel').h;
    return {
      value: h("div", {
        "class": Object.assign({}, {
          'mp-radio-button-selected': selected
        }, {
          'mp-radio-button-button': true
        })
      }, function () {
        var __jade_nodes = [];
        __jade_nodes = __jade_nodes.concat(h("content"));;
        return __jade_nodes;
      }.call(this).filter(Boolean))
    };
  }.call(this, "Object" in locals ? locals.Object : typeof Object !== "undefined" ? Object : undefined, "selected" in locals ? locals.selected : typeof selected !== "undefined" ? selected : undefined);
  if (result_of_with) return result_of_with.value;
}
module.exports = _jade_template_fn;
},{"panel":343}],244:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _panel = require('panel');

var _registerElement = require('../../util/register-element.js');

var _index = require('./index.jade');

var _index2 = _interopRequireDefault(_index);

var _index3 = require('./index.styl');

var _index4 = _interopRequireDefault(_index3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

exports.default = (0, _registerElement.registerMPElement)('mp-radio-button', function (_Component) {
  _inherits(_class, _Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(attr) {
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'attributeChangedCallback', this).apply(this, arguments);
      if (attr === 'selected') {
        this.update({ selected: this.isAttributeEnabled(attr) });
      }
    }
  }, {
    key: 'config',
    get: function get() {
      return {
        css: _index4.default,
        template: _index2.default,
        useShadowDom: true,
        defaultState: {
          selected: false
        }
      };
    }
  }]);

  return _class;
}(_panel.Component));
},{"../../util/register-element.js":283,"./index.jade":243,"./index.styl":245,"panel":343}],245:[function(require,module,exports){
module.exports = "* {   -webkit-font-smoothing: antialiased; } *:focus {   outline: 0; } *::-ms-clear {   height: 0;   width: 0; } body {   color: #6d859e;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-stretch: normal;   font-weight: 400; } body.no-scroll {   overflow: hidden; } a, .mp-link {   cursor: pointer;   text-decoration: none; } a, .mp-link, a:visited, .mp-link:visited {   color: #3b99f0; } a:hover, .mp-link:hover {   color: #4ba8ff; } .mp-font-size-xl {   font-size: 18px; } .mp-font-size-large {   font-size: 16px; } .mp-font-size-medium {   font-size: 14px; } .mp-font-size-default {   font-size: 13px; } .mp-font-size-xs {   font-size: 11px;   text-transform: uppercase; } .mp-font-weight-bold {   font-weight: 600; } .mp-font-weight-medium {   font-weight: 500; } .mp-font-weight-regular {   font-weight: 400; } .mp-font-paragraph {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } input[type=text], textarea {   border: 1px solid #d8e0ea;   border-radius: 5px;   box-sizing: border-box;   color: #4c6072;   display: inline-block;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 400;   padding: 8px;   transition: border-color 150ms ease-out; } input[type=text]::-webkit-input-placeholder, textarea::-webkit-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::-moz-placeholder, textarea::-moz-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:-ms-input-placeholder, textarea:-ms-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::placeholder, textarea::placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:focus, textarea:focus, input[type=text]:active, textarea:active {   border-color: #3391e9;   transition: border-color 200ms ease-in; } input[type=text] {   height: 36px; } mp-truncated-text {   display: inline-block;   white-space: nowrap;   width: 100%; } svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } svg-icon[icon=lightning-bolt] #bolt, svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } svg-icon[icon=alert] #circle, svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } mp-radio-button {   display: inline-block; } :host {   display: inline-block; } .mp-radio-button-button {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   color: #6d859e;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   font-size: 11px;   font-weight: 600;   text-transform: uppercase; } .mp-radio-button-button::before {   border: 1px solid #d8e0ea;   border-radius: 10px;   content: '';   display: inline-block;   height: 15px;   margin-right: 8px;   width: 15px; } .mp-radio-button-button.mp-radio-button-selected::before {   border: 6px solid #4ba8ff;   height: 5px;   width: 5px; } ";

},{}],246:[function(require,module,exports){
"use strict";

function _jade_template_fn(locals) {
  locals = locals || {};;;
  var result_of_with = function ($component) {
    var h = require('panel').h;
    return {
      value: h("div", {
        "class": {
          'mp-spinner': true,
          'mp-spinner-white': $component.getAttribute('color') === 'white'
        }
      }, function () {
        var __jade_nodes = [];
        __jade_nodes = __jade_nodes.concat(h("svg-icon", {
          "attrs": {
            icon: 'spinner'
          }
        }));;
        return __jade_nodes;
      }.call(this).filter(Boolean))
    };
  }.call(this, "$component" in locals ? locals.$component : typeof $component !== "undefined" ? $component : undefined);
  if (result_of_with) return result_of_with.value;
}
module.exports = _jade_template_fn;
},{"panel":343}],247:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _panel = require('panel');

var _registerElement = require('../../util/register-element.js');

var _index = require('./index.jade');

var _index2 = _interopRequireDefault(_index);

var _index3 = require('./index.styl');

var _index4 = _interopRequireDefault(_index3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

exports.default = (0, _registerElement.registerMPElement)('mp-spinner', function (_Component) {
  _inherits(_class, _Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'config',
    get: function get() {
      return {
        css: _index4.default,
        template: _index2.default,
        useShadowDom: true
      };
    }
  }]);

  return _class;
}(_panel.Component));
},{"../../util/register-element.js":283,"./index.jade":246,"./index.styl":248,"panel":343}],248:[function(require,module,exports){
module.exports = "* {   -webkit-font-smoothing: antialiased; } *:focus {   outline: 0; } *::-ms-clear {   height: 0;   width: 0; } body {   color: #6d859e;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-stretch: normal;   font-weight: 400; } body.no-scroll {   overflow: hidden; } a, .mp-link {   cursor: pointer;   text-decoration: none; } a, .mp-link, a:visited, .mp-link:visited {   color: #3b99f0; } a:hover, .mp-link:hover {   color: #4ba8ff; } .mp-font-size-xl {   font-size: 18px; } .mp-font-size-large {   font-size: 16px; } .mp-font-size-medium {   font-size: 14px; } .mp-font-size-default {   font-size: 13px; } .mp-font-size-xs {   font-size: 11px;   text-transform: uppercase; } .mp-font-weight-bold {   font-weight: 600; } .mp-font-weight-medium {   font-weight: 500; } .mp-font-weight-regular {   font-weight: 400; } .mp-font-paragraph {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } input[type=text], textarea {   border: 1px solid #d8e0ea;   border-radius: 5px;   box-sizing: border-box;   color: #4c6072;   display: inline-block;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 400;   padding: 8px;   transition: border-color 150ms ease-out; } input[type=text]::-webkit-input-placeholder, textarea::-webkit-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::-moz-placeholder, textarea::-moz-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:-ms-input-placeholder, textarea:-ms-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::placeholder, textarea::placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:focus, textarea:focus, input[type=text]:active, textarea:active {   border-color: #3391e9;   transition: border-color 200ms ease-in; } input[type=text] {   height: 36px; } mp-truncated-text {   display: inline-block;   white-space: nowrap;   width: 100%; } svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } svg-icon[icon=lightning-bolt] #bolt, svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } svg-icon[icon=alert] #circle, svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } mp-spinner {   display: inline-block;   height: 22px;   width: 22px; } :host {   display: inline-block;   height: 22px;   width: 22px; } .mp-spinner {   -webkit-animation: spin 0.7s infinite linear;           animation: spin 0.7s infinite linear;   height: 100%;   -webkit-transform: translateZ(0);           transform: translateZ(0);   width: 100%; } .mp-spinner svg-icon {   display: inline-block;   height: 100%;   min-height: 100%;   min-width: 100%;   position: relative;   width: 100%; } .mp-spinner svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .mp-spinner svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .mp-spinner svg-icon[icon=lightning-bolt] #bolt, .mp-spinner svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .mp-spinner svg-icon[icon=alert] #circle, .mp-spinner svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .mp-spinner svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .mp-spinner svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .mp-spinner svg-icon svg {   height: 100%;   left: 0;   min-height: 100%;   min-width: 100%;   position: absolute;   top: 0;   width: 100%; } .mp-spinner svg-icon svg, .mp-spinner svg-icon path {   color: #4ba8ff;   fill: #4ba8ff; } .mp-spinner-white svg-icon {   display: inline-block;   height: 100%;   min-height: 100%;   min-width: 100%;   position: relative;   width: 100%; } .mp-spinner-white svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .mp-spinner-white svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .mp-spinner-white svg-icon[icon=lightning-bolt] #bolt, .mp-spinner-white svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .mp-spinner-white svg-icon[icon=alert] #circle, .mp-spinner-white svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .mp-spinner-white svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .mp-spinner-white svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .mp-spinner-white svg-icon svg {   height: 100%;   left: 0;   min-height: 100%;   min-width: 100%;   position: absolute;   top: 0;   width: 100%; } .mp-spinner-white svg-icon svg, .mp-spinner-white svg-icon path {   color: #fff;   fill: #fff; } @-webkit-keyframes spin {   0% {     -webkit-transform: rotate(0deg);             transform: rotate(0deg);   }   100% {     -webkit-transform: rotate(360deg);             transform: rotate(360deg);   } } @keyframes spin {   0% {     -webkit-transform: rotate(0deg);             transform: rotate(0deg);   }   100% {     -webkit-transform: rotate(360deg);             transform: rotate(360deg);   } } ";

},{}],249:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SVG_ICONS = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _webcomponent = require('webcomponent');

var _webcomponent2 = _interopRequireDefault(_webcomponent);

var _registerElement = require('../../util/register-element.js');

var _util = require('../../util');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/* babel-plugin-inline-import './../../../assets/icons/abtest-gradient.svg' */var _iconMap_abtestGradient = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 46.2 (44496) - http://www.bohemiancoding.com/sketch -->\n    <title>abtest</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <linearGradient x1="30.2734375%" y1="0%" x2="50%" y2="142.933239%" id="linearGradient-abtest">\n            <stop stop-color="#DC5A97" offset="0%"></stop>\n            <stop stop-color="#F9B0A4" offset="100%"></stop>\n        </linearGradient>\n        <path d="M6.000094,6.000153 C8.20929,6.000153 10.000222,7.790788 10.000222,10.000138 C10.000222,12.208938 8.20929,14.000123 6.000094,14.000123 C3.791052,14.000123 2.000098,12.208938 2.000098,10.000138 C2.000098,7.790788 3.791052,6.000153 6.000094,6.000153 Z M16.00005,6.000153 C18.209246,6.000153 20.000178,7.790788 20.000178,10.000138 C20.000178,12.208938 18.209246,14.000123 16.00005,14.000123 C13.791008,14.000123 12.000054,12.208938 12.000054,10.000138 C12.000054,7.790788 13.791008,6.000153 16.00005,6.000153 Z M16.00005,8.000074 C14.89532,8.000074 14.000118,8.895463 14.000118,10.000138 C14.000118,11.104263 14.89532,12.000059 16.00005,12.000059 C17.104362,12.000059 18.000114,11.104263 18.000114,10.000138 C18.000114,8.895463 17.104362,8.000074 16.00005,8.000074 Z" id="path-2-ab"></path>\n    </defs>\n    <g class="ab-icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g class="abtest-svg">\n            <g>\n                <use fill-opacity="0" fill="#FC8935" xlink:href="#path-2-ab"></use>\n                <use fill="url(#linearGradient-abtest)" xlink:href="#path-2-ab"></use>\n            </g>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/alert.svg' */var _iconMap_alert = '<?xml version="1.0" encoding="UTF-8"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch -->\n    <title>alert</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="16-x-16" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="alert">\n            <g transform="translate(4.000000, 4.000000)">\n                <g>\n                    <path d="M13.718,9.969 L8.466,0.888 C7.781,-0.296 6.195,-0.296 5.51,0.888 L0.287,9.919 C-0.487,11.258 0.396,13 1.849,13 L12.181,13 C13.61,13 14.479,11.286 13.718,9.969 L13.718,9.969 Z" id="alert-shape"></path>\n                    <polygon id="stem" fill="#FFFFFF" points="6.5 8.5 7.5 8.5 8 3.5 6 3.5"></polygon>\n                    <path d="M7,9.5 C6.448,9.5 6,9.948 6,10.5 C6,11.052 6.448,11.5 7,11.5 C7.552,11.5 8,11.052 8,10.5 C8,9.948 7.552,9.5 7,9.5" id="circle" fill="#FFFFFF"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>';
/* babel-plugin-inline-import './../../../assets/icons/analysis-cumulative.svg' */var _iconMap_analysisCumulative = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M4.001 16c-0.347 0-0.685-0.181-0.869-0.504-0.274-0.479-0.108-1.090 0.372-1.364l14-8c0.478-0.275 1.090-0.108 1.364 0.372s0.108 1.090-0.372 1.364l-14 8c-0.156 0.090-0.327 0.132-0.495 0.132z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/analysis-linear.svg' */var _iconMap_analysisLinear = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M18 12h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.553 0 1 0.448 1 1s-0.447 1-1 1z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/analysis-logarithmic.svg' */var _iconMap_analysisLogarithmic = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M18 4c-0.303 0-7.452 0.038-10.707 3.293-3.19 3.19-4.236 9.285-4.279 9.543-0.091 0.544 0.277 1.059 0.821 1.15 0.056 0.009 0.111 0.014 0.166 0.014 0.48 0 0.903-0.347 0.985-0.835 0.010-0.057 0.987-5.724 3.721-8.458 2.669-2.669 9.228-2.707 9.294-2.707 0.552 0 0.999-0.449 0.999-1-0.001-0.553-0.448-1-1-1z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/analysis-rolling.svg' */var _iconMap_analysisRolling = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M19.707 10.293c-0.234-0.235-2.36-2.293-4.707-2.293s-4.473 2.058-4.706 2.292c-0.479 0.475-2.004 1.708-3.294 1.708s-2.815-1.233-3.294-1.708c-0.391-0.389-1.025-0.387-1.414 0.003-0.389 0.391-0.389 1.022 0.001 1.412 0.234 0.235 2.36 2.293 4.707 2.293s4.473-2.058 4.706-2.291c0.479-0.476 2.004-1.709 3.294-1.709s2.815 1.233 3.294 1.709c0.391 0.387 1.023 0.388 1.414-0.004 0.389-0.391 0.389-1.022-0.001-1.412z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/analysis.svg' */var _iconMap_analysis = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 44.1 (41455) - http://www.bohemiancoding.com/sketch -->\n    <title>Analysis</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <linearGradient xmlns="http://www.w3.org/2000/svg" id="blue-gradient" x1="26.97%" x2="74.831%" y1="-36.06%" y2="116.846%">\n            <stop offset="0%" stop-color="#083BC1"></stop>\n            <stop offset="40.39%" stop-color="#0747C4"></stop>\n            <stop offset="100%" stop-color="#07B2D7"></stop>\n        </linearGradient>\n    </defs>\n    <g id="Navigation-icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Analysis" fill="#6D859E">\n            <path d="M12,9.999 L21,9.999 C21,5.03 16.971,1 12,1 L12,9.999 Z M10,3 C5.03,3 1,7.029 1,12 C1,16.97 5.03,21 10,21 C14.971,21 19.001,16.97 19.001,12 L10,12 L10,3 Z" id="analysis"></path>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/analyze.svg' */var _iconMap_analyze = '<?xml version="1.0" encoding="UTF-8"?>\n<svg width="26px" height="26px" viewBox="0 0 26 26" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 45.2 (43514) - http://www.bohemiancoding.com/sketch -->\n    <title>analyze</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <path d="M18.000003,7.900746 C23.52297,7.900746 28.000196,12.377802 28.000196,17.901042 C28.000196,23.423466 23.52297,27.90093 18.000003,27.90093 C12.477013,27.90093 8.000224,23.423466 8.000224,17.901042 C8.000224,12.377802 12.477013,7.900746 18.000003,7.900746 Z M18.239893,21.896634 C18.253417,21.896634 18.267516,21.896226 18.28219,21.895266 C18.607272,21.88017 18.889482,21.689826 18.996616,21.41421 L21.219198,15.707346 L22.192305,18.42345 C22.311974,18.700434 22.60941,18.882546 22.940196,18.882546 L25.190125,18.882546 C25.632737,18.882546 25.992296,18.560778 25.992296,18.163482 C25.992296,17.766186 25.632737,17.444418 25.190125,17.444418 L23.489505,17.444418 L21.92792,13.366026 C21.806687,13.085202 21.545844,12.890466 21.166482,12.906522 C20.831004,12.911874 20.53412,13.104138 20.423306,13.38897 L18.127492,19.284234 L15.957051,15.175746 C15.836807,14.948346 15.592225,14.79357 15.312729,14.768154 C15.033647,14.74041 14.758705,14.850426 14.590483,15.052026 L12.892968,17.481378 L10.799324,17.481378 C10.356712,17.481378 9.997153,17.803674 9.997153,18.20097 C9.997153,18.597714 10.356712,18.920034 10.799324,18.920034 L13.294272,18.920034 C13.546283,18.920034 13.784609,18.813474 13.935604,18.632322 L15.075967,16.869018 L17.514933,21.485346 C17.648264,21.737466 17.930911,21.896634 18.239893,21.896634 Z" id="path-1"></path>\n        <filter x="-21.7%" y="-16.7%" width="143.5%" height="141.7%" filterUnits="objectBoundingBox" id="filter-2">\n            <feOffset dx="0" dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>\n            <feGaussianBlur stdDeviation="1.5" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur>\n            <feColorMatrix values="0 0 0 0 0.23137255   0 0 0 0 0.23137255   0 0 0 0 0.34901962  0 0 0 0.15 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix>\n        </filter>\n        <linearGradient xmlns="http://www.w3.org/2000/svg" id="blue-gradient" x1="26.97%" x2="74.831%" y1="-36.06%" y2="116.846%">\n            <stop offset="0%" stop-color="#083BC1"></stop>\n            <stop offset="40.39%" stop-color="#0747C4"></stop>\n            <stop offset="100%" stop-color="#07B2D7"></stop>\n        </linearGradient>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Navigation-concept-1001-copy-12" transform="translate(-468.000000, -403.000000)">\n            <g id="Stacked-Group-3" transform="translate(-2.000000, 375.000000)">\n                <g id="Group-11">\n                    <g id="Stacked-Group" transform="translate(465.000000, 22.000000)">\n                        <g id="analyze">\n                            <g>\n                                <circle id="Oval" fill-opacity="0" fill="#FFFFFF" cx="18" cy="18" r="18"></circle>\n                                <g id="Combined-shape-75">\n                                    <use fill="black" fill-opacity="1" filter="url(#filter-2)" xlink:href="#path-1"></use>\n                                    <use fill="#FFFFFF" fill-rule="evenodd" xlink:href="#path-1"></use>\n                                </g>\n                            </g>\n                        </g>\n                    </g>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/application-menu.svg' */var _iconMap_applicationMenu = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 46.2 (44496) - http://www.bohemiancoding.com/sketch -->\n    <title>apps</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="apps" fill="#4C6072">\n            <path d="M3,3 L5,3 C5.55228475,3 6,3.44771525 6,4 L6,6 C6,6.55228475 5.55228475,7 5,7 L3,7 C2.44771525,7 2,6.55228475 2,6 L2,4 C2,3.44771525 2.44771525,3 3,3 Z M10,3 L12,3 C12.5522847,3 13,3.44771525 13,4 L13,6 C13,6.55228475 12.5522847,7 12,7 L10,7 C9.44771525,7 9,6.55228475 9,6 L9,4 C9,3.44771525 9.44771525,3 10,3 Z M17,3 L19,3 C19.5522847,3 20,3.44771525 20,4 L20,6 C20,6.55228475 19.5522847,7 19,7 L17,7 C16.4477153,7 16,6.55228475 16,6 L16,4 C16,3.44771525 16.4477153,3 17,3 Z M3,9 L5,9 C5.55228475,9 6,9.44771525 6,10 L6,12 C6,12.5522847 5.55228475,13 5,13 L3,13 C2.44771525,13 2,12.5522847 2,12 L2,10 C2,9.44771525 2.44771525,9 3,9 Z M10,9 L12,9 C12.5522847,9 13,9.44771525 13,10 L13,12 C13,12.5522847 12.5522847,13 12,13 L10,13 C9.44771525,13 9,12.5522847 9,12 L9,10 C9,9.44771525 9.44771525,9 10,9 Z M17,9 L19,9 C19.5522847,9 20,9.44771525 20,10 L20,12 C20,12.5522847 19.5522847,13 19,13 L17,13 C16.4477153,13 16,12.5522847 16,12 L16,10 C16,9.44771525 16.4477153,9 17,9 Z M3,15 L5,15 C5.55228475,15 6,15.4477153 6,16 L6,18 C6,18.5522847 5.55228475,19 5,19 L3,19 C2.44771525,19 2,18.5522847 2,18 L2,16 C2,15.4477153 2.44771525,15 3,15 Z M10,15 L12,15 C12.5522847,15 13,15.4477153 13,16 L13,18 C13,18.5522847 12.5522847,19 12,19 L10,19 C9.44771525,19 9,18.5522847 9,18 L9,16 C9,15.4477153 9.44771525,15 10,15 Z M17,15 L19,15 C19.5522847,15 20,15.4477153 20,16 L20,18 C20,18.5522847 19.5522847,19 19,19 L17,19 C16.4477153,19 16,18.5522847 16,18 L16,16 C16,15.4477153 16.4477153,15 17,15 Z" id="Rounded_Rectangle_760"></path>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/arrow-down.svg' */var _iconMap_arrowDown = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M15.853 11.853l-0.707-0.707c-0.195-0.195-0.512-0.195-0.707 0l-2.44 2.439v-8.085c0-0.277-0.223-0.5-0.5-0.5h-1c-0.276 0-0.5 0.223-0.5 0.5v8.085l-2.439-2.439c-0.195-0.195-0.512-0.195-0.707 0l-0.707 0.707c-0.195 0.195-0.195 0.512 0 0.707l4.146 4.147c0.391 0.39 1.024 0.39 1.415 0l4.146-4.147c0.195-0.195 0.195-0.512 0-0.707z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/arrow-left.svg' */var _iconMap_arrowLeft = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M16.5 10h-8.086l2.439-2.439c0.196-0.196 0.196-0.512 0-0.707l-0.706-0.707c-0.196-0.196-0.512-0.196-0.708 0l-4.146 4.146c-0.391 0.39-0.391 1.024 0 1.414l4.146 4.147c0.196 0.195 0.512 0.195 0.708 0l0.706-0.707c0.196-0.196 0.196-0.512 0-0.708l-2.439-2.439h8.086c0.276 0 0.5-0.224 0.5-0.5v-1c0-0.276-0.224-0.5-0.5-0.5z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/arrow-return.svg' */var _iconMap_arrowReturn = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 41.1 (35376) - http://www.bohemiancoding.com/sketch -->\n    <title>arrow-return</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="16-x-16" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="arrow-return">\n            <path d="M14.125,6.9397 L14.125,11.6057 L9.75,11.6057 L9.75,9.1087 L6,12.5367 L9.75,15.9997 L9.75,13.4847 L14.437,13.4847 C15.299,13.4847 16,12.8057 16,11.9417 L16,6.9397 C16,6.4207 15.58,5.9997 15.062,5.9997 C14.545,5.9997 14.125,6.4207 14.125,6.9397"></path>\n        </g>\n    </g>\n</svg>';
/* babel-plugin-inline-import './../../../assets/icons/arrow-right.svg' */var _iconMap_arrowRight = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M16.707 10.293l-4.146-4.146c-0.196-0.196-0.512-0.196-0.708 0l-0.707 0.706c-0.195 0.196-0.195 0.512 0 0.708l2.44 2.439h-8.086c-0.276 0-0.5 0.224-0.5 0.5v1c0 0.276 0.224 0.5 0.5 0.5h8.086l-2.44 2.439c-0.195 0.196-0.195 0.512 0 0.708l0.707 0.706c0.196 0.196 0.512 0.196 0.708 0l4.146-4.146c0.39-0.39 0.39-1.024 0-1.414z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/arrow-up.svg' */var _iconMap_arrowUp = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M15.853 9.439l-4.146-4.146c-0.391-0.391-1.024-0.391-1.415 0l-4.146 4.146c-0.195 0.195-0.195 0.512 0 0.707l0.707 0.707c0.195 0.195 0.512 0.195 0.707 0l2.439-2.439v8.086c0 0.276 0.224 0.5 0.5 0.5h1c0.277 0 0.5-0.224 0.5-0.5v-8.086l2.44 2.439c0.195 0.195 0.512 0.195 0.707 0l0.707-0.707c0.195-0.195 0.195-0.512 0-0.707z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/autotrack.svg' */var _iconMap_autotrack = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M5 11.056c0-3.34 2.717-6.057 6.057-6.057 2.932 0 5.439 2.091 5.959 4.972l1.968-0.355c-0.692-3.834-4.026-6.617-7.927-6.617-4.443 0-8.057 3.615-8.057 8.057 0 3.901 2.782 7.235 6.616 7.927l0.356-1.968c-2.881-0.52-4.972-3.026-4.972-5.959z"></path>\n<path fill="#000" d="M11.024 9c0.98 0 1.817 0.699 1.991 1.661l1.969-0.355c-0.346-1.916-2.012-3.306-3.96-3.306-2.219 0-4.024 1.805-4.024 4.024 0 1.949 1.39 3.614 3.305 3.96l0.356-1.968c-0.963-0.174-1.661-1.011-1.661-1.992 0-1.116 0.908-2.024 2.024-2.024z"></path>\n<path fill="#000" d="M18.853 16.732l-2.298-2.298c-0.098-0.098-0.098-0.256 0-0.354l1.223-1.223c0.148-0.148 0.059-0.402-0.149-0.425l-5.226-0.581c-0.318-0.035-0.587 0.234-0.552 0.552l0.581 5.226c0.023 0.209 0.277 0.298 0.425 0.149l1.223-1.223c0.098-0.097 0.256-0.097 0.354 0l2.298 2.298c0.195 0.196 0.512 0.196 0.707 0l1.414-1.414c0.195-0.195 0.195-0.512 0-0.707z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/bar-graph.svg' */var _iconMap_barGraph = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M18.5 4h-3c-0.276 0-0.5 0.224-0.5 0.5v13c0 0.276 0.224 0.5 0.5 0.5h3c0.276 0 0.5-0.224 0.5-0.5v-13c0-0.276-0.224-0.5-0.5-0.5z"></path>\n<path fill="#000" d="M12.5 8h-3c-0.276 0-0.5 0.224-0.5 0.5v9c0 0.276 0.224 0.5 0.5 0.5h3c0.276 0 0.5-0.224 0.5-0.5v-9c0-0.276-0.224-0.5-0.5-0.5z"></path>\n<path fill="#000" d="M6.5 12h-3c-0.276 0-0.5 0.224-0.5 0.5v5c0 0.276 0.224 0.5 0.5 0.5h3c0.276 0 0.5-0.224 0.5-0.5v-5c0-0.276-0.224-0.5-0.5-0.5z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/bar-stacked.svg' */var _iconMap_barStacked = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M4 7h4c0.552 0 1-0.448 1-1v-1c0-0.552-0.448-1-1-1h-4c-0.552 0-1 0.448-1 1v1c0 0.552 0.448 1 1 1z"></path>\n<path fill="#000" d="M11 7h3c0.552 0 1-0.448 1-1v-1c0-0.552-0.448-1-1-1h-3c-0.552 0-1 0.448-1 1v1c0 0.552 0.448 1 1 1z"></path>\n<path fill="#000" d="M18 4h-1c-0.552 0-1 0.448-1 1v1c0 0.552 0.448 1 1 1h1c0.552 0 1-0.448 1-1v-1c0-0.552-0.448-1-1-1z"></path>\n<path fill="#000" d="M11 9h-7c-0.552 0-1 0.448-1 1v1c0 0.552 0.448 1 1 1h7c0.552 0 1-0.448 1-1v-1c0-0.552-0.448-1-1-1z"></path>\n<path fill="#000" d="M15 9h-1c-0.552 0-1 0.448-1 1v1c0 0.552 0.448 1 1 1h1c0.552 0 1-0.448 1-1v-1c0-0.552-0.448-1-1-1z"></path>\n<path fill="#000" d="M7 14h-3c-0.552 0-1 0.448-1 1v1c0 0.552 0.448 1 1 1h3c0.552 0 1-0.448 1-1v-1c0-0.552-0.448-1-1-1z"></path>\n<path fill="#000" d="M10 14c-0.552 0-1 0.448-1 1v1c0 0.552 0.448 1 1 1s1-0.448 1-1v-1c0-0.552-0.448-1-1-1z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/bar.svg' */var _iconMap_bar = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M18 4h-14c-0.552 0-1 0.448-1 1v1c0 0.552 0.448 1 1 1h14c0.552 0 1-0.448 1-1v-1c0-0.552-0.448-1-1-1z"></path>\n<path fill="#000" d="M14 9h-10c-0.552 0-1 0.448-1 1v1c0 0.552 0.448 1 1 1h10c0.552 0 1-0.448 1-1v-1c0-0.552-0.448-1-1-1z"></path>\n<path fill="#000" d="M9 14h-5c-0.552 0-1 0.448-1 1v1c0 0.552 0.448 1 1 1h5c0.552 0 1-0.448 1-1v-1c0-0.552-0.448-1-1-1z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/bookmarks.svg' */var _iconMap_bookmarks = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M14.36 17.766l-3.36-3.633-3.36 3.633c-0.651 0.543-1.64 0.080-1.64-0.768v-11.998c0-0.553 0.448-1 1-1h8c0.552 0 1 0.447 1 1v11.998c0 0.848-0.989 1.311-1.64 0.768z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/calendar.svg' */var _iconMap_calendar = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path d="M9.5 10v0c0.276 0 0.5 0.224 0.5 0.5v2c0 0.276-0.224 0.5-0.5 0.5h-2c-0.276 0-0.5-0.224-0.5-0.5v-2c0-0.276 0.224-0.5 0.5-0.5h2zM5 17v-9h12v9h-12zM16.5 6h-3c-0.276 0-0.5-0.224-0.5-0.5v-1c0-0.276-0.224-0.5-0.5-0.5h-3c-0.276 0-0.5 0.224-0.5 0.5v1c0 0.276-0.224 0.5-0.5 0.5h-3c-0.276 0-0.5-0.224-0.5-0.5v-1c0-0.276-0.224-0.5-0.5-0.5h-0.5c-0.552 0-1 0.448-1 1v13c0 0.552 0.448 1 1 1h14c0.552 0 1-0.448 1-1v-13c0-0.552-0.448-1-1-1h-0.5c-0.276 0-0.5 0.224-0.5 0.5v1c0 0.276-0.224 0.5-0.5 0.5v0zM16 4.5v-1c0-0.276-0.224-0.5-0.5-0.5h-1c-0.276 0-0.5 0.224-0.5 0.5v1c0 0.276 0.224 0.5 0.5 0.5h1c0.276 0 0.5-0.224 0.5-0.5v0zM8 4.5v-1c0-0.276-0.224-0.5-0.5-0.5h-1c-0.276 0-0.5 0.224-0.5 0.5v1c0 0.276 0.224 0.5 0.5 0.5h1c0.276 0 0.5-0.224 0.5-0.5v0z"></path>\n</svg>';
/* babel-plugin-inline-import './../../../assets/icons/campaign-gradient.svg' */var _iconMap_campaignGradient = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 46.2 (44496) - http://www.bohemiancoding.com/sketch -->\n    <title>campaign</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <linearGradient x1="70.0656%" y1="0%" x2="70.0655997%" y2="100%" id="linearGradient-campaign">\n            <stop stop-color="#4AC4D3" offset="0%"></stop>\n            <stop stop-color="#A0E3CF" offset="100%"></stop>\n        </linearGradient>\n    </defs>\n    <g class="campaign-icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g class="campaign-svg" fill="url(#linearGradient-campaign)">\n            <path d="M20,9.16 C20,18.84 11.02,21 11.02,21 L11.02,18 L11,18 C6.02943725,18 2,13.9705627 2,9 C2,4.02943725 6.02943725,0 11,0 C15.9705627,0 20,4.02943725 20,9 C20,9.06 19.99,9.11 19.99,9.16 L20,9.16 Z M16.25,8.25 L15.5,8.25 C15.0694807,8.21213153 14.6956282,7.93826343 14.5297029,7.53920248 C14.3637776,7.14014153 14.4332455,6.68194547 14.71,6.35 L15.24,5.82 C15.5302688,5.52628173 15.5302688,5.05371827 15.24,4.76 C15.1011301,4.61628217 14.9098491,4.53512206 14.71,4.53512206 C14.5101509,4.53512206 14.3188699,4.61628217 14.18,4.76 C14.18,4.76 13.94,4.99 13.65,5.29 C13.3180545,5.56675453 12.8598585,5.63622245 12.4607975,5.47029711 C12.0617366,5.30437176 11.7878685,4.93051927 11.75,4.5 L11.75,3.75 C11.75,3.33578644 11.4142136,3 11,3 C10.5857864,3 10.25,3.33578644 10.25,3.75 L10.25,4.5 C10.2121315,4.93051927 9.93826343,5.30437176 9.53920248,5.47029711 C9.14014153,5.63622245 8.68194547,5.56675453 8.35,5.29 L7.82,4.76 C7.52628173,4.46973123 7.05371827,4.46973123 6.76,4.76 C6.61628217,4.89886994 6.53512206,5.09015087 6.53512206,5.29 C6.53512206,5.48984913 6.61628217,5.68113006 6.76,5.82 L7.29,6.35 C7.56746107,6.68463603 7.64732926,7.14102566 7.5,7.55 C7.37004785,7.95861586 6.99841843,8.24233294 6.57,8.26 L5.75,8.25 C5.33578644,8.25 5,8.58578644 5,9 C5,9.41421356 5.33578644,9.75 5.75,9.75 L6.5,9.75 C6.93243954,9.78546574 7.31336102,10.0483016 7.5,10.44 C7.6927302,10.822375 7.62904716,11.284077 7.34,11.6 L6.76,12.18 C6.61628217,12.3188699 6.53512206,12.5101509 6.53512206,12.71 C6.53512206,12.9098491 6.61628217,13.1011301 6.76,13.24 C7.05371827,13.5302688 7.52628173,13.5302688 7.82,13.24 L8.35,12.71 C8.68194547,12.4332455 9.14014153,12.3637776 9.53920248,12.5297029 C9.93826343,12.6956282 10.2121315,13.0694807 10.25,13.5 L10.25,14.25 C10.25,14.6642136 10.5857864,15 11,15 C11.4142136,15 11.75,14.6642136 11.75,14.25 L11.75,13.5 C11.7878685,13.0694807 12.0617366,12.6956282 12.4607975,12.5297029 C12.8598585,12.3637776 13.3180545,12.4332455 13.65,12.71 L14.18,13.24 C14.3188699,13.3837178 14.5101509,13.4648779 14.71,13.4648779 C14.9098491,13.4648779 15.1011301,13.3837178 15.24,13.24 C15.5302688,12.9462817 15.5302688,12.4737183 15.24,12.18 L14.71,11.65 C14.4332455,11.3180545 14.3637776,10.8598585 14.5297029,10.4607975 C14.6956282,10.0617366 15.0694807,9.78786847 15.5,9.75 L16.25,9.75 C16.6642134,9.7499998 16.9999996,9.41421342 16.9999996,9 C16.9999996,8.58578658 16.6642134,8.2500002 16.25,8.25 L16.25,8.25 Z M11,11.25 C9.75735931,11.25 8.75,10.2426407 8.75,9 C8.75,7.75735931 9.75735931,6.75 11,6.75 C12.2426407,6.75 13.25,7.75735931 13.25,9 C13.2483474,10.2419555 12.2419555,11.2483474 11,11.25 Z" id="Shape"></path>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/caret-down.svg' */var _iconMap_caretDown = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M10.293 13.707l-4-4c-0.391-0.391-0.391-1.023 0-1.414s1.023-0.391 1.414 0l3.293 3.293 3.293-3.293c0.391-0.391 1.023-0.391 1.414 0 0.195 0.195 0.293 0.451 0.293 0.707s-0.098 0.512-0.293 0.707l-4 4c-0.391 0.391-1.023 0.391-1.414 0z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/caret-left.svg' */var _iconMap_caretLeft = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M8.293 10.293l4-4c0.391-0.391 1.023-0.391 1.414 0s0.391 1.023 0 1.414l-3.293 3.293 3.293 3.293c0.391 0.391 0.391 1.023 0 1.414-0.195 0.195-0.451 0.293-0.707 0.293s-0.512-0.098-0.707-0.293l-4-4c-0.391-0.391-0.391-1.023 0-1.414z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/caret-right.svg' */var _iconMap_caretRight = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M13.707 10.293l-4-4c-0.391-0.391-1.023-0.391-1.414 0s-0.391 1.023 0 1.414l3.293 3.293-3.293 3.293c-0.391 0.391-0.391 1.023 0 1.414 0.195 0.195 0.451 0.293 0.707 0.293s0.512-0.098 0.707-0.293l4-4c0.391-0.391 0.391-1.023 0-1.414z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/caret-up.svg' */var _iconMap_caretUp = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M11.707 8.293l4 4c0.391 0.391 0.391 1.023 0 1.414s-1.023 0.391-1.414 0l-3.293-3.293-3.293 3.293c-0.391 0.391-1.023 0.391-1.414 0-0.195-0.195-0.293-0.451-0.293-0.707s0.098-0.512 0.293-0.707l4-4c0.391-0.391 1.023-0.391 1.414 0z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/check-checkbox.svg' */var _iconMap_checkCheckbox = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 41.1 (35376) - http://www.bohemiancoding.com/sketch -->\n    <title>check-checkbox</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="16-x-16" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="check-checkbox">\n            <g transform="translate(6.000000, 7.000000)">\n                <path d="M9.6405,0.23158362 C9.2145,-0.12241638 8.5845,-0.0634163799 8.2315,0.35958362 L3.9325,5.51858362 L1.7065,3.29258362 C1.3165,2.90158362 0.6835,2.90158362 0.2925,3.29258362 C-0.0975,3.68358362 -0.0975,4.31558362 0.2925,4.70658362 L3.2925,7.70658362 C3.4805,7.89558362 3.7355,7.99958362 3.9995,7.99958362 C4.0155,7.99958362 4.0305,7.99958362 4.0455,7.99858362 C4.3265,7.98558362 4.5885,7.85658362 4.7675,7.64058362 L9.7685,1.63958362 C10.1215,1.21558362 10.0645,0.58558362 9.6405,0.23158362"></path>\n            </g>\n        </g>\n    </g>\n</svg>';
/* babel-plugin-inline-import './../../../assets/icons/check-success.svg' */var _iconMap_checkSuccess = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 41.1 (35376) - http://www.bohemiancoding.com/sketch -->\n    <title>check-success</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="16-x-16" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="check-success">\n            <g transform="translate(1.000000, 1.000000)">\n                <g>\n                    <path d="M10,2 C5.589,2 2,5.589 2,10 C2,14.411 5.589,18 10,18 C14.411,18 18,14.411 18,10 C18,5.589 14.411,2 10,2 M10,20 C4.486,20 0,15.514 0,10 C0,4.486 4.486,0 10,0 C15.514,0 20,4.486 20,10 C20,15.514 15.514,20 10,20" id="circle"></path>\n                    <path d="M14.6406,6.2319 C14.2146,5.8779 13.5846,5.9369 13.2316,6.3599 L8.9326,11.5189 L6.7066,9.2929 C6.3166,8.9019 5.6836,8.9019 5.2926,9.2929 C4.9026,9.6839 4.9026,10.3159 5.2926,10.7069 L8.2926,13.7069 C8.4806,13.8959 8.7356,13.9999 8.9996,13.9999 C9.0156,13.9999 9.0306,13.9999 9.0456,13.9989 C9.3266,13.9859 9.5886,13.8569 9.7676,13.6409 L14.7686,7.6399 C15.1216,7.2159 15.0646,6.5859 14.6406,6.2319" id="check"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>';
/* babel-plugin-inline-import './../../../assets/icons/clone.svg' */var _iconMap_clone = '<svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16">\n  <defs>\n    <style>\n      .cls-1 {\n        fill: #c6d4de;\n        fill-rule: evenodd;\n      }\n    </style>\n  </defs>\n  <path id="clone.svg" class="cls-1" d="M586,156H576v12h3v-1.764A4.563,4.563,0,0,1,577,162a5.172,5.172,0,0,0,2,2.2V159h7v-3Zm2,4h-8v4.677a6.747,6.747,0,0,0,3,.323v-2l3,2.25,1,0.75-1,.75L584.333,168,583,169v-2a7.168,7.168,0,0,1-3-.287V172h10V160h-2Z" transform="translate(-576 -156)"/>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/cohorts-gradient.svg' */var _iconMap_cohortsGradient = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 46.2 (44496) - http://www.bohemiancoding.com/sketch -->\n    <title>cohorts</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <linearGradient x1="50%" y1="38.3152174%" x2="77.3777174%" y2="100%" id="linearGradient-cohorts">\n            <stop stop-color="#4AC4D3" offset="0%"></stop>\n            <stop stop-color="#A3E4D1" offset="100%"></stop>\n        </linearGradient>\n        <path d="M17.0129833,19 C14.8038443,19 13.0129833,17.209139 13.0129833,15 C13.0100003,13.9364185 13.4353024,12.9164142 14.1929833,12.17 L12.4629833,9.72 C12.00052,9.90011463 11.5092579,9.99497903 11.0129833,10 C8.80384435,10 7.01298335,8.209139 7.01298335,6 C7.01298335,3.790861 8.80384435,2 11.0129833,2 C13.2221223,2 15.0129833,3.790861 15.0129833,6 C15.0127406,6.97615403 14.6491301,7.91726341 13.9929833,8.64 L15.8029833,11.21 C16.1918025,11.0730851 16.6007679,11.0021076 17.0129833,11 C19.2221223,11 21.0129833,12.790861 21.0129833,15 C21.0129833,17.209139 19.2221223,19 17.0129833,19 Z M11.0129833,4 C9.90841385,4 9.01298335,4.8954305 9.01298335,6 C9.01298335,7.1045695 9.90841385,8 11.0129833,8 C12.1175528,8 13.0129833,7.1045695 13.0129833,6 C13.0096885,4.89679813 12.1161852,4.0032948 11.0129833,4 L11.0129833,4 Z" id="path-2-cohorts"></path>\n    </defs>\n    <g class="cohorts-icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g class="cohorts-svg">\n            <path d="M15.0129833,16 L8.87298335,16 C8.36941632,17.9503067 6.49419662,19.2219252 4.49598283,18.9681188 C2.49776904,18.7143124 1,17.0142681 1,15 C1,12.9857319 2.49776904,11.2856876 4.49598283,11.0318812 C6.49419662,10.7780748 8.36941632,12.0496933 8.87298335,14 L15.0129833,14 L15.0129833,16 Z M5.01298335,13 C3.90841385,13 3.01298335,13.8954305 3.01298335,15 C3.01298335,16.1045695 3.90841385,17 5.01298335,17 C6.11755285,17 7.01298335,16.1045695 7.01298335,15 C7.00968855,13.8967981 6.11618521,13.0032948 5.01298335,13 L5.01298335,13 Z" id="Shape" fill="#DFE6ED"></path>\n            <g>\n                <use fill-opacity="0" fill="#9EE2DA" xlink:href="#path-2-cohorts"></use>\n                <use fill="url(#linearGradient-cohorts)" xlink:href="#path-2-cohorts"></use>\n            </g>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/correlate.svg' */var _iconMap_correlate = '<?xml version="1.0" encoding="UTF-8"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch -->\n    <title>correlate</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="16-x-16" stroke="none" stroke-width="1">\n        <g id="correlate">\n            <g transform="translate(0.000000, 2.000000)">\n                <g transform="translate(0.000000, 1.000000)">\n                    <path d="M14.9583,7.0987 L13.4603,7.0987 L13.4603,5.4747 C13.4603,3.2687 11.6663,1.4747 9.4603,1.4747 L7.2923,1.4747 C6.7403,1.4747 6.2923,1.9227 6.2923,2.4747 C6.2923,3.0267 6.7403,3.4747 7.2923,3.4747 L9.4603,3.4747 C10.5633,3.4747 11.4603,4.3717 11.4603,5.4747 L11.4603,7.0987 L7.2393,7.0987 C6.6873,7.0987 6.2393,7.5467 6.2393,8.0987 C6.2393,8.6507 6.6873,9.0987 7.2393,9.0987 L11.4603,9.0987 L11.4603,10.9247 C11.4603,12.0267 10.5633,12.9247 9.4603,12.9247 L7.2923,12.9247 C6.7403,12.9247 6.2923,13.3717 6.2923,13.9247 C6.2923,14.4767 6.7403,14.9247 7.2923,14.9247 L9.4603,14.9247 C11.6663,14.9247 13.4603,13.1307 13.4603,10.9247 L13.4603,9.0987 L14.9583,9.0987 C15.5113,9.0987 15.9583,8.6507 15.9583,8.0987 C15.9583,7.5467 15.5113,7.0987 14.9583,7.0987" id="Fill-1" fill-rule="nonzero"></path>\n                    <path d="M2.4896,3.3161 C2.0216,3.3161 1.6426,2.9371 1.6426,2.4691 C1.6426,2.0011 2.0216,1.6211 2.4896,1.6211 C2.9576,1.6211 3.3366,2.0011 3.3366,2.4691 C3.3366,2.9371 2.9576,3.3161 2.4896,3.3161 M2.4896,0.0001 C1.1266,0.0001 0.0206,1.1051 0.0206,2.4691 C0.0206,3.8321 1.1266,4.9371 2.4896,4.9371 C3.8526,4.9371 4.9586,3.8321 4.9586,2.4691 C4.9586,1.1051 3.8526,0.0001 2.4896,0.0001" id="Fill-3" fill-rule="nonzero"></path>\n                    <path d="M2.4896,9.0789 C2.0216,9.0789 1.6426,8.6999 1.6426,8.2319 C1.6426,7.7639 2.0216,7.3839 2.4896,7.3839 C2.9576,7.3839 3.3366,7.7639 3.3366,8.2319 C3.3366,8.6999 2.9576,9.0789 2.4896,9.0789 M2.4896,5.7629 C1.1266,5.7629 0.0206,6.8679 0.0206,8.2319 C0.0206,9.5949 1.1266,10.6999 2.4896,10.6999 C3.8526,10.6999 4.9586,9.5949 4.9586,8.2319 C4.9586,6.8679 3.8526,5.7629 2.4896,5.7629" id="Fill-5" fill-rule="nonzero"></path>\n                    <path d="M2.4687,14.8416 C2.0007,14.8416 1.6217,14.4626 1.6217,13.9946 C1.6217,13.5266 2.0007,13.1466 2.4687,13.1466 C2.9367,13.1466 3.3157,13.5266 3.3157,13.9946 C3.3157,14.4626 2.9367,14.8416 2.4687,14.8416 M2.4687,11.5256 C1.1057,11.5256 -0.0003,12.6306 -0.0003,13.9946 C-0.0003,15.3576 1.1057,16.4626 2.4687,16.4626 C3.8317,16.4626 4.9377,15.3576 4.9377,13.9946 C4.9377,12.6306 3.8317,11.5256 2.4687,11.5256" id="Fill-7" fill-rule="nonzero"></path>\n                    <path d="M19.4896,8.9411 C19.0216,8.9411 18.6426,8.5621 18.6426,8.0941 C18.6426,7.6261 19.0216,7.2461 19.4896,7.2461 C19.9576,7.2461 20.3366,7.6261 20.3366,8.0941 C20.3366,8.5621 19.9576,8.9411 19.4896,8.9411 M19.4896,5.6251 C18.1266,5.6251 17.0206,6.7301 17.0206,8.0941 C17.0206,9.4571 18.1266,10.5621 19.4896,10.5621 C20.8526,10.5621 21.9586,9.4571 21.9586,8.0941 C21.9586,6.7301 20.8526,5.6251 19.4896,5.6251" id="Fill-10" fill-rule="nonzero"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>';
/* babel-plugin-inline-import './../../../assets/icons/custom-events.svg' */var _iconMap_customEvents = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M6 7c-0.551 0-1-0.449-1-1s0.449-1 1-1c0.551 0 1 0.449 1 1s-0.449 1-1 1v0zM6 3c-1.657 0-3 1.343-3 3s1.343 3 3 3c1.657 0 3-1.343 3-3s-1.343-3-3-3v0z"></path>\n<path fill="#000" d="M6 17c-0.551 0-1-0.449-1-1s0.449-1 1-1c0.551 0 1 0.449 1 1s-0.449 1-1 1zM6 13c-1.657 0-3 1.343-3 3s1.343 3 3 3c1.657 0 3-1.343 3-3s-1.343-3-3-3z"></path>\n<path fill="#000" d="M16 12c-0.551 0-1-0.449-1-1s0.449-1 1-1c0.551 0 1 0.449 1 1s-0.449 1-1 1zM16 8c-1.657 0-3 1.343-3 3s1.343 3 3 3c1.657 0 3-1.343 3-3s-1.343-3-3-3z"></path>\n<path fill="#000" d="M5 12h2v-2h-2z"></path>\n<path fill="#000" d="M10 9h2v-2h-2z"></path>\n<path fill="#000" d="M10 16h2v-2h-2z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/dash.svg' */var _iconMap_dash = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M5 12h12v-2h-12z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/dashboard-2.svg' */var _iconMap_dashboard2 = '<svg \n xmlns="http://www.w3.org/2000/svg"\n xmlns:xlink="http://www.w3.org/1999/xlink"\n width="22px" height="22px">\n<path fill-rule="evenodd"  fill-opacity="0" fill="rgb(255, 255, 255)"\n d="M-0.000,-0.000 L22.000,-0.000 L22.000,22.000 L-0.000,22.000 L-0.000,-0.000 Z"/>\n<path fill-rule="evenodd"  fill="rgb(109, 132, 158)"\n d="M16.998,3.000 L4.996,3.000 C3.893,3.000 2.995,3.897 2.995,5.000 L2.995,17.000 C2.995,18.103 3.893,19.000 4.996,19.000 L14.998,19.000 L14.998,19.000 L16.967,19.000 C18.070,19.000 18.967,18.102 18.967,17.000 L18.999,15.000 L18.999,5.000 C18.999,3.897 18.101,3.000 16.998,3.000 ZM12.998,7.000 L14.998,7.000 L14.998,13.000 L14.998,15.000 L12.998,15.000 L12.998,7.000 ZM9.997,9.000 L11.997,9.000 L11.997,15.000 L9.997,15.000 L9.997,9.000 ZM6.996,7.000 L8.997,7.000 L8.997,15.000 L6.996,15.000 L6.996,7.000 Z"/>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/dashboard-3.svg' */var _iconMap_dashboard3 = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 44.1 (41455) - http://www.bohemiancoding.com/sketch -->\n    <title>Dashboard</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <linearGradient xmlns="http://www.w3.org/2000/svg" id="blue-gradient" x1="26.97%" x2="74.831%" y1="-36.06%" y2="116.846%">\n            <stop offset="0%" stop-color="#083BC1"></stop>\n            <stop offset="40.39%" stop-color="#0747C4"></stop>\n            <stop offset="100%" stop-color="#07B2D7"></stop>\n        </linearGradient>\n    </defs>\n    <g id="Navigation-icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Dashboard" fill="#6D859E">\n            <path d="M16,15 C16,15.552 15.551,16 15,16 C14.447,16 14,15.552 14,15 L14,9 C14,8.448 14.447,8 15,8 C15.551,8 16,8.448 16,9 L16,15 Z M11.999,15 C11.999,15.552 11.552,16 11,16 C10.447,16 10,15.552 10,15 L10,11 C10,10.448 10.447,9.999 11,9.999 C11.552,9.999 11.999,10.448 11.999,11 L11.999,15 Z M8,15 C8,15.552 7.551,16 7,16 C6.447,16 6,15.552 6,15 L6,7 C6,6.448 6.447,6 7,6 C7.551,6 8,6.448 8,7 L8,15 Z M18.999,2 L2.999,2 C1.895,2 1,2.895 1,3.999 L1,18 C1,19.104 1.895,20 2.999,20 L18.999,20 C20.105,20 21,19.104 21,18 L21,3.999 C21,2.895 20.105,2 18.999,2 L18.999,2 Z" id="dash"></path>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/dashboard-add-to.svg' */var _iconMap_dashboardAddTo = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M15.023 13v2h-2.004v-8h2.004v6zM10.013 15v-6h2.004v6h-2.004zM7.008 15v-8h2.004v8h-2.004zM17.027 15h2.004v-10c0-1.103-0.899-2-2.004-2h-12.024c-1.105 0-2.004 0.897-2.004 2v12c0 1.103 0.899 2 2.004 2h10.020v-2h2.004v-2z"></path>\n<path fill="#000" d="M21.499 18.037h-1.54v-1.537c0-0.276-0.225-0.5-0.501-0.5h-0.928c-0.276 0-0.501 0.224-0.501 0.5v1.537h-1.54c-0.277 0-0.501 0.224-0.501 0.5v0.925c0 0.277 0.224 0.5 0.501 0.5h1.54v1.538c0 0.276 0.225 0.5 0.501 0.5h0.928c0.276 0 0.501-0.224 0.501-0.5v-1.538h1.54c0.277 0 0.501-0.223 0.501-0.5v-0.925c0-0.276-0.224-0.5-0.501-0.5z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/dashboard-confirm.svg' */var _iconMap_dashboardConfirm = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M13 15v-8h2v8h-2zM10 15v-6h2v6h-2zM7 15v-8h2v8h-2zM17.178 17.66l0.407 0.408 0.069-0.069 0.346-0.345 1-1v-11.655c0-1.103-0.897-2-2-2h-12c-1.103 0-2 0.897-2 2v12c0 1.103 0.897 2 2 2h9.019c0.067-0.255 0.195-0.491 0.386-0.682l0.653-0.655c0.587-0.581 1.537-0.583 2.12-0.002v0z"></path>\n<path fill="#000" d="M21.854 17.231l-0.654-0.654c-0.196-0.196-0.512-0.196-0.707 0l-2.907 2.907-1.113-1.113c-0.195-0.195-0.512-0.195-0.707 0l-0.655 0.654c-0.195 0.195-0.195 0.512 0 0.707l1.464 1.464c0.001 0.001 0.001 0.002 0.002 0.003l0.654 0.655c0.098 0.097 0.226 0.146 0.355 0.146s0.256-0.049 0.354-0.146l0.654-0.655c0.001-0.001 0.002-0.002 0.003-0.004l3.257-3.257c0.195-0.195 0.195-0.512 0-0.707z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/dashboard.svg' */var _iconMap_dashboard = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M15 10c-0.552 0-1-0.448-1-1s0.448-1 1-1c0.552 0 1 0.448 1 1s-0.448 1-1 1zM11 16c-1.657 0-3-1.343-3-3 0-1.304 0.837-2.403 2-2.816v-1.184c0-0.552 0.448-1 1-1s1 0.448 1 1v1.184c1.163 0.413 2 1.512 2 2.816 0 1.657-1.343 3-3 3zM7 10c-0.552 0-1-0.448-1-1s0.448-1 1-1c0.552 0 1 0.448 1 1s-0.448 1-1 1zM11 5c0.552 0 1 0.448 1 1s-0.448 1-1 1c-0.552 0-1-0.448-1-1s0.448-1 1-1zM11 3c-4.418 0-8 3.582-8 8s3.582 8 8 8c4.418 0 8-3.582 8-8s-3.582-8-8-8z"></path>\n<path fill="#000" d="M11 12c-0.552 0-1 0.448-1 1s0.448 1 1 1c0.552 0 1-0.448 1-1s-0.448-1-1-1z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/dataset.svg' */var _iconMap_dataset = '<?xml version="1.0" encoding="UTF-8"?>\n<!-- Generator: Sketch 44.1 (41455) - http://www.bohemiancoding.com/sketch -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="dataset" fill-rule="nonzero" fill="#000000">\n            <path d="M18.5,14.0458333 L18.5,16.0941667 C18.5,17.6983333 15.00875,19 11,19 C6.992,19 3.5,17.6983333 3.5,16.0941667 L3.5,14.0458333 C5.3135,15.4941667 8.75375,15.9258333 11,15.9258333 C13.2545,15.9258333 16.691,15.49 18.5,14.0458333 L18.5,14.0458333 Z M11,4 C6.992,4 3.5,5.23833333 3.5,6.76666667 C3.5,8.295 6.992,9.53333333 11,9.53333333 C15.00875,9.53333333 18.5,8.295 18.5,6.76666667 C18.5,5.23833333 15.00875,4 11,4 Z M11,11.2 C8.7455,11.2 5.309,10.7641667 3.5,9.32 L3.5,11.3533333 C3.5,12.9583333 6.992,14.2591667 11,14.2591667 C15.00875,14.2591667 18.5,12.9575 18.5,11.3533333 L18.5,9.32 C16.6865,10.7683333 13.24625,11.2 11,11.2 Z" id="Shape"></path>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/edit-2.svg' */var _iconMap_edit2 = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M4 4v14h14v-8l-2 1v5.001h-10v-10h5l1-2.001z"></path>\n<path fill="#000" d="M17.293 6.828l-2.121-2.121-5.657 5.657 2.121 2.121z"></path>\n<path fill="#000" d="M18.707 4l-0.707-0.707c-0.391-0.391-1.024-0.391-1.414 0l-0.707 0.707 2.121 2.121 0.707-0.707c0.391-0.39 0.391-1.023 0-1.414z"></path>\n<path fill="#000" d="M7.747 14.253l3.182-1.061-2.121-2.121z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/edit.svg' */var _iconMap_edit = '<?xml version="1.0" encoding="utf-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n    <g transform="translate(5.500000, 4.000000)">\n        <path xmlns="http://www.w3.org/2000/svg" fill="#000" fill-rule="evenodd" d="M.32 14.003c-.26.103-.387-.024-.284-.285l1.228-3.117 2.168 2.171L.32 14.003zm4.185-2.306L2.337 9.526l6.976-6.993 2.167 2.172-6.975 6.992zm9.186-9.208L12.564 3.62l-2.167-2.172 1.128-1.13a1.08 1.08 0 0 1 1.53 0l.636.635a1.086 1.086 0 0 1 0 1.536z"/>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/ellipsis.svg' */var _iconMap_ellipsis = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 40.3 (33839) - http://www.bohemiancoding.com/sketch -->\n    <title>ellipsis</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="16-x-16" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="ellipsis">\n            <g transform="translate(9.000000, 3.000000)" id="Oval">\n                <circle cx="2" cy="2" r="2"></circle>\n                <circle cx="2" cy="8" r="2"></circle>\n                <circle cx="2" cy="14" r="2"></circle>\n            </g>\n        </g>\n    </g>\n</svg>';
/* babel-plugin-inline-import './../../../assets/icons/email.svg' */var _iconMap_email = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M4 5l7 6.999 7-6.999z"></path>\n<path fill="#000" d="M3 16l5-5-5-5z"></path>\n<path fill="#000" d="M14 11l5 5v-9.999z"></path>\n<path fill="#000" d="M11 14l-2-2.001-5 5.001h14l-5-5.001z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/event.svg' */var _iconMap_event = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M15.75 14.5c0-0.414 0.336-0.75 0.75-0.75 0.232 0 0.431 0.111 0.568 0.276 0.109 0.13 0.182 0.291 0.182 0.474 0 0.414-0.336 0.75-0.75 0.75-0.232 0-0.431-0.111-0.568-0.276-0.109-0.13-0.182-0.291-0.182-0.474zM12.25 8.5c0 0.183-0.073 0.344-0.182 0.474-0.137 0.165-0.336 0.276-0.568 0.276s-0.431-0.111-0.568-0.276c-0.109-0.13-0.182-0.291-0.182-0.474s0.073-0.344 0.182-0.474c0.137-0.165 0.336-0.276 0.568-0.276s0.431 0.111 0.568 0.276c0.109 0.13 0.182 0.291 0.182 0.474zM5.75 14.5c0-0.183 0.073-0.344 0.182-0.474 0.137-0.165 0.336-0.276 0.568-0.276 0.414 0 0.75 0.336 0.75 0.75 0 0.183-0.073 0.344-0.182 0.474-0.137 0.165-0.336 0.276-0.568 0.276-0.414 0-0.75-0.336-0.75-0.75zM16.5 12c-0.241 0-0.47 0.045-0.69 0.109l-2.082-2.498c0.168-0.336 0.272-0.71 0.272-1.111 0-1.379-1.122-2.5-2.5-2.5s-2.5 1.121-2.5 2.5c0 0.401 0.104 0.775 0.272 1.111l-2.081 2.498c-0.221-0.064-0.45-0.109-0.691-0.109-1.378 0-2.5 1.121-2.5 2.5s1.122 2.5 2.5 2.5 2.5-1.122 2.5-2.5c0-0.401-0.104-0.775-0.272-1.111l2.081-2.498c0.221 0.064 0.45 0.109 0.691 0.109s0.47-0.045 0.691-0.109l2.081 2.498c-0.168 0.336-0.272 0.71-0.272 1.111 0 1.378 1.122 2.5 2.5 2.5s2.5-1.122 2.5-2.5c0-1.379-1.122-2.5-2.5-2.5z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/explore-gradient.svg' */var _iconMap_exploreGradient = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 46.2 (44496) - http://www.bohemiancoding.com/sketch -->\n    <title>explore</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <linearGradient x1="49.988424%" y1="99.9999999%" x2="49.988424%" y2="6.28056618e-08%" id="linearGradient-explore">\n            <stop stop-color="#FFB8A3" offset="0%"></stop>\n            <stop stop-color="#DC5298" offset="100%"></stop>\n        </linearGradient>\n    </defs>\n    <g class="explore-icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g class="explore-svg" fill="url(#linearGradient-explore)">\n            <path d="M17.3579163,17.37 C13.8414368,20.8798088 8.14605913,20.8762041 4.63402534,17.3619468 C1.12199155,13.8476894 1.12199155,8.15231058 4.63402534,4.63805325 C8.14605913,1.12379591 13.8414368,1.12019118 17.3579163,4.63000001 C19.0494411,6.318316 20,8.61009062 20,11 C20,13.3899094 19.0494411,15.681684 17.3579163,17.37 Z M13.7579163,6.07000001 L9.53791633,9.58000001 C9.25726542,9.81104655 9.06624117,10.1329578 8.99791633,10.49 L8.02791633,15.84 C8.01822715,15.9054141 8.05056464,15.9698868 8.10878822,16.0012379 C8.1670118,16.0325891 8.23863807,16.0240969 8.28791633,15.98 L12.5079163,12.48 C12.7865952,12.2472686 12.9771677,11.9261186 13.0479163,11.57 L14.0179163,6.22000001 C14.0269405,6.1546997 13.9954962,6.09044322 13.9383965,6.05750107 C13.8812967,6.02455891 13.80993,6.02950133 13.7579163,6.07000001 L13.7579163,6.07000001 Z" id="Shape"></path>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/export-outline.svg' */var _iconMap_exportOutline = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M6 17v-12h6v3c0 0.552 0.447 1 1 1h3v8h-10zM17.988 7.939c-0.006-0.090-0.023-0.175-0.052-0.26-0.011-0.032-0.019-0.062-0.033-0.093-0.049-0.106-0.11-0.207-0.196-0.293l-4-4c-0.086-0.086-0.186-0.147-0.292-0.196-0.032-0.014-0.063-0.022-0.096-0.034-0.082-0.027-0.166-0.044-0.253-0.050-0.023-0.001-0.043-0.013-0.066-0.013h-8c-0.553 0-1 0.448-1 1v14c0 0.552 0.447 1 1 1h12c0.553 0 1-0.448 1-1v-10c0-0.021-0.011-0.040-0.012-0.061v0z"></path>\n<path fill="#000" d="M12.75 12h-1.75v-2.5c0-0.276-0.223-0.5-0.5-0.5h-1c-0.276 0-0.5 0.224-0.5 0.5v2.5h-1.749c-0.206 0-0.324 0.235-0.2 0.4l2.749 3.5c0.1 0.133 0.3 0.133 0.4 0l2.75-3.5c0.124-0.165 0.006-0.4-0.2-0.4z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/export.svg' */var _iconMap__export = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M14.5 7v0h3.24c0.28 0 0.34-0.16 0.15-0.35l-3.54-3.54c-0.19-0.19-0.35-0.13-0.35 0.15v3.24c0 0.276 0.224 0.5 0.5 0.5z"></path>\n<path fill="#000" d="M13.91 12.5l-2.59 3.33c-0.115 0.175-0.35 0.224-0.525 0.109-0.047-0.031-0.086-0.071-0.115-0.119l-2.59-3.32c-0.18-0.24-0.080-0.5 0.21-0.5h1.7v-2.5c0-0.276 0.224-0.5 0.5-0.5h1c0.276 0 0.5 0.224 0.5 0.5v2.5h1.7c0.29 0 0.39 0.26 0.21 0.5zM17.5 8h-4c-0.276 0-0.5-0.224-0.5-0.5v-4c0-0.276-0.224-0.5-0.5-0.5h-7.5c-0.552 0-1 0.448-1 1v14c0 0.552 0.448 1 1 1h12c0.552 0 1-0.448 1-1v-9.5c0-0.276-0.224-0.5-0.5-0.5z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/eye-on.svg' */var _iconMap_eyeOn = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M11 15c-2.209 0-4-1.791-4-4s1.791-4 4-4c2.209 0 4 1.791 4 4s-1.791 4-4 4zM11 5c-6 0-9 6-9 6s3 6 9 6c6.016 0 9-6 9-6s-3-6-9-6z"></path>\n<path fill="#000" d="M11 9c-1.105 0-2 0.895-2 2s0.895 2 2 2c1.105 0 2-0.895 2-2s-0.895-2-2-2z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/feature-tour.svg' */var _iconMap_featureTour = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 46.1 (44463) - http://www.bohemiancoding.com/sketch -->\n    <title>feature-tour</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Iconography" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="feature-tour" fill="#6D859E">\n            <path d="M16.6514812,16.6622222 C13.5257216,19.7820523 8.46316367,19.7788481 5.34135586,16.6550638 C2.21954805,13.5312795 2.21954805,8.46872052 5.34135586,5.34493622 C8.46316367,2.22115192 13.5257216,2.21794771 16.6514812,5.33777779 C18.1550587,6.83850311 19,8.87563611 19,11 C19,13.1243639 18.1550587,15.1614969 16.6514812,16.6622222 Z M13.4514812,6.61777779 L9.70037007,9.73777779 C9.45090259,9.94315249 9.28110326,10.2292958 9.22037007,10.5466667 L8.35814784,15.3022222 C8.34953525,15.3603681 8.37827968,15.4176771 8.43003397,15.4455448 C8.48178826,15.4734125 8.54545606,15.4658639 8.58925896,15.4266667 L12.3403701,12.3155556 C12.5880846,12.1086832 12.7574824,11.8232166 12.8203701,11.5066667 L13.6825923,6.75111112 C13.6906138,6.6930664 13.6626633,6.63594953 13.611908,6.60666761 C13.5611527,6.57738569 13.4977156,6.58177896 13.4514812,6.61777779 L13.4514812,6.61777779 Z" id="Shape"></path>\n        </g>\n    </g>\n</svg>';
/* babel-plugin-inline-import './../../../assets/icons/filter.svg' */var _iconMap_filter = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 44.1 (41455) - http://www.bohemiancoding.com/sketch -->\n    <title>Filter</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Designs" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Filter" transform="translate(-22, -22)" fill="#9BACBF">\n            <path d="M25,31 L27,31 L27,29 C27,28.448 27.448,28 28,28 C28.552,28 29,28.448 29,29 L29,31 L31,31 C31.552,31 32,31.448 32,32 C32,32.552 31.552,33 31,33 L29,33 L29,35 C29,35.552 28.552,36 28,36 C27.448,36 27,35.552 27,35 L27,33 L25,33 C24.448,33 24,32.552 24,32 C24,31.448 24.448,31 25,31 L25,31 Z M36,33 L36,39 L32,43 L30,43 L30,35 L30,34 L32,34 L32,40 L34,38 L34,32 L41,25 L25,25 L27,27 C26.448,27 26,27.448 26,28 L26,29 L22,25 L22,23 L44,23 L44,25 L36,33 Z"></path>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/flag.svg' */var _iconMap_flag = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M17 8h-2v2h2v2h-2v-2h-2v2h-2v-2h-2v2h-2v-2h-2v-2h2v-2h2v2h2v-2h2v2h2v-2h2v2zM18 4h-13c0-0.552-0.447-1-1-1s-1 0.448-1 1v14c0 0.552 0.447 1 1 1s1-0.448 1-1v-4h13c0.553 0 1-0.448 1-1v-8c0-0.552-0.447-1-1-1v0z"></path>\n<path fill="#000" d="M7 10h2v-2h-2z"></path>\n<path fill="#000" d="M11 10h2.001v-2h-2.001z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/formula.svg' */var _iconMap_formula = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n            <path d="M17.1529249,8.71253823 C17.5291882,8.71253823 17.692781,9.03311188 18.0854035,9.03311188 C18.5761818,9.03311188 19.0010924,8.64842349 19.0010924,8.18359169 C19.0010924,7.67067384 18.5598225,7.20626384 18.052685,7.20626384 C17.2837991,7.20626384 16.743943,7.59053042 15.4683501,9.41780027 C15.2066018,8.05536223 14.7515556,7.40873141 13.9366055,7.40873141 L12.181858,7.41210587 L10.3242194,7.41210587 L10.6135202,6.24243383 C11.0474715,4.50585258 11.6626663,3.51376147 12.2774306,3.51376147 C12.4582437,3.51376147 12.6028941,3.60234103 12.6028941,3.74406833 C12.6028941,3.99209111 12.3135932,4.08067067 12.3135932,4.48813667 C12.3135932,4.98460403 12.6933006,5.3739323 13.1995771,5.3739323 C13.7600975,5.3739323 14.1217236,4.96688812 14.1217236,4.41727301 C14.1217236,3.54919329 13.4165527,3 12.3316745,3 C11.1017154,3 10.2880568,3.46061373 9.67286193,4.20468206 C9.02193501,5.02003585 8.60606504,6.15385427 8.24443897,7.41210587 L6.90599202,7.41210587 L6.74326029,8.15617421 L8.08170724,8.15617421 C7.17764208,12.0540968 6.59860986,14.5883159 6.49012204,15.1020774 C5.92960164,17.7244543 5.58605688,18.4508067 4.86280475,18.4508067 C4.68199171,18.4508067 4.53691078,18.3799431 4.53691078,18.2382158 C4.53691078,17.990193 4.82664214,17.9370452 4.82664214,17.4941474 C4.82664214,16.980386 4.39226035,16.6256459 3.92214647,16.6256459 C3.43395128,16.6256459 3,17.0512496 3,17.6004429 C3,18.4508067 3.77749604,19 4.79047953,19 C5.58605688,19 6.2731464,18.7342613 6.85174811,18.185068 C7.50267503,17.5650111 7.91897551,16.7673732 8.47949591,15.1375092 C8.9676911,13.7020985 9.18466674,12.8517347 10.1976502,8.15617421 L12.7574462,8.15617421 C13.2305736,8.16882843 13.3640308,8.34345671 13.5052372,9.09722662 L13.9796562,11.5331646 L13.2602786,12.6712011 C12.9167338,13.2157545 12.7854291,13.3119266 12.4913927,13.3119266 C12.1478479,13.3119266 11.9678959,12.9592956 11.4771177,12.9592956 C10.9699802,12.9592956 10.5937169,13.3604345 10.5937169,13.8729305 C10.5937169,14.4339344 11.0026987,14.8186228 11.6243512,14.8186228 C12.4423149,14.8186228 12.8022189,14.4980491 13.7669856,12.9592956 L14.1596082,12.3345988 C14.5195122,14.1774755 14.9284941,14.8186228 15.7460273,14.8186228 C16.5312725,14.8186228 17.218362,14.2736476 18.2162777,12.8631235 L17.872733,12.6391437 C17.2347213,13.4401561 17.0711285,13.5844142 16.7766616,13.5844142 C16.4658354,13.5844142 16.3022426,13.3604345 16.1713684,12.7353158 L15.6478717,10.2188126 C16.1713684,9.30559949 16.7766616,8.71253823 17.1529249,8.71253823"></path>\n</svg>';
/* babel-plugin-inline-import './../../../assets/icons/formulas-gradient.svg' */var _iconMap_formulasGradient = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 46.2 (44496) - http://www.bohemiancoding.com/sketch -->\n    <title>formulas</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <linearGradient x1="15.1539908%" y1="14.3339344%" x2="88.6848745%" y2="100%" id="linearGradient-formulas">\n            <stop stop-color="#7767FA" offset="0%"></stop>\n            <stop stop-color="#FFB6F7" offset="100%"></stop>\n        </linearGradient>\n        <path d="M5.000056,0.999965 L17.000168,0.999965 C19.209364,0.999965 20.999753,2.790607 20.999753,4.999964 L20.999753,16.999915 C20.999753,19.209111 19.209364,20.999753 17.000168,20.999753 L5.000056,20.999753 C2.79086,20.999753 0.999896,19.209111 0.999896,16.999915 L0.999896,4.999964 C0.999896,2.790607 2.79086,0.999965 5.000056,0.999965 Z M6.999975,9.99998 L6.999975,11.999899 L15.000249,11.999899 L15.000249,9.99998 L6.999975,9.99998 Z M9.999796,6.999883 L9.999796,8.99994 L11.999853,8.99994 L11.999853,6.999883 L9.999796,6.999883 Z M9.999796,12.999916 L9.999796,14.999858 L11.999853,14.999858 L11.999853,12.999916 L9.999796,12.999916 Z" id="path-2-formulas"></path>\n    </defs>\n    <g class="formulas-icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g class="formulas-svg">\n            <g>\n                <use fill-opacity="0" fill="#9EE2DA" xlink:href="#path-2-formulas"></use>\n                <use fill="url(#linearGradient-formulas)" xlink:href="#path-2-formulas"></use>\n            </g>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/funnel-gradient.svg' */var _iconMap_funnelGradient = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 46.2 (44496) - http://www.bohemiancoding.com/sketch -->\n    <title>funnel</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <linearGradient x1="63.9587%" y1="0%" x2="8.1239%" y2="200%" id="linearGradient-funnel">\n            <stop stop-color="#1147C5" offset="0%"></stop>\n            <stop stop-color="#07ADD6" offset="100%"></stop>\n            <stop stop-color="#07ADD6" offset="100%"></stop>\n        </linearGradient>\n    </defs>\n    <g class="funnel-icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g class="funnel-svg" fill="url(#linearGradient-funnel)">\n            <path d="M2,5 L20.000334,5 L20.000334,6.142704 C20.000334,7.114448 19.220104,7.997072 18.199986,7.997072 L3.80048,7.997072 C2.78023,7.997072 2,7.114448 2,6.142704 L2,5 Z M5.000382,9.990816 L17.000084,9.990816 L17.000084,10.83112 C17.000084,11.80232 16.220294,12.974144 15.200176,12.974144 L6.800158,12.974144 C5.78004,12.974144 5.000382,11.80232 5.000382,10.83112 L5.000382,9.990816 Z M8.000214,15.002912 L14.000274,15.002912 L14.000274,16.285696 C14.000274,17.257024 13.220044,17.999984 12.200344,17.999984 L9.79999,17.999984 C8.780422,17.999984 8.000214,17.257024 8.000214,16.285696 L8.000214,15.002912 Z" id="Combined-shape-99"></path>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/gripper.svg' */var _iconMap_gripper = '<?xml version="1.0" encoding="UTF-8"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 43.2 (39069) - http://www.bohemiancoding.com/sketch -->\n    <title>gripper</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="16-x-16" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="gripper">\n            <g transform="translate(6.000000, 5.000000)" id="Shape">\n                <g>\n                    <path d="M3,0 L1,0 C0.448,0 0,0.448 0,1 L0,2 C0,2.552 0.448,3 1,3 L3,3 C3.552,3 4,2.552 4,2 L4,1 C4,0.448 3.552,0 3,0 Z"></path>\n                    <path d="M9,0 L7,0 C6.448,0 6,0.448 6,1 L6,2 C6,2.552 6.448,3 7,3 L9,3 C9.552,3 10,2.552 10,2 L10,1 C10,0.448 9.552,0 9,0 Z"></path>\n                    <path d="M3,5 L1,5 C0.448,5 0,5.448 0,6 L0,7 C0,7.552 0.448,8 1,8 L3,8 C3.552,8 4,7.552 4,7 L4,6 C4,5.448 3.552,5 3,5 Z"></path>\n                    <path d="M9,5 L7,5 C6.448,5 6,5.448 6,6 L6,7 C6,7.552 6.448,8 7,8 L9,8 C9.552,8 10,7.552 10,7 L10,6 C10,5.448 9.552,5 9,5 Z"></path>\n                    <path d="M3,10 L1,10 C0.448,10 0,10.448 0,11 L0,12 C0,12.552 0.448,13 1,13 L3,13 C3.552,13 4,12.552 4,12 L4,11 C4,10.448 3.552,10 3,10 Z"></path>\n                    <path d="M9,10 L7,10 C6.448,10 6,10.448 6,11 L6,12 C6,12.552 6.448,13 7,13 L9,13 C9.552,13 10,12.552 10,12 L10,11 C10,10.448 9.552,10 9,10 Z"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>';
/* babel-plugin-inline-import './../../../assets/icons/hamburger.svg' */var _iconMap_hamburger = '<?xml version="1.0" encoding="utf-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="22px" height="22px" viewBox="0 0 22 22" xml:space="preserve">\n    <g transform="translate(4.00000, 6.000000)">\n        <path fill="#889EB4" fill-rule="evenodd" d="M13 8H1a1 1 0 0 0 0 2h12a1 1 0 0 0 0-2m0-4H1a1 1 0 0 0 0 2h12a1 1 0 0 0 0-2M1 2h12a1 1 0 0 0 0-2H1a1 1 0 0 0 0 2"/>\n    </g>\n</svg>\n\n';
/* babel-plugin-inline-import './../../../assets/icons/help.svg' */var _iconMap_help = '<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22">\n    <g transform="translate(2.000000, 2.000000)">\n        <path fill="#000" fill-rule="evenodd" d="M12.183 8.072a2.712 2.712 0 0 1-1.008 1.267c-.21.145-.408.289-.595.434-.187.145-.352.31-.497.497-.145.187-.236.42-.273.7v.532H7.92v-.63c.028-.401.105-.737.231-1.008a2.9 2.9 0 0 1 .441-.693c.168-.191.345-.357.532-.497.187-.14.359-.28.518-.42.159-.14.287-.294.385-.462.098-.168.142-.378.133-.63 0-.429-.105-.746-.315-.952-.21-.205-.502-.308-.875-.308-.252 0-.469.049-.651.147a1.305 1.305 0 0 0-.448.392 1.694 1.694 0 0 0-.259.574 2.849 2.849 0 0 0-.084.707H5.47a4 4 0 0 1 .259-1.386c.163-.42.392-.784.686-1.092a3.098 3.098 0 0 1 1.064-.721 3.61 3.61 0 0 1 1.393-.259c.663 0 1.216.091 1.659.273.443.182.8.409 1.071.679a2.51 2.51 0 0 1 .756 1.75c0 .448-.058.817-.175 1.106zm-4.459 6.426h2.198v-2.156H7.724v2.156zM9 0a9 9 0 1 0 0 18A9 9 0 0 0 9 0z"/>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/hor-ellipsis.svg' */var _iconMap_horEllipsis = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 40.3 (33839) - http://www.bohemiancoding.com/sketch -->\n    <g id="16-x-16" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="ellipsis">\n            <g transform="rotate(-90) translate(-14, 3)">\n                <circle cx="2" cy="3" r="1.75"></circle>\n                <circle cx="2" cy="8" r="1.75"></circle>\n                <circle cx="2" cy="13" r="1.75"></circle>\n            </g>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/hubs-notif.svg' */var _iconMap_hubsNotif = '<svg xmlns="http://www.w3.org/2000/svg" width="26" height="28" viewBox="0 0 26 28">\n  <defs>\n    <style>\n      .cls-1 {\n        fill-rule: evenodd;\n      }\n    </style>\n  </defs>\n  <path id="Bell_1" data-name="Bell 1" class="cls-1" d="M937.125,3047.98H928.5c0,1.94-1.567,3.02-3.5,3.02s-3.5-1.08-3.5-3.02h-8.625a0.872,0.872,0,0,1-.875-0.87v-2.23a0.874,0.874,0,0,1,.875-0.88h24.25a0.874,0.874,0,0,1,.875.88v2.23A0.872,0.872,0,0,1,937.125,3047.98Zm-23.1-5.98v-2.72c0-5.81,2.443-10.7,7.527-12.26a3.393,3.393,0,0,1-.053-0.52,3.5,3.5,0,0,1,7,0,3.393,3.393,0,0,1-.053.52c5.084,1.56,7.527,6.45,7.527,12.26V3042H914.026Z" transform="translate(-912 -3023)"/>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/info-outline.svg' */var _iconMap_infoOutline = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M11 17c-3.309 0-6-2.691-6-6s2.691-6 6-6c3.309 0 6 2.691 6 6s-2.691 6-6 6zM11 3c-4.411 0-8 3.589-8 8s3.589 8 8 8c4.411 0 8-3.589 8-8s-3.589-8-8-8z"></path>\n<path fill="#000" d="M11 10c-0.552 0-1 0.448-1 1v3c0 0.553 0.448 1 1 1s1-0.447 1-1v-3c0-0.552-0.448-1-1-1z"></path>\n<path fill="#000" d="M11.71 7.29c-0.050-0.040-0.1-0.090-0.15-0.12-0.060-0.040-0.12-0.070-0.18-0.090-0.060-0.030-0.12-0.050-0.18-0.060-0.33-0.070-0.67 0.040-0.91 0.27-0.18 0.19-0.29 0.45-0.29 0.71s0.11 0.52 0.29 0.71c0.19 0.18 0.45 0.29 0.71 0.29 0.060 0 0.13-0.010 0.2-0.020 0.060-0.010 0.12-0.030 0.18-0.060 0.060-0.020 0.12-0.050 0.18-0.090 0.050-0.040 0.1-0.080 0.15-0.12 0.090-0.1 0.16-0.21 0.21-0.33 0.060-0.12 0.080-0.25 0.080-0.38s-0.020-0.26-0.080-0.38c-0.050-0.12-0.12-0.23-0.21-0.33z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/input.svg' */var _iconMap_input = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M11 13h-6v-4h6v-2h-7c-0.553 0-1 0.448-1 1v6c0 0.552 0.447 1 1 1h7v-2z"></path>\n<path fill="#000" d="M18 7h-4v2h3v4h-3v2h4c0.553 0 1-0.448 1-1v-6c0-0.552-0.447-1-1-1z"></path>\n<path fill="#000" d="M12 17h1v-12h-1z"></path>\n<path fill="#000" d="M9 5h3v-1h-3z"></path>\n<path fill="#000" d="M13 5h3v-1h-3z"></path>\n<path fill="#000" d="M9 18h3v-1h-3z"></path>\n<path fill="#000" d="M13 18h3v-1h-3z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/insights-gradient.svg' */var _iconMap_insightsGradient = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 46.2 (44496) - http://www.bohemiancoding.com/sketch -->\n    <title>insights</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <linearGradient x1="50%" y1="38.3152174%" x2="77.3777174%" y2="100%" id="linearGradient-insights">\n            <stop stop-color="#4AC4D3" offset="0%"></stop>\n            <stop stop-color="#A3E4D1" offset="100%"></stop>\n        </linearGradient>\n    </defs>\n    <g class="insights-icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g class="insights-svg" fill="url(#linearGradient-insights)">\n            <path d="M14.8841916,12.0118568 L20.4903465,12.0118568 C20.7960454,12.0118568 21.0414089,12.2860699 20.9941463,12.5886151 C20.7367156,14.2146689 20.0901224,15.7101932 19.1559308,16.9810853 C18.9759305,17.2259546 18.6139187,17.2421443 18.3987228,17.0266188 L14.4487719,13.0520455 C14.6388281,12.7302751 14.7846384,12.3811845 14.8841916,12.0118568 L14.8841916,12.0118568 Z M14.8841916,9.98814324 C14.785644,9.62286296 14.6408393,9.27579609 14.4537998,8.95604935 L18.4047563,4.98046416 C18.6189467,4.76493867 18.9809584,4.78112838 19.1619643,5.02700957 C20.0931391,6.29587794 20.7377212,7.78836666 20.9941463,9.41138489 C21.0414089,9.71393006 20.7960454,9.98814324 20.4903465,9.98814324 L14.8841916,9.98814324 Z M13.0399427,14.4706687 L16.9748098,18.4300642 C17.1910112,18.6476134 17.1719051,19.0159292 16.9245303,19.1950279 C15.662517,20.1097464 14.1843022,20.7421568 12.5783776,20.9941092 C12.2767011,21.0416664 12.0051923,20.7947734 12.0051923,20.4881808 L12.0051923,14.9027315 C12.3712264,14.8035695 12.7201656,14.6608977 13.0399427,14.4706687 L13.0399427,14.4706687 Z M8.96831558,14.4747161 C9.28608149,14.6629215 9.63099829,14.8045814 9.99401567,14.9037434 L9.99401567,20.4881808 C9.99401567,20.7947734 9.72351241,21.0416664 9.42183592,20.9941092 C7.81892814,20.7431687 6.34373008,20.1117701 5.08372792,19.201099 C4.8353476,19.0209885 4.81624143,18.6526726 5.03244291,18.4351234 L8.96831558,14.4747161 Z M2.84428274,5.01891472 C3.02428305,4.77404538 3.38629484,4.75785567 3.60048515,4.97338116 L7.55043606,8.9479545 C7.36138546,9.26972495 7.21456956,9.61881553 7.11602191,9.98814324 L1.50886145,9.98814324 C1.20416819,9.98814324 0.957799057,9.71393006 1.0060673,9.41138489 C1.26349791,7.78533109 1.9090856,6.2898068 2.84428274,5.01891472 L2.84428274,5.01891472 Z M7.11602191,12.0118568 C7.21456956,12.377137 7.35937428,12.7242039 7.54641371,13.0439506 L3.59545721,17.0195358 C3.3812669,17.2350613 3.01824952,17.2188716 2.83824921,16.9729904 C1.90707443,15.7041221 1.26249232,14.2116333 1.0060673,12.5886151 C0.957799057,12.2860699 1.20416819,12.0118568 1.50886145,12.0118568 L7.11602191,12.0118568 Z M8.96027088,7.52933133 L5.0254038,3.56993584 C4.80920231,3.35238664 4.82830849,2.98407078 5.07568321,2.80497213 C6.33769655,1.89025363 7.81591137,1.25784315 9.42183592,1.00589082 C9.72351241,0.958333553 9.99401567,1.2052266 9.99401567,1.5118192 L9.99401567,7.09726849 C9.62798152,7.19643045 9.28004796,7.33910226 8.96027088,7.52933133 L8.96027088,7.52933133 Z M13.031898,7.5252839 C12.7141321,7.33707854 12.3682097,7.1954186 12.0051923,7.09625664 L12.0051923,1.5118192 C12.0051923,1.2052266 12.2767011,0.958333553 12.5773721,1.00589082 C14.1802798,1.2568313 15.6564835,1.88822991 16.9164856,2.79890099 C17.164866,2.9790115 17.1829665,3.34732735 16.9667651,3.56487656 L13.031898,7.5252839 Z" id="Fill-1"></path>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/label.svg' */var _iconMap_label = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 41.1 (35376) - http://www.bohemiancoding.com/sketch -->\n    <title>label</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="16-x-16" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="label">\n            <g id="label-tag" transform="translate(3.000000, 3.000000)">\n                <path d="M14.9738751,1.77635684e-15 L9.66487512,1.77635684e-15 C9.11987512,1.77635684e-15 8.59787512,0.216 8.21287512,0.6 L0.300875117,8.506 C-0.100124883,8.907 -0.100124883,9.555 0.299875117,9.956 L6.03487512,15.698 C6.43587512,16.1 7.08687512,16.1 7.48787512,15.699 L15.3998751,7.78 C15.7838751,7.396 15.9998751,6.874 15.9998751,6.331 L15.9998751,1.025 C15.9998751,0.459 15.5398751,1.77635684e-15 14.9738751,1.77635684e-15 M12.4998751,4.985 C11.6718751,4.985 10.9998751,4.313 10.9998751,3.485 C10.9998751,2.657 11.6718751,1.985 12.4998751,1.985 C13.3278751,1.985 13.9998751,2.657 13.9998751,3.485 C13.9998751,4.313 13.3278751,4.985 12.4998751,4.985"></path>\n            </g>\n        </g>\n    </g>\n</svg>';
/* babel-plugin-inline-import './../../../assets/icons/lifecycle.svg' */var _iconMap_lifecycle = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 46.2 (44496) - http://www.bohemiancoding.com/sketch -->\n    <title>lifecycle</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <linearGradient xmlns="http://www.w3.org/2000/svg" id="blue-gradient" x1="26.97%" x2="74.831%" y1="-36.06%" y2="116.846%">\n            <stop offset="0%" stop-color="#083BC1"></stop>\n            <stop offset="40.39%" stop-color="#0747C4"></stop>\n            <stop offset="100%" stop-color="#07B2D7"></stop>\n        </linearGradient>\n    </defs>\n    <g id="Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="lifecycle" fill="#4C6072">\n            <path d="M21.0000205,11.0001955 C21.0039157,14.6538864 19.0126949,18.0181903 15.8078454,19.7727308 C12.6029959,21.5272713 8.69592255,21.3920725 5.62002047,19.4201955 L7.83002047,17.2101955 C8.80804484,17.7239312 9.89529073,17.9948852 11.0000205,18.0001955 C14.8660137,18.0001955 18.0000205,14.8661888 18.0000205,11.0001955 C17.9968273,10.2892126 17.8786338,9.58342859 17.6500205,8.9101955 L15.4800205,8.9001955 L17.4900205,3.2201955 C17.4900205,3.2201955 20.9192099,6.3998537 21.0000205,11.0001955 Z M13.3600205,11.0001955 C13.3600205,12.3035875 12.3034125,13.3601955 11.0000205,13.3601955 C9.69662846,13.3601955 8.64002047,12.3035875 8.64002047,11.0001955 C8.64002047,9.69680349 9.69662846,8.6401955 11.0000205,8.6401955 C12.3024993,8.6423975 13.3578185,9.69771668 13.3600205,11.0001955 L13.3600205,11.0001955 Z M4.00002047,11.0001955 C3.99929398,11.3322707 4.02942347,11.6636952 4.09002047,11.9901955 L6.53002047,11.9801955 L2.49002047,17.2178345 C1.51552666,14.9359824 1.01885999,12.8634361 1.00002047,11.0001955 C0.99310594,7.57990074 2.73820258,4.39430509 5.62428041,2.55881638 C8.51035824,0.723327668 12.1353588,0.493647187 15.2300205,1.9501955 L12.8900205,4.2901955 C12.276329,4.10718667 11.6403493,4.00960249 11.0000205,4.0001955 C7.13402722,4.0001955 4.00002047,7.13420225 4.00002047,11.0001955 Z" id="Shape"></path>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/lighting-bolt.svg' */var _iconMap_lightingBolt = '<?xml version="1.0" encoding="UTF-8"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch -->\n    <title>lightning-bolt</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="16-x-16" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="lightning-bolt">\n            <g transform="translate(3.000000, 3.000000)">\n                <path d="M8,0 C3.582,0 0,3.582 0,8 C0,12.418 3.582,16 8,16 C12.418,16 16,12.418 16,8 C16,3.582 12.418,0 8,0" id="circle"></path>\n                <path d="M8.8613,7.5669 C8.7903,7.5669 8.7293,7.5459 8.6943,7.5089 C8.6593,7.4719 8.6543,7.4229 8.6793,7.3759 L10.2043,4.1329 C10.2793,3.9739 10.2263,3.9479 10.0933,4.0619 L5.3503,8.1099 C5.3333,8.1279 5.3323,8.1399 5.3343,8.1429 C5.3363,8.1449 5.3503,8.1509 5.3803,8.1509 L7.2343,8.1509 C7.3043,8.1509 7.3663,8.1719 7.4033,8.2089 C7.4403,8.2459 7.4483,8.2949 7.4273,8.3419 L6.0743,11.8549 C6.0083,12.0259 6.0613,12.0559 6.1863,11.9349 L10.6533,7.6169 C10.6683,7.5979 10.6693,7.5839 10.6643,7.5789 C10.6603,7.5729 10.6443,7.5669 10.6133,7.5669 L8.8613,7.5669 Z" id="bolt" fill="#FFFFFF"></path>\n            </g>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/lightning-bolt.svg' */var _iconMap_lightningBolt = '<?xml version="1.0" encoding="UTF-8"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch -->\n    <title>lightning-bolt</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="16-x-16" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="lightning-bolt">\n            <g transform="translate(3.000000, 3.000000)">\n                <path d="M8,0 C3.582,0 0,3.582 0,8 C0,12.418 3.582,16 8,16 C12.418,16 16,12.418 16,8 C16,3.582 12.418,0 8,0" id="circle"></path>\n                <path d="M8.8613,7.5669 C8.7903,7.5669 8.7293,7.5459 8.6943,7.5089 C8.6593,7.4719 8.6543,7.4229 8.6793,7.3759 L10.2043,4.1329 C10.2793,3.9739 10.2263,3.9479 10.0933,4.0619 L5.3503,8.1099 C5.3333,8.1279 5.3323,8.1399 5.3343,8.1429 C5.3363,8.1449 5.3503,8.1509 5.3803,8.1509 L7.2343,8.1509 C7.3043,8.1509 7.3663,8.1719 7.4033,8.2089 C7.4403,8.2459 7.4483,8.2949 7.4273,8.3419 L6.0743,11.8549 C6.0083,12.0259 6.0613,12.0559 6.1863,11.9349 L10.6533,7.6169 C10.6683,7.5979 10.6693,7.5839 10.6643,7.5789 C10.6603,7.5729 10.6443,7.5669 10.6133,7.5669 L8.8613,7.5669 Z" id="bolt" fill="#FFFFFF"></path>\n            </g>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/line-stacked.svg' */var _iconMap_lineStacked = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M20.707 9.293c-0.391-0.391-1.023-0.391-1.414 0l-4.564 4.562-5.413-1.803c-0.321-0.109-0.676-0.045-0.941 0.167l-5 4c-0.431 0.345-0.501 0.974-0.156 1.406 0.197 0.247 0.488 0.375 0.781 0.375 0.22 0 0.44-0.071 0.624-0.219l4.576-3.66 5.484 1.827c0.359 0.122 0.755 0.027 1.023-0.241l5-5c0.391-0.391 0.391-1.023 0-1.414z"></path>\n<path fill="#000" d="M8.2 9.12l5.484 1.828c0.359 0.121 0.757 0.026 1.023-0.242l5-5c0.391-0.39 0.391-1.023 0-1.414-0.39-0.39-1.023-0.39-1.414 0l-4.563 4.563-5.413-1.804c-0.323-0.105-0.676-0.044-0.941 0.168l-5 4c-0.432 0.344-0.502 0.974-0.156 1.405 0.197 0.247 0.487 0.375 0.781 0.375 0.219 0 0.44-0.071 0.624-0.218l4.575-3.661z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/line.svg' */var _iconMap_line = '<?xml version="1.0" encoding="UTF-8"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch -->\n    <title>line</title>\n    <defs></defs>\n    <g id="16-x-16" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="line-icon">\n            <g transform="translate(0.000000, 6.000000)">\n                <path d="M8.2,5.12 L13.684,6.948 C14.043,7.069 14.441,6.974 14.707,6.706 L19.707,1.706 C20.098,1.316 20.098,0.683 19.707,0.292 C19.317,-0.098 18.684,-0.098 18.293,0.292 L13.73,4.855 L8.317,3.051 C7.994,2.946 7.641,3.007 7.376,3.219 L2.376,7.219 C1.944,7.563 1.874,8.193 2.22,8.624 C2.417,8.871 2.707,8.999 3.001,8.999 C3.22,8.999 3.441,8.928 3.625,8.781 L8.2,5.12 L8.2,5.12 Z"></path>\n            </g>\n        </g>\n    </g>\n</svg>';
/* babel-plugin-inline-import './../../../assets/icons/liveview-gradient.svg' */var _iconMap_liveviewGradient = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 46.2 (44496) - http://www.bohemiancoding.com/sketch -->\n    <title>liveview</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <linearGradient x1="65.1946%" y1="0%" x2="34.8054%" y2="100%" id="linearGradient-liveview">\n            <stop stop-color="#EE60A4" offset="0%"></stop>\n            <stop stop-color="#FAB8AD" offset="100%"></stop>\n            <stop stop-color="#FAB8AD" offset="200%"></stop>\n        </linearGradient>\n    </defs>\n    <g class="liveview-icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g class="liveview-svg" fill="url(#linearGradient-liveview)">\n            <path d="M11,19.01 C5.48,19.01 1,11.01 1,11.01 C1,11.01 5.49,3 11.01,3 C16.53,3 21.01,11 21.01,11 C21.01,11 16.53,19 11,19.01 Z M11.01,7.46 C9.55422764,7.37102275 8.19165286,8.17975066 7.57246297,9.50027858 C6.95327307,10.8208065 7.20295403,12.3855142 8.2023642,13.4477616 C9.20177438,14.5100089 10.7483718,14.8545192 12.104158,14.3169006 C13.4599442,13.7792819 14.3501536,12.468489 14.35,11.01 C14.4077662,9.10746381 12.9125227,7.518208 11.01,7.46 Z" id="Shape"></path>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/lock-locked.svg' */var _iconMap_lockLocked = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M8 10v-2c0-1.654 1.346-3 3-3s3 1.346 3 3v2h-6zM17 10h-1v-2c0-2.757-2.243-5-5-5s-5 2.243-5 5v2h-1c-0.552 0-1 0.448-1 1v7c0 0.552 0.448 1 1 1h12c0.552 0 1-0.448 1-1v-7c0-0.552-0.448-1-1-1v0z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/logout.svg' */var _iconMap_logout = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 40.3 (33839) - http://www.bohemiancoding.com/sketch -->\n    <title>logout</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="16-x-16" stroke="none">\n        <g id="logout">\n            <g transform="translate(4.000000, 6.000000)">\n                <g>\n                    <path d="M12.5,0 L10,0 C9.447,0 9,0.448 9,1 C9,1.552 9.447,2 10,2 L12,2 L12,8 L10,8 C9.447,8 9,8.447 9,9 C9,9.553 9.447,10 10,10 L12.5,10 C13.328,10 14,9.328 14,8.5 L14,1.5 C14,0.672 13.328,0 12.5,0" id="door"></path>\n                    <path d="M4.8124,1.6498 C4.4854,1.3878 4.0004,1.6208 4.0004,2.0398 L4.0004,3.9998 L0.5004,3.9998 C0.2234,3.9998 0.0004,4.2238 0.0004,4.4998 L0.0004,5.4998 C0.0004,5.7758 0.2234,5.9998 0.5004,5.9998 L4.0004,5.9998 L4.0004,7.9598 C4.0004,8.3788 4.4854,8.6118 4.8124,8.3498 L8.6094,5.3118 C8.8094,5.1518 8.8094,4.8478 8.6094,4.6878 L4.8124,1.6498 Z" id="arrow"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/messages-gradient.svg' */var _iconMap_messagesGradient = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 46.2 (44496) - http://www.bohemiancoding.com/sketch -->\n    <title>messages</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <linearGradient x1="8.45811632%" y1="7.11030506%" x2="100%" y2="86.6210938%" id="linearGradient-messages">\n            <stop stop-color="#7767FA" offset="0%"></stop>\n            <stop stop-color="#FFB6F7" offset="100%"></stop>\n        </linearGradient>\n    </defs>\n    <g class="messages-icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g class="messages-svg" fill="url(#linearGradient-messages)">\n            <path d="M20,9.16 C20,18.84 11.02,21 11.02,21 L11.02,18 L11,18 C6.02943725,18 2,13.9705627 2,9 C2,4.02943725 6.02943725,0 11,0 C15.9705627,0 20,4.02943725 20,9 C20,9.05 19.99,9.11 19.99,9.16 L20,9.16 Z M8,7 C6.8954305,7 6,7.8954305 6,9 C6,10.1045695 6.8954305,11 8,11 C9.1045695,11 10,10.1045695 10,9 C9.9967052,7.89679813 9.10320187,7.0032948 8,7 L8,7 Z M14,7 C12.8954305,7 12,7.8954305 12,9 C12,10.1045695 12.8954305,11 14,11 C15.1045695,11 16,10.1045695 16,9 C15.9967052,7.89679813 15.1032019,7.0032948 14,7 L14,7 Z" id="Shape"></path>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/notification-email.svg' */var _iconMap_notificationEmail = '<?xml version="1.0" encoding="UTF-8"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 44.1 (41455) - http://www.bohemiancoding.com/sketch -->\n    <title>notification-email</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="16-x-16" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="notification-email">\n            <g id="email-message" transform="translate(4.000000, 5.000000)">\n                <g>\n                    <path d="M0,0 L14,0 L14,12 L0,12 L0,0 Z M1.75,5.14285714 L1.75,6.85714286 L7,6.85714286 L7,5.14285714 L1.75,5.14285714 Z M1.75,7.71428571 L1.75,9.4285714 L7,9.4285714 L7,7.71428571 L1.75,7.71428571 Z M9.625,1.71428571 L9.625,4.28571429 L12.25,4.28571429 L12.25,1.71428571 L9.625,1.71428571 Z" fill-rule="nonzero"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>';
/* babel-plugin-inline-import './../../../assets/icons/notification-inapp.svg' */var _iconMap_notificationInapp = '<?xml version="1.0" encoding="UTF-8"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 44.1 (41455) - http://www.bohemiancoding.com/sketch -->\n    <title>notification-inapp</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="16-x-16" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="notification-inapp">\n            <g transform="translate(5.000000, 3.000000)" id="Page-1">\n                <g>\n                    <path d="M10,11.6912 C10,11.8622 9.862,12.0002 9.691,12.0002 L2.309,12.0002 C2.138,12.0002 2,11.8622 2,11.6912 L2,2.3092 C2,2.1382 2.138,2.0002 2.309,2.0002 L9.691,2.0002 C9.862,2.0002 10,2.1382 10,2.3092 L10,11.6912 Z M6,15.0002 C5.448,15.0002 5,14.5522 5,14.0002 C5,13.4472 5.448,13.0002 6,13.0002 C6.552,13.0002 7,13.4472 7,14.0002 C7,14.5522 6.552,15.0002 6,15.0002 L6,15.0002 Z M11.691,0.0002 L0.309,0.0002 C0.138,0.0002 0,0.1382 0,0.3092 L0,15.6912 C0,15.8622 0.138,16.0002 0.309,16.0002 L11.691,16.0002 C11.862,16.0002 12,15.8622 12,15.6912 L12,0.3092 C12,0.1382 11.862,0.0002 11.691,0.0002 L11.691,0.0002 Z" id="Fill-1"></path>\n                    <path d="M8.75,3 L3.25,3 C3.112,3 3,3.112 3,3.25 L3,8.75 C3,8.888 3.112,9 3.25,9 L6,9 L6,11 L8,9 L8.75,9 C8.888,9 9,8.888 9,8.75 L9,3.25 C9,3.112 8.888,3 8.75,3" id="Fill-4"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>';
/* babel-plugin-inline-import './../../../assets/icons/notification-push.svg' */var _iconMap_notificationPush = '<?xml version="1.0" encoding="UTF-8"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 44.1 (41455) - http://www.bohemiancoding.com/sketch -->\n    <title>notification-push</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="16-x-16" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="notification-push">\n            <g transform="translate(5.000000, 3.000000)">\n                <path d="M4,8 L8,8 L8,7 L4,7 L4,8 Z M4,6 L8,6 L8,5 L4,5 L4,6 Z M6,15 C6.552,15 7,14.552 7,14 C7,13.448 6.552,13 6,13 C5.448,13 5,13.448 5,14 C5,14.552 5.448,15 6,15 L6,15 Z M2,2.309 L2,11.691 C2,11.862 2.138,12 2.309,12 L9.691,12 C9.862,12 10,11.862 10,11.691 L10,2.309 C10,2.138 9.862,2 9.691,2 L2.309,2 C2.138,2 2,2.138 2,2.309 L2,2.309 Z M0.309,0 L11.691,0 C11.862,0 12,0.138 12,0.309 L12,15.691 C12,15.862 11.862,16 11.691,16 L0.309,16 C0.138,16 0,15.862 0,15.691 L0,0.309 C0,0.138 0.138,0 0.309,0 L0.309,0 Z"></path>\n            </g>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/notification-sent.svg' */var _iconMap_notificationSent = '<?xml version="1.0" encoding="UTF-8"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 44.1 (41455) - http://www.bohemiancoding.com/sketch -->\n    <title>notification-sent</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="16-x-16" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="notification-sent">\n            <g transform="translate(3.000000, 4.000000)">\n                <path d="M0,7.3 L5,8.3 L16,0 L0,7.3 Z M6.75,8.8 L5.75,13.3 L9.299,10.257 L11.999,11.8 L16,0 L6.75,8.8 Z"></path>\n            </g>\n        </g>\n    </g>\n</svg>';
/* babel-plugin-inline-import './../../../assets/icons/notification-sms.svg' */var _iconMap_notificationSms = '<?xml version="1.0" encoding="UTF-8"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 44.1 (41455) - http://www.bohemiancoding.com/sketch -->\n    <title>notification-sms</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="16-x-16" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="notification-sms">\n            <g id="notifications-sms" transform="translate(3.000000, 3.000000)">\n                <path d="M11,7 C10.448,7 10,6.552 10,6 C10,5.448 10.448,5 11,5 C11.552,5 12,5.448 12,6 C12,6.552 11.552,7 11,7 M8,7 C7.448,7 7,6.552 7,6 C7,5.448 7.448,5 8,5 C8.552,5 9,5.448 9,6 C9,6.552 8.552,7 8,7 M5,7 C4.448,7 4,6.552 4,6 C4,5.448 4.448,5 5,5 C5.552,5 6,5.448 6,6 C6,6.552 5.552,7 5,7 M15,0 L1,0 C0.448,0 0,0.448 0,1 L0,11 C0,11.552 0.448,12 1,12 L3,12 L3,16 L8,12 L15,12 C15.552,12 16,11.552 16,11 L16,1 C16,0.448 15.552,0 15,0"></path>\n            </g>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/notification-webhook.svg' */var _iconMap_notificationWebhook = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generator: Adobe Illustrator 19.2.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 16 15" style="enable-background:new 0 0 16 15;" xml:space="preserve">\n<title>notifications-webhook</title>\n<desc>Created with Sketch.</desc>\n<g id="Symbols">\n\t<g id="Create-Menu:-In-App-Notification-_x22_Hover_x22_" transform="translate(-20.000000, -141.000000)">\n\t\t<g id="mp-triggered-menu-open-copy">\n\t\t\t<path id="notifications-webhook" d="M35.7,150.6c0.4,1.1,0.4,2.3-0.2,3.4c-1,1.9-3.4,2.6-5.2,1.5c-0.4-0.2-0.8-0.6-1.1-0.9l1-0.6\n\t\t\t\tc0.2,0.2,0.4,0.4,0.6,0.5c1.3,0.7,2.9,0.2,3.6-1.1c0.4-0.7,0.4-1.5,0.2-2.1c-0.1-0.4-0.3-0.7-0.6-1c-0.2-0.2-0.4-0.4-0.6-0.5\n\t\t\t\tc-0.7-0.4-1.4-0.4-2.1-0.2c0,0,0,0,0,0c-0.4,0.1-0.7,0.3-1,0.6l-0.6-1.1l-1.6-2.7c-0.1,0-0.1,0-0.2,0c-0.8,0-1.5-0.7-1.5-1.5\n\t\t\t\tc0-0.1,0-0.1,0-0.2c0-0.4,0.3-0.8,0.6-1c0.2-0.2,0.5-0.3,0.9-0.3c0.8,0,1.5,0.7,1.5,1.5c0,0.1,0,0.1,0,0.2c0,0.3-0.1,0.5-0.3,0.7\n\t\t\t\tl1.6,2.7c1-0.4,2.2-0.4,3.3,0.2c0.4,0.2,0.8,0.6,1.1,0.9C35.4,149.9,35.6,150.3,35.7,150.6z M22.6,152.8\n\t\t\t\tc-0.4-0.7-0.2-1.6,0.5-2.1c0,0,0.1,0,0.1-0.1c0.3-0.1,0.5-0.1,0.8-0.1l1.5-2.7c-0.9-0.7-1.4-1.8-1.4-3c0-0.5,0.1-1,0.3-1.4\n\t\t\t\tc0.1-0.4,0.3-0.7,0.6-1c0.7-0.9,1.8-1.5,3-1.5c2.1,0,3.9,1.7,3.9,3.9c0,0.5-0.1,1-0.3,1.4l-1-0.6c0.1-0.3,0.1-0.5,0.1-0.8\n\t\t\t\tc0-1.5-1.2-2.7-2.7-2.7c-0.8,0-1.5,0.3-2,0.9c-0.3,0.3-0.5,0.6-0.6,1c-0.1,0.3-0.1,0.5-0.1,0.8c0,0.8,0.3,1.5,0.8,2\n\t\t\t\tc0.3,0.3,0.6,0.5,1,0.6l-0.6,1.1l-1.5,2.7c0,0,0.1,0.1,0.1,0.1c0,0.1,0.1,0.1,0.1,0.2c0.2,0.4,0.2,0.8,0,1.2\n\t\t\t\tc-0.1,0.3-0.3,0.5-0.6,0.7c0,0-0.1,0-0.1,0.1c-0.4,0.2-0.8,0.2-1.2,0C23,153.3,22.7,153.1,22.6,152.8z M31.3,153.3\n\t\t\t\tc-0.2-0.2-0.4-0.4-0.5-0.6h-3.2c-0.2,1.1-0.8,2.1-1.9,2.8c-0.4,0.2-0.9,0.4-1.3,0.5c-0.4,0.1-0.8,0.1-1.2,0\n\t\t\t\tc-1.1-0.2-2.1-0.8-2.8-1.9c-1.1-1.9-0.4-4.3,1.4-5.3c0.4-0.2,0.9-0.4,1.3-0.5l0,1.2c-0.3,0.1-0.5,0.2-0.7,0.3\n\t\t\t\tc-1.3,0.8-1.7,2.4-1,3.7c0.4,0.7,1,1.1,1.7,1.3c0.4,0.1,0.8,0.1,1.2,0c0.3-0.1,0.5-0.2,0.7-0.3c0.7-0.4,1.1-1,1.2-1.7\n\t\t\t\tc0,0,0,0,0,0c0.1-0.4,0.1-0.8,0-1.2h1.2h3.1c0,0,0-0.1,0.1-0.1c0-0.1,0.1-0.1,0.1-0.2c0.2-0.3,0.6-0.6,1-0.6c0.3,0,0.6,0,0.9,0.2\n\t\t\t\tc0,0,0.1,0.1,0.1,0.1c0.3,0.2,0.6,0.6,0.6,1c0,0.3,0,0.6-0.2,0.9c-0.4,0.7-1.3,1-2,0.6C31.4,153.4,31.3,153.4,31.3,153.3z"/>\n\t\t</g>\n\t</g>\n</g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/open-report.svg' */var _iconMap_openReport = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 41.1 (35376) - http://www.bohemiancoding.com/sketch -->\n    <title>open-report</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="16-x-16" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="open-report">\n            <g transform="translate(3.000000, 3.000000)">\n                <path d="M10.3181,2.318 C10.5111,2.511 10.5151,2.819 10.3121,3.022 L7.3731,5.961 C6.9831,6.351 6.9831,6.983 7.3671,7.367 L8.6331,8.633 C9.0201,9.02 9.6471,9.019 10.0391,8.627 L12.9781,5.688 C13.1741,5.492 13.4921,5.492 13.6821,5.682 L15.2991,7.299 C15.6861,7.686 16.0001,7.547 16.0001,7.003 L16.0001,0.997 C16.0001,0.446 15.5471,0 15.0031,0 L8.9971,0 C8.4461,0 8.3161,0.316 8.7011,0.701 L10.3181,2.318 Z M3.1671,13.333 C2.8911,13.333 2.6671,13.111 2.6671,12.835 L2.6671,3.208 C2.6671,2.933 2.8861,2.708 3.1681,2.705 L5.7421,2.679 C6.3001,2.674 6.7521,2.229 6.7521,1.676 L6.7521,0.996 C6.7521,0.447 6.3091,0.002 5.7561,0.002 L0.9961,0 C0.4461,0 0.0001,0.445 0.0001,1.001 L0.0001,14.999 C0.0001,15.552 0.4451,16 1.0011,16 L14.9991,16 C15.5521,16 16.0001,15.552 16.0001,15.002 L16.0001,10.331 C16.0001,9.78 15.5601,9.333 15.0071,9.333 L14.3261,9.333 C13.7781,9.333 13.3331,9.776 13.3331,10.342 L13.3331,12.84 C13.3331,13.111 13.1101,13.33 12.8331,13.33 L3.1671,13.333 Z"></path>\n            </g>\n        </g>\n    </g>\n</svg>';
/* babel-plugin-inline-import './../../../assets/icons/opportunity.svg' */var _iconMap_opportunity = '<?xml version="1.0" encoding="UTF-8"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch -->\n    <title>opportunity</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="16-x-16" stroke="none" stroke-width="1">\n        <g id="opportunity">\n            <g transform="translate(3.000000, 3.000000)" id="Shape">\n                <g>\n                    <path d="M3.844809,11.1080837 L3.34505329,10.6241932 C3.18606477,10.4702519 3.18606477,10.2208198 3.34505329,10.0668785 L3.844809,9.58298809 C4.00379752,9.42917818 4.00379752,9.1796147 3.844809,9.02580478 L3.34505329,8.54191433 C3.18606477,8.38797307 2.92845454,8.38797307 2.76946602,8.54191433 L2.26971031,9.02580478 C2.11085744,9.1796147 1.85311155,9.1796147 1.69425869,9.02580478 L1.19450298,8.54191433 C1.03551446,8.38797307 0.777904226,8.38797307 0.618915709,8.54191433 L0.119159995,9.02580478 C-0.039692867,9.1796147 -0.039692867,9.42917818 0.119159995,9.58298809 L0.618915709,10.0668785 C0.777904226,10.2208198 0.777904226,10.4702519 0.618915709,10.6241932 L0.119159995,11.1080837 C-0.039692867,11.2620249 -0.039692867,11.511457 0.119159995,11.6653983 L0.618915709,12.1492888 C0.777904226,12.3030987 1.03551446,12.3030987 1.19450298,12.1492888 L1.69425869,11.6653983 C1.85311155,11.511457 2.11085744,11.511457 2.26971031,11.6653983 L2.76946602,12.1492888 C2.92845454,12.3030987 3.18606477,12.3030987 3.34505329,12.1492888 L3.844809,11.6653983 C4.00379752,11.511457 4.00379752,11.2620249 3.844809,11.1080837" fill-rule="nonzero"></path>\n                    <path d="M13.0818288,3.15231513 L11.7252715,3.15231513 C11.2757084,3.15231513 10.9113371,2.79951118 10.9113371,2.36421993 L10.9113371,0.919378727 C10.9113371,0.484087478 10.5469658,0.131283526 10.0974027,0.131283526 L9.14781258,0.131283526 C8.69824949,0.131283526 8.3338782,0.484087478 8.3338782,0.919378727 L8.3338782,2.36421993 C8.3338782,2.79951118 7.9695069,3.15231513 7.51994381,3.15231513 L6.16338649,3.15231513 C5.7138234,3.15231513 5.3494521,3.50511908 5.3494521,3.94041033 L5.3494521,4.72850554 C5.3494521,5.16379679 5.7138234,5.51660074 6.16338649,5.51660074 L7.51994381,5.51660074 C7.9695069,5.51660074 8.3338782,5.86940469 8.3338782,6.30469594 L8.3338782,7.74953714 C8.3338782,8.18482839 8.69824949,8.53763234 9.14781258,8.53763234 L10.0974027,8.53763234 C10.5469658,8.53763234 10.9113371,8.18482839 10.9113371,7.74953714 L10.9113371,6.30469594 C10.9113371,5.86940469 11.2757084,5.51660074 11.7252715,5.51660074 L13.0818288,5.51660074 C13.5313919,5.51660074 13.8957632,5.16379679 13.8957632,4.72850554 L13.8957632,3.94041033 C13.8957632,3.50511908 13.5313919,3.15231513 13.0818288,3.15231513" fill-rule="nonzero"></path>\n                    <path d="M14.3830019,15.3172476 L13.8832462,14.8333571 C13.7242576,14.6794159 13.7242576,14.4299837 13.8832462,14.2760425 L14.3830019,13.792152 C14.5419904,13.6383421 14.5419904,13.3887786 14.3830019,13.2349687 L13.8832462,12.7510783 C13.7242576,12.597137 13.4666474,12.597137 13.3076589,12.7510783 L12.8079032,13.2349687 C12.6490503,13.3887786 12.3913044,13.3887786 12.2324516,13.2349687 L11.7326958,12.7510783 C11.5737073,12.597137 11.3160971,12.597137 11.1571086,12.7510783 L10.6573529,13.2349687 C10.4985,13.3887786 10.4985,13.6383421 10.6573529,13.792152 L11.1571086,14.2760425 C11.3160971,14.4299837 11.3160971,14.6794159 11.1571086,14.8333571 L10.6573529,15.3172476 C10.4985,15.4711889 10.4985,15.720621 10.6573529,15.8745622 L11.1571086,16.3584527 C11.3160971,16.5122626 11.5737073,16.5122626 11.7326958,16.3584527 L12.2324516,15.8745622 C12.3913044,15.720621 12.6490503,15.720621 12.8079032,15.8745622 L13.3076589,16.3584527 C13.4666474,16.5122626 13.7242576,16.5122626 13.8832462,16.3584527 L14.3830019,15.8745622 C14.5419904,15.720621 14.5419904,15.4711889 14.3830019,15.3172476" fill-rule="nonzero"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>';
/* babel-plugin-inline-import './../../../assets/icons/opt-out.svg' */var _iconMap_optOut = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 46.2 (44496) - http://www.bohemiancoding.com/sketch -->\n    <title>switch</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="switch">\n            <path d="M11.717,8.47409886 L8.591,6.15109886 C8.19,5.86009886 8,6.00209886 8,6.46809886 L8,8.00009886 L4.5,8.00009886 C4.224,8.00009886 4,8.22409886 4,8.50009886 L4,9.50009886 C4,9.77609886 4.224,10.0000989 4.5,10.0000989 L8,10.0000989 L8,11.5320989 C8,11.9980989 8.207,12.1410989 8.608,11.8500989 L11.682,9.52709886 C12.082,9.23609886 12.117,8.76409886 11.717,8.47409886" id="left-arrow" transform="translate(8.000037, 9.000457) scale(-1, 1) translate(-8.000037, -9.000457) "></path>\n            <path d="M17.5000735,12.0000989 L14.0000735,12.0000989 L14.0000735,10.4680989 C14.0000735,10.0020989 13.8100735,9.86009886 13.4090735,10.1510989 L10.2830735,12.4740989 C9.88307349,12.7640989 9.91807349,13.2360989 10.3180735,13.5270989 L13.3920735,15.8500989 C13.7930735,16.1410989 14.0000735,15.9980989 14.0000735,15.5320989 L14.0000735,14.0000989 L17.5000735,14.0000989 C17.7760735,14.0000989 18.0000735,13.7760989 18.0000735,13.5000989 L18.0000735,12.5000989 C18.0000735,12.2240989 17.7760735,12.0000989 17.5000735,12.0000989" id="right-arrow" transform="translate(14.000037, 13.000457) scale(-1, 1) translate(-14.000037, -13.000457) "></path>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/plus-large-thin.svg' */var _iconMap_plusLargeThin = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 44.1 (41455) - http://www.bohemiancoding.com/sketch -->\n    <title>plus-funnel</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Navigation-icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="plus-funnel" fill="#9BACBF">\n            <path d="M16.499,10.001 L12,10.001 L12,5.501 C12,5.225 11.775,5 11.499,5 L10.499,5 C10.223,5 9.999,5.225 9.999,5.501 L9.999,10.001 L5.499,10.001 C5.223,10.001 5,10.225 5,10.501 L5,11.501 C5,11.778 5.223,12 5.499,12 L9.999,12 L9.999,16.501 C9.999,16.777 10.223,17.001 10.499,17.001 L11.499,17.001 C11.775,17.001 12,16.777 12,16.501 L12,12 L16.499,12 C16.776,12 16.999,11.778 16.999,11.501 L16.999,10.501 C16.999,10.225 16.776,10.001 16.499,10.001" id="plus"></path>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/plus-large.svg' */var _iconMap_plusLarge = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M17 9h-4v-4c0-0.552-0.448-1-1-1h-2c-0.552 0-1 0.448-1 1v4h-4c-0.552 0-1 0.448-1 1v2c0 0.552 0.448 1 1 1h4v4c0 0.552 0.448 1 1 1h2c0.552 0 1-0.448 1-1v-4h4c0.552 0 1-0.448 1-1v-2c0-0.552-0.448-1-1-1z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/plus-medium.svg' */var _iconMap_plusMedium = '<svg \n xmlns="http://www.w3.org/2000/svg"\n xmlns:xlink="http://www.w3.org/1999/xlink"\n width="22" height="22" viewbox="0 0 22 22">\n<path fill-rule="evenodd"  fill="#000" transform="translate(6 6)"\n d="M10.000,6.000 L6.000,6.000 L6.000,10.000 L4.000,10.000 L4.000,6.000 L0.000,6.000 L0.000,4.000 L4.000,4.000 L4.000,-0.000 L6.000,-0.000 L6.000,4.000 L10.000,4.000 L10.000,6.000 Z"/>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/plus.svg' */var _iconMap_plus = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M14 10h-2v-2c0-0.552-0.448-1-1-1s-1 0.448-1 1v2h-2c-0.552 0-1 0.448-1 1s0.448 1 1 1h2v2c0 0.552 0.448 1 1 1s1-0.448 1-1v-2h2c0.552 0 1-0.448 1-1s-0.448-1-1-1z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/predict-gradient.svg' */var _iconMap_predictGradient = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 46.2 (44496) - http://www.bohemiancoding.com/sketch -->\n    <title>predict</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g class="predict-icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g class="predict-svg">\n            <polyline stroke="#DFE6ED" stroke-width="3" points="3.062608 11.03618 7.977312 16.48691 12.95056 11.13148"></polyline>\n            <path d="M15.499797,7.000074 C16.328177,7.000074 17.000275,7.67148 17.000275,8.500122 C17.000275,9.328218 16.328177,10.000032 15.499797,10.000032 C14.671564,10.000032 13.999886,9.328218 13.999886,8.500122 C13.999886,7.67148 14.671564,7.000074 15.499797,7.000074 Z" id="Ellipse-21" fill="#E85F78"></path>\n            <path d="M19.499935,3.000092 C20.328315,3.000092 20.999845,3.671492 20.999845,4.50014 C20.999845,5.32823 20.328315,6.000182 19.499935,6.000182 C18.67156,6.000182 18.000025,5.32823 18.000025,4.50014 C18.000025,3.671492 18.67156,3.000092 19.499935,3.000092 Z" id="Ellipse-21" fill="#E85F78"></path>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/profile-large.svg' */var _iconMap_profileLarge = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M12.981 12.040c0-0.87 0.72-0.58 1.040-2.17 0.13-0.66 0.76-0.010 0.89-1.51 0.042-0.297-0.095-0.592-0.35-0.75 0 0 0.18-0.88 0.24-1.57 0.090-0.84-0.52-3.040-3.8-3.040s-3.89 2.2-3.8 3.040c0.060 0.69 0.24 1.57 0.24 1.57-0.255 0.158-0.393 0.453-0.35 0.75 0.13 1.5 0.76 0.85 0.89 1.51 0.32 1.59 1.040 1.3 1.040 2.17 0 1.44-0.75 2.12-3.111 2.91-2.37 0.81-2.909 1.62-2.909 2.18v0.94c0.022 0.532 0.468 0.946 1 0.93h14c0.532 0.016 0.977-0.398 1-0.93v-0.94c0-0.56-0.541-1.37-2.91-2.18-2.36-0.79-3.11-1.47-3.11-2.91z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/profile.svg' */var _iconMap_profile = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M12.73 11.91c0-0.76 0.63-0.51 0.91-1.9 0.11-0.57 0.67-0.010 0.78-1.32 0.036-0.259-0.086-0.515-0.31-0.65 0 0 0.16-0.78 0.22-1.38 0.070-0.74-0.46-2.66-3.33-2.66s-3.4 1.92-3.33 2.66c0.060 0.6 0.22 1.38 0.22 1.38-0.224 0.135-0.346 0.391-0.31 0.65 0.11 1.31 0.67 0.75 0.78 1.32 0.28 1.39 0.91 1.14 0.91 1.9 0 1.26 0.34 1.85-1.73 2.55s-3.54 1.42-3.54 1.9v0.82c0.013 0.466 0.402 0.834 0.868 0.82h12.251c0.467 0.019 0.861-0.343 0.88-0.809v-0.831c0-0.48-1.47-1.2-3.54-1.9s-1.729-1.29-1.729-2.55z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/quick-install.svg' */var _iconMap_quickInstall = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 46.1 (44463) - http://www.bohemiancoding.com/sketch -->\n    <title>quick-install</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Iconography" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="quick-install" fill="#6D859E">\n            <path d="M10.6768,13.8223 C10.8558,14.0563 11.1448,14.0603 11.3228,13.8263 L13.9098,10.5003 C14.0888,10.2633 13.9918,10.0003 13.6958,10.0003 L11.9998,10.0003 L11.9998,4.5003 C11.9998,4.2243 11.7768,4.0003 11.4998,4.0003 L10.4998,4.0003 C10.2238,4.0003 9.9998,4.2243 9.9998,4.5003 L9.9998,10.0003 L8.3048,10.0003 C8.0078,10.0003 7.9108,10.2643 8.0898,10.5003 L10.6768,13.8223 Z M18.4998,10.0003 L17.4998,10.0003 C17.2238,10.0003 16.9998,10.2233 16.9998,10.5003 L16.9998,16.0003 L4.9998,16.0003 L4.9998,10.5003 C4.9998,10.2233 4.7768,10.0003 4.4998,10.0003 L3.4998,10.0003 C3.2238,10.0003 2.9998,10.2233 2.9998,10.5003 L2.9998,17.0003 C2.9998,17.5523 3.4478,18.0003 3.9998,18.0003 L17.9998,18.0003 C18.5528,18.0003 18.9998,17.5523 18.9998,17.0003 L18.9998,10.5003 C18.9998,10.2233 18.7768,10.0003 18.4998,10.0003 L18.4998,10.0003 Z"></path>\n        </g>\n    </g>\n</svg>';
/* babel-plugin-inline-import './../../../assets/icons/refresh.svg' */var _iconMap_refresh = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M16.657 5.343c-1.448-1.448-3.448-2.343-5.657-2.343-4.418 0-8 3.582-8 8s3.582 8 8 8c4.079 0 7.438-3.055 7.931-7h-3.032c-0.465 2.279-2.484 4-4.899 4-2.757 0-5-2.243-5-5s2.243-5 5-5c1.379 0 2.629 0.561 3.534 1.466l-2.534 2.534h7v-7l-2.343 2.343z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/retention-gradient.svg' */var _iconMap_retentionGradient = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 46.2 (44496) - http://www.bohemiancoding.com/sketch -->\n    <title>retention</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <linearGradient x1="71.3258%" y1="0%" x2="-7.22113699%" y2="133.984375%" id="linearGradient-retention">\n            <stop stop-color="#DC5A97" offset="0%"></stop>\n            <stop stop-color="#F9B0A4" offset="100%"></stop>\n            <stop stop-color="#F9B0A4" offset="100%"></stop>\n        </linearGradient>\n        <path d="M5.000168,2.99986 C6.104324,2.99986 7.000238,3.89566 7.000238,4.99992 C7.000238,6.1046 6.104324,6.99984 5.000168,6.99984 C3.895274,6.99984 3.000098,6.1046 3.000098,4.99992 C3.000098,3.89566 3.895274,2.99986 5.000168,2.99986 Z M11.000234,2.99986 C12.104534,2.99986 12.999728,3.89566 12.999728,4.99992 C12.999728,6.1046 12.104534,6.99984 11.000234,6.99984 C9.895484,6.99984 9.000164,6.1046 9.000164,4.99992 C9.000164,3.89566 9.895484,2.99986 11.000234,2.99986 Z M16.999868,2.99986 C18.1046,2.99986 18.999938,3.89566 18.999938,4.99992 C18.999938,6.1046 18.1046,6.99984 16.999868,6.99984 C15.89555,6.99984 14.999798,6.1046 14.999798,4.99992 C14.999798,3.89566 15.89555,2.99986 16.999868,2.99986 Z M5.000168,8.9999 C6.104324,8.9999 7.000238,9.8957 7.000238,10.99984 C7.000238,12.1045 6.104324,12.99976 5.000168,12.99976 C3.895274,12.99976 3.000098,12.1045 3.000098,10.99984 C3.000098,9.8957 3.895274,8.9999 5.000168,8.9999 Z M11.000234,8.9999 C12.104534,8.9999 12.999728,9.8957 12.999728,10.99984 C12.999728,12.1045 12.104534,12.99976 11.000234,12.99976 C9.895484,12.99976 9.000164,12.1045 9.000164,10.99984 C9.000164,9.8957 9.895484,8.9999 11.000234,8.9999 Z M5.000168,14.99982 C6.104324,14.99982 7.000238,15.89562 7.000238,16.99974 C7.000238,18.10442 6.104324,19.00022 5.000168,19.00022 C3.895274,19.00022 3.000098,18.10442 3.000098,16.99974 C3.000098,15.89562 3.895274,14.99982 5.000168,14.99982 Z" id="path-2-retention"></path>\n    </defs>\n    <g class="retention-icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g class="retention-svg">\n            <g>\n                <use fill-opacity="0" fill="#4F5293" xlink:href="#path-2-retention"></use>\n                <use fill="url(#linearGradient-retention)" xlink:href="#path-2-retention"></use>\n            </g>\n            <path d="M16.999868,8.999914 C18.104612,8.999914 18.999932,9.895704 18.999932,10.999828 C18.999932,12.104512 18.104612,12.999756 16.999868,12.999756 C15.895556,12.999756 14.999792,12.104512 14.999792,10.999828 C14.999792,9.895704 15.895556,8.999914 16.999868,8.999914 Z M11.000228,14.99981 C12.10454,14.99981 12.999728,15.895614 12.999728,16.999738 C12.999728,18.104422 12.10454,19.000212 11.000228,19.000212 C9.895484,19.000212 9.000164,18.104422 9.000164,16.999738 C9.000164,15.895614 9.895484,14.99981 11.000228,14.99981 Z M16.999868,14.99981 C18.104612,14.99981 18.999932,15.895614 18.999932,16.999738 C18.999932,18.104422 18.104612,19.000212 16.999868,19.000212 C15.895556,19.000212 14.999792,18.104422 14.999792,16.999738 C14.999792,15.895614 15.895556,14.99981 16.999868,14.99981 Z" id="Combined-shape-110" fill="#DFE6ED"></path>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/saved-reports.svg' */var _iconMap_savedReports = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M14.928 11.279l-1.794 1.843 0.421 2.585c0.034 0.207-0.186 0.362-0.369 0.261l-2.186-1.212-2.187 1.212c-0.183 0.101-0.403-0.054-0.369-0.261l0.421-2.585-1.794-1.843c-0.142-0.147-0.060-0.394 0.142-0.425l2.467-0.377 1.092-2.333c0.091-0.193 0.365-0.193 0.455 0l1.092 2.333 2.467 0.377c0.202 0.031 0.285 0.278 0.142 0.425zM18 5h-5.586c-0.265 0-0.52-0.106-0.707-0.293l-1.414-1.414c-0.188-0.188-0.442-0.293-0.708-0.293h-5.585c-0.553 0-1 0.447-1 1v14c0 0.552 0.447 1 1 1h14c0.552 0 1-0.448 1-1v-12c0-0.553-0.448-1-1-1z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/search.svg' */var _iconMap_search = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M10 15c-2.757 0-5-2.243-5-5s2.243-5 5-5c2.757 0 5 2.243 5 5s-2.243 5-5 5zM18.707 17.293l-3-3c-0.037-0.037-0.084-0.053-0.124-0.083 0.886-1.172 1.417-2.627 1.417-4.21 0-3.866-3.134-7-7-7s-7 3.134-7 7c0 3.866 3.134 7 7 7 1.583 0 3.038-0.531 4.21-1.417 0.030 0.040 0.046 0.087 0.083 0.124l3 3c0.195 0.195 0.451 0.293 0.707 0.293s0.512-0.098 0.707-0.293c0.391-0.391 0.391-1.023 0-1.414z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/segmentation-gradient.svg' */var _iconMap_segmentationGradient = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 46.2 (44496) - http://www.bohemiancoding.com/sketch -->\n    <title>segmentation</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <linearGradient x1="27.3607337%" y1="13.4595788%" x2="70.4908288%" y2="88.6633832%" id="linearGradient-segmentation">\n            <stop stop-color="#FB8835" offset="0%"></stop>\n            <stop stop-color="#F8BD3B" offset="100%"></stop>\n        </linearGradient>\n    </defs>\n    <g class="segmentation-icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g class="segmentation-svg" fill="url(#linearGradient-segmentation)">\n            <path d="M9.999325,12.000325 L18.999202,12.000325 C18.999202,16.970694 14.969855,20.999788 9.999325,20.999788 C5.028772,20.999788 1,16.970694 1,12.000325 C1,7.029151 5.028772,2.998953 9.999325,2.998953 L9.999325,12.000325 Z M11.999382,1 C16.969935,1 20.999834,5.029232 20.999834,9.99944 L11.999382,9.99944 L11.999382,1 Z" id="Combined-shape-226"></path>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/settings.svg' */var _iconMap_settings = '<?xml version="1.0" encoding="UTF-8"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 44.1 (41455) - http://www.bohemiancoding.com/sketch -->\n    <title>settings</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="16-x-16" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="settings">\n            <g transform="translate(3.000000, 3.000000)">\n                <path d="M8,11 C9.65,11 11,9.65 11,8 C11,6.35 9.65,5 8,5 C6.339,5 5,6.35 5,8 C5,9.65 6.339,11 8,11 L8,11 Z M15,7 C15.55,7 16,7.45 16,8 C16,8.55 15.55,9 15,9 L13.91,9 C13.76,9.92 13.401,10.76 12.89,11.48 L13.65,12.24 C14.04,12.63 14.04,13.27 13.65,13.661 C13.259,14.05 12.631,14.05 12.241,13.661 L11.47,12.89 C10.75,13.41 10,13.76 9,13.911 L9,15 C9,15.55 8.55,16 8,16 C7.45,16 7,15.55 7,15 L7,13.911 C6,13.76 5.25,13.41 4.53,12.89 L3.75,13.661 C3.361,14.05 2.73,14.05 2.339,13.661 C1.95,13.27 1.95,12.63 2.339,12.24 L3.11,11.471 C2.59,10.75 2.24,9.91 2.09,9 L1.12,9 C0.45,9 0,8.581 0,8.03 C0,7.481 0.45,7 1,7 L2.09,7 C2.24,6.09 2.59,5.25 3.11,4.529 L2.339,3.76 C1.95,3.37 1.95,2.73 2.339,2.339 C2.73,1.95 3.371,1.95 3.76,2.339 L4.53,3.11 C5.25,2.59 6,2.24 7,2.089 L7,1 C7,0.45 7.45,0 8,0 C8.55,0 9,0.45 9,1 L9,2.089 C10,2.24 10.75,2.59 11.47,3.11 L12.241,2.339 C12.63,1.95 13.259,1.95 13.65,2.339 C14.04,2.73 14.04,3.37 13.65,3.76 L12.89,4.529 C13.41,5.25 13.76,6.09 13.91,7 L15,7 Z"></path>\n            </g>\n        </g>\n    </g>\n</svg>';
/* babel-plugin-inline-import './../../../assets/icons/setup.svg' */var _iconMap_setup = '<svg xmlns="http://www.w3.org/2000/svg" width="22" height="20" viewBox="0 0 22 20">\n    <path fill="#FFF" fill-rule="evenodd" d="M16.043 11.121l5.529 3.286c.53.254.561.741.035 1.047l-2.479.297 1.728 3.011a.497.497 0 0 1-.177.677l-.849.492a.49.49 0 0 1-.671-.183l-1.727-3.011-1.495 2.012c-.526.305-.924.045-.883-.554l-.069-6.472c.043-.598.527-.856 1.058-.602zM6 6.999h10a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2zM6 11h5a1 1 0 1 1 0 2H6a1 1 0 0 1 0-2zM6 1a1 1 0 1 0-.001 1.999A1 1 0 0 0 6 1zM3 1a1 1 0 1 0-.003 2A1 1 0 0 0 3 1zm17 10.148V4H1.999v12h11.019l.024 1.999H1.999A1.999 1.999 0 0 1 0 16V1.999A2 2 0 0 1 1.999 0H20a2 2 0 0 1 2 1.999v10.34l-2-1.191z"/>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/signal-gradient.svg' */var _iconMap_signalGradient = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 46.2 (44496) - http://www.bohemiancoding.com/sketch -->\n    <title>signal</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <linearGradient x1="50%" y1="100%" x2="50%" y2="0%" id="linearGradient-signal">\n            <stop stop-color="#FFB6F7" offset="0%"></stop>\n            <stop stop-color="#7767FA" offset="100%"></stop>\n        </linearGradient>\n    </defs>\n    <g class="signal-icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g class="signal-svg" fill="url(#linearGradient-signal)">\n            <path d="M0.99565,13.7484638 C1.86818524,13.1236836 2.5606205,12.3557775 3.112671,11.666036 C4.342472,10.128638 5.180681,9.187508 6.858804,9.187508 C8.537919,9.187508 9.377275,10.128638 10.608099,11.666576 C11.797011,13.151522 13.276982,14.999564 16.166554,14.999564 C18.7758665,14.999564 19.9298661,13.4932023 21.004445,12.1076828 L21.004445,16.18499 C21.004445,17.727878 19.727617,18.990758 18.16717,18.990758 L3.832925,18.990758 C2.272323,18.990758 0.99565,17.727878 0.99565,16.18499 L0.99565,13.7484638 Z M0.99565,11.0979125 L0.99565,5.81321 C0.99565,4.26989 2.272323,3.007982 3.832925,3.007982 L18.16717,3.007982 C19.727617,3.007982 21.004445,4.26989 21.004445,5.81321 L21.004445,9.12632448 C20.5918931,9.52901485 20.2311557,9.94747275 19.916252,10.340804 C18.685583,11.878346 17.846227,12.820412 16.166554,12.820412 C14.487408,12.820412 13.648083,11.878346 12.417259,10.340804 C11.227913,8.855462 9.748376,7.00742 6.858804,7.00742 C3.970379,7.00742 2.8665,8.855462 1.677588,10.341902 C1.46057376,10.6130547 1.23281824,10.8656952 0.99565,11.0979125 Z" id="Combined-shape-120"></path>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/smarthub.svg' */var _iconMap_smarthub = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 46.2 (44496) - http://www.bohemiancoding.com/sketch -->\n    <title>smarthub</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="smarthub" fill="#4C6072">\n            <path d="M18.50024,17.999921 L13.0002,17.999921 C13.0002,19.105025 12.10502,19.999856 11.0007,19.999856 C9.8954,19.999856 8.99964,19.105025 8.99964,17.999921 L3.50016,17.999921 C3.22322,17.999921 3,17.775956 3,17.498945 L3,16.500437 C3,16.222901 3.22322,15.998915 3.50016,15.998915 L3.99918,15.998915 L18.00008,15.998915 L18.50024,15.998915 C18.77618,15.998915 19.00026,16.222901 19.00026,16.500437 L19.00026,17.498945 C19.00026,17.775956 18.77618,17.999921 18.50024,17.999921 Z M3.99918,14.99984 L3.99918,11.304722 C3.99918,7.982459 6.12518,5.186435 9.0304,4.29887 C9.01588,4.200548 8.99964,4.10168 8.99964,3.999494 C8.99964,2.893865 9.89638,2 11.0007,2 C12.10344,2 13.0002,2.893865 13.0002,3.999494 C13.0002,4.10168 12.98396,4.200548 12.96942,4.29887 C15.87508,5.186435 18.00008,7.982459 18.00008,11.304722 L18.00008,14.99984 L3.99918,14.99984 Z" id="Combined-shape-61"></path>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/sort-alpha-asc.svg' */var _iconMap_sortAlphaAsc = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M11 12h2v-2h-2z"></path>\n<path fill="#000" d="M3.52 6l-3.52 9h2.73l0.46-1h3.69l0.46 1h2.73l-3.51-9h-3.040zM5.040 8l1.18 4h-2.37l1.19-4z"></path>\n<path fill="#000" d="M14.99 6v2h3.98l-3.98 5.099v1.901h7.009v-2h-3.839l3.829-5.099v-1.901z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/sort-alpha-desc.svg' */var _iconMap_sortAlphaDesc = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M9.010 12h2v-2h-2z"></path>\n<path fill="#000" d="M0 6v2h3.98l-3.98 5.099v1.901h7.010v-2h-3.84l3.83-5.099v-1.901z"></path>\n<path fill="#000" d="M15.531 6l-3.521 9h2.731l0.46-1h3.69l0.46 1h2.729l-3.51-9h-3.039zM17.049 8l1.181 4h-2.371l1.19-4z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/sort-value-asc.svg' */var _iconMap_sortValueAsc = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M3 8h5v-2h-5v2zM3 12h10v-2.001h-10v2.001zM3 16h15v-2h-15v2z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/sort-value-desc.svg' */var _iconMap_sortValueDesc = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M3 8h15v-2h-15v2zM3 12h10v-2.001h-10v2.001zM3 16h5v-2h-5v2z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/spinner.svg' */var _iconMap_spinner = '<svg version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n      viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve" width="22" height="22">\n  <path fill="#000" d="M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z">\n  </path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/star-top-events.svg' */var _iconMap_starTopEvents = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 41.2 (35397) - http://www.bohemiancoding.com/sketch -->\n    <title>star-top-events</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="16-x-16" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="star-top-events">\n            <g transform="translate(3.000000, 3.000000)">\n                <path d="M7.99982887,0 C7.21782887,0 6.50682887,0.456 6.18082887,1.168 L4.78082887,4.228 L1.71182887,4.674 C0.958828873,4.783 0.332828873,5.311 0.0978288727,6.035 C-0.137171127,6.759 0.0588288727,7.554 0.603828873,8.085 L2.80182887,10.228 L2.04882887,13.559 C1.87482887,14.33 2.17082887,15.13 2.80382887,15.603 C3.15682887,15.866 3.57782887,16 3.99982887,16 C4.33582887,16 4.67282887,15.916 4.97782887,15.744 L7.99982887,14.05 L11.0218289,15.744 C11.3268289,15.916 11.6638289,16 11.9998289,16 C12.4218289,16 12.8428289,15.866 13.1958289,15.603 C13.8288289,15.13 14.1248289,14.33 13.9508289,13.559 L13.1978289,10.228 L15.3958289,8.085 C15.9408289,7.554 16.1368289,6.759 15.9018289,6.035 C15.6668289,5.311 15.0408289,4.783 14.2878289,4.674 L11.2188289,4.228 L9.81882887,1.168 C9.49282887,0.456 8.78182887,0 7.99982887,0 M7.99982887,2 L9.62682887,5.555 C9.76882887,5.864 10.0568289,6.08 10.3928289,6.129 L13.9998289,6.653 L11.4008289,9.187 C11.1518289,9.429 11.0468289,9.784 11.1228289,10.123 L11.9998289,14 L8.48882887,12.031 C8.33682887,11.946 8.16882887,11.903 7.99982887,11.903 C7.83082887,11.903 7.66282887,11.946 7.51082887,12.031 L3.99982887,14 L4.87682887,10.123 C4.95282887,9.784 4.84782887,9.429 4.59882887,9.187 L1.99982887,6.653 L5.60682887,6.129 C5.94282887,6.08 6.23082887,5.864 6.37282887,5.555 L7.99982887,2"></path>\n            </g>\n        </g>\n    </g>\n</svg>';
/* babel-plugin-inline-import './../../../assets/icons/table.svg' */var _iconMap_table = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M6 4h-2c-0.552 0-1 0.448-1 1v1c0 0.552 0.448 1 1 1h2c0.552 0 1-0.448 1-1v-1c0-0.552-0.448-1-1-1z"></path>\n<path fill="#000" d="M12 4h-2c-0.552 0-1 0.448-1 1v1c0 0.552 0.448 1 1 1h2c0.552 0 1-0.448 1-1v-1c0-0.552-0.448-1-1-1z"></path>\n<path fill="#000" d="M18 4h-2c-0.552 0-1 0.448-1 1v1c0 0.552 0.448 1 1 1h2c0.552 0 1-0.448 1-1v-1c0-0.552-0.448-1-1-1z"></path>\n<path fill="#000" d="M6 9h-2c-0.552 0-1 0.448-1 1v1c0 0.552 0.448 1 1 1h2c0.552 0 1-0.448 1-1v-1c0-0.552-0.448-1-1-1z"></path>\n<path fill="#000" d="M12 9h-2c-0.552 0-1 0.448-1 1v1c0 0.552 0.448 1 1 1h2c0.552 0 1-0.448 1-1v-1c0-0.552-0.448-1-1-1z"></path>\n<path fill="#000" d="M18 9h-2c-0.552 0-1 0.448-1 1v1c0 0.552 0.448 1 1 1h2c0.552 0 1-0.448 1-1v-1c0-0.552-0.448-1-1-1z"></path>\n<path fill="#000" d="M6 14h-2c-0.552 0-1 0.448-1 1v1c0 0.552 0.448 1 1 1h2c0.552 0 1-0.448 1-1v-1c0-0.552-0.448-1-1-1z"></path>\n<path fill="#000" d="M12 14h-2c-0.552 0-1 0.448-1 1v1c0 0.552 0.448 1 1 1h2c0.552 0 1-0.448 1-1v-1c0-0.552-0.448-1-1-1z"></path>\n<path fill="#000" d="M18 14h-2c-0.552 0-1 0.448-1 1v1c0 0.552 0.448 1 1 1h2c0.552 0 1-0.448 1-1v-1c0-0.552-0.448-1-1-1z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/tag.svg' */var _iconMap_tag = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: sketchtool 41 (35326) - http://www.bohemiancoding.com/sketch -->\n    <title>37BC1BD5-2085-42F1-A5D9-CF55A8657529</title>\n    <desc>Created with sketchtool.</desc>\n    <defs></defs>\n    <g id="Add-Report---Final" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Dashboard---Add-flow---Label-field-focused" transform="translate(-936.000000, -221.000000)" fill="#D8E0E7">\n            <g id="Add-Menu---input-focused" transform="translate(908.000000, 130.000000)">\n                <g id="Label-input" transform="translate(19.000000, 83.000000)">\n                    <path d="M24.4998751,15.985 C23.6718751,15.985 22.9998751,15.313 22.9998751,14.485 C22.9998751,13.657 23.6718751,12.985 24.4998751,12.985 C25.3278751,12.985 25.9998751,13.657 25.9998751,14.485 C25.9998751,15.313 25.3278751,15.985 24.4998751,15.985 M26.9738751,11 L21.6648751,11 C21.1198751,11 20.5978751,11.216 20.2128751,11.6 L12.3008751,19.506 C11.8998751,19.907 11.8998751,20.555 12.2998751,20.956 L18.0348751,26.698 C18.4358751,27.1 19.0868751,27.1 19.4878751,26.699 L27.3998751,18.78 C27.7838751,18.396 27.9998751,17.874 27.9998751,17.331 L27.9998751,12.025 C27.9998751,11.459 27.5398751,11 26.9738751,11" id="icon-/-label-copy"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/take-action.svg' */var _iconMap_takeAction = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 44.1 (41455) - http://www.bohemiancoding.com/sketch -->\n    <title>Take action</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <linearGradient xmlns="http://www.w3.org/2000/svg" id="blue-gradient" x1="26.97%" x2="74.831%" y1="-36.06%" y2="116.846%">\n            <stop offset="0%" stop-color="#083BC1"></stop>\n            <stop offset="40.39%" stop-color="#0747C4"></stop>\n            <stop offset="100%" stop-color="#07B2D7"></stop>\n        </linearGradient>\n    </defs>\n    <g id="Navigation-icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="take_action" fill="#6D859E">\n            <path d="M11,9 C9.895,9 9,9.895 9,11 C9,12.105 9.895,13 11,13 C12.105,13 13,12.105 13,11 C13,9.895 12.105,9 11,9 M11,19 C6.582,19 3,15.418 3,11 C3,6.582 6.582,3 11,3 C15.418,3 19,6.582 19,11 C19,15.418 15.418,19 11,19 M11,1 C5.477,1 1,5.477 1,11 C1,16.523 5.477,21 11,21 C16.523,21 21,16.523 21,11 C21,5.477 16.523,1 11,1 M11,15 C8.791,15 7,13.209 7,11 C7,8.791 8.791,7 11,7 C13.209,7 15,8.791 15,11 C15,13.209 13.209,15 11,15 M11,5 C7.686,5 5,7.686 5,11 C5,14.314 7.686,17 11,17 C14.314,17 17,14.314 17,11 C17,7.686 14.314,5 11,5" id="Page-1"></path>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/trashcan.svg' */var _iconMap_trashcan = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M16.5 9h-11c-0.276 0-0.5 0.224-0.5 0.5v8.5c0 0.552 0.448 1 1 1h10c0.552 0 1-0.448 1-1v-8.5c0-0.276-0.224-0.5-0.5-0.5z"></path>\n<path fill="#000" d="M10 6v-1h2v1h-2zM17.001 6h-3v-2c0-0.552-0.448-1-1-1h-4c-0.553 0-1 0.448-1 1v2h-3c-0.553 0-1 0.448-1 1s0.447 1 1 1h12c0.552 0 1-0.448 1-1s-0.448-1-1-1v0z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/triangle-down.svg' */var _iconMap_triangleDown = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M7 8l4 6 4-6z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/triangle-left.svg' */var _iconMap_triangleLeft = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M14 7l-6 4.001 6 3.999z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/triangle-right.svg' */var _iconMap_triangleRight = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M8 7v8l6-3.999z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/triangle-up.svg' */var _iconMap_triangleUp = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M11 8l-4 6h8.001z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/tv.svg' */var _iconMap_tv = '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill-rule="evenodd"  fill="#000" transform="translate(3 3)"\n d="M14.000,13.000 L2.000,13.000 C0.895,13.000 -0.000,12.105 -0.000,11.000 L-0.000,2.000 C-0.000,0.895 0.895,0.000 2.000,0.000 L14.000,0.000 C15.105,0.000 16.000,0.895 16.000,2.000 L16.000,11.000 C16.000,12.105 15.105,13.000 14.000,13.000 ZM14.000,2.000 L2.000,2.000 L2.000,11.000 L14.000,11.000 L14.000,2.000 ZM6.361,4.055 L9.851,6.259 C10.050,6.384 10.050,6.589 9.851,6.715 L6.361,8.919 C6.162,9.045 6.000,8.948 6.000,8.703 L6.000,4.270 C6.000,4.025 6.162,3.930 6.361,4.055 ZM3.000,14.000 L7.000,14.000 L7.000,14.000 L9.000,14.000 L9.000,14.000 L13.000,14.000 C13.553,14.000 14.000,14.447 14.000,15.000 C14.000,15.553 13.553,16.000 13.000,16.000 L3.000,16.000 C2.447,16.000 2.000,15.553 2.000,15.000 C2.000,14.447 2.447,14.000 3.000,14.000 Z"/>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/type-boolean.svg' */var _iconMap_typeBoolean = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 41.2 (35397) - http://www.bohemiancoding.com/sketch -->\n    <title>type-boolean</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="16-x-16" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="type-boolean">\n            <g id="type_boolean" transform="translate(2.000000, 2.000000)">\n                <g id="Page-1" stroke-width="1"></g>\n                <path d="M3,0 L15,0 C16.7,0 18,1.3 18,3 L18,15 C18,16.7 16.7,18 15,18 L3,18 C1.3,18 0,16.7 0,15 L0,3 C0,1.3 1.3,0 3,0" id="shape"></path>\n                <path d="M8,9 C8,10.1 7.1,11 6,11 C4.9,11 4,10.1 4,9 C4,7.9 4.9,7 6,7 C7.1,7 8,7.9 8,9" id="left-dot"></path>\n                <path d="M14,9 C14,10.1 13.1,11 12,11 C10.9,11 10,10.1 10,9 C10,7.9 10.9,7 12,7 C13.1,7 14,7.9 14,9" id="right-dot"></path>\n            </g>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/type-date.svg' */var _iconMap_typeDate = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 41.2 (35397) - http://www.bohemiancoding.com/sketch -->\n    <title>type-date</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="16-x-16" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="type-date">\n            <g id="type_date" transform="translate(2.000000, 2.000000)">\n                <path d="M6.5,7.8999 L11.6,7.8999 L11.6,9.0999 C10.7,9.9999 9.1,12.1999 9.1,14.9999 L7.2,14.9999 C7.2,12.8999 8.5,10.4999 9.6,9.2999 L6.5,9.2999 L6.5,7.8999 Z M0,14.9999 C0,16.6999 1.3,17.9999 3,17.9999 L15,17.9999 C16.7,17.9999 18,16.6999 18,14.9999 L18,4.9999 L0,4.9999 L0,14.9999 Z" id="Fill-1"></path>\n                <polygon id="Fill-3" points="5 4 13 4 13 0 5 0"></polygon>\n                <path d="M15,0 L14,0 L14,4 L18,4 L18,3 C18,1.3 16.7,0 15,0" id="Fill-5"></path>\n                <path d="M4,0 L3,0 C1.3,0 0,1.3 0,3 L0,4 L4,4 L4,0 Z" id="Fill-6"></path>\n            </g>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/type-list.svg' */var _iconMap_typeList = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 41.2 (35397) - http://www.bohemiancoding.com/sketch -->\n    <title>type-list</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="16-x-16" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="type-list">\n            <g id="type_list" transform="translate(2.000000, 2.000000)">\n                <path d="M15,6.5 C15,6.8 14.8,7 14.5,7 L6.5,7 C6.2,7 6,6.8 6,6.5 L6,5.5 C6,5.2 6.2,5 6.5,5 L14.5,5 C14.8,5 15,5.2 15,5.5 L15,6.5 Z M15,9.5 C15,9.8 14.8,10 14.5,10 L6.5,10 C6.2,10 6,9.8 6,9.5 L6,8.5 C6,8.2 6.2,8 6.5,8 L14.5,8 C14.8,8 15,8.2 15,8.5 L15,9.5 Z M15,12.5 C15,12.8 14.8,13 14.5,13 L6.5,13 C6.2,13 6,12.8 6,12.5 L6,11.5 C6,11.2 6.2,11 6.5,11 L14.5,11 C14.8,11 15,11.2 15,11.5 L15,12.5 Z M5,6.5 C5,6.8 4.8,7 4.5,7 L3.5,7 C3.2,7 3,6.8 3,6.5 L3,5.5 C3,5.2 3.2,5 3.5,5 L4.5,5 C4.8,5 5,5.2 5,5.5 L5,6.5 Z M5,9.5 C5,9.8 4.8,10 4.5,10 L3.5,10 C3.2,10 3,9.8 3,9.5 L3,8.5 C3,8.2 3.2,8 3.5,8 L4.5,8 C4.8,8 5,8.2 5,8.5 L5,9.5 Z M5,12.5 C5,12.8 4.8,13 4.5,13 L3.5,13 C3.2,13 3,12.8 3,12.5 L3,11.5 C3,11.2 3.2,11 3.5,11 L4.5,11 C4.8,11 5,11.2 5,11.5 L5,12.5 Z M15,0 L3,0 C1.3,0 0,1.3 0,3 L0,15 C0,16.7 1.3,18 3,18 L15,18 C16.7,18 18,16.7 18,15 L18,3 C18,1.3 16.7,0 15,0 L15,0 Z" id="shape"></path>\n            </g>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/type-number.svg' */var _iconMap_typeNumber = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 41.2 (35397) - http://www.bohemiancoding.com/sketch -->\n    <title>type-number</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="16-x-16" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="type-number">\n            <g id="type_number" transform="translate(2.000000, 2.000000)">\n                <path d="M9.2002,4.8999 L10.0992,4.8999 L10.0992,11.6999 L11.5992,11.6999 L11.5992,13.0999 L6.6002,13.0999 L6.6002,11.6999 L8.2002,11.6999 L8.2002,6.5999 L6.7002,6.6999 L6.6002,5.3999 L9.2002,4.8999 Z M3.0002,17.9999 L15.0002,17.9999 C16.7002,17.9999 18.0002,16.6999 18.0002,14.9999 L18.0002,2.9999 C18.0002,1.2999 16.7002,-0.0001 15.0002,-0.0001 L3.0002,-0.0001 C1.3002,-0.0001 0.0002,1.2999 0.0002,2.9999 L0.0002,14.9999 C0.0002,16.6999 1.3002,17.9999 3.0002,17.9999 L3.0002,17.9999 Z" id="shape"></path>\n            </g>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/type-text.svg' */var _iconMap_typeText = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 41.2 (35397) - http://www.bohemiancoding.com/sketch -->\n    <title>type-text</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="16-x-16" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="type-text">\n            <g id="type_text" transform="translate(2.000000, 2.000000)">\n                <polygon id="center" points="8.1001 10.0996 9.9001 10.0996 9.0001 8.2006"></polygon>\n                <path d="M12.7998,13 L11.4998,13 C11.2998,13 11.1998,12.9 11.0998,12.7 L10.6998,11.8 L7.3998,11.8 L6.9998,12.7 C6.8998,12.9 6.7998,13 6.4998,13 L5.1998,13 C4.9998,13 4.9998,12.8 4.9998,12.7 L8.6998,4.7 C8.6998,4.6 8.7998,4.6 8.8998,4.6 L8.9998,4.6 C9.0998,4.6 9.1998,4.7 9.1998,4.7 L12.9008,12.7 C12.9998,12.8 12.9998,13 12.7998,13 M14.9998,0 L2.9998,0 C1.2998,0 -0.0002,1.3 -0.0002,3 L-0.0002,15 C-0.0002,16.7 1.2998,18 2.9998,18 L14.9998,18 C16.6998,18 17.9998,16.7 17.9998,15 L17.9998,3 C17.9998,1.3 16.6998,0 14.9998,0" id="shape"></path>\n            </g>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/user-groups.svg' */var _iconMap_userGroups = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 44.1 (41455) - http://www.bohemiancoding.com/sketch -->\n    <title>User groups</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <linearGradient xmlns="http://www.w3.org/2000/svg" id="blue-gradient" x1="26.97%" x2="74.831%" y1="-36.06%" y2="116.846%">\n            <stop offset="0%" stop-color="#083BC1"></stop>\n            <stop offset="40.39%" stop-color="#0747C4"></stop>\n            <stop offset="100%" stop-color="#07B2D7"></stop>\n        </linearGradient>\n    </defs>\n    <g id="Navigation-icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="User-groups" fill="#6D859E">\n            <path d="M14.0749446,13.999 L7.87581895,13.999 C5.1972099,13.999 2.91321275,15.646 2.04961184,17.95 C1.80891924,18.589 2.45765294,19.999 3.69933751,19.999 L18.3010108,19.999 C19.5127379,19.999 20.1645707,18.715 19.9641657,18.123 C19.1511825,15.728 16.8217327,13.999 14.0749446,13.999 Z M16.1399425,6.999 C16.1399425,4.238 13.829087,2 10.9758983,2 C8.12270964,2 5.81082108,4.238 5.81082108,6.999 C5.81082108,9.761 8.12270964,11.999 10.9758983,11.999 C13.829087,11.999 16.1399425,9.761 16.1399425,6.999 Z" id="user"></path>\n        </g>\n    </g>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/value-absolute.svg' */var _iconMap_valueAbsolute = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M13 4h2v3h2v1.999h-2v3h2v2.001h-2v3h-2v-3h-3.001v3h-1.999v-3h-2v-2.001h2v-3h-2v-1.999h2v-3h1.999v3h3.001v-3zM9.999 11.999h3.001v-3h-3.001v3z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/value-relative.svg' */var _iconMap_valueRelative = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M15.784 4.089c-0.225-0.157-0.539-0.102-0.695 0.126l-9 13.001c-0.158 0.227-0.101 0.538 0.126 0.695 0.087 0.061 0.186 0.089 0.284 0.089 0.159 0 0.315-0.075 0.412-0.216l9-12.999c0.157-0.227 0.101-0.539-0.127-0.696z"></path>\n<path fill="#000" d="M14.5 16c-0.827 0-1.5-0.673-1.5-1.5s0.673-1.5 1.5-1.5c0.827 0 1.5 0.673 1.5 1.5s-0.673 1.5-1.5 1.5zM14.5 11c-1.93 0-3.5 1.57-3.5 3.5s1.57 3.5 3.5 3.5c1.93 0 3.5-1.57 3.5-3.5s-1.57-3.5-3.5-3.5z"></path>\n<path fill="#000" d="M6 7.5c0-0.827 0.673-1.5 1.5-1.5s1.5 0.673 1.5 1.5c0 0.827-0.673 1.5-1.5 1.5s-1.5-0.673-1.5-1.5zM11 7.5c0-1.93-1.57-3.5-3.5-3.5s-3.5 1.57-3.5 3.5c0 1.93 1.57 3.5 3.5 3.5s3.5-1.57 3.5-3.5z"></path>\n</svg>\n';
/* babel-plugin-inline-import './../../../assets/icons/x-clear-search.svg' */var _iconMap_xClearSearch = '<?xml version="1.0" encoding="UTF-8"?>\n<svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 43.1 (39012) - http://www.bohemiancoding.com/sketch -->\n    <title>x-clear-search</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="16-x-16" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="x-clear-search">\n            <g transform="translate(5.000000, 5.000000)">\n                <circle id="Oval" cx="6" cy="6" r="6"></circle>\n                <polygon id="x" fill="#FFFFFF" points="7.99165087 3.00003565 5.99998217 4.99170435 4.00795693 3.00003565 3 4.00834913 4.9916687 6.00001783 3 7.99168652 4.00795693 9 5.99998217 7.0083313 7.99165087 9 8.99996435 7.99168652 7.00829565 6.00001783 8.99996435 4.00834913"></polygon>\n            </g>\n        </g>\n    </g>\n</svg>';
/* babel-plugin-inline-import './../../../assets/icons/x.svg' */var _iconMap_x = '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generated by IcoMoon.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 22 22">\n<path fill="#000" d="M14.319 6l-3.319 3.319-3.32-3.319-1.68 1.68 3.319 3.319-3.319 3.319 1.68 1.68 3.32-3.319 3.319 3.319 1.68-1.68-3.319-3.319 3.319-3.319z"></path>\n</svg>\n';
var iconMap = {
  abtestGradient: _iconMap_abtestGradient,
  alert: _iconMap_alert,
  analysisCumulative: _iconMap_analysisCumulative,
  analysisLinear: _iconMap_analysisLinear,
  analysisLogarithmic: _iconMap_analysisLogarithmic,
  analysisRolling: _iconMap_analysisRolling,
  analysis: _iconMap_analysis,
  analyze: _iconMap_analyze,
  applicationMenu: _iconMap_applicationMenu,
  arrowDown: _iconMap_arrowDown,
  arrowLeft: _iconMap_arrowLeft,
  arrowReturn: _iconMap_arrowReturn,
  arrowRight: _iconMap_arrowRight,
  arrowUp: _iconMap_arrowUp,
  autotrack: _iconMap_autotrack,
  barGraph: _iconMap_barGraph,
  barStacked: _iconMap_barStacked,
  bar: _iconMap_bar,
  bookmarks: _iconMap_bookmarks,
  calendar: _iconMap_calendar,
  campaignGradient: _iconMap_campaignGradient,
  caretDown: _iconMap_caretDown,
  caretLeft: _iconMap_caretLeft,
  caretRight: _iconMap_caretRight,
  caretUp: _iconMap_caretUp,
  checkCheckbox: _iconMap_checkCheckbox,
  checkSuccess: _iconMap_checkSuccess,
  clone: _iconMap_clone,
  cohortsGradient: _iconMap_cohortsGradient,
  correlate: _iconMap_correlate,
  customEvents: _iconMap_customEvents,
  dash: _iconMap_dash,
  dashboard2: _iconMap_dashboard2,
  dashboard3: _iconMap_dashboard3,
  dashboardAddTo: _iconMap_dashboardAddTo,
  dashboardConfirm: _iconMap_dashboardConfirm,
  dashboard: _iconMap_dashboard,
  dataset: _iconMap_dataset,
  edit2: _iconMap_edit2,
  edit: _iconMap_edit,
  ellipsis: _iconMap_ellipsis,
  email: _iconMap_email,
  event: _iconMap_event,
  exploreGradient: _iconMap_exploreGradient,
  exportOutline: _iconMap_exportOutline,
  _export: _iconMap__export,
  eyeOn: _iconMap_eyeOn,
  featureTour: _iconMap_featureTour,
  filter: _iconMap_filter,
  flag: _iconMap_flag,
  formula: _iconMap_formula,
  formulasGradient: _iconMap_formulasGradient,
  funnelGradient: _iconMap_funnelGradient,
  gripper: _iconMap_gripper,
  hamburger: _iconMap_hamburger,
  help: _iconMap_help,
  horEllipsis: _iconMap_horEllipsis,
  hubsNotif: _iconMap_hubsNotif,
  infoOutline: _iconMap_infoOutline,
  input: _iconMap_input,
  insightsGradient: _iconMap_insightsGradient,
  label: _iconMap_label,
  lifecycle: _iconMap_lifecycle,
  lightingBolt: _iconMap_lightingBolt,
  lightningBolt: _iconMap_lightningBolt,
  lineStacked: _iconMap_lineStacked,
  line: _iconMap_line,
  liveviewGradient: _iconMap_liveviewGradient,
  lockLocked: _iconMap_lockLocked,
  logout: _iconMap_logout,
  messagesGradient: _iconMap_messagesGradient,
  notificationEmail: _iconMap_notificationEmail,
  notificationInapp: _iconMap_notificationInapp,
  notificationPush: _iconMap_notificationPush,
  notificationSent: _iconMap_notificationSent,
  notificationSms: _iconMap_notificationSms,
  notificationWebhook: _iconMap_notificationWebhook,
  openReport: _iconMap_openReport,
  opportunity: _iconMap_opportunity,
  optOut: _iconMap_optOut,
  plusLargeThin: _iconMap_plusLargeThin,
  plusLarge: _iconMap_plusLarge,
  plusMedium: _iconMap_plusMedium,
  plus: _iconMap_plus,
  predictGradient: _iconMap_predictGradient,
  profileLarge: _iconMap_profileLarge,
  profile: _iconMap_profile,
  quickInstall: _iconMap_quickInstall,
  refresh: _iconMap_refresh,
  retentionGradient: _iconMap_retentionGradient,
  savedReports: _iconMap_savedReports,
  search: _iconMap_search,
  segmentationGradient: _iconMap_segmentationGradient,
  settings: _iconMap_settings,
  setup: _iconMap_setup,
  signalGradient: _iconMap_signalGradient,
  smarthub: _iconMap_smarthub,
  sortAlphaAsc: _iconMap_sortAlphaAsc,
  sortAlphaDesc: _iconMap_sortAlphaDesc,
  sortValueAsc: _iconMap_sortValueAsc,
  sortValueDesc: _iconMap_sortValueDesc,
  spinner: _iconMap_spinner,
  starTopEvents: _iconMap_starTopEvents,
  table: _iconMap_table,
  tag: _iconMap_tag,
  takeAction: _iconMap_takeAction,
  trashcan: _iconMap_trashcan,
  triangleDown: _iconMap_triangleDown,
  triangleLeft: _iconMap_triangleLeft,
  triangleRight: _iconMap_triangleRight,
  triangleUp: _iconMap_triangleUp,
  tv: _iconMap_tv,
  typeBoolean: _iconMap_typeBoolean,
  typeDate: _iconMap_typeDate,
  typeList: _iconMap_typeList,
  typeNumber: _iconMap_typeNumber,
  typeText: _iconMap_typeText,
  userGroups: _iconMap_userGroups,
  valueAbsolute: _iconMap_valueAbsolute,
  valueRelative: _iconMap_valueRelative,
  xClearSearch: _iconMap_xClearSearch,
  x: _iconMap_x
};
Object.freeze(iconMap);


// NOTE: This component depends on styles that aren't packaged with it
// as there's no reliable, efficient way to do so.
// Option 1: Inject the CSS into the <head> tag
//   Problem: Styles don't get applied to svg-icons that happen to be in
//   ShadowDOM (like inside an mp-button component)
// Option 2: Use ShadowDOM for this component
//   Problem: This makes it a poor experience for styling the icons
//   from the "outside" which we'll often want to do for colors and
//   positioning.
// Option 3: Expect the styles to be handled separately. This is choice
//   we've made here. They come "for free" when you include "default" styles for mixpanel-common
//   which should happen for pretty much every page and every component.

// dasherize icon names which were camelized by babel plugin
var SVG_ICONS = (0, _util.mapKeys)(iconMap, function (k) {
  return k.replace(/([a-z])([A-Z])/g, '$1-$2').replace(/_/g, '').toLowerCase();
});

exports.default = (0, _registerElement.registerMPElement)('svg-icon', function (_WebComponent) {
  _inherits(_class, _WebComponent);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'attachedCallback',
    value: function attachedCallback() {
      this.render();
      this._initialized = true;
    }
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback() {
      if (this._initialized) {
        this.render();
      }
    }
  }, {
    key: 'render',
    value: function render() {
      if (this.isAttributeEnabled('empty')) {
        this.innerHTML = '';
      } else {
        var icon = this.getAttribute('icon');
        if (icon) {
          var markup = SVG_ICONS[icon];
          if (!markup) {
            throw new Error('No svg-icon "' + icon + '" found.');
          }
          this.innerHTML = markup;
        }
      }
    }
  }]);

  return _class;
}(_webcomponent2.default));
exports.SVG_ICONS = SVG_ICONS;
},{"../../util":282,"../../util/register-element.js":283,"webcomponent":363}],250:[function(require,module,exports){
"use strict";

function _jade_template_fn(locals) {
  locals = locals || {};;;
  var result_of_with = function ($helpers, Object, disabled, on) {
    var h = require('panel').h;
    return {
      value: h("div", {
        "on": {
          click: $helpers.clickedSwitch
        },
        "class": Object.assign({}, {
          'switch-on': on,
          'disabled': disabled
        }, {
          'mp-switch': true
        })
      })
    };
  }.call(this, "$helpers" in locals ? locals.$helpers : typeof $helpers !== "undefined" ? $helpers : undefined, "Object" in locals ? locals.Object : typeof Object !== "undefined" ? Object : undefined, "disabled" in locals ? locals.disabled : typeof disabled !== "undefined" ? disabled : undefined, "on" in locals ? locals.on : typeof on !== "undefined" ? on : undefined);
  if (result_of_with) return result_of_with.value;
}
module.exports = _jade_template_fn;
},{"panel":343}],251:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _panel = require('panel');

var _registerElement = require('../../util/register-element.js');

var _index = require('./index.styl');

var _index2 = _interopRequireDefault(_index);

var _index3 = require('./index.jade');

var _index4 = _interopRequireDefault(_index3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

exports.default = (0, _registerElement.registerMPElement)('mp-switch', function (_Component) {
  _inherits(_class, _Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'attachedCallback',
    value: function attachedCallback() {
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'attachedCallback', this).apply(this, arguments);
      var disabled = this.hasAttribute('disabled') ? this.isAttributeEnabled('disabled') : this.state.disabled;
      var on = this.hasAttribute('on') ? this.isAttributeEnabled('on') : this.state.on;
      this.update({ on: on, disabled: disabled });
    }
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(attr) {
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'attributeChangedCallback', this).apply(this, arguments);
      if (attr === 'on' && this.initialized) {
        var on = this.isAttributeEnabled('on');
        this.dispatchEvent(new CustomEvent('change', { detail: { selected: on } }));
        this.update({ on: on });
      }
    }
  }, {
    key: 'config',
    get: function get() {
      var _this2 = this;

      return {
        css: _index2.default,
        template: _index4.default,
        useShadowDom: true,
        defaultState: {
          on: false,
          disabled: false
        },
        helpers: {
          clickedSwitch: function clickedSwitch() {
            if (!_this2.state.disabled) {
              _this2.setAttribute('on', !_this2.state.on);
            }
          }
        }
      };
    }
  }]);

  return _class;
}(_panel.Component));
},{"../../util/register-element.js":283,"./index.jade":250,"./index.styl":252,"panel":343}],252:[function(require,module,exports){
module.exports = "* {   -webkit-font-smoothing: antialiased; } *:focus {   outline: 0; } *::-ms-clear {   height: 0;   width: 0; } body {   color: #6d859e;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-stretch: normal;   font-weight: 400; } body.no-scroll {   overflow: hidden; } a, .mp-link {   cursor: pointer;   text-decoration: none; } a, .mp-link, a:visited, .mp-link:visited {   color: #3b99f0; } a:hover, .mp-link:hover {   color: #4ba8ff; } .mp-font-size-xl {   font-size: 18px; } .mp-font-size-large {   font-size: 16px; } .mp-font-size-medium {   font-size: 14px; } .mp-font-size-default {   font-size: 13px; } .mp-font-size-xs {   font-size: 11px;   text-transform: uppercase; } .mp-font-weight-bold {   font-weight: 600; } .mp-font-weight-medium {   font-weight: 500; } .mp-font-weight-regular {   font-weight: 400; } .mp-font-paragraph {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } input[type=text], textarea {   border: 1px solid #d8e0ea;   border-radius: 5px;   box-sizing: border-box;   color: #4c6072;   display: inline-block;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 400;   padding: 8px;   transition: border-color 150ms ease-out; } input[type=text]::-webkit-input-placeholder, textarea::-webkit-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::-moz-placeholder, textarea::-moz-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:-ms-input-placeholder, textarea:-ms-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::placeholder, textarea::placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:focus, textarea:focus, input[type=text]:active, textarea:active {   border-color: #3391e9;   transition: border-color 200ms ease-in; } input[type=text] {   height: 36px; } mp-truncated-text {   display: inline-block;   white-space: nowrap;   width: 100%; } svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } svg-icon[icon=lightning-bolt] #bolt, svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } svg-icon[icon=alert] #circle, svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } mp-switch {   display: inline-block; } :host {   display: inline-block; } .mp-switch {   background-color: #d8e0ea;   border-radius: 10px;   cursor: pointer;   height: 18px;   position: relative;   width: 34px; } .mp-switch.disabled {   cursor: default; } .mp-switch:after {   background-color: #fff;   border-radius: 50%;   content: '';   display: block;   height: 14px;   left: 0;   margin: 2px;   position: absolute;   top: 0;   transition: background-color 150ms, -webkit-transform 150ms;   transition: transform 150ms, background-color 150ms;   transition: transform 150ms, background-color 150ms, -webkit-transform 150ms;   width: 14px; } .mp-switch.switch-on {   background-color: #2dc376; } .mp-switch.switch-on:after {   -webkit-transform: translateX(16px);           transform: translateX(16px); } ";

},{}],253:[function(require,module,exports){
"use strict";

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _jade_template_fn(locals) {
  locals = locals || {};;;
  var result_of_with = function ($component, $helpers, Object, sizeClass) {
    var h = require('panel').h;
    return {
      value: h("div", {
        "on": {
          click: $helpers.select
        },
        "class": Object.assign({}, _defineProperty({
          clickable: $component.isAttributeEnabled('clickable'),
          removable: $component.isAttributeEnabled('removable')
        }, sizeClass, true), {
          'mp-tag': true
        })
      }, function () {
        var __jade_nodes = [];
        __jade_nodes = __jade_nodes.concat($component.getAttribute('icon') ? function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(h("div", {
            "class": {
              'extra-icon': true
            }
          }, function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(h("svg-icon", {
              "attrs": {
                icon: $component.getAttribute('icon')
              }
            }));;
            return __jade_nodes;
          }.call(this).filter(Boolean)));;
          return __jade_nodes;
        }.call(this) : undefined);
        __jade_nodes = __jade_nodes.concat(h("div", {
          "class": {
            'tag-name': true
          }
        }, [$helpers.toSentenceCase($component.getAttribute('tag-name')) || '']));
        __jade_nodes = __jade_nodes.concat($component.isAttributeEnabled('removable') ? function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(h("div", {
            "on": {
              click: $helpers.remove
            },
            "class": {
              'remove-tag': true
            }
          }, function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(h("div", {
              "class": {
                'remove-icon': true
              }
            }, function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h("svg-icon", {
                "attrs": {
                  icon: 'x'
                }
              }));;
              return __jade_nodes;
            }.call(this).filter(Boolean)));;
            return __jade_nodes;
          }.call(this).filter(Boolean)));;
          return __jade_nodes;
        }.call(this) : undefined);;
        return __jade_nodes;
      }.call(this).filter(Boolean))
    };
  }.call(this, "$component" in locals ? locals.$component : typeof $component !== "undefined" ? $component : undefined, "$helpers" in locals ? locals.$helpers : typeof $helpers !== "undefined" ? $helpers : undefined, "Object" in locals ? locals.Object : typeof Object !== "undefined" ? Object : undefined, "sizeClass" in locals ? locals.sizeClass : typeof sizeClass !== "undefined" ? sizeClass : undefined);
  if (result_of_with) return result_of_with.value;
}
module.exports = _jade_template_fn;
},{"panel":343}],254:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _panel = require('panel');

var _registerElement = require('../../util/register-element.js');

var _string = require('../../util/string.js');

var _dom = require('../../util/dom.js');

var _index = require('./index.jade');

var _index2 = _interopRequireDefault(_index);

var _index3 = require('./index.styl');

var _index4 = _interopRequireDefault(_index3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

exports.default = (0, _registerElement.registerMPElement)('mp-tag', function (_Component) {
  _inherits(_class, _Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'attachedCallback',
    value: function attachedCallback() {
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'attachedCallback', this).apply(this, arguments);
      var sizeAttr = this.getAttribute('size');
      if (sizeAttr) {
        var sizeClass = 'default-tag';
        switch (sizeAttr) {
          case 'small':
            sizeClass = 'small-tag';
            break;
        }

        this.update({ sizeClass: sizeClass });
      }
    }
  }, {
    key: 'config',
    get: function get() {
      var _this2 = this;

      return {
        useShadowDom: true,
        css: _index4.default,
        template: _index2.default,
        defaultState: {
          sizeClass: 'default-tag'
        },
        helpers: {
          remove: function remove() {
            return _this2.dispatchEvent(new CustomEvent('remove', { detail: { tagName: _this2.getAttribute('tag-name') } }));
          },
          select: function select(e) {
            var removeTag = _this2.el.querySelector('.remove-tag');
            if (!removeTag || (0, _dom.clickWasOutside)(e, removeTag)) {
              _this2.dispatchEvent(new CustomEvent('select', { detail: { tagName: _this2.getAttribute('tag-name') } }));
            }
          },
          toSentenceCase: _string.toSentenceCase
        }
      };
    }
  }]);

  return _class;
}(_panel.Component));
},{"../../util/dom.js":280,"../../util/register-element.js":283,"../../util/string.js":285,"./index.jade":253,"./index.styl":255,"panel":343}],255:[function(require,module,exports){
module.exports = "* {   -webkit-font-smoothing: antialiased; } *:focus {   outline: 0; } *::-ms-clear {   height: 0;   width: 0; } body {   color: #6d859e;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-stretch: normal;   font-weight: 400; } body.no-scroll {   overflow: hidden; } a, .mp-link {   cursor: pointer;   text-decoration: none; } a, .mp-link, a:visited, .mp-link:visited {   color: #3b99f0; } a:hover, .mp-link:hover {   color: #4ba8ff; } .mp-font-size-xl {   font-size: 18px; } .mp-font-size-large {   font-size: 16px; } .mp-font-size-medium {   font-size: 14px; } .mp-font-size-default {   font-size: 13px; } .mp-font-size-xs {   font-size: 11px;   text-transform: uppercase; } .mp-font-weight-bold {   font-weight: 600; } .mp-font-weight-medium {   font-weight: 500; } .mp-font-weight-regular {   font-weight: 400; } .mp-font-paragraph {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } input[type=text], textarea {   border: 1px solid #d8e0ea;   border-radius: 5px;   box-sizing: border-box;   color: #4c6072;   display: inline-block;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 400;   padding: 8px;   transition: border-color 150ms ease-out; } input[type=text]::-webkit-input-placeholder, textarea::-webkit-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::-moz-placeholder, textarea::-moz-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:-ms-input-placeholder, textarea:-ms-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::placeholder, textarea::placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:focus, textarea:focus, input[type=text]:active, textarea:active {   border-color: #3391e9;   transition: border-color 200ms ease-in; } input[type=text] {   height: 36px; } mp-truncated-text {   display: inline-block;   white-space: nowrap;   width: 100%; } svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } svg-icon[icon=lightning-bolt] #bolt, svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } svg-icon[icon=alert] #circle, svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } .mp-tag {   background-color: #6d859e;   border-radius: 13px;   box-sizing: border-box;   color: #fff;   display: -webkit-inline-box;   display: -ms-inline-flexbox;   display: inline-flex;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 600;   height: 26px;   line-height: 0.8;   padding: 8px 15px; } .mp-tag.default-tag .remove-tag {   top: -4px; } .mp-tag.default-tag .extra-icon {   top: -2px; } .mp-tag.small-tag {   height: 24px;   line-height: 0.7; } .mp-tag.small-tag .remove-tag {   top: -5px; } .mp-tag.small-tag .extra-icon {   top: -3px; } .mp-tag.clickable:hover {   background-color: #9bacbf;   cursor: pointer; } .mp-tag.removable {   padding-right: 10px; } .mp-tag .extra-icon {   left: -4px;   position: relative; } .mp-tag .extra-icon svg-icon {   display: inline-block;   height: 14px;   min-height: 14px;   min-width: 14px;   position: relative;   width: 14px; } .mp-tag .extra-icon svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .mp-tag .extra-icon svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .mp-tag .extra-icon svg-icon[icon=lightning-bolt] #bolt, .mp-tag .extra-icon svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .mp-tag .extra-icon svg-icon[icon=alert] #circle, .mp-tag .extra-icon svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .mp-tag .extra-icon svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .mp-tag .extra-icon svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .mp-tag .extra-icon svg-icon svg {   height: 14px;   left: 0;   min-height: 14px;   min-width: 14px;   position: absolute;   top: 0;   width: 14px; } .mp-tag .extra-icon svg-icon svg, .mp-tag .extra-icon svg-icon path {   color: #fff;   fill: #fff; } .mp-tag .remove-tag {   border-radius: 20px;   cursor: pointer;   height: 16px;   left: 3px;   position: relative;   width: 16px; } .mp-tag .remove-tag .remove-icon {   position: relative;   top: 1px; } .mp-tag .remove-tag .remove-icon svg-icon {   display: inline-block;   height: 16px;   min-height: 16px;   min-width: 16px;   position: relative;   width: 16px; } .mp-tag .remove-tag .remove-icon svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .mp-tag .remove-tag .remove-icon svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .mp-tag .remove-tag .remove-icon svg-icon[icon=lightning-bolt] #bolt, .mp-tag .remove-tag .remove-icon svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .mp-tag .remove-tag .remove-icon svg-icon[icon=alert] #circle, .mp-tag .remove-tag .remove-icon svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .mp-tag .remove-tag .remove-icon svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .mp-tag .remove-tag .remove-icon svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .mp-tag .remove-tag .remove-icon svg-icon svg {   height: 16px;   left: 0;   min-height: 16px;   min-width: 16px;   position: absolute;   top: 0;   width: 16px; } .mp-tag .remove-tag .remove-icon svg-icon svg, .mp-tag .remove-tag .remove-icon svg-icon path {   color: #bdc9d6;   fill: #bdc9d6; } .mp-tag .remove-tag .remove-icon svg-icon svg, .mp-tag .remove-tag .remove-icon svg-icon path {   transition: 0.2s; } .mp-tag .remove-tag .remove-icon:hover svg-icon svg, .mp-tag .remove-tag .remove-icon:hover svg-icon path {   color: #fff;   fill: #fff; } ";

},{}],256:[function(require,module,exports){
"use strict";

function _jade_template_fn(locals) {
  locals = locals || {};;;
  var result_of_with = function ($component, $helpers, Object, delayRemove) {
    var h = require('panel').h;
    return {
      value: h("div", {
        "class": {
          'mp-toast-stage': true
        }
      }, function () {
        var __jade_nodes = [];
        __jade_nodes = __jade_nodes.concat(!$component.isAttributeEnabled('hide') ? function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(h("div", {
            "class": Object.assign({}, {
              delayed: {
                'mp-toast-in': true
              },
              remove: {
                'mp-toast-out': true,
                delayRemove: delayRemove
              }
            }, {
              'mp-toast-container': true
            })
          }, function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(h("div", {
              "class": {
                'mp-toast-widget': true
              }
            }, function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h("div", {
                "class": {
                  'mp-toast-message': true
                }
              }, function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat(h("content"));;
                return __jade_nodes;
              }.call(this).filter(Boolean)));
              __jade_nodes = __jade_nodes.concat(h("div", {
                "on": {
                  click: $helpers.ctaClick
                },
                "class": {
                  'mp-toast-cta': true
                }
              }, [$component.getAttribute('cta') || '']));
              __jade_nodes = __jade_nodes.concat(h("div", {
                "on": {
                  click: $helpers.closeClick
                },
                "class": {
                  'mp-toast-close': true
                }
              }, function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat(h("svg-icon", {
                  "attrs": {
                    icon: 'x'
                  }
                }));;
                return __jade_nodes;
              }.call(this).filter(Boolean)));;
              return __jade_nodes;
            }.call(this).filter(Boolean)));;
            return __jade_nodes;
          }.call(this).filter(Boolean)));;
          return __jade_nodes;
        }.call(this) : undefined);;
        return __jade_nodes;
      }.call(this).filter(Boolean))
    };
  }.call(this, "$component" in locals ? locals.$component : typeof $component !== "undefined" ? $component : undefined, "$helpers" in locals ? locals.$helpers : typeof $helpers !== "undefined" ? $helpers : undefined, "Object" in locals ? locals.Object : typeof Object !== "undefined" ? Object : undefined, "delayRemove" in locals ? locals.delayRemove : typeof delayRemove !== "undefined" ? delayRemove : undefined);
  if (result_of_with) return result_of_with.value;
}
module.exports = _jade_template_fn;
},{"panel":343}],257:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _panel = require('panel');

var _registerElement = require('../../util/register-element.js');

var _timingJson = require('../../stylesheets/mixins/timing.json.js');

var _timingJson2 = _interopRequireDefault(_timingJson);

var _index = require('./index.jade');

var _index2 = _interopRequireDefault(_index);

var _index3 = require('./index.styl');

var _index4 = _interopRequireDefault(_index3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

exports.default = (0, _registerElement.registerMPElement)('mp-toast', function (_Component) {
  _inherits(_class, _Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: '_triggerAction',
    value: function _triggerAction() {
      this.dispatchEvent(new CustomEvent('action'));
    }
  }, {
    key: '_triggerClose',
    value: function _triggerClose() {
      this.dispatchEvent(new CustomEvent('close'));
    }
  }, {
    key: 'attachedCallback',
    value: function attachedCallback() {
      var _this2 = this;

      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'attachedCallback', this).call(this);
      this.addEventListener('action', function (e) {
        if (!e.defaultPrevented) {
          _this2._triggerClose();
        }
      }, true);
    }
  }, {
    key: 'config',
    get: function get() {
      var _this3 = this;

      return {
        css: _index4.default,
        template: _index2.default,
        useShadowDom: true,
        defaultState: {
          delayRemove: _timingJson2.default['mp-fast']
        },
        helpers: {
          ctaClick: function ctaClick() {
            return _this3._triggerAction();
          },
          closeClick: function closeClick() {
            return _this3._triggerClose();
          }
        }
      };
    }
  }]);

  return _class;
}(_panel.Component));
},{"../../stylesheets/mixins/timing.json.js":274,"../../util/register-element.js":283,"./index.jade":256,"./index.styl":258,"panel":343}],258:[function(require,module,exports){
module.exports = "* {   -webkit-font-smoothing: antialiased; } *:focus {   outline: 0; } *::-ms-clear {   height: 0;   width: 0; } body {   color: #6d859e;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-stretch: normal;   font-weight: 400; } body.no-scroll {   overflow: hidden; } a, .mp-link {   cursor: pointer;   text-decoration: none; } a, .mp-link, a:visited, .mp-link:visited {   color: #3b99f0; } a:hover, .mp-link:hover {   color: #4ba8ff; } .mp-font-size-xl {   font-size: 18px; } .mp-font-size-large {   font-size: 16px; } .mp-font-size-medium {   font-size: 14px; } .mp-font-size-default {   font-size: 13px; } .mp-font-size-xs {   font-size: 11px;   text-transform: uppercase; } .mp-font-weight-bold {   font-weight: 600; } .mp-font-weight-medium {   font-weight: 500; } .mp-font-weight-regular {   font-weight: 400; } .mp-font-paragraph {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } input[type=text], textarea {   border: 1px solid #d8e0ea;   border-radius: 5px;   box-sizing: border-box;   color: #4c6072;   display: inline-block;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 400;   padding: 8px;   transition: border-color 150ms ease-out; } input[type=text]::-webkit-input-placeholder, textarea::-webkit-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::-moz-placeholder, textarea::-moz-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:-ms-input-placeholder, textarea:-ms-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::placeholder, textarea::placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:focus, textarea:focus, input[type=text]:active, textarea:active {   border-color: #3391e9;   transition: border-color 200ms ease-in; } input[type=text] {   height: 36px; } mp-truncated-text {   display: inline-block;   white-space: nowrap;   width: 100%; } svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } svg-icon[icon=lightning-bolt] #bolt, svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } svg-icon[icon=alert] #circle, svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } mp-toast {   display: -webkit-box;   display: -ms-flexbox;   display: flex; } :host {   display: -webkit-box;   display: -ms-flexbox;   display: flex; } .mp-toast-stage {   position: relative; } .mp-toast-stage .mp-toast-container, .mp-toast-stage .mp-toast-container * {   box-sizing: border-box; } .mp-toast-stage .mp-toast-container {   height: 0;   opacity: 0;   position: relative;   transition: all 250ms ease-in-out; } .mp-toast-stage .mp-toast-container.mp-toast-in {   bottom: 0;   height: 64px;   opacity: 1; } .mp-toast-stage .mp-toast-container.mp-toast-out {   bottom: 80px;   height: 0;   opacity: 0; } .mp-toast-stage .mp-toast-container .mp-toast-widget {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   background-color: #4ba8ff;   border-radius: 6px;   box-shadow: 0 8px 22px 0 rgba(0,0,0,0.37);   color: #fff;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 14px;   font-weight: 600;   min-width: 354px;   padding: 15px 24px;   pointer-events: auto;   position: relative; } .mp-toast-stage .mp-toast-container .mp-toast-widget .mp-toast-message {   display: -webkit-box;   display: -ms-flexbox;   display: flex;   -webkit-box-flex: 1;       -ms-flex-positive: 1;           flex-grow: 1;   position: relative; } .mp-toast-stage .mp-toast-container .mp-toast-widget .mp-toast-cta {   cursor: pointer;   font-size: 14px;   margin-left: 12px;   margin-right: 7px;   opacity: 0.5;   text-transform: uppercase; } .mp-toast-stage .mp-toast-container .mp-toast-widget .mp-toast-cta:hover {   opacity: 1; } .mp-toast-stage .mp-toast-container .mp-toast-widget .mp-toast-close {   cursor: pointer;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   -webkit-box-orient: horizontal;   -webkit-box-direction: reverse;       -ms-flex-direction: row-reverse;           flex-direction: row-reverse;   opacity: 0.5; } .mp-toast-stage .mp-toast-container .mp-toast-widget .mp-toast-close svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } .mp-toast-stage .mp-toast-container .mp-toast-widget .mp-toast-close svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .mp-toast-stage .mp-toast-container .mp-toast-widget .mp-toast-close svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .mp-toast-stage .mp-toast-container .mp-toast-widget .mp-toast-close svg-icon[icon=lightning-bolt] #bolt, .mp-toast-stage .mp-toast-container .mp-toast-widget .mp-toast-close svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .mp-toast-stage .mp-toast-container .mp-toast-widget .mp-toast-close svg-icon[icon=alert] #circle, .mp-toast-stage .mp-toast-container .mp-toast-widget .mp-toast-close svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .mp-toast-stage .mp-toast-container .mp-toast-widget .mp-toast-close svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .mp-toast-stage .mp-toast-container .mp-toast-widget .mp-toast-close svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .mp-toast-stage .mp-toast-container .mp-toast-widget .mp-toast-close svg-icon svg {   height: 22px;   left: 5px;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } .mp-toast-stage .mp-toast-container .mp-toast-widget .mp-toast-close svg-icon svg, .mp-toast-stage .mp-toast-container .mp-toast-widget .mp-toast-close svg-icon path {   color: #fff;   fill: #fff; } .mp-toast-stage .mp-toast-container .mp-toast-widget .mp-toast-close:hover {   opacity: 1; } ";

},{}],259:[function(require,module,exports){
"use strict";

function _jade_template_fn(locals) {
  locals = locals || {};;;
  var result_of_with = function ($component, $helpers, Object) {
    var h = require('panel').h;
    return {
      value: h("div", {
        "class": Object.assign({}, {
          'toggle-blue': $component.getAttribute("color") === "blue" || $component.isAttributeEnabled("blue"),
          'toggle-grey': $component.getAttribute("color") === "grey",
          'toggle-large': $component.getAttribute("size") === "large" || $component.isAttributeEnabled("large"),
          'toggle-small': $component.getAttribute("size") === "small" || $component.isAttributeEnabled("small"),
          'toggle-square': $component.isAttributeEnabled("square"),
          'theme-lite': $component.getAttribute("theme") === "lite"
        }, {
          'mp-toggle': true
        })
      }, function () {
        var __jade_nodes = [];
        __jade_nodes = __jade_nodes.concat($helpers.toggleOptions().reduce(function (__each_nodes, toggleOption, $index) {
          return __each_nodes.concat(function () {
            var __jade_nodes = [];
            var icon = toggleOption.icon,
                iconSide = toggleOption.iconSide,
                text = toggleOption.text;

            var hasTextAndIcon = icon && text.length;;
            __jade_nodes = __jade_nodes.concat(h("div", {
              "on": {
                click: function click() {
                  return toggleOption.disabled ? null : $helpers.selectOption(toggleOption.value);
                }
              },
              "class": Object.assign({}, {
                'mp-toggle-selected': toggleOption.value === $component.value,
                'mp-toggle-disabled': toggleOption.disabled,
                'mp-toggle-error': toggleOption.error,
                'mp-toggle-text-and-icon': hasTextAndIcon
              }, {
                'mp-toggle-option': true
              })
            }, function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(hasTextAndIcon ? function () {
                var __jade_nodes = []; /*  to ensure that the toggle-text always remains in the middle we put the icon */
                /*  on both sides of the text and hide the one we do not want to see */
                __jade_nodes = __jade_nodes.concat(h("svg-icon", {
                  "attrs": {
                    icon: icon
                  },
                  "class": {
                    hidden: iconSide === "right"
                  }
                }));
                __jade_nodes = __jade_nodes.concat(h("span", {
                  "class": {
                    'toggle-text': true
                  }
                }, [toggleOption.text || '']));
                __jade_nodes = __jade_nodes.concat(h("svg-icon", {
                  "attrs": {
                    icon: icon
                  },
                  "class": {
                    hidden: iconSide === "left"
                  }
                }));;
                return __jade_nodes;
              }.call(this) : icon ? function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat(h("svg-icon", {
                  "attrs": {
                    icon: icon
                  }
                }));;
                return __jade_nodes;
              }.call(this) : function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat(h("span", {
                  "class": {
                    'toggle-text': true
                  }
                }, [toggleOption.text || '']));;
                return __jade_nodes;
              }.call(this));;
              return __jade_nodes;
            }.call(this).filter(Boolean)));;
            return __jade_nodes;
          }.call(this));
        }, []));;
        return __jade_nodes;
      }.call(this).filter(Boolean))
    };
  }.call(this, "$component" in locals ? locals.$component : typeof $component !== "undefined" ? $component : undefined, "$helpers" in locals ? locals.$helpers : typeof $helpers !== "undefined" ? $helpers : undefined, "Object" in locals ? locals.Object : typeof Object !== "undefined" ? Object : undefined);
  if (result_of_with) return result_of_with.value;
}
module.exports = _jade_template_fn;
},{"panel":343}],260:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _panel = require('panel');

var _registerElement = require('../../util/register-element.js');

var _index = require('./index.styl');

var _index2 = _interopRequireDefault(_index);

var _index3 = require('./index.jade');

var _index4 = _interopRequireDefault(_index3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

exports.default = (0, _registerElement.registerMPElement)('mp-toggle', function (_Component) {
  _inherits(_class, _Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(attr, oldVal, newVal) {
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'attributeChangedCallback', this).apply(this, arguments);
      if (attr === 'selected') {
        this.dispatchEvent(new CustomEvent('select', { detail: { selected: newVal } }));

        // TODO deprecated: switch consumers to 'select' event
        this.dispatchEvent(new CustomEvent('change', { detail: { selected: newVal } }));
      }
    }
  }, {
    key: 'config',
    get: function get() {
      var _this2 = this;

      return {
        css: _index2.default,
        template: _index4.default,
        useShadowDom: true,

        helpers: {
          selectOption: function selectOption(value) {
            return _this2.value = value;
          },
          toggleOptions: function toggleOptions() {
            return Array.from(_this2.children).filter(function (el) {
              return el.tagName.toLowerCase() === 'mp-toggle-option';
            }).map(function (el) {
              var icon = el.getAttribute('icon');
              var iconSide = icon && el.getAttribute('icon-side') === 'left' ? 'left' : 'right';
              return {
                disabled: _this2.isAttributeEnabled.call(el, 'disabled'),
                error: _this2.isAttributeEnabled.call(el, 'error'),
                icon: icon,
                iconSide: iconSide,
                text: el.textContent,
                value: el.getAttribute('value')
              };
            });
          }
        }
      };
    }
  }, {
    key: 'value',
    get: function get() {
      return this.getAttribute('selected');
    },
    set: function set(value) {
      this.setAttribute('selected', value);
    }
  }]);

  return _class;
}(_panel.Component));
},{"../../util/register-element.js":283,"./index.jade":259,"./index.styl":261,"panel":343}],261:[function(require,module,exports){
module.exports = "* {   -webkit-font-smoothing: antialiased; } *:focus {   outline: 0; } *::-ms-clear {   height: 0;   width: 0; } body {   color: #6d859e;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-stretch: normal;   font-weight: 400; } body.no-scroll {   overflow: hidden; } a, .mp-link {   cursor: pointer;   text-decoration: none; } a, .mp-link, a:visited, .mp-link:visited {   color: #3b99f0; } a:hover, .mp-link:hover {   color: #4ba8ff; } .mp-font-size-xl {   font-size: 18px; } .mp-font-size-large {   font-size: 16px; } .mp-font-size-medium {   font-size: 14px; } .mp-font-size-default {   font-size: 13px; } .mp-font-size-xs {   font-size: 11px;   text-transform: uppercase; } .mp-font-weight-bold {   font-weight: 600; } .mp-font-weight-medium {   font-weight: 500; } .mp-font-weight-regular {   font-weight: 400; } .mp-font-paragraph {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } input[type=text], textarea {   border: 1px solid #d8e0ea;   border-radius: 5px;   box-sizing: border-box;   color: #4c6072;   display: inline-block;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 400;   padding: 8px;   transition: border-color 150ms ease-out; } input[type=text]::-webkit-input-placeholder, textarea::-webkit-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::-moz-placeholder, textarea::-moz-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:-ms-input-placeholder, textarea:-ms-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::placeholder, textarea::placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:focus, textarea:focus, input[type=text]:active, textarea:active {   border-color: #3391e9;   transition: border-color 200ms ease-in; } input[type=text] {   height: 36px; } mp-truncated-text {   display: inline-block;   white-space: nowrap;   width: 100%; } svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } svg-icon[icon=lightning-bolt] #bolt, svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } svg-icon[icon=alert] #circle, svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } mp-toggle {   display: inline-block; } :host {   display: inline-block; } .mp-toggle {   background-color: #ecf3f8;   border-radius: 50px;   box-shadow: inset 0 1px 0 0 #d8e0ea;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   height: 32px;   padding: 3px; } .mp-toggle .mp-toggle-option {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   background-color: #ecf3f8;   border-radius: 50px;   color: #6d859e;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   -ms-flex-preferred-size: 0;       flex-basis: 0;   -webkit-box-flex: 1;       -ms-flex-positive: 1;           flex-grow: 1;   font-size: 11px;   font-weight: bold;   height: 100%;   -webkit-box-pack: center;       -ms-flex-pack: center;           justify-content: center;   text-align: center;   text-transform: uppercase;   transition: background-color 0.2s; } .mp-toggle .mp-toggle-option.mp-toggle-selected {   background-color: #fff;   box-shadow: 0 1px 0 0 rgba(0,0,0,0.05);   color: #4c6072; } .mp-toggle .mp-toggle-option.mp-toggle-disabled {   opacity: 0.2;   pointer-events: none; } .mp-toggle .mp-toggle-option:not(.mp-toggle-selected), .mp-toggle .mp-toggle-option:not(.mp-toggle-disabled) {   cursor: pointer; } .mp-toggle .mp-toggle-option:not(.mp-toggle-selected):hover, .mp-toggle .mp-toggle-option:not(.mp-toggle-disabled):hover {   color: #4ba8ff; } .mp-toggle .mp-toggle-option.mp-toggle-text-and-icon .hidden {   visibility: hidden; } .mp-toggle .mp-toggle-option.mp-toggle-text-and-icon .toggle-text {   margin: 0 5px; } .mp-toggle.toggle-blue {   background-color: #3391e9;   box-shadow: inset 0 1px 0 0 #2687e3; } .mp-toggle.toggle-blue .mp-toggle-option {   background-color: #3391e9;   color: #b6dcff; } .mp-toggle.toggle-blue .mp-toggle-option.mp-toggle-selected {   background-color: #6cb8ff;   color: #fff; } .mp-toggle.toggle-blue .mp-toggle-option:not(.mp-toggle-selected):hover {   color: #fff; } .mp-toggle.toggle-large {   height: 39px; } .mp-toggle.toggle-small {   height: 29px; } .mp-toggle.toggle-square {   background-color: #fff;   border-radius: 4px;   box-shadow: none;   box-sizing: border-box;   padding: 0; } .mp-toggle.toggle-square .mp-toggle-option {   background-color: #fff;   border: 1px solid #d8e0ea;   border-radius: 0;   border-right-width: 0; } .mp-toggle.toggle-square .mp-toggle-option:first-child {   border-radius: 3px 0 0 3px; } .mp-toggle.toggle-square .mp-toggle-option:last-child {   border-radius: 0 3px 3px 0;   border-right-width: 1px; } .mp-toggle.toggle-square .mp-toggle-option.mp-toggle-selected {   background-color: #4ba8ff;   border-color: #3b99f0;   border-right-width: 1px;   color: #fff; } .mp-toggle.toggle-square .mp-toggle-option.mp-toggle-selected + .mp-toggle-option {   border-left-width: 0; } .mp-toggle.toggle-square.toggle-grey .mp-toggle-selected {   background-color: #f4f9fd;   border-color: #d8e0ea;   color: #4c6072; } .mp-toggle.theme-lite {   background-color: transparent;   border-bottom: 1px solid #d8e0ea;   border-radius: 0;   box-shadow: none;   box-sizing: border-box;   height: 39px;   padding: 0; } .mp-toggle.theme-lite.toggle-large {   height: 60px; } .mp-toggle.theme-lite .mp-toggle-option {   background-color: transparent;   border-radius: 0;   color: #9bacbf;   -ms-flex-preferred-size: auto;       flex-basis: auto;   margin-right: 10px; } .mp-toggle.theme-lite .mp-toggle-option:first-child {   margin-left: 10px; } .mp-toggle.theme-lite .mp-toggle-option.mp-toggle-selected {   box-shadow: inset 0 -2px 0 0 #4ba8ff;   color: #6d859e; } .mp-toggle .mp-toggle-option.mp-toggle-error {   color: #e4567b; } .mp-toggle .mp-toggle-option.mp-toggle-error.mp-toggle-selected {   color: #e4567b; } .mp-toggle .mp-toggle-option.mp-toggle-error:not(.mp-toggle-disabled):hover {   color: #d64174; } .mp-toggle .mp-toggle-option svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } .mp-toggle .mp-toggle-option svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .mp-toggle .mp-toggle-option svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .mp-toggle .mp-toggle-option svg-icon[icon=lightning-bolt] #bolt, .mp-toggle .mp-toggle-option svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .mp-toggle .mp-toggle-option svg-icon[icon=alert] #circle, .mp-toggle .mp-toggle-option svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .mp-toggle .mp-toggle-option svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .mp-toggle .mp-toggle-option svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .mp-toggle .mp-toggle-option svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } .mp-toggle .mp-toggle-option svg-icon svg, .mp-toggle .mp-toggle-option svg-icon path {   color: #6d859e;   fill: #6d859e; } .mp-toggle .mp-toggle-option:hover svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } .mp-toggle .mp-toggle-option:hover svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .mp-toggle .mp-toggle-option:hover svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .mp-toggle .mp-toggle-option:hover svg-icon[icon=lightning-bolt] #bolt, .mp-toggle .mp-toggle-option:hover svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .mp-toggle .mp-toggle-option:hover svg-icon[icon=alert] #circle, .mp-toggle .mp-toggle-option:hover svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .mp-toggle .mp-toggle-option:hover svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .mp-toggle .mp-toggle-option:hover svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .mp-toggle .mp-toggle-option:hover svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } .mp-toggle .mp-toggle-option:hover svg-icon svg, .mp-toggle .mp-toggle-option:hover svg-icon path {   color: #4ba8ff;   fill: #4ba8ff; } .mp-toggle .mp-toggle-option.mp-toggle-selected svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } .mp-toggle .mp-toggle-option.mp-toggle-selected svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .mp-toggle .mp-toggle-option.mp-toggle-selected svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .mp-toggle .mp-toggle-option.mp-toggle-selected svg-icon[icon=lightning-bolt] #bolt, .mp-toggle .mp-toggle-option.mp-toggle-selected svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .mp-toggle .mp-toggle-option.mp-toggle-selected svg-icon[icon=alert] #circle, .mp-toggle .mp-toggle-option.mp-toggle-selected svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .mp-toggle .mp-toggle-option.mp-toggle-selected svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .mp-toggle .mp-toggle-option.mp-toggle-selected svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .mp-toggle .mp-toggle-option.mp-toggle-selected svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } .mp-toggle .mp-toggle-option.mp-toggle-selected svg-icon svg, .mp-toggle .mp-toggle-option.mp-toggle-selected svg-icon path {   color: #4c6072;   fill: #4c6072; } ";

},{}],262:[function(require,module,exports){
"use strict";

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _jade_template_fn(locals) {
  locals = locals || {};;;
  var result_of_with = function ($helpers, Object, leftOffset, placement, topOffset, visibility) {
    var h = require('panel').h;
    return {
      value: h("div", {
        "on": {
          click: $helpers.stopPropagation,
          mousedown: $helpers.stopPropagation
        },
        "class": Object.assign({}, {
          'mp-tooltip-hidden': visibility === 'hidden',
          'mp-tooltip-transitioning': visibility === 'transitioning'
        }, {
          'mp-tooltip-wrapper': true
        })
      }, function () {
        var __jade_nodes = [];
        __jade_nodes = __jade_nodes.concat(h("div", {
          "style": {
            'left': leftOffset + "px",
            'top': topOffset + "px"
          },
          "class": Object.assign({}, _defineProperty({}, "mp-tooltip-placement-" + placement, true), {
            'mp-tooltip-main': true
          })
        }, function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(h("content"));;
          return __jade_nodes;
        }.call(this).filter(Boolean)));;
        return __jade_nodes;
      }.call(this).filter(Boolean))
    };
  }.call(this, "$helpers" in locals ? locals.$helpers : typeof $helpers !== "undefined" ? $helpers : undefined, "Object" in locals ? locals.Object : typeof Object !== "undefined" ? Object : undefined, "leftOffset" in locals ? locals.leftOffset : typeof leftOffset !== "undefined" ? leftOffset : undefined, "placement" in locals ? locals.placement : typeof placement !== "undefined" ? placement : undefined, "topOffset" in locals ? locals.topOffset : typeof topOffset !== "undefined" ? topOffset : undefined, "visibility" in locals ? locals.visibility : typeof visibility !== "undefined" ? visibility : undefined);
  if (result_of_with) return result_of_with.value;
}
module.exports = _jade_template_fn;
},{"panel":343}],263:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _panel = require('panel');

var _registerElement = require('../../util/register-element.js');

var _index = require('./index.jade');

var _index2 = _interopRequireDefault(_index);

var _index3 = require('./index.styl');

var _index4 = _interopRequireDefault(_index3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var VISIBILITY_HIDDEN = 'hidden';
var VISIBILITY_TRANSITIONING = 'transitioning';
var VISIBILITY_VISIBLE = 'visible';

exports.default = (0, _registerElement.registerMPElement)('mp-tooltip', function (_Component) {
  _inherits(_class, _Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'show',
    value: function show() {
      this._placement = this.getAttribute('placement') || 'top';
      this.update({
        visibility: VISIBILITY_TRANSITIONING,
        placement: this._placement
      });

      window.cancelAnimationFrame(this._lastRaf);
      this._lastRaf = window.requestAnimationFrame(this._showAfterRAF.bind(this));
    }
  }, {
    key: '_showAfterRAF',
    value: function _showAfterRAF() {
      // Since computation of top/left offsets depend on tooltip's height/width, these offsets must be computed
      // after tooltip is visible, hence in requestAnimationFrame.

      var parentOffsetLeft = void 0;
      var parentOffsetTop = void 0;
      var parentPosition = window.getComputedStyle(this.parentNode).getPropertyValue('position');
      // The tooltip has position absolute, which means it will be positioned relative to the nearest ancestor with
      // non-static position. Different handling is needed depending on whether the direct parent of the tooltip
      // has non-static positioning.
      if (parentPosition === 'static') {
        parentOffsetLeft = this.parentNode.offsetLeft;
        parentOffsetTop = this.parentNode.offsetTop;
      } else {
        parentOffsetLeft = 0;
        parentOffsetTop = 0;
      }

      var leftOffset = void 0;
      var topOffset = void 0;
      if (this._placement === 'top' || this._placement === 'bottom') {
        leftOffset = parentOffsetLeft + (this.parentNode.offsetWidth - this._tooltipEl.offsetWidth) / 2;
        if (this._placement === 'top') {
          topOffset = parentOffsetTop - this._tooltipEl.offsetHeight - 8;
        } else {
          topOffset = parentOffsetTop + this.parentNode.offsetHeight + 8;
        }
      } else if (this._placement === 'left' || this._placement === 'right') {
        topOffset = parentOffsetTop + (this.parentNode.offsetHeight - this._tooltipEl.offsetHeight) / 2;
        if (this._placement === 'left') {
          leftOffset = parentOffsetLeft - this._tooltipEl.offsetWidth - 8;
        } else {
          leftOffset = parentOffsetLeft + this.parentNode.offsetWidth + 8;
        }
      }

      this.update({
        leftOffset: leftOffset,
        topOffset: topOffset,
        visibility: VISIBILITY_VISIBLE
      });
    }
  }, {
    key: 'hide',
    value: function hide() {
      window.cancelAnimationFrame(this._lastRaf);
      this.update({ visibility: VISIBILITY_HIDDEN });
    }
  }, {
    key: 'attachedCallback',
    value: function attachedCallback() {
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'attachedCallback', this).apply(this, arguments);

      this._tooltipEl = this.el.querySelector('.mp-tooltip-main');

      this.show = this.show.bind(this);
      this.hide = this.hide.bind(this);

      this.host = this.parentNode;
      this.host.addEventListener('mouseenter', this.show);
      this.host.addEventListener('mouseleave', this.hide);
    }
  }, {
    key: 'detachedCallback',
    value: function detachedCallback() {
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'detachedCallback', this).apply(this, arguments);

      this.host.removeEventListener('mouseenter', this.show);
      this.host.removeEventListener('mouseleave', this.hide);
    }
  }, {
    key: 'config',
    get: function get() {
      return {
        css: _index4.default,
        template: _index2.default,
        useShadowDom: true,
        defaultState: {
          visibility: VISIBILITY_HIDDEN,
          leftOffset: 0,
          placement: '',
          topOffset: 0
        },
        helpers: {
          stopPropagation: function stopPropagation(e) {
            e.stopPropagation();
          }
        }
      };
    }
  }]);

  return _class;
}(_panel.Component));
},{"../../util/register-element.js":283,"./index.jade":262,"./index.styl":264,"panel":343}],264:[function(require,module,exports){
module.exports = "* {   -webkit-font-smoothing: antialiased; } *:focus {   outline: 0; } *::-ms-clear {   height: 0;   width: 0; } body {   color: #6d859e;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-stretch: normal;   font-weight: 400; } body.no-scroll {   overflow: hidden; } a, .mp-link {   cursor: pointer;   text-decoration: none; } a, .mp-link, a:visited, .mp-link:visited {   color: #3b99f0; } a:hover, .mp-link:hover {   color: #4ba8ff; } .mp-font-size-xl {   font-size: 18px; } .mp-font-size-large {   font-size: 16px; } .mp-font-size-medium {   font-size: 14px; } .mp-font-size-default {   font-size: 13px; } .mp-font-size-xs {   font-size: 11px;   text-transform: uppercase; } .mp-font-weight-bold {   font-weight: 600; } .mp-font-weight-medium {   font-weight: 500; } .mp-font-weight-regular {   font-weight: 400; } .mp-font-paragraph {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } input[type=text], textarea {   border: 1px solid #d8e0ea;   border-radius: 5px;   box-sizing: border-box;   color: #4c6072;   display: inline-block;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 400;   padding: 8px;   transition: border-color 150ms ease-out; } input[type=text]::-webkit-input-placeholder, textarea::-webkit-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::-moz-placeholder, textarea::-moz-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:-ms-input-placeholder, textarea:-ms-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::placeholder, textarea::placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:focus, textarea:focus, input[type=text]:active, textarea:active {   border-color: #3391e9;   transition: border-color 200ms ease-in; } input[type=text] {   height: 36px; } mp-truncated-text {   display: inline-block;   white-space: nowrap;   width: 100%; } svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } svg-icon[icon=lightning-bolt] #bolt, svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } svg-icon[icon=alert] #circle, svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } .mp-tooltip-wrapper, .mp-tooltip-wrapper * {   box-sizing: border-box; } .mp-tooltip-wrapper.mp-tooltip-hidden {   pointer-events: none; } .mp-tooltip-wrapper.mp-tooltip-hidden .mp-tooltip-main {   display: none; } .mp-tooltip-wrapper.mp-tooltip-transitioning {   pointer-events: none; } .mp-tooltip-wrapper.mp-tooltip-transitioning .mp-tooltip-main {   visibility: hidden; } .mp-tooltip-wrapper .mp-tooltip-main {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   background-color: #4c6072;   border-radius: 3px;   box-shadow: 0 2px 4px 0 rgba(0,0,0,0.16);   color: #fff;   cursor: default;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: bold;   -webkit-box-pack: center;       -ms-flex-pack: center;           justify-content: center;   padding: 10px 18px;   pointer-events: auto;   position: absolute;   text-transform: initial; } .mp-tooltip-wrapper .mp-tooltip-main::after {   border: 5px solid transparent;   content: '';   height: 0;   position: absolute;   width: 0; } .mp-tooltip-wrapper .mp-tooltip-main.mp-tooltip-placement-top::after {   border-top-color: #4c6072;   left: 50%;   margin-left: -5px;   top: 100%; } .mp-tooltip-wrapper .mp-tooltip-main.mp-tooltip-placement-bottom::after {   border-bottom-color: #4c6072;   bottom: 100%;   left: 50%;   margin-left: -5px; } .mp-tooltip-wrapper .mp-tooltip-main.mp-tooltip-placement-left::after {   border-left-color: #4c6072;   left: 100%;   margin-top: -5px;   top: 50%; } .mp-tooltip-wrapper .mp-tooltip-main.mp-tooltip-placement-right::after {   border-right-color: #4c6072;   margin-top: -5px;   right: 100%;   top: 50%; } ";

},{}],265:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _webcomponent = require('webcomponent');

var _webcomponent2 = _interopRequireDefault(_webcomponent);

var _registerElement = require('../../util/register-element.js');

var _util = require('../../util');

var _throttle = require('lodash/throttle');

var _throttle2 = _interopRequireDefault(_throttle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var activeElems = new Set();
var updateElems = (0, _throttle2.default)(function () {
  return activeElems.forEach(function (elem) {
    return elem.updateText();
  });
}, 200);
setInterval(updateElems, 500);
window.addEventListener('resize', updateElems);

exports.default = (0, _registerElement.registerMPElement)('mp-truncated-text', function (_WebComponent) {
  _inherits(_class, _WebComponent);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'updateText',
    value: function updateText(force) {
      var newWidth = this.clientWidth;
      if (!force && this.width === newWidth) {
        return;
      }
      this.width = newWidth;
      this.innerText = (0, _util.truncateToElement)(this.getAttribute('title'), this);
    }
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback() {
      if (!this.initialized) {
        return;
      }
      this.updateText(true);
    }
  }, {
    key: 'attachedCallback',
    value: function attachedCallback() {
      this.initialized = true;
      this.updateText(true);
      activeElems.add(this);
    }
  }, {
    key: 'detachedCallback',
    value: function detachedCallback() {
      activeElems.delete(this);
    }
  }]);

  return _class;
}(_webcomponent2.default));
},{"../../util":282,"../../util/register-element.js":283,"lodash/throttle":191,"webcomponent":363}],266:[function(require,module,exports){
'use strict';

require('./components');

require('./report');

require('./util');

require('./widgets');
},{"./components":233,"./report":268,"./util":282,"./widgets":297}],267:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
var COUNTRIES = exports.COUNTRIES = {
  AD: "Andorra",
  AE: "United Arab Emirates",
  AF: "Afghanistan",
  AG: "Antigua and Barbuda",
  AI: "Anguilla",
  AL: "Albania",
  AM: "Armenia",
  AO: "Angola",
  AQ: "Antarctica",
  AR: "Argentina",
  AS: "American Samoa",
  AT: "Austria",
  AU: "Australia",
  AW: "Aruba",
  AX: "\xC5land Islands",
  AZ: "Azerbaijan",
  BA: "Bosnia and Herzegovina",
  BB: "Barbados",
  BD: "Bangladesh",
  BE: "Belgium",
  BF: "Burkina Faso",
  BG: "Bulgaria",
  BH: "Bahrain",
  BI: "Burundi",
  BJ: "Benin",
  BL: "Saint Barth\xE9lemy",
  BM: "Bermuda",
  BN: "Brunei Darussalam",
  BO: "Bolivia, Plurinational State of",
  BQ: "Bonaire, Sint Eustatius and Saba",
  BR: "Brazil",
  BS: "Bahamas",
  BT: "Bhutan",
  BV: "Bouvet Island",
  BW: "Botswana",
  BY: "Belarus",
  BZ: "Belize",
  CA: "Canada",
  CC: "Cocos (Keeling) Islands",
  CD: "Congo, the Democratic Republic of the",
  CF: "Central African Republic",
  CG: "Congo",
  CH: "Switzerland",
  CI: "C\xF4te d'Ivoire",
  CK: "Cook Islands",
  CL: "Chile",
  CM: "Cameroon",
  CN: "China",
  CO: "Colombia",
  CR: "Costa Rica",
  CU: "Cuba",
  CV: "Cape Verde",
  CW: "Cura\xE7ao",
  CX: "Christmas Island",
  CY: "Cyprus",
  CZ: "Czech Republic",
  DE: "Germany",
  DJ: "Djibouti",
  DK: "Denmark",
  DM: "Dominica",
  DO: "Dominican Republic",
  DZ: "Algeria",
  EC: "Ecuador",
  EE: "Estonia",
  EG: "Egypt",
  EH: "Western Sahara",
  ER: "Eritrea",
  ES: "Spain",
  ET: "Ethiopia",
  FI: "Finland",
  FJ: "Fiji",
  FK: "Falkland Islands (Malvinas)",
  FM: "Micronesia, Federated States of",
  FO: "Faroe Islands",
  FR: "France",
  GA: "Gabon",
  GB: "United Kingdom",
  GD: "Grenada",
  GE: "Georgia",
  GF: "French Guiana",
  GG: "Guernsey",
  GH: "Ghana",
  GI: "Gibraltar",
  GL: "Greenland",
  GM: "Gambia",
  GN: "Guinea",
  GP: "Guadeloupe",
  GQ: "Equatorial Guinea",
  GR: "Greece",
  GS: "South Georgia and the South Sandwich Islands",
  GT: "Guatemala",
  GU: "Guam",
  GW: "Guinea-Bissau",
  GY: "Guyana",
  HK: "Hong Kong",
  HM: "Heard Island and McDonald Islands",
  HN: "Honduras",
  HR: "Croatia",
  HT: "Haiti",
  HU: "Hungary",
  ID: "Indonesia",
  IE: "Ireland",
  IL: "Israel",
  IM: "Isle of Man",
  IN: "India",
  IO: "British Indian Ocean Territory",
  IQ: "Iraq",
  IR: "Iran, Islamic Republic of",
  IS: "Iceland",
  IT: "Italy",
  JE: "Jersey",
  JM: "Jamaica",
  JO: "Jordan",
  JP: "Japan",
  KE: "Kenya",
  KG: "Kyrgyzstan",
  KH: "Cambodia",
  KI: "Kiribati",
  KM: "Comoros",
  KN: "Saint Kitts and Nevis",
  KP: "Korea, Democratic People's Republic of",
  KR: "Korea, Republic of",
  KW: "Kuwait",
  KY: "Cayman Islands",
  KZ: "Kazakhstan",
  LA: "Lao People's Democratic Republic",
  LB: "Lebanon",
  LC: "Saint Lucia",
  LI: "Liechtenstein",
  LK: "Sri Lanka",
  LR: "Liberia",
  LS: "Lesotho",
  LT: "Lithuania",
  LU: "Luxembourg",
  LV: "Latvia",
  LY: "Libya",
  MA: "Morocco",
  MC: "Monaco",
  MD: "Moldova, Republic of",
  ME: "Montenegro",
  MF: "Saint Martin (French part)",
  MG: "Madagascar",
  MH: "Marshall Islands",
  MK: "Macedonia, the Former Yugoslav Republic of",
  ML: "Mali",
  MM: "Myanmar",
  MN: "Mongolia",
  MO: "Macao",
  MP: "Northern Mariana Islands",
  MQ: "Martinique",
  MR: "Mauritania",
  MS: "Montserrat",
  MT: "Malta",
  MU: "Mauritius",
  MV: "Maldives",
  MW: "Malawi",
  MX: "Mexico",
  MY: "Malaysia",
  MZ: "Mozambique",
  NA: "Namibia",
  NC: "New Caledonia",
  NE: "Niger",
  NF: "Norfolk Island",
  NG: "Nigeria",
  NI: "Nicaragua",
  NL: "Netherlands",
  NO: "Norway",
  NP: "Nepal",
  NR: "Nauru",
  NU: "Niue",
  NZ: "New Zealand",
  OM: "Oman",
  PA: "Panama",
  PE: "Peru",
  PF: "French Polynesia",
  PG: "Papua New Guinea",
  PH: "Philippines",
  PK: "Pakistan",
  PL: "Poland",
  PM: "Saint Pierre and Miquelon",
  PN: "Pitcairn",
  PR: "Puerto Rico",
  PS: "Palestine, State of",
  PT: "Portugal",
  PW: "Palau",
  PY: "Paraguay",
  QA: "Qatar",
  RE: "R\xE9union",
  RO: "Romania",
  RS: "Serbia",
  RU: "Russian Federation",
  RW: "Rwanda",
  SA: "Saudi Arabia",
  SB: "Solomon Islands",
  SC: "Seychelles",
  SD: "Sudan",
  SE: "Sweden",
  SG: "Singapore",
  SH: "Saint Helena, Ascension and Tristan da Cunha",
  SI: "Slovenia",
  SJ: "Svalbard and Jan Mayen",
  SK: "Slovakia",
  SL: "Sierra Leone",
  SM: "San Marino",
  SN: "Senegal",
  SO: "Somalia",
  SR: "Suriname",
  SS: "South Sudan",
  ST: "Sao Tome and Principe",
  SV: "El Salvador",
  SX: "Sint Maarten (Dutch part)",
  SY: "Syrian Arab Republic",
  SZ: "Swaziland",
  TC: "Turks and Caicos Islands",
  TD: "Chad",
  TF: "French Southern Territories",
  TG: "Togo",
  TH: "Thailand",
  TJ: "Tajikistan",
  TK: "Tokelau",
  TL: "Timor-Leste",
  TM: "Turkmenistan",
  TN: "Tunisia",
  TO: "Tonga",
  TR: "Turkey",
  TT: "Trinidad and Tobago",
  TV: "Tuvalu",
  TW: "Taiwan, Province of China",
  TZ: "Tanzania, United Republic of",
  UA: "Ukraine",
  UG: "Uganda",
  UM: "United States Minor Outlying Islands",
  US: "United States",
  UY: "Uruguay",
  UZ: "Uzbekistan",
  VA: "Holy See (Vatican City State)",
  VC: "Saint Vincent and the Grenadines",
  VE: "Venezuela, Bolivarian Republic of",
  VG: "Virgin Islands, British",
  VI: "Virgin Islands, U.S.",
  VN: "Vietnam",
  VU: "Vanuatu",
  WF: "Wallis and Futuna",
  WS: "Samoa",
  YE: "Yemen",
  YT: "Mayotte",
  ZA: "South Africa",
  ZM: "Zambia",
  ZW: "Zimbabwe"
};

/* eslint-disable camelcase */
var EVENTS = exports.EVENTS = {
  $ae_crashed: "App Crashed",
  $ae_first_open: "First App Open",
  $ae_iap: "In-App Purchase",
  $ae_notif_opened: "Push Notification Opened",
  $ae_session: "App Session",
  $ae_updated: "App Updated",
  $all_events: "All Events",
  $campaign_bounced: "Message Bounced",
  $campaign_delivery: "Message Sent",
  $campaign_marked_spam: "Message Marked Spam",
  $campaign_open: "Message Opened",
  $campaign_received: "Message Received",
  $experiment_started: "Experiment Started",
  $journey_entered: "Campaign Entered",
  $show_survey: "Show Survey",
  $signup: "Signup",
  $top_events: "Your Top Events"
};
/* eslint-enable camelcase */

/* eslint-disable camelcase */
var PROPERTIES = exports.PROPERTIES = {
  $ae_crashed_reason: "Crash Reason",
  $ae_first_app_open_date: "First App Open Date",
  $ae_iap_name: "Product Name",
  $ae_iap_price: "Product Price",
  $ae_iap_quantity: "Product Quantity",
  $ae_notif_message: "Message",
  $ae_session_length: "Session Length",
  $ae_total_app_session_length: "Total App Session Length",
  $ae_total_app_sessions: "Total App Sessions",
  $ae_updated_version: "Version Updated",
  $answer_count: "Answer Count",
  $app_build_number: "$app_build_number",
  $app_release: "App Release",
  $app_version: "App Version",
  $app_version_string: "$app_version_string",
  $bluetooth_enabled: "Bluetooth Enabled",
  $bluetooth_version: "Bluetooth Version",
  $brand: "Brand",
  $browser: "Browser",
  $browser_version: "Browser Version",
  $campaigns: "Messages Sent",
  $carrier: "Carrier",
  $city: "City",
  $current_url: "Current URL",
  $experiments: "Experiments",
  $device: "Device",
  $duration: "Duration",
  $from_binding: "From Binding",
  $google_play_services: "Google Play Services",
  $has_nfc: "Has NFC",
  $has_telephone: "Has Telephone",
  $import: "Import",
  $initial_referrer: "Initial Referrer",
  $initial_referring_domain: "Initial Referring Domain",
  $ios_ifa: "iOS IFA",
  $journey_controls: "Campaign Controls",
  $journey_id: "Campaign",
  $journeys: "Campaigns",
  $lib_version: "Library Version",
  $manufacturer: "Manufacturer",
  $model: "Model",
  $os: "Operating System",
  $os_version: "OS Version",
  $radio: "Radio",
  $referrer: "Referrer",
  $referring_domain: "Referring Domain",
  $region: "Region",
  $screen_dpi: "Screen DPI",
  $screen_height: "Screen Height",
  $screen_width: "Screen Width",
  $search_engine: "Search Engine",
  $survey_shown: "Survey Shown",
  $watch_model: "Watch Model",
  $wifi: "Wifi",
  campaign_id: "Message",
  collection_id: "Collection ID",
  message_id: "Variant",
  message_subtype: "Message Subtype",
  message_type: "Message Type",
  mp_country_code: "Country",
  mp_device_model: "Device Model",
  mp_keyword: "Search Keyword",
  mp_lib: "Mixpanel Library",
  survey_id: "Survey ID",
  utm_campaign: "UTM Campaign",
  utm_content: "UTM Content",
  utm_medium: "UTM Medium",
  utm_source: "UTM Source",
  utm_term: "UTM Term",

  // the following are no longer used but
  // should be included for historical reasons
  mp_browser: "Browser",
  mp_page: "Page View",
  mp_platform: "Platform",
  mp_referrer: "Referrer"
};
/* eslint-enable camelcase */
},{}],268:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Persistence = exports.MPApp = undefined;

var _parentFrame = require('./parent-frame');

Object.keys(_parentFrame).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _parentFrame[key];
    }
  });
});

var _trackingSetup = require('./tracking-setup');

Object.keys(_trackingSetup).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _trackingSetup[key];
    }
  });
});

var _mpApp = require('./mp-app');

var _mpApp2 = _interopRequireDefault(_mpApp);

var _persistence = require('./persistence');

var _persistence2 = _interopRequireDefault(_persistence);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.MPApp = _mpApp2.default;
exports.Persistence = _persistence2.default;
},{"./mp-app":269,"./parent-frame":270,"./persistence":271,"./tracking-setup":272}],269:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _panel = require('panel');

var _parentFrame = require('./parent-frame');

var _persistence = require('./persistence');

var _persistence2 = _interopRequireDefault(_persistence);

var _util = require('./util');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var MPApp = function (_Component) {
  _inherits(MPApp, _Component);

  function MPApp() {
    _classCallCheck(this, MPApp);

    return _possibleConstructorReturn(this, (MPApp.__proto__ || Object.getPrototypeOf(MPApp)).apply(this, arguments));
  }

  _createClass(MPApp, [{
    key: 'attachedCallback',
    value: function attachedCallback() {
      Object.assign(this.state, this.deserialize(this.persistence.get('state')));

      // initialize frame communication
      if (this.parentFrame) {
        (0, _parentFrame.mirrorLocationHash)(this.parentFrame);
        window.history.replaceState(null, null, this.initialURLHash());
      }

      _get(MPApp.prototype.__proto__ || Object.getPrototypeOf(MPApp.prototype), 'attachedCallback', this).apply(this, arguments);

      this.initClickOutside();
    }
  }, {
    key: 'setParentFrame',
    value: function setParentFrame(parentFrame, parentData) {
      this.parentFrame = parentFrame;
      this.parentData = parentData;
      this.historyMethod = 'replaceState';
    }
  }, {
    key: 'initialURLHash',
    value: function initialURLHash() {
      return this.parentData.hash.replace(/^#*/, '#');
    }
  }, {
    key: 'update',
    value: function update() {
      var stateUpdate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

      _util.debug.info('applying update ->', stateUpdate);
      _get(MPApp.prototype.__proto__ || Object.getPrototypeOf(MPApp.prototype), 'update', this).apply(this, arguments);
      _util.debug.info('      new state ->', this.state);
      this.persistence.set('state', this.serialize());
    }

    // serialization helpers

  }, {
    key: 'serialize',
    value: function serialize() {
      return JSON.stringify(this.toSerializationAttrs());
    }
  }, {
    key: 'deserialize',
    value: function deserialize(JSONstr) {
      var persisted = null;
      try {
        persisted = this.fromSerializationAttrs(JSON.parse(JSONstr));
      } catch (err) {
        if (JSONstr) {
          _util.debug.warn('Invalid persistence entry: ' + JSONstr);
        }
      }
      return persisted || {};
    }
  }, {
    key: 'toSerializationAttrs',
    value: function toSerializationAttrs() {
      return {};
    }
  }, {
    key: 'fromSerializationAttrs',
    value: function fromSerializationAttrs(attrs) {
      return attrs;
    }

    // DOM helpers

  }, {
    key: 'initClickOutside',
    value: function initClickOutside() {
      var _this2 = this;

      document.addEventListener('click', function (ev) {
        return _this2.clickOutsideHandler(ev);
      });

      if (this.parentFrame) {
        this.parentFrame.addHandler('click', function (ev) {
          return _this2.clickOutsideHandler(ev);
        });
      }
    }
  }, {
    key: 'onClickOutside',
    value: function onClickOutside(tagName, appMethodName) {
      this.clickOutsideHandlers = this.clickOutsideHandlers || {};
      this.clickOutsideHandlers[appMethodName] = this.clickOutsideHandlers[appMethodName] || [];

      if (this.clickOutsideHandlers[appMethodName].indexOf(tagName) === -1) {
        this.clickOutsideHandlers[appMethodName].push(tagName);
      }
    }
  }, {
    key: 'clickOutsideHandler',
    value: function clickOutsideHandler(ev) {
      var _this3 = this;

      this.clickOutsideHandlers = this.clickOutsideHandlers || {};
      Object.keys(this.clickOutsideHandlers).forEach(function (appMethodName) {
        var tagNames = _this3.clickOutsideHandlers[appMethodName];

        for (var el = ev.target; el; el = el.parentElement) {
          if (tagNames.includes(el.tagName)) {
            return;
          }
        }

        _this3[appMethodName](ev);
      });
    }
  }, {
    key: 'persistence',
    get: function get() {
      if (!this._persistence) {
        var namespaceVars = [this.persistenceKey];
        if (this.parentData) {
          /* eslint-disable camelcase */
          var _parentData = this.parentData,
              project_id = _parentData.project_id,
              user_id = _parentData.user_id;

          namespaceVars = namespaceVars.concat([project_id, user_id]);
          /* eslint-enable camelcase */
        }
        this._persistence = new _persistence2.default(namespaceVars.join(':'));
      }
      return this._persistence;
    }

    // override for app-specific storage entries and versioning

  }, {
    key: 'persistenceKey',
    get: function get() {
      return 'mpapp';
    }
  }]);

  return MPApp;
}(_panel.Component);

exports.default = MPApp;
},{"./parent-frame":270,"./persistence":271,"./util":273,"panel":343}],270:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.mirrorLocationHash = mirrorLocationHash;
function mirrorLocationHash(parentFrame) {
  // use replaceState in child frame so it doesn't touch browser
  // history except through communication with parent frame
  var origReplaceState = window.history.replaceState;
  window.history.replaceState = function () {
    origReplaceState.apply(this, arguments);
    parentFrame.send("hashChange", window.location.hash);
  };

  parentFrame.addHandler("hashChange", function (hash) {
    if (hash !== window.location.hash) {
      window.history.replaceState(null, null, hash.replace(/^#*/, "#"));
    }
  });

  window.addEventListener("popstate", function () {
    return parentFrame.send("hashChange", window.location.hash);
  });
}
},{}],271:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// safe namespaced in-browser persistence (currently localStorage only)

var Persistence = function () {
  function Persistence(namespace) {
    _classCallCheck(this, Persistence);

    this.namespace = namespace;
  }

  _createClass(Persistence, [{
    key: "get",
    value: function get(key) {
      try {
        return window.localStorage.getItem(this.keyFor(key));
      } catch (err) {
        console.error(err);
        return null;
      }
    }
  }, {
    key: "keyFor",
    value: function keyFor(key) {
      return this.namespace + ":" + key;
    }
  }, {
    key: "set",
    value: function set(key, val) {
      try {
        window.localStorage.setItem(this.keyFor(key), val);
      } catch (err) {
        console.error(err);
      }
    }
  }, {
    key: "remove",
    value: function remove(key) {
      try {
        window.localStorage.removeItem(this.keyFor(key));
      } catch (err) {
        console.error(err);
      }
    }
  }]);

  return Persistence;
}();

exports.default = Persistence;
},{}],272:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.initMixpanel = initMixpanel;
exports.initRollbar = initRollbar;
exports.getNavTiming = getNavTiming;

var _mixpanelBrowser = require('mixpanel-browser');

var _mixpanelBrowser2 = _interopRequireDefault(_mixpanelBrowser);

var _rollbar = require('rollbar');

var _rollbar2 = _interopRequireDefault(_rollbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* global APP_ENV */

/*
 * Env-aware tracking initialization utils
 *
 * Inject APP_ENV via global var or build tools (Webpack DefinePlugin)
 *
 * Recommended usage: create a separate module that initializes
 * the libs and exports the instances:
 *
 * export const mixpanel = initMixpanel('MY MIXPANEL PUBLISHABLE TOKEN');
 * export const rollbar = initRollbar('MY ROLLBAR PUBLISHABLE TOKEN');
 *
 */

var appEnv = typeof APP_ENV !== 'undefined' ? APP_ENV : 'development';

function initMixpanel(token, instanceName) {
  var jsLibOpts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

  var config = {
    persistence: 'localStorage'
  };

  if (appEnv !== 'production') {
    token = '9c4e9a6caf9f429a7e3821141fc769b7'; // Project 132990 Mixpanel Dev
    config.debug = true;

    // Use local api when running on a devbox
    // Note: we cannot rely on APP_ENV since a js app can be running on any host
    // (e.g. stand-alone mode)
    var host = window.location.host;
    var isDev = /([a-zA-Z0-9]+).dev.mixpanel.org/.test(host);
    if (isDev) {
      config.api_host = window.location.protocol + '//' + host; // eslint-disable-line camelcase
    }

    // Use local app or staging app when running on devbox or staging server
    var isStage = /stage([0-9]+).mixpanel.com/.test(host);
    if (isDev || isStage) {
      config.app_host = window.location.protocol + '//' + host; // eslint-disable-line camelcase
    }
  }

  _mixpanelBrowser2.default.init(token, Object.assign(config, jsLibOpts), instanceName);
  return _mixpanelBrowser2.default;
}

function initRollbar(token) {
  return new _rollbar2.default({
    accessToken: token,
    captureUncaught: true,
    payload: {
      autoInstrument: {
        dom: false,
        navigation: false
      },
      environment: appEnv,
      client: {
        javascript: {
          // Rollbar will not source map errors without a code_version
          // We use asset-cache/<hash>/app.bundle.min.js so new versions will always change paths
          code_version: '1' // eslint-disable-line camelcase
        }
      }
    }
  });
}

function getNavTiming() {
  // Assumes we have access to window.performance.timing
  var pt = window.performance.timing;

  // All times are recorded relative to navigationStart
  var start = pt.navigationStart;

  // Capture project_id from pathname if possible
  var projectId = null;
  var projectIdPattern = /report\/(\d+)/;
  var projectIdMatch = projectIdPattern.exec(window.location.pathname);
  if (projectIdMatch && projectIdMatch.length > 1) {
    projectId = projectIdMatch[1];
  }

  var timing = {
    'hash': window.location.hash,
    // This holds window.performance.timing.<metric> - start
    'navigation_metrics': {},
    'pageload_id': start + window.location.pathname,
    'path': window.location.pathname + window.location.hash,
    'pathname': window.location.pathname,
    'project_id': projectId,
    'distinct_id': projectId
  };

  // Record timedeltas
  // Reference: https://hpbn.co/primer-on-web-performance/#synthetic-and-real-user-performance-measurement
  var deltas = {
    'redirect_ms': pt.redirectEnd - pt.redirectStart,
    'dns_lookup_ms': pt.domainLookupEnd - pt.domainLookupStart,
    'tcp_setup_ms': pt.connectEnd - pt.connectStart,
    'ttfb_ms': pt.responseStart - pt.requestStart,
    'transmission_ms': pt.responseEnd - pt.responseStart,
    'dom_html_load_ms': pt.domContentLoadedEventStart - pt.domLoading,
    'dom_complete_load_ms': pt.domComplete - pt.domContentLoadedEventStart,
    'load_event_ms': pt.loadEventEnd - pt.domComplete,
    'page_load_ms': pt.loadEventEnd - pt.navigationStart
  };
  for (var k in deltas) {
    if (deltas.hasOwnProperty(k) && !isNaN(deltas[k])) {
      timing[k] = deltas[k];
    }
  }

  // Track the rest of the NavigationAPI timings relative to navigationStart
  for (var key in pt) {
    if (typeof pt[key] !== 'function') {
      timing.navigation_metrics[key] = pt[key] - start;
    }
  }

  return { timing: timing, start: start };
}
},{"mixpanel-browser":195,"rollbar":349}],273:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.debug = undefined;
exports.downloadData = downloadData;
exports.downloadLocalCSVData = downloadLocalCSVData;
exports.getIconForEvent = getIconForEvent;
exports.getDefinitionForEvent = getDefinitionForEvent;
exports.renameEvent = renameEvent;
exports.getIconForPropertyType = getIconForPropertyType;
exports.renameProperty = renameProperty;
exports.renamePropertyType = renamePropertyType;
exports.renameCountryCode = renameCountryCode;
exports.renamePropertyValue = renamePropertyValue;

var _util = require('../util');

var _constants = require('./constants');

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; } /* global DEBUG_LOG */

// mixpanel-specific report utils

/*
 * downloadData()
 *
 * Initiates a direct download to the browser for any HTTP method,
 * using a terrible hack of submitting a hidden form to a hidden
 * iframe target.
 *
 */
var downloadIdCounter = 1;
function downloadData(endpoint, params) {
  var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'POST';

  // prepare target iframe
  var exportFrameID = 'download-frame-' + downloadIdCounter++;
  var exportFrame = document.createElement('iframe');
  exportFrame.id = exportFrameID;
  exportFrame.name = exportFrameID;
  exportFrame.src = '';
  exportFrame.style.display = 'none';
  document.body.appendChild(exportFrame);

  // prepare source form
  var postForm = document.createElement('form');
  postForm.action = endpoint;
  postForm.method = method;
  postForm.style.display = 'none';
  postForm.target = exportFrameID;
  postForm.innerHTML = Object.keys(params).map(function (p) {
    return '<input type="hidden" name="' + p + '" value="' + (0, _util.htmlEncodeString)(params[p]) + '"/>';
  }).join('');

  // submit request
  document.body.appendChild(postForm);
  postForm.submit();
}

function downloadLocalCSVData(filename, dataStr) {
  // launch named download via hidden link
  var link = document.createElement('a');

  var downloadAttrSupported = 'download' in link;
  if (downloadAttrSupported) {
    // prepare blob
    var blob = new Blob([dataStr], { type: 'text/csv;charset=utf-8' });
    var blobURL = URL.createObjectURL(blob);

    // launch named download via hidden link
    link.style.display = 'none';
    link.href = blobURL;
    link.download = filename;
    document.body.appendChild(link);
    link.click();

    // clean up
    URL.revokeObjectURL(blobURL);
    link.remove();
  } else {
    // Work-around for Safari. One drawback of this method is that it doesn't support setting a filename.
    // On Safari, it downloads the file with the name 'Unknown'
    window.open('data:attachment/csv;charset=utf-8,' + encodeURIComponent(dataStr));
  }
}

// TODO epurcer - replace this with a more general-purpose tool like https://www.npmjs.com/package/debug
function getLogger(level) {
  if (typeof DEBUG_LOG !== 'undefined' && DEBUG_LOG) {
    /* eslint-disable no-console */
    return function () {
      var _console;

      (_console = console)[level].apply(_console, arguments);
    };
    /* eslint-enable no-console */
  } else {
    return function () {};
  }
}
var debug = exports.debug = ['log', 'info', 'warn', 'error', 'critical'].reduce(function (ret, level) {
  return (0, _util.extend)(ret, _defineProperty({}, level, getLogger(level)));
}, {});

function getIconForEvent(mpEvent) {
  if (mpEvent.is_collect_everything_event) {
    return 'autotrack';
  } else if (mpEvent.custom) {
    return 'custom-events';
  } else {
    return 'event';
  }
}

function getDefinitionForEvent(mpEvent, eventDefinitions) {
  var predicate = function predicate(definition) {
    return definition.name === mpEvent.name && !definition.collectEverythingEventId && !definition.customEventId;
  };
  if (mpEvent.is_collect_everything_event) {
    predicate = function predicate(definition) {
      return definition.collectEverythingEventId === mpEvent.id;
    };
  } else if (mpEvent.custom) {
    predicate = function predicate(definition) {
      return definition.customEventId === mpEvent.id;
    };
  }

  var eventDefinition = eventDefinitions.find(predicate);
  return eventDefinition ? eventDefinition : null;
}

function renameEvent(event) {
  if (_constants.EVENTS.hasOwnProperty(event)) {
    return _constants.EVENTS[event];
  }

  return event;
}

var PROPERTY_TYPE_ICON_MAP = {
  boolean: 'type-boolean',
  datetime: 'type-date',
  list: 'type-list',
  number: 'type-number',
  string: 'type-text'
};

function getIconForPropertyType(type) {
  return PROPERTY_TYPE_ICON_MAP[type];
}

function renameProperty(property) {
  var remappedProperty = _constants.PROPERTIES[property];
  if (remappedProperty) {
    return remappedProperty;
  }

  // default conversion for all properties starting with '$'
  if (property && property.length > 1 && property[0] === '$') {
    return property.slice(1).split('_').map(_util.capitalize).join(' ');
  }

  return property;
}

function renamePropertyType(type) {
  return {
    number: 'Integer',
    datetime: 'Date',
    boolean: 'True/False'
  }[type] || (0, _util.capitalize)(type);
}

function renameCountryCode(value) {
  return _constants.COUNTRIES[String(value).toUpperCase()] || value;
}

function renamePropertyValue(value, propertyName) {
  if (propertyName === '$event') {
    return renameEvent(value);
  } else if (propertyName === '$people') {
    return renameProperty(value); // value is $all_people
  } else if (/country_code/.test(propertyName)) {
    return renameCountryCode(value);
  }
  return value;
}
},{"../util":282,"./constants":267}],274:[function(require,module,exports){
module.exports = {
  "mp-slow": 400,
  "mp-fast": 250
}
;

},{}],275:[function(require,module,exports){
module.exports={
  "mp-slow": 400,
  "mp-fast": 250
}

},{}],276:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/*
 * Wrapper for fetch which includes access token refreshes.
 */

var AppApiClient = function () {
  function AppApiClient() {
    _classCallCheck(this, AppApiClient);

    this.refreshTokenUrl = '/oauth/access_token/';
  }

  _createClass(AppApiClient, [{
    key: '_getNewAccessToken',
    value: function _getNewAccessToken() {
      var _this = this;

      if (this._pendingRefresh) {
        return this._pendingRefresh;
      }

      this._pendingRefresh = fetch(this.refreshTokenUrl, { credentials: 'include' }).then(function (response) {
        if (!response.ok) {
          return Promise.reject(response.statusText);
        } else {
          return response.json();
        }
      }).catch(function () {
        return delete _this._pendingRefresh;
      }).then(function (response) {
        // In the case that the user is legitimately logged out, the oauth token
        // request 302s to the normal html login page, which 200s, and then
        // response.json() returns true. I wish it would fail instead, but for
        // now there's this check.
        if (!response.token) {
          delete _this._pendingRefresh;
          return Promise.reject('No token in response');
        }

        _this.token = response.token;
        delete _this._pendingRefresh;
      });

      return this._pendingRefresh;
    }
  }, {
    key: 'fetch',
    value: function fetch(url, options) {
      var _this2 = this;

      if (!this.token) {
        return this._getNewAccessToken().then(function () {
          return _this2._fetch(url, options);
        });
      } else {
        return this._fetch(url, options);
      }
    }
  }, {
    key: '_fetch',
    value: function _fetch(url, options) {
      var _this3 = this;

      var _ref = options || {},
          _ref$method = _ref.method,
          method = _ref$method === undefined ? 'GET' : _ref$method,
          _ref$body = _ref.body,
          body = _ref$body === undefined ? null : _ref$body,
          _ref$params = _ref.params,
          params = _ref$params === undefined ? {} : _ref$params;

      var _params = Object.assign({}, {
        headers: { 'Authorization': 'Bearer ' + this.token },
        method: method,
        body: body
      }, params);

      return fetch(url, _params).then(function (response) {
        if (response.status >= 500) {
          throw Error(response.statusText);
        } else if (response.status === 401) {
          _this3.token = null;
          return _this3.fetch(url, options);
        } else {
          return response;
        }
      });
    }
  }, {
    key: 'post',
    value: function post(url, data) {
      return this.fetch(url, { method: 'POST', body: data }).then(function (response) {
        return response.json();
      });
    }
  }, {
    key: 'patch',
    value: function patch(url, data) {
      return this.fetch(url, { method: 'PATCH', body: data }).then(function (response) {
        return response.json();
      });
    }
  }, {
    key: 'token',
    get: function get() {
      return this.accessToken;
    },
    set: function set(newValue) {
      this.accessToken = newValue;
    }
  }]);

  return AppApiClient;
}();

if (!window.__appApiClient) {
  window.__appApiClient = new AppApiClient();
}

exports.default = window.__appApiClient;
},{}],277:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.immutableSplice = immutableSplice;
exports.removeByIndex = removeByIndex;
exports.removeByValue = removeByValue;
exports.replaceByIndex = replaceByIndex;
exports.insertAtIndex = insertAtIndex;
exports.baseComparator = baseComparator;
exports.dateStringComparator = dateStringComparator;
exports.numericComparator = numericComparator;
exports.numDateAlphaComparator = numDateAlphaComparator;
exports.sorted = sorted;
exports.unique = unique;

var _cache = require('./cache');

var _date = require('./date');

var _function = require('./function');

/**
 * Perform a "splice" operation and return a new array without mutating the original
 * @param {Array} array - the original array to splice
 * @returns {Array} - a new array spliced from the original
 */
function immutableSplice(array) {
  var _array;

  array = array.slice();

  for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    args[_key - 1] = arguments[_key];
  }

  (_array = array).splice.apply(_array, args);
  return array;
}

/**
 * Remove an item by index and return the resulting array without mutating the original
 * @param {Array} array - the original array to remove an item from
 * @param {number} index - the index of the item to remove
 * @returns {Array} - a new array that is a copy of the original with an item removed
 */
function removeByIndex(array, index) {
  if (index >= array.length || index < -array.length) {
    throw 'IndexError: array index out of range';
  }
  return immutableSplice(array, index, 1);
}

/**
 * Remove an item by value and return the resulting array without mutating the original
 * @param {Array} array - the original array to remove an item from
 * @param {*} value - the value to remove
 * @returns {Array} - a new array that is a copy of the original with an item removed
 */
function removeByValue(array, value) {
  var index = array.indexOf(value);
  if (index === -1) {
    throw 'ValueError: ' + value + ' is not in array';
  }
  return removeByIndex(array, index);
}

/**
 * Replace an item by index and return the resulting array without mutating the original
 * @param {Array} array - the original array to replace an item from
 * @param {number} index - the index of the item to replace
 * @param {*} value - the value to replace the item with
 * @returns {Array} - a new array that is a copy of the original with an item replaced
 */
function replaceByIndex(array, index, value) {
  if (index >= array.length || index < -array.length) {
    throw 'IndexError: array index out of range';
  }
  return immutableSplice(array, index, 1, value);
}

/**
 * Insert an item at an index and return the resulting array without mutating the original
 * @param {Array} array - the original array to insert an item into
 * @param {number} index - the index to insert the new item at
 * @param {*} value - the value of the new item
 * @returns {Array} - a new array that is a copy of the original with the value inserted
 */
function insertAtIndex(array, index, value) {
  if (index > array.length || index < -array.length) {
    throw 'IndexError: array index out of range';
  }
  return immutableSplice(array, index, 0, value);
}

// ensure null items (used to designate invalid items) are placed last in the sorted order
var NULL_ORDERING = (0, _function.leqToNumericOrdering)(function (a, b) {
  return a !== null || b === null;
});
var SORT_ORDERING = {
  asc: (0, _function.lexicalCompose)(NULL_ORDERING, function (a, b) {
    return (0, _function.defaultOrdering)(a, b);
  }),
  desc: (0, _function.lexicalCompose)(NULL_ORDERING, function (a, b) {
    return (0, _function.defaultOrdering)(b, a);
  })
};

/**
 * Construct a sort comparator function that orders items by numeric value, comparing them via a <= operation.
 * null items are placed last in the sorted order.
 * @param {string} [order=`asc`] - `asc` (default) sorts ascending; `desc` sorts descending
 * @param {Function} [transform=identity] - a function that can transform each item before comparison (defaults to identity: x => x)
 * @returns {Function} - a sort comparator func that can be passed to Array.sort (for any given a and b returns one of [1, 0, -1])
 * @example
 * <<< [1, 2, 3, 4, 5].sort(baseComparator({order: `desc`, transform: n => n % 2}));
 * >>> [2, 4, 1, 3, 5] // sorted by even numbers followed by odd numbers
 */
function baseComparator() {
  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
      _ref$order = _ref.order,
      order = _ref$order === undefined ? 'asc' : _ref$order,
      _ref$transform = _ref.transform,
      transform = _ref$transform === undefined ? _function.identity : _ref$transform;

  return (0, _function.mapArguments)(SORT_ORDERING[order], transform);
}

/**
 * Construct a sort comparator function that orders date strings by parsed date value, converting them to integer timestamps and
 * then comparing via a <= operation. Invalid date strings are placed last in the sorted order.
 * @param {string} [order=`asc`] - `asc` (default) sorts ascending; `desc` sorts descending
 * @param {Function} [transform=identity] - a function that can transform each item before comparison (defaults to identity: x => x)
 * @param {Cache} [parseDateCache] - a Cache instance used to store date strings <-> timestamps to avoid redundant parsing
 * @param {object} [parseDateConfig] - a config object that provides fine-grained control over how date strings are parsed (see parseDate)
 * @param {string|RegExp} [dateRegex] - a regex that can be used to only try and parse certain strings as dates (for performance)
 * @returns {Function} - a sort comparator func that can be passed to Array.sort (for any given a and b returns one of [1, 0, -1])
 * @example
 * <<< [`12~1`, `blarg`, `12~2`].sort(baseComparator({order: `desc`, transform: dateString => dateString.replace(`~`, ` `)}));
 * >>> [`12~2`, `12~1`, `blarg`] // sorted by parseable date value
 *
 * If you want to cache parsed date values across multiple sorts for performance, initialize your own parseDateCache externally
 * and pass in that single instance:
 *
 *   const parseDateCache = new Cache();
 * ... later, within your sorting code ...
 *   array.sort(dateStringComparator({parseDateCache}));
 */
function dateStringComparator() {
  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
      _ref2$order = _ref2.order,
      order = _ref2$order === undefined ? 'asc' : _ref2$order,
      _ref2$transform = _ref2.transform,
      transform = _ref2$transform === undefined ? _function.identity : _ref2$transform,
      _ref2$parseDateCache = _ref2.parseDateCache,
      parseDateCache = _ref2$parseDateCache === undefined ? null : _ref2$parseDateCache,
      _ref2$parseDateConfig = _ref2.parseDateConfig,
      parseDateConfig = _ref2$parseDateConfig === undefined ? {} : _ref2$parseDateConfig,
      _ref2$dateRegex = _ref2.dateRegex,
      dateRegex = _ref2$dateRegex === undefined ? null : _ref2$dateRegex;

  parseDateCache = parseDateCache || new _cache.Cache();
  dateRegex = dateRegex && new RegExp(dateRegex);

  return (0, _function.mapArguments)(SORT_ORDERING[order], function (item) {
    item = transform(item);
    return parseDateCache.fetch(item, function (item) {
      var timestamp = null;
      if (!dateRegex || dateRegex.test(item)) {
        var date = (0, _date.parseDate)(item, parseDateConfig);
        timestamp = date && date.getTime();
      }
      return timestamp;
    });
  });
}

/**
 * Construct a sort comparator function that orders numeric strings by parsed numeric value, converting them to Numbers and
 * then comparing via a <= operation. Invalid numeric strings are placed last in the sorted order.
 * @param {string} [order=`asc`] - `asc` (default) sorts ascending; `desc` sorts descending
 * @param {Function} [transform=identity] - a function that can transform each item before comparison (defaults to identity: x => x)
 * @param {Cache} [parseNumberCache] - a Cache instance used to store number-like values <-> numbers to avoid redundant parsing
 * @returns {Function} - a sort comparator func that can be passed to Array.sort (for any given a and b returns one of [1, 0, -1])
 * @example
 * <<< [`n:-9,000`, `n:blarg`, `n:42`].sort(baseComparator({order: `desc`, transform: numericString => numericString.split(:)[1]}));
 * >>> [`n:42`, `n:-9,000`, `n:blarg`] // sorted by parseable numeric value
 *
 * If you want to cache parsed number values across multiple sorts for performance, initialize your own parseNumberCache externally
 * and pass in that single instance:
 *
 *   const parseNumberCache = new Cache();
 * ... later, within your sorting code ...
 *   array.sort(dateStringComparator({parseNumberCache}));
 */
function numericComparator() {
  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
      _ref3$order = _ref3.order,
      order = _ref3$order === undefined ? 'asc' : _ref3$order,
      _ref3$transform = _ref3.transform,
      transform = _ref3$transform === undefined ? _function.identity : _ref3$transform,
      _ref3$parseNumberCach = _ref3.parseNumberCache,
      parseNumberCache = _ref3$parseNumberCach === undefined ? null : _ref3$parseNumberCach;

  parseNumberCache = parseNumberCache || new _cache.Cache();

  return (0, _function.mapArguments)(SORT_ORDERING[order], function (item) {
    item = transform(item);

    return parseNumberCache.fetch(item, function (item) {
      var number = Number(item && item.replace ? item.replace(/,/g, '') : item);
      return !isNaN(number) ? number : null;
    });
  });
}

/**
 * Construct a sort comparator function that orders strings by parsed date, numeric, or alphabetic value.
 * @param {string|object} [order=`asc`] - `asc`/`desc` order string. Can also be an object like {base: `asc`, number: `desc`, date: `desc`} for finer-grained control over sub-comparators
 * @param {Function} [transform=identity] - a function that can transform each item before comparison (defaults to identity: x => x)
 * @param {Cache} [parseNumberCache] - a Cache instance used to store number-like values <-> numbers to avoid redundant parsing
 * @param {Cache} [parseDateCache] - a Cache instance used to store date strings <-> timestamps to avoid redundant parsing
 * @param {object} [parseDateConfig] - a config object that provides fine-grained control over how date strings are parsed (see parseDate)
 * @param {string|RegExp} [dateRegex] - a regex that can be used to only try and parse certain strings as dates (for performance)
 * @returns {Function} - a sort comparator func that can be passed to Array.sort (for any given a and b returns one of [1, 0, -1])
 * @example
 * <<< [`12/1`, `blarg`, `-9,000`, `12/2`, `42`].sort(baseComparator({order: `desc`}));
 * >>> [`42`, `-9,000`, `12/2`, `12/1`, `blarg`]
 */
function numDateAlphaComparator() {
  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
      _ref4$order = _ref4.order,
      order = _ref4$order === undefined ? 'asc' : _ref4$order,
      _ref4$transform = _ref4.transform,
      transform = _ref4$transform === undefined ? _function.identity : _ref4$transform,
      _ref4$parseNumberCach = _ref4.parseNumberCache,
      parseNumberCache = _ref4$parseNumberCach === undefined ? null : _ref4$parseNumberCach,
      _ref4$parseDateCache = _ref4.parseDateCache,
      parseDateCache = _ref4$parseDateCache === undefined ? null : _ref4$parseDateCache,
      _ref4$parseDateConfig = _ref4.parseDateConfig,
      parseDateConfig = _ref4$parseDateConfig === undefined ? {} : _ref4$parseDateConfig,
      _ref4$dateRegex = _ref4.dateRegex,
      dateRegex = _ref4$dateRegex === undefined ? null : _ref4$dateRegex;

  if (order === 'asc' || order === 'desc') {
    order = {
      number: order,
      date: order,
      base: order
    };
  } else {
    order = {
      number: order && order.number || 'asc',
      date: order && order.date || 'asc',
      base: order && order.base || 'asc'
    };
  }
  return (0, _function.lexicalCompose)(numericComparator({ order: order.number, transform: transform, parseNumberCache: parseNumberCache }), dateStringComparator({ order: order.date, transform: transform, parseDateCache: parseDateCache, parseDateConfig: parseDateConfig, dateRegex: dateRegex }), baseComparator({ order: order.base, transform: transform }));
}

/**
 * Sort array without mutating original
 * @param {Array} arr - array to sort
 * @param {string} [order='asc'] - sort order ('asc' or 'desc')
 * @param {function} [transform=null] - transforms each element before comparison
 * @example
 * sorted(['XX', 'A', 'g'], {transform: s => s.toLowerCase()});
 * // ['A', 'g', 'XX']
 */
function sorted(arr) {
  var _ref5 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
      _ref5$order = _ref5.order,
      order = _ref5$order === undefined ? 'asc' : _ref5$order,
      _ref5$transform = _ref5.transform,
      transform = _ref5$transform === undefined ? _function.identity : _ref5$transform;

  return arr.slice().sort(baseComparator({ order: order, transform: transform }));
}

/**
 * Return a copy of an array with duplicate items removed
 * @param {Array} arr - array to de-duplicate
 * @param {function} [options.hash] - hashes each element for comparison
 * Items are compared via strict equality so duplicate arrays/objects will not be removed
 * unless a `hash` function is specified to hash objects before comparison.
 * @example
 * unique([{'a': 1, 'b': 2}, {'a': 1, 'b': 3}, {'a': 1, 'b': 2}], {hash: o => `${o['a']}:${o['b']}`});
 * // [{'a': 1, 'b': 2}, {'a': 1, 'b': 3}]
 */
function unique(arr) {
  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

  var hashed = void 0;
  var encountered = new Set();
  return arr.filter(function (item) {
    hashed = options.hash ? options.hash(item) : item;
    return encountered.has(hashed) ? false : encountered.add(hashed);
  });
}
},{"./cache":278,"./date":279,"./function":281}],278:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/** Cache object used to store key/value pairs in memory **/
var Cache = exports.Cache = function () {
  /**
   * Create a Cache
   */
  function Cache() {
    _classCallCheck(this, Cache);

    this._cache = new Map();
  }

  /**
   * Add a value to the cache under key.
   * @param {string} key - the key to store the value under
   * @param {*} value - the value to be stored
   */


  _createClass(Cache, [{
    key: "add",
    value: function add(key, value) {
      this._cache.set(key, value);
    }

    /**
     * Fetch a value from the cache under key.
     * On cache miss, use defaultValue to return value (and store it in the cache).
     * If no defaultValue supplied, cache miss will return undefined.
     * @param {string} key - the key to fetch a value for
     * @param {*} [defaultValue] - if Function, will be called (with key as argument) to obtain value. Otherwise, will be used directly as value.
     */

  }, {
    key: "fetch",
    value: function fetch(key, defaultValue) {
      if (!this.has(key) && defaultValue !== undefined) {
        this.add(key, defaultValue instanceof Function ? defaultValue(key) : defaultValue);
      }
      return this._cache.get(key);
    }

    /**
     * Return true if the given key exists in the cache; false otherwise.
     * @param {string} key - the key to fetch a value for
     */

  }, {
    key: "has",
    value: function has(key) {
      return this._cache.has(key);
    }

    /**
     * Remove a value from the cache under key. Return true if the given key existed; false otherwise.
     * @param {string} key - the key to fetch a value for
     */

  }, {
    key: "remove",
    value: function remove(key) {
      return this._cache.delete(key);
    }
  }]);

  return Cache;
}();
},{}],279:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.MS_BY_UNIT = undefined;

var _DISPLAY_DATE_FORMATS;

exports.parseDate = parseDate;
exports.formatDate = formatDate;
exports.localizedDate = localizedDate;
exports.relativeToAbsoluteDate = relativeToAbsoluteDate;
exports.normalizeDateRange = normalizeDateRange;
exports.normalizeDateStrings = normalizeDateStrings;
exports.dateRangeToUnit = dateRangeToUnit;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var MS_IN_HOUR = 60 * 60 * 1000;
var MS_IN_DAY = MS_IN_HOUR * 24;
var MS_BY_UNIT = exports.MS_BY_UNIT = {
  hour: MS_IN_HOUR,
  day: MS_IN_DAY,
  week: MS_IN_DAY * 7,
  month: MS_IN_DAY * 30,
  quarter: MS_IN_DAY * 90,
  year: MS_IN_DAY * 365
};

var UNITS = {
  hour: 'hour',
  day: 'day',
  week: 'week',
  month: 'month',
  quarter: 'quarter',
  year: 'year'
};

var UNITS_ARRAY = [UNITS.hour, UNITS.day, UNITS.week, UNITS.month, UNITS.quarter, UNITS.year];

var PARSE_DATE_FORMATS = ['M D YY', 'M D YYYY', 'YY M D', 'YYYY M D', 'YYYY M DTHH mm ss', 'MMM D YY', 'MMM Do YY', 'MMM D YYYY', 'MMM Do YYYY', 'M D', 'M YY', 'M YYYY', 'MMM D', 'MMM Do', 'MMM YY', 'MMMM YY', 'MMM YYYY', 'MMMM YYYY', 'MMMM D YYYY', 'MMMM Do YYYY', 'MMMM D YY', 'MMMM Do YY', 'MMMM D', 'MMMM Do',
// Insights api related formats
// Parse hour format (e.g. "12pm Tue Sep 19")
'ha ddd MMM D',
// Parse week range (e.g. "Jan 02 Jan 08")
'MMM D MMM D'];

var DISPLAY_DATE_FORMATS = (_DISPLAY_DATE_FORMATS = {}, _defineProperty(_DISPLAY_DATE_FORMATS, UNITS.hour, 'ha, ddd, MMM D'), _defineProperty(_DISPLAY_DATE_FORMATS, UNITS.day, 'ddd, MMM D'), _defineProperty(_DISPLAY_DATE_FORMATS, UNITS.week, 'MMM D'), _defineProperty(_DISPLAY_DATE_FORMATS, UNITS.month, 'MMM YYYY'), _defineProperty(_DISPLAY_DATE_FORMATS, UNITS.quarter, '[Q]Q YYYY'), _defineProperty(_DISPLAY_DATE_FORMATS, UNITS.year, 'YYYY'), _DISPLAY_DATE_FORMATS);

/**
 * Parse a date string into a Date object (sets date time to start of day)
 * Strings that parse to a future date (i.e. "12/31") are moved to the most recent *past* instance of that date
 * @param {string} dateString - string to parse
 * @param {Object} [config] - object of optional configuration values
 * @param {boolean} [config.iso=false] - treat input date string as an ISO-formatted UTC date (i.e. "2017-02-28")
 * @param {boolean} [config.startOfDay=false] - set date time to start of day
 * @param {boolean} [config.endOfDay=false] - set date time to end of day
 * @returns {?Date} - the Date object the input string parses to, or null if input is invalid
 */
function parseDate(dateString) {
  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
      _ref$iso = _ref.iso,
      iso = _ref$iso === undefined ? false : _ref$iso,
      _ref$startOfDay = _ref.startOfDay,
      startOfDay = _ref$startOfDay === undefined ? false : _ref$startOfDay,
      _ref$endOfDay = _ref.endOfDay,
      endOfDay = _ref$endOfDay === undefined ? false : _ref$endOfDay;

  var date = null;
  var mDate = void 0;

  if (typeof dateString === 'string') {
    if (iso) {
      mDate = _moment2.default.utc(new Date(dateString));
    } else {
      // replace all chars other than alphanumerics and spaces with a space
      // and replace multiple spaces with a single space
      // this allows strings like '"2017-02-02"' to be parsed correctly in strict mode
      dateString = dateString.replace(/\W+/g, ' ');
      mDate = (0, _moment2.default)(dateString, PARSE_DATE_FORMATS, /* strict */true);
    }

    if (mDate.isValid()) {
      mDate = startOfDay ? mDate.startOf(UNITS.day) : mDate;
      mDate = endOfDay ? mDate.endOf(UNITS.day) : mDate;

      // make dates like "12/31" parse to the most recent past instance of that date
      // use "strict parsing" mode of moment to check whether dateString is of the form M/D, MM/DD, M.D, etc.
      if ((0, _moment2.default)(dateString, 'M D', true).isValid()) {
        mDate = mDate > (0, _moment2.default)().endOf(UNITS.day) ? mDate.subtract(1, UNITS.year + 's') : mDate;
      }

      date = new Date(mDate);
    }
  }

  return date;
}

/**
 * Convert a Date object or integer timestamp into a formatted date string
 * @param {date|number} date - Date object or timestamp to format
 * @param {Object} [config] - object of optional configuration values
 * @param {boolean} [config.iso=false] - format date to ISO-style string (YYYY-MM-DD)
 * @param {boolean} [config.utc=false] - treat input as a UTC date
 * @param {string|null} [config.unit=null] - use the corresponding format for this unit from DISPLAY_DATE_FORMATS
 * @param {Object} [config.customFormatting={}] - map of units to custom format strings to be used in place of DISPLAY_DATE_FORMATS
 * @param {boolean} [config.displayRangeIfWeek=true] - if unit is week format to range string across week (i.e. "Dec 1 - Dec 7")
 * @returns {?string} - the string the input Date object formats to, or null if input is invalid
 */
function formatDate(date) {
  var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
      _ref2$iso = _ref2.iso,
      iso = _ref2$iso === undefined ? false : _ref2$iso,
      _ref2$utc = _ref2.utc,
      utc = _ref2$utc === undefined ? false : _ref2$utc,
      _ref2$unit = _ref2.unit,
      unit = _ref2$unit === undefined ? null : _ref2$unit,
      _ref2$customFormattin = _ref2.customFormatting,
      customFormatting = _ref2$customFormattin === undefined ? {} : _ref2$customFormattin,
      _ref2$displayRangeIfW = _ref2.displayRangeIfWeek,
      displayRangeIfWeek = _ref2$displayRangeIfW === undefined ? true : _ref2$displayRangeIfW;

  var dateString = null;
  var mDate = void 0;

  if (date instanceof Date || Number.isInteger(date)) {
    mDate = utc ? _moment2.default.utc(Number(date)) : (0, _moment2.default)(Number(date));

    if (mDate.isValid()) {
      if (iso) {
        dateString = mDate.format().slice(0, 10);
      } else {
        var format = customFormatting[unit] || DISPLAY_DATE_FORMATS[unit] || 'MMM D, YYYY';

        if (displayRangeIfWeek && unit === UNITS.week) {
          var from = mDate.format(format);
          var to = mDate.add(6, UNITS.day + 's').format(format);
          dateString = from + ' - ' + to;
        } else {
          dateString = mDate.format(format);
        }
      }
    }
  }

  return dateString;
}

/**
 * Returns the date provided in project localized time. If no date specificed use now.
 * This was largely taken from analytics/media/js/utility.js
 * @param {Object} [config] - object of optional configuration values
 * @param {integer|null} [config.utcOffset=null] - config.the offset of UTC time in hours
 * @param {Date|null} [config.date=null] - a Date object to be offset. if this is not provided the function will create a new Date
 * @returns {Date} - a Date in "project time" according to the utcOffset provided
 */

function localizedDate() {
  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
      _ref3$utcOffset = _ref3.utcOffset,
      utcOffset = _ref3$utcOffset === undefined ? 0 : _ref3$utcOffset,
      _ref3$date = _ref3.date,
      date = _ref3$date === undefined ? null : _ref3$date;

  date = date instanceof Date ? date : new Date();
  date = new Date(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds(), date.getUTCMilliseconds());
  if (utcOffset && Number.isInteger(utcOffset)) {
    date.setMinutes(date.getMinutes() + utcOffset);
  }
  return date;
}

/**
 * Convert a "relative date" integer (i.e. 5 [days ago]) and a unit into an "absolute" Date object
 * @param {number} relativeDateInt - integer that (along with unit) represnts a time offfset from the current date
 * @param {string} unit - specifies the unit of time to multiply the relativeDateInt by to calculate the absolute date
 * @param {Object} [config] - object of optional configuration values
 * @param {integer|null} [config.utcOffset=null] - the offset of UTC time in hours
 * @returns {?Date} - the Date object the given relative date integer and unit resolve to, or null if input is invalid
 */
function relativeToAbsoluteDate(relativeDateInt, unit) {
  var _ref4 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},
      _ref4$utcOffset = _ref4.utcOffset,
      utcOffset = _ref4$utcOffset === undefined ? null : _ref4$utcOffset;

  var date = null;
  var now = utcOffset === null ? (0, _moment2.default)() : (0, _moment2.default)(localizedDate({ utcOffset: utcOffset }));

  if (Number.isInteger(relativeDateInt) && UNITS_ARRAY.includes(unit)) {
    date = new Date(now.subtract(relativeDateInt, unit + 's'));
  }

  return date;
}

/**
 * Accepts a (from, to) date range and the focused date ('to' or 'from') being edited. Normalizes the date range
 * if from > to:
 * 1) if focusedDate is `from`, sets to = from
 * 2) if focusedDate is `to`, sets from = to
 * @param {string} from - from date
 * @param {string} to - to date
 * @param {string} focusedDate - the date being edited resulting in the current date range; one of <`from`, `to`>
 * @returns {Array.<string>} - the normalized date range [from, to]
 */
function normalizeDateRange(from, to, focusedDate) {
  if (!from || !to) {
    return [from, to];
  }

  if (focusedDate === 'from') {
    if (parseDate(from) > parseDate(to)) {
      return [from, from];
    }
  } else if (focusedDate === 'to') {
    if (parseDate(to) < parseDate(from)) {
      return [to, to];
    }
  }

  return [from, to];
}

/**
 * Accepts a list of date strings and
 * - ensures none of them exceed the current moment (unless allowFuture=true is specified)
 * - sorts them in ascending order
 * - formats them as ISO date strings (YYYY-MM-DD)
 * @param {Array.<string>} dates - list of date strings to normalize, can be any format that parseDate accepts
 * @param {Object} [config] - object of optional configuration values
 * @param {integer|null} [config.utcOffset=null] - the offset of UTC time in hours
 * @param {boolean} [config.allowFuture=false] - if true, does not normalize future dates to the current moment
 * @returns {Array.<?string>} - list of ISO-formatted normalized date strings, in ascending order
 */
function normalizeDateStrings() {
  var dates = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];

  var _ref5 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
      _ref5$utcOffset = _ref5.utcOffset,
      utcOffset = _ref5$utcOffset === undefined ? null : _ref5$utcOffset,
      _ref5$allowFuture = _ref5.allowFuture,
      allowFuture = _ref5$allowFuture === undefined ? false : _ref5$allowFuture;

  dates = dates.map(parseDate).filter(Boolean);

  if (!allowFuture) {
    var now = utcOffset === null ? new Date() : localizedDate({ utcOffset: utcOffset });
    dates = dates.map(function (date) {
      return date > now ? now : date;
    });
  }

  return dates.map(function (date) {
    return date.getTime();
  }).sort(function (a, b) {
    return a - b;
  }).map(function (date) {
    return formatDate(date, { iso: true });
  });
}

/**
 * Returns a unit string corresponding with the time delta between two Dates
 * @param {Date|number} from - the starting date of the range - can be Date or timestamp
 * @param {Date|number} to - the ending date of the range - can be Date or timestamp
 * @returns {?string} - one of DATE_UNITS that the input range corresponds with, or null if the input was invalid
 */
function dateRangeToUnit(from, to) {
  var unit = null;

  if ((from instanceof Date || Number.isInteger(from)) && (to instanceof Date || Number.isInteger(to))) {
    from = (0, _moment2.default)(from);
    to = (0, _moment2.default)(to);

    if (from.isValid() && to.isValid()) {
      var daysApart = to.diff(from, UNITS.day + 's') + 1;

      if (Number.isInteger(daysApart)) {
        if (daysApart <= 4) {
          unit = UNITS.hour;
        } else if (daysApart <= 31) {
          unit = UNITS.day;
        } else if (daysApart <= 183) {
          unit = UNITS.week;
        } else {
          unit = UNITS.month;
        }
      }
    }
  }

  return unit;
}
},{"moment":338}],280:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.clickWasOutside = clickWasOutside;
exports.assertMutationsOccurred = assertMutationsOccurred;
exports.scrollToElement = scrollToElement;

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

var NAVIGATION_KEY_CODES = exports.NAVIGATION_KEY_CODES = {
  TAB: 9,
  ENTER: 13,
  UP_ARROW: 38,
  DOWN_ARROW: 40
};

var ANIMATION_END_EVENTS = exports.ANIMATION_END_EVENTS = ["webkitAnimationEnd", "animationend", "oAnimationEnd", "MSAnimationEnd"];

function clickWasOutside(clickEvent, subjectEl) {
  // events from shadow DOM will be retargeted to appear as if they come from component
  // use path to distinguish between events within nested components
  var path = window.ShadowDOMPolyfill || typeof clickEvent.composedPath !== "function" ? clickEvent.path : clickEvent.composedPath();
  return !path.includes(subjectEl);
}

var onAnimationEnd = exports.onAnimationEnd = function onAnimationEnd(el, callback) {
  ANIMATION_END_EVENTS.forEach(function (e) {
    return el.addEventListener(e, callback);
  });
};

var offAnimationEnd = exports.offAnimationEnd = function offAnimationEnd(el, callback) {
  ANIMATION_END_EVENTS.forEach(function (e) {
    return el.removeEventListener(e, callback);
  });
};

/**
 * Returns the closest parent element matching the given selector,
 * or null if no match is found or the selector is falsy.
 */
var getClosest = exports.getClosest = function getClosest(el, selector) {
  if (!selector) {
    return null;
  }

  var parent = el.parentNode;
  while (parent && parent !== document) {
    if (parent.matches(selector)) {
      return parent;
    }

    parent = parent.parentNode;
  }

  return null;
};

/*
 * Returns a promise that resolves when all keys and their predicates have been observed, or timeout occurs.
 */
function assertMutationsOccurred(_ref) {
  var keys = _ref.keys,
      predicateForKey = _ref.predicateForKey,
      timeout = _ref.timeout,
      target = _ref.target;

  var results = { occurred: [], notOccurred: [].concat(_toConsumableArray(keys)) };
  var markSuccessful = function markSuccessful(key) {
    results.occurred.push(key);
    results.notOccurred.splice(results.notOccurred.indexOf(key), 1);
  };

  return new Promise(function (resolve) {
    var observer = new MutationObserver(function (records) {
      var success = results.notOccurred.filter(function (key) {
        return records.some(predicateForKey(key));
      });

      success.forEach(markSuccessful);

      if (results.notOccurred.length === 0) {
        observer.disconnect();
        resolve(results);
      }
    });

    observer.observe(target, {
      attributes: true,
      childlist: true,
      subtree: true
    });

    setTimeout(function () {
      if (observer) {
        observer.disconnect();
      }

      resolve(results);
    }, timeout);
  });
}

/**
 * Scroll to vertically center an element in the window
 */
function scrollToElement(element) {
  var rect = element.getBoundingClientRect();
  window.scrollTo(document.body.scrollLeft, document.body.scrollTop + rect.top - (window.innerHeight - rect.height) / 2);
}
},{}],281:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.leqToNumericOrdering = leqToNumericOrdering;
exports.mapArguments = mapArguments;
exports.lexicalCompose = lexicalCompose;
/**
 * Identity function
 */
var identity = exports.identity = function identity(x) {
  return x;
};

/**
 * Turn a less-than-or-equal-to operation into a function which returns 1, 0, or -1 for sorting.
 * @param {(Object,Object) => Bool} leq - function implementing leq for the desired ordering.
 */
function leqToNumericOrdering(leq) {
  return function (a, b) {
    return leq(a, b) ? leq(b, a) ? 0 : -1 : 1;
  };
}

/**
 * Map a function over the arguments of a function before calling the function
 */
function mapArguments(fn, argMap) {
  return function () {
    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return fn.apply(this, args.map(argMap));
  };
}

/**
 * compose orderings lexically to create a single combined ordering.
 */
function lexicalCompose() {
  for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
    args[_key2] = arguments[_key2];
  }

  return function (a, b) {
    return args.reduce(function (acc, curr) {
      return acc === 0 ? curr(a, b) : acc;
    }, 0);
  };
}

var defaultOrdering = exports.defaultOrdering = leqToNumericOrdering(function (a, b) {
  return a <= b;
});
},{}],282:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _array = require('./array');

Object.keys(_array).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function get() {
      return _array[key];
    }
  });
});
exports.commaizeNumber = commaizeNumber;
exports.abbreviateNumber = abbreviateNumber;
exports.capitalize = capitalize;
exports.extend = extend;
exports.htmlEncodeString = htmlEncodeString;
exports.mapKeys = mapKeys;
exports.mapValues = mapValues;
exports.nestedObjectDepth = nestedObjectDepth;
exports.parseUrlQueryParams = parseUrlQueryParams;
exports.nestedObjectKeys = nestedObjectKeys;
exports.objectFromPairs = objectFromPairs;
exports.objToQueryString = objToQueryString;
exports.parseUrl = parseUrl;
exports.pick = pick;
exports.pluralize = pluralize;
exports.sum = sum;
exports.truncateMiddle = truncateMiddle;
exports.binarySearch = binarySearch;
exports.isDefinedValue = isDefinedValue;
exports.measureTextWidth = measureTextWidth;
exports.truncateToWidth = truncateToWidth;
exports.truncateToElement = truncateToElement;
exports.getRollingCount = getRollingCount;
exports.nestedObjectRolling = nestedObjectRolling;

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

// generic data-manipulation utils

function commaizeNumber(number, noConversion) {
  switch (typeof number === 'undefined' ? 'undefined' : _typeof(number)) {
    case 'number':
      if (isNaN(number)) {
        return number;
      }
      number = number.toString();
      break;
    case 'string':
      // noop
      break;
    default:
      return number;
  }

  var neg = false;
  if (number[0] === '-') {
    neg = true;
    number = number.slice(1);
  }

  // Parse main number
  var split = number.split('.');
  var commaized = noConversion ? split[0] : parseInt(split[0] || 0, 10).toString();

  if (commaized.length) {
    commaized = commaized.split('').reverse().join('');
    commaized = commaized.match(/.{1,3}/g).join(',');
    commaized = commaized.split('').reverse().join('');
  }

  if (split[1]) {
    // Add decimals, if applicable
    commaized += '.' + split[1];
  }

  if (neg) {
    commaized = '-' + commaized;
  }

  return commaized;
}

function abbreviateNumber(number, precision) {
  number = parseFloat(number);
  precision = precision === undefined ? 1 : precision;

  var largeNumbers = [[Math.pow(10, 15), 'Q'], [Math.pow(10, 12), 'T'], [Math.pow(10, 9), 'B'], [Math.pow(10, 6), 'M'], [Math.pow(10, 3), 'K']];
  var suffix = '';

  for (var i = 0; i < largeNumbers.length; i++) {
    var bignum = largeNumbers[i][0];
    var letter = largeNumbers[i][1];

    if (Math.abs(number) >= bignum) {
      number /= bignum;
      suffix = letter;
      break;
    }
  }

  var isNegative = number < 0;
  var fixed = number.toFixed(precision).split('.');
  var formatted = commaizeNumber(Math.abs(parseInt(fixed[0], 10)));

  if (fixed[1] && parseInt(fixed[1], 10) !== 0) {
    formatted += '.' + fixed[1];
  }

  return (isNegative ? '-' : '') + formatted + suffix;
}

function capitalize(string) {
  return string && string.charAt(0).toUpperCase() + string.slice(1);
}

function extend() {
  return Object.assign.apply(Object, [{}].concat(_toConsumableArray(Array.prototype.slice.call(arguments))));
}

function htmlEncodeString(val) {
  return String(val).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;').replace(/'/g, '&#039;').replace(/\r/g, '&#013;').replace(/\n/g, '&#010;');
}

// return object with new keys and same values
function mapKeys(obj, func) {
  return Object.keys(obj).reduce(function (ret, k) {
    return Object.assign(ret, _defineProperty({}, func(k, obj[k]), obj[k]));
  }, {});
}

// return object with same keys and new values
function mapValues(obj, func) {
  return Object.keys(obj).reduce(function (ret, k) {
    return Object.assign(ret, _defineProperty({}, k, func(obj[k], k)));
  }, {});
}

function nestedObjectDepth(obj) {
  return obj !== null && typeof obj === 'object' ? nestedObjectDepth(obj[Object.keys(obj)[0]]) + 1 : 0;
}

function parseUrlQueryParams() {
  return window.location.search.slice(1).split('&').reduce(function (params, pairStr) {
    var _pairStr$split = pairStr.split('='),
        _pairStr$split2 = _slicedToArray(_pairStr$split, 2),
        k = _pairStr$split2[0],
        v = _pairStr$split2[1];

    return Object.assign(params, _defineProperty({}, k, v));
  }, {});
}

function getKeys(obj, depth, keySet) {
  if (nestedObjectDepth(obj) > depth) {
    Object.values(obj).forEach(function (value) {
      return getKeys(value, depth, keySet);
    });
  } else {
    Object.keys(obj).forEach(function (key) {
      return keySet.add(key);
    });
  }
}

function nestedObjectKeys(obj) {
  var depth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;

  var keys = new Set();
  getKeys(obj, depth, keys);
  return Array.from(keys);
}

function objectFromPairs(pairs) {
  var object = {};
  pairs.forEach(function (pair) {
    object[pair[0]] = pair[1];
  });
  return object;
}

function objToQueryString(params) {
  return Object.keys(params).map(function (k) {
    return [k, encodeURIComponent(params[k])].join('=');
  }).join('&');
}

function parseUrl(url) {
  var parser = document.createElement('a');
  parser.href = url;
  return {
    host: parser.host,
    pathname: parser.pathname,
    url: parser.url
  };
}

// filter object to include only given keys
function pick(obj, keys) {
  return keys.reduce(function (ret, k) {
    return Object.assign(ret, _defineProperty({}, k, obj[k]));
  }, {});
}

function pluralize(singular, number, plural) {
  plural = plural || singular + 's';
  return number === 0 || number > 1 ? plural : singular;
}

function sum(arr) {
  var _sum = 0;
  for (var i = 0; i < arr.length; i++) {
    _sum += arr[i];
  }
  return _sum;
}

function truncateMiddle(string, len) {
  if (string) {
    if (len <= 3) {
      return string.substr(0, len);
    } else if (string.length <= len) {
      return string;
    } else {
      var start = Math.ceil((len - 3) / 2);
      var end = -1 * Math.floor((len - 3) / 2);
      return string.substr(0, start) + '...' + (end ? string.substr(end) : '');
    }
  }
  return string;
}

/**
 *  given a monotonically increasing function fn: integer => double,
 *  find the first integer i between start and end inclusive s.t. fn(i) >= 0
 *  or end if fn(end) < 0
 */
function binarySearch(start, end, fn) {
  if (fn(start) >= 0) {
    return start;
  }
  if (fn(end) < 0) {
    return end;
  }
  while (end - start > 1) {
    var mid = Math.floor((end + start) / 2);
    if (fn(mid) < 0) {
      start = mid;
    } else {
      end = mid;
    }
  }
  return end;
}

// lazily initialize measureContext, rather than at module top-level,
// so that running tests from node does not cause an undefined
// variable error from document
var measureContext = void 0;
function getMeasureContext() {
  if (!measureContext) {
    measureContext = document.createElement('canvas').getContext('2d');
  }
  return measureContext;
}

/**
 * Returns false if `val` is undefined, null or NaN, otherwise true
 * NOTE: Returns true for 0 and '' (empty string)
 * @param val {any}
 * @returns {boolean}
 */
function isDefinedValue(val) {
  if (typeof val === 'number') {
    return !isNaN(val);
  }
  return val !== undefined && val !== null;
}

/* istanbul ignore next */
function measureTextWidth(string, font) {
  getMeasureContext().font = font;
  return getMeasureContext().measureText(string).width;
}

/* istanbul ignore next */
function truncateToWidth(string, font, width) {
  getMeasureContext().font = font;
  // spaceLeft will give the amount of space left after truncating N chars off string
  var spaceLeft = function spaceLeft(nChars) {
    return width - getMeasureContext().measureText(truncateMiddle(string, string.length - nChars)).width;
  };
  // find the first N such that removing N chars allows the string to fit (spaceLeft is positive)
  var bestFit = binarySearch(0, string.length - 1, spaceLeft);
  return truncateMiddle(string, string.length - bestFit);
}

// Leading and repeated whitespace in strings will produce measurements that do not
// match the actual rendered width.
function normalizeString(str) {
  return str.replace(/\s+/g, ' ').trim();
}

/* istanbul ignore next */
function truncateToElement(string, elem) {
  var availableWidth = elem.clientWidth;
  var styles = window.getComputedStyle(elem);
  availableWidth -= parseInt(styles.getPropertyValue('padding-left'));
  availableWidth -= parseInt(styles.getPropertyValue('padding-right'));
  // Note: getPropertyValue('font') does not work in FF, so we construct a font property from its components
  var fontString = 'font-style font-variant font-weight font-size font-family'.split(' ').map(function (prop) {
    return styles.getPropertyValue(prop);
  }).join(' ');
  return truncateToWidth(normalizeString(string), fontString, availableWidth);
}

//get the rollingcount based on unit for calculating rolling average
function getRollingCount(unit) {
  switch (unit) {
    case 'hour':
      return 12;
    case 'day':
      return 7;
    case 'week':
      return 5;
    case 'month':
      return 3;
  }
}

function nestedObjectRolling(obj, rollingCount) {
  if (Object.keys(obj).map(function (key) {
    return obj[key];
  }).every(function (value) {
    return typeof value === 'number' || value === null;
  })) {
    var found = false;
    var values = [];
    var _sum2 = 0;
    var newObj = {};
    Object.keys(obj).sort().forEach(function (key) {
      var amount = obj[key];
      if (!found && amount) {
        found = true;
      }

      if (found) {
        if (values.length === rollingCount) {
          _sum2 -= values[0];
          values.shift();
        }
        values.push(amount);
        _sum2 += amount;
        amount = _sum2 / values.length;
      }

      newObj[key] = amount;
    });
    return newObj;
  } else {
    return mapValues(obj, function (value) {
      return nestedObjectRolling(value, rollingCount);
    });
  }
}
},{"./array":277}],283:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.registerMPElement = registerMPElement;
/**
 * Supports registering MP web components safely even when multiple
 * copies of this library are loaded separately on the same page
 * (e.g., autotrack editor on a page which already has these components).
 */
function registerMPElement(tagName, componentClass) {
  var registry = window["mp-common-registered-components"];
  if (!registry) {
    window["mp-common-registered-components"] = registry = {};
  }

  if (!registry[tagName]) {
    registry[tagName] = document.registerElement(tagName, componentClass);
  }

  return componentClass;
}
},{}],284:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

/* eslint-disable */
/**
 * source: /media/plugins/rison.js
 */

/*
 * Rison.js 1.0 - 2008/07/28
 *
 * Copyright (c) 2008 Ivn -DrSlump- Montes <drslump[at]pollinimini[dot]net>
 * Portions of this code is based on public domain work from http://json.org/json2.js
 *
 * References:
 *
 *    http://mjtemplate.org/examples/rison.html
 *    http://pollinimini.net/blog/rison-compact-json-specially-suited-uris
 *
 * Code Licensed under the MIT License:
 *
 *    Permission is hereby granted, free of charge, to any person obtaining a
 *    copy of this software and associated documentation files (the "Software"),
 *    in the Software without restriction, including without limitation the
 *    rights to use, copy, modify, merge, publish, distribute, sublicense,
 *    and/or sell copies of the Software, and to permit persons to whom the
 *    Software is furnished to do so, subject to the following conditions:
 *
 *    The above copyright notice and this permission notice shall be included
 *    in all copies or substantial portions of the Software.
 *
 *    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 *    OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 *    MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
 *    NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
 *    DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
 *    OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
 *    USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 *
 *  This file creates a rison object containing three methods: stringify,
 *  parse and urlencode.
 *
 *      rison.stringify(value, replacer)
 *          value       any JavaScript value, usually an object or array.
 *          replacer    an optional parameter that determines how object
 *                      values are stringified for objects. It can be a
 *                      function or an array.
 *
 *          This method produces a RISON text from a JavaScript value.
 *          When an object value is found, if the object contains a toRISON
 *          method, its toRISON method will be called and the result will be
 *          stringified. A toRISON method does not serialize: it returns the
 *          value represented by the name/value pair that should be serialized,
 *          or undefined if nothing should be serialized. The toRISON method
 *          will be passed the key associated with the value, and this will be
 *          bound to the object holding the key.
 *
 *          For example, this would serialize Dates as ISO strings.
 *
 *              Date.prototype.toRISON = function (key) {
 *                  function f(n) {
 *                      // Format integers to have at least two digits.
 *                      return n < 10 ? '0' + n : n;
 *                  }
 *
 *                  return this.getUTCFullYear()   + '-' +
 *                       f(this.getUTCMonth() + 1) + '-' +
 *                       f(this.getUTCDate())      + 'T' +
 *                       f(this.getUTCHours())     + ':' +
 *                       f(this.getUTCMinutes())   + ':' +
 *                       f(this.getUTCSeconds())   + 'Z';
 *              };
 *
 *          You can provide an optional replacer method. It will be passed the
 *          key and value of each member, with this bound to the containing
 *          object. The value that is returned from your method will be
 *          serialized. If your method returns undefined, then the member will
 *          be excluded from the serialization.
 *
 *          If the replacer parameter is an array, then it will be used to
 *          select the members to be serialized. It filters the results such
 *          that only members with keys listed in the replacer array are
 *          stringified.
 *
 *          Values that do not have RISON representations, such as undefined or
 *          functions, will not be serialized. Such values in objects will be
 *          dropped; in arrays they will be replaced with null. You can use
 *          a replacer function to replace those with RISON values.
 *          RISON.stringify(undefined) returns undefined.
 *
 *          Example:
 *          text = JSON.stringify(['e', {pluribus: 'unum'}]);
 *          // text is '["e",{"pluribus":"unum"}]'
 *
 *          text = JSON.stringify([new Date()], function (key, value) {
 *              return this[key] instanceof Date ?
 *                  'Date(' + this[key] + ')' : value;
 *          });
 *          // text is '["Date(---current time---)"]'
 *
 *
 *      rison.parse(text, reviver)
 *
 *          This method parses a RISON text to produce an object or array.
 *          It can throw a SyntaxError exception.
 *
 *          The optional reviver parameter is a function that can filter and
 *          transform the results. It receives each of the keys and values,
 *          and its return value is used instead of the original value.
 *          If it returns what it received, then the structure is not modified.
 *          If it returns undefined then the member is deleted.
 *
 *          Example:
 *          // Parse the text. Values that look like ISO date strings will
 *          // be converted to Date objects.
 *          myData = rison.parse(text, function (key, value) {
 *              var a;
 *              if (typeof value === 'string') {
 *                  a = /^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/.exec(value);
 *                  if (a) {
 *                      return new Date(Date.UTC(+a[1], +a[2] - 1, +a[3], +a[4],
 *                          +a[5], +a[6]));
 *                  }
 *              }
 *              return value;
 *          });
 *
 *          myData = rison.parse('["Date(09/09/2001)"]', function (key, value) {
 *              var d;
 *              if (typeof value === 'string' &&
 *                      value.slice(0, 5) === 'Date(' &&
 *                      value.slice(-1) === ')') {
 *                  d = new Date(value.slice(5, -1));
 *                  if (d) {
 *                      return d;
 *                  }
 *              }
 *              return value;
 *          });
 *
 *
 *      rison.urlencode(value, replacer)
 *          value       a RISON text or any JavaScript value
 *          replacer    see rison.stringify
 *
 *          This method escapes the passed RISON text to be used in URLs. If
 *          the first argument is not a string it will call rison.stringify and
 *          operate on the result of it.
 *          The URL escapes applied are more liberal than the native browser
 *          implementation (encodeURIComponent function), however they should
 *          be safe to be used in most environments.
 */

var rison = exports.rison = function () {

  var sortDictionaries = true,
      rep,

  // Matches RISON identifiers which don't need to be quoted
  ident = /^[^!:\(\),\*@\$\s'0-9\-][^!:\(\),\*@\$\s']*$/,

  // Maches troublesome unicode chars for Javascript
  cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,

  // List of characters which need to be escaped when encoding
  escapeable = /[\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
      // eslint-disable-line no-control-regex
  // List of characters which are not safe in a URL
  unsafe = /[^A-Za-z0-9~!\*\(\)\-_\.,:@\$'\/]+/g,

  // Lexer definition for the parser tokenizer
  lexer = /\)|![tfn\(]|\(|'(!!|!'|[^'])*'|\-?([0-9]*\.)?[0-9]+(e-?[0-9]+)?|[^!:\(\),\*@\$0-9\-][^!:\(\),\*@\$]*/g;

  /*
      Quotes a string value applying escapes were necesary and wrapping it
      with single quotes if needed.
  */
  function quote(val) {
    if (val.length === 0) {
      return '\'\'';
    }

    // Handle unicode and non printable chars
    escapeable.lastIndex = 0;
    if (escapeable.test(val)) {
      val.replace(escapeable, function (a) {
        return '\\u' + ('0000' + (+a.charCodeAt(0)).toString(16)).slice(-4);
      });
    }

    // Check if it's a valid ident
    ident.lastIndex = 0;
    if (ident.test(val)) {
      return val;
    }

    // Escape special chars
    val = val.replace(/(['!])/mg, '!$1');

    return '\'' + val + '\'';
  }

  /**
   * Private function to encode a JS variable into a RISON string
   *
   * Heavily based on http://json.org/json2.js
   */
  function encode(key, holder) {
    var i,
        // the loop counter
    k,
        // the member key
    v,
        // the member value
    length,
        partial,
        value = holder[key];

    // If the value has a toRISON method, call it to obtain a replacement value.
    if (value && typeof value === 'object' && typeof value.toRISON === 'function') {
      value = value.toRISON(key);
    }

    if (typeof rep === 'function') {
      value = rep.call(holder, key, value);
    }

    switch (typeof value === 'undefined' ? 'undefined' : _typeof(value)) {
      case 'string':
        return quote(value);

      case 'number':
        return isFinite(value) ? String(value).replace('+', '') : 'null';

      case 'boolean':
        return value ? '!t' : '!f';

      // Not actually used by browsers
      case 'null':
        return '!n';

      // Array, Object or Null
      case 'object':
        if (!value) {
          return '!n';
        }

        partial = [];

        // If the object has a dontEnum length property, we'll treat it as an array.
        if (typeof value.length === 'number' && !value.propertyIsEnumerable('length')) {

          // The object is an array. Stringify every element.
          // Use null as a placeholder for non-RISON values.
          length = value.length;
          for (i = 0; i < length; i += 1) {
            partial[i] = encode(i, value) || '!n';
          }

          // Join all of the elements together, separated with commas,
          // and wrap them in brackets.
          v = '!(' + partial.join(',') + ')';
          return v;
        }

        // If the replacer is an array, use it to select the members to be stringified.
        if (rep && typeof rep === 'object') {
          length = rep.length;
          for (i = 0; i < length; i += 1) {
            k = rep[i];
            if (typeof k === 'string') {
              v = encode(k, value);
              if (v) {
                partial.push(quote(k) + ':' + v);
              }
            }
          }
        } else {
          // Otherwise, iterate through all of the keys in the object.
          for (k in value) {
            if (Object.hasOwnProperty.call(value, k)) {
              v = encode(k, value);
              if (v) {
                partial.push(quote(k) + ':' + v);
              }
            }
          }
        }

        // The RISON spec recommends to sort the dictionaries by its
        // keys to improve caching
        if (sortDictionaries) {
          partial.sort(function (a, b) {
            a = a.split(':')[0];
            b = b.split(':')[0];
            return (a > b) - (a < b);
          });
        }

        // Join all of the member texts together, separated with s,
        // and wrap them in braces.
        v = '(' + partial.join(',') + ')';
        return v;
    }

    return false;
  }

  /*
      Private function to decode a RISON string into a JS variable
       Note that the algorithm is very liberal and can produce unexpected results
      with not properly formated RISON strings
  */
  function decode(text) {
    var m, obj, item;

    if (m = lexer.exec(text)) {

      if (m[0] === ')') {
        // End of a structure, nothing to do
      } else if (m[0] === '(') {
        obj = {};
        while (typeof (item = decode(text)) !== 'undefined') {
          obj[item] = decode(text);
        }
      } else if (m[0] === '!(') {
        obj = [];
        while (typeof (item = decode(text)) !== 'undefined') {
          obj.push(item);
        }
      } else if (m[0].charAt(0) === '\'') {
        // make sure to remove exclamation points that are used for
        // escaping other chars in rison
        obj = m[0].substring(1, m[0].length - 1).replace(/!(.|\n)/g, '$1');
      } else if (m[0] === '!t') {
        obj = true;
      } else if (m[0] === '!f') {
        obj = false;
      } else if (m[0] === '!n') {
        obj = null;
      } else if (/^\.?[0-9\-]/.test(m[0])) {
        obj = Number(m[0]);
      } else {
        obj = m[0];
      }
    }

    return obj;
  }

  /*
      Public methods
  */
  return {
    /*
        Encodes for URL use (and optionally stringifies a variable)
        being much more liberal than browser's built in encodeURIComponent()
    */
    urlencode: function urlencode(value, replacer) {
      if (typeof value !== 'string') {
        value = this.stringify(value, replacer);
      }

      unsafe.lastIndex = 0;
      value = value.replace(unsafe, function (chars) {
        return encodeURIComponent(chars);
      });

      return value;
    },

    /*
        Stringifies a variable as a RISON string
    */
    stringify: function stringify(value, replacer) {

      rep = replacer;
      if (replacer && typeof replacer !== 'function' && (typeof replacer !== 'object' || typeof replacer.length !== 'number')) {
        throw new Error('rison.stringify');
      }

      return encode('', { '': value });
    },

    // ADDED by carl, basically to handle spaces in output
    urldecode: function urldecode(text, reviver) {
      return this.parse(decodeURIComponent(text), reviver);
    },

    /*
        Parses a RISON string to create its JS variable representation
    */
    parse: function parse(text, reviver) {
      var result;

      // The walk method is used to recursively walk the resulting
      // structure so that modifications can be made.
      function walk(holder, key) {
        var k,
            v,
            value = holder[key];
        if (value && typeof value === 'object') {
          for (k in value) {
            if (Object.hasOwnProperty.call(value, k)) {
              v = walk(value, k);
              if (v !== undefined) {
                value[k] = v;
              } else {
                delete value[k];
              }
            }
          }
        }
        return reviver.call(holder, key, value);
      }

      // Manage troublesome unicode characters
      cx.lastIndex = 0;
      if (cx.test(text)) {
        text = text.replace(cx, function (a) {
          return '\\u' + ('0000' + (+a.charCodeAt(0)).toString(16)).slice(-4);
        });
      }

      lexer.lastIndex = 0;
      result = decode(text);

      if (typeof result === 'undefined') {
        throw new SyntaxError('rison.parse');
      }

      return typeof reviver === 'function' ? walk({ '': result }, '') : result;
    }
  };
}();
},{}],285:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.nameToInitials = nameToInitials;
exports.stringFilterMatches = stringFilterMatches;
exports.countSymbols = countSymbols;
exports.toSentenceCase = toSentenceCase;

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

/**
 * Convert a full name to a maximum of 2 capitalized initials.
 * @param {string} name - full name to convert
 * @returns {string} 0-2 capitalized initials from name
 * @example
 * nameToInitials(`Darth Thelonius Vader`);
 * // `DV`
 */
function nameToInitials(name) {
  if (!name) {
    return "";
  }

  // return a maximum of 2 initials for a user
  var initials = name.split(" ").map(function (s) {
    return s[0];
  }).join("").toUpperCase();
  return initials.length > 2 ? initials[0] + initials.slice(-1) : initials;
}

/**
 * Split a string into match and non-match substrings based on finding
 * all whitespace-separated terms in a given filter string (for UI search
 * bars).
 * @param {string} str - string to search
 * @param {string} filterStr - string with filter/search terms
 * @returns {Array} list of alternating matching and non-matching substrings
 * in order of the original string; even = match, odd = no match
 * @example
 * stringFilterMatches('my example string', 'ex my');
 * // ['my', ' ', 'ex', 'ample string']
 */
function stringFilterMatches(str, filterStr) {
  // ensure there's a non-empty filter
  filterStr = filterStr && filterStr.trim();
  if (!filterStr) {
    return ["", str];
  }

  // prepare string and filter for search conditions
  var matchStr = str.toLowerCase();
  var searchTerms = filterStr.toLowerCase().split(" ").filter(Boolean);

  // find all matching positions
  var matchPositions = Array(str.length).fill(false);
  var _iteratorNormalCompletion = true;
  var _didIteratorError = false;
  var _iteratorError = undefined;

  try {
    for (var _iterator = searchTerms[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
      var term = _step.value;

      var fromIndex = 0;
      var foundNewMatch = false;
      while (!foundNewMatch) {
        var matchIdx = matchStr.indexOf(term, fromIndex);
        if (matchIdx === -1) {
          return null; // short-circuit stop for non-match
        }
        for (var mi = matchIdx; mi < matchIdx + term.length; mi++) {
          if (!matchPositions[mi]) {
            foundNewMatch = true;
            matchPositions[mi] = true;
          }
        }

        fromIndex = matchIdx + term.length;
      }
    }

    // merge into match and non-match strings
  } catch (err) {
    _didIteratorError = true;
    _iteratorError = err;
  } finally {
    try {
      if (!_iteratorNormalCompletion && _iterator.return) {
        _iterator.return();
      }
    } finally {
      if (_didIteratorError) {
        throw _iteratorError;
      }
    }
  }

  var matches = [];
  var i = 0;
  while (i < matchPositions.length) {
    var _matchStr = "";
    var nonMatchStr = "";

    while (i < matchPositions.length && matchPositions[i]) {
      _matchStr += str[i++];
    }
    while (i < matchPositions.length && !matchPositions[i]) {
      nonMatchStr += str[i++];
    }

    matches.push(_matchStr);
    matches.push(nonMatchStr);
  }

  return matches;
}

/**
 * Return the number of symbols in a string, with proper handling for strings that contain unicode characters.
 * See https://mathiasbynens.be/notes/javascript-unicode
 * @param {string} string - string whose number of symbols is to be returned
 * @returns {number} the length of the string, or zero if the string is null or undefined
 * @example
 * countSymbols('');
 * // 1
 */
function countSymbols(string) {
  if (!string) {
    return 0;
  }

  return [].concat(_toConsumableArray(string)).length;
}

function toSentenceCase(string) {
  var str = (string || "").toString();
  return str.charAt(0).toUpperCase() + str.substr(1).toLowerCase();
}
},{}],286:[function(require,module,exports){
"use strict";

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _jade_template_fn(locals) {
  locals = locals || {};;;
  var result_of_with = function ($component, $helpers, Array, JSON, Object, editTags, initialLoading, open, reportCreated, reportName, savingTags, selectedTags, showUpsellModal) {
    var h = require('panel').h;
    return {
      value: h("div", {
        "attrs": {
          'not-implemented': $component.isAttributeEnabled('not-implemented')
        },
        "onmouseenter": $helpers.maybeTrackHover,
        "class": Object.assign({}, _defineProperty({}, "mp-add-to-dash-type-" + $component.getAttribute('report-type'), true), {
          'mp-add-to-dash-container': true
        })
      }, function () {
        var __jade_nodes = [];
        __jade_nodes = __jade_nodes.concat(h("mp-upsell-popup", {
          "attrs": {
            open: showUpsellModal,
            feature: 'bookmark-maximum'
          },
          "on": {
            change: $helpers.closeUpsellPopup
          }
        }));
        var existingReport = $component.getAttribute('bookmark') && $component.getJSONAttribute('bookmark').include_in_dashboard;
        __jade_nodes = __jade_nodes.concat(h("mp-tutorial-tooltip", {
          "attrs": {
            hide: !$component.isAttributeEnabled('show-tutorial-tooltip'),
            'hide-footer': true,
            closeable: true,
            placement: 'left'
          },
          "on": {
            close: $helpers.closeTooltip
          }
        }, function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(h("div", {
            "class": {
              'mp-add-to-dash-tutorial-title': true
            }
          }, function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat("Easily add reports to your dashboard");;
            return __jade_nodes;
          }.call(this).filter(Boolean)));
          __jade_nodes = __jade_nodes.concat(h("div", {
            "class": {
              'mp-add-to-dash-tutorial-content': true
            }
          }, function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat("Dashboards allow your entire team to understand your business all in one place.");;
            return __jade_nodes;
          }.call(this).filter(Boolean)));;
          return __jade_nodes;
        }.call(this).filter(Boolean)));
        __jade_nodes = __jade_nodes.concat(h("div", {
          "attrs": {
            disabled: $component.isAttributeEnabled('disabled')
          },
          "class": {
            'mp-add-to-dash-inner-container': true
          }
        }, function () {
          var __jade_nodes = [];
          reportName = $component.getAttribute('report-name');
          __jade_nodes = __jade_nodes.concat(h("div", {
            "on": {
              click: function click() {
                return open ? $helpers.closeMenu() : $helpers.openMenu();
              }
            },
            "class": Object.assign({}, {
              'mp-add-to-dash-added': reportCreated
            }, {
              'mp-add-to-dash-btn': true
            })
          }, function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(h("div", {
              "class": {
                'mp-add-to-dash-icon': true
              }
            }, function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h("svg-icon", {
                "attrs": {
                  icon: existingReport ? "dashboard-confirm" : "dashboard-add-to"
                }
              }));
              __jade_nodes = __jade_nodes.concat($component.isAttributeEnabled('over-free-limit') && !existingReport ? function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat(h("div", {
                  "class": {
                    'mp-add-to-dash-upsell-icon': true
                  }
                }, function () {
                  var __jade_nodes = [];
                  __jade_nodes = __jade_nodes.concat(h("svg-icon", {
                    "attrs": {
                      icon: "lighting-bolt"
                    }
                  }));;
                  return __jade_nodes;
                }.call(this).filter(Boolean)));;
                return __jade_nodes;
              }.call(this) : undefined);;
              return __jade_nodes;
            }.call(this).filter(Boolean)));;
            return __jade_nodes;
          }.call(this).filter(Boolean)));
          __jade_nodes = __jade_nodes.concat(h("div", {
            "class": {
              'mp-add-to-dash-menu': true
            }
          }, function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(h("mp-drop-menu", {
              "attrs": {
                open: open
              },
              "on": {
                change: $helpers.tagSelectorMenuChanged
              }
            }, function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h("div", {
                "class": {
                  'mp-add-to-dash-menu-contents': true
                }
              }, function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat(initialLoading ? function () {
                  var __jade_nodes = [];
                  __jade_nodes = __jade_nodes.concat(h("div", {
                    "class": {
                      'mp-add-to-dash-loading': true
                    }
                  }, function () {
                    var __jade_nodes = [];
                    __jade_nodes = __jade_nodes.concat(h("div", {
                      "class": {
                        'mp-add-to-dash-spinner': true
                      }
                    }, function () {
                      var __jade_nodes = [];
                      __jade_nodes = __jade_nodes.concat(h("mp-spinner"));;
                      return __jade_nodes;
                    }.call(this).filter(Boolean)));;
                    return __jade_nodes;
                  }.call(this).filter(Boolean)));;
                  return __jade_nodes;
                }.call(this) : editTags ? function () {
                  var __jade_nodes = [];
                  __jade_nodes = __jade_nodes.concat(h("div", {
                    "class": {
                      'mp-add-to-dash-title': true
                    }
                  }, function () {
                    var __jade_nodes = [];
                    __jade_nodes = __jade_nodes.concat(h("div", {
                      "class": {
                        'mp-add-to-dash-header': true
                      }
                    }, function () {
                      var __jade_nodes = [];
                      __jade_nodes = __jade_nodes.concat(h("div", {
                        "class": {
                          'mp-add-to-dash-header-text': true
                        }
                      }, function () {
                        var __jade_nodes = [];
                        __jade_nodes = __jade_nodes.concat("Edit dashboards");;
                        return __jade_nodes;
                      }.call(this).filter(Boolean)));;
                      return __jade_nodes;
                    }.call(this).filter(Boolean)));
                    __jade_nodes = __jade_nodes.concat(h("div", {
                      "attrs": {
                        title: reportName
                      },
                      "class": {
                        'mp-add-to-dash-subtext': true,
                        'mp-add-to-dash-no-icon': true
                      }
                    }, [$helpers.truncateMiddle(reportName, 40) || '']));;
                    return __jade_nodes;
                  }.call(this).filter(Boolean)));
                  __jade_nodes = __jade_nodes.concat(h("mp-tag-selector", {
                    "attrs": {
                      'all-tags': $helpers.allTags(),
                      'selected-tags': JSON.stringify(Array.from(selectedTags)),
                      'saving': savingTags
                    },
                    "on": {
                      change: $helpers.tagSelectorChanged,
                      save: $helpers.saveTags
                    }
                  }));;
                  return __jade_nodes;
                }.call(this) : function () {
                  var __jade_nodes = [];
                  __jade_nodes = __jade_nodes.concat(h("div", {
                    "class": {
                      'mp-add-to-dash-title': true
                    }
                  }, function () {
                    var __jade_nodes = [];
                    __jade_nodes = __jade_nodes.concat(h("div", {
                      "class": {
                        'mp-add-to-dash-header': true
                      }
                    }, function () {
                      var __jade_nodes = [];
                      __jade_nodes = __jade_nodes.concat(h("svg-icon", {
                        "attrs": {
                          icon: "check-success"
                        },
                        "class": {
                          'mp-add-to-dash-added': true
                        }
                      }));
                      __jade_nodes = __jade_nodes.concat(h("div", {
                        "class": {
                          'mp-add-to-dash-header-text': true
                        }
                      }, function () {
                        var __jade_nodes = [];
                        __jade_nodes = __jade_nodes.concat("Report added to dashboards");;
                        return __jade_nodes;
                      }.call(this).filter(Boolean)));;
                      return __jade_nodes;
                    }.call(this).filter(Boolean)));
                    __jade_nodes = __jade_nodes.concat(h("div", {
                      "attrs": {
                        title: reportName
                      },
                      "class": {
                        'mp-add-to-dash-subtext': true
                      }
                    }, [$helpers.truncateMiddle(reportName, 40) || '']));;
                    return __jade_nodes;
                  }.call(this).filter(Boolean)));
                  __jade_nodes = __jade_nodes.concat(h("mp-button-bar", {
                    "attrs": {
                      color: 'grey'
                    },
                    "on": {
                      click: $helpers.editTags
                    }
                  }, function () {
                    var __jade_nodes = [];
                    __jade_nodes = __jade_nodes.concat("Edit selected dashboards");;
                    return __jade_nodes;
                  }.call(this).filter(Boolean)));;
                  return __jade_nodes;
                }.call(this));;
                return __jade_nodes;
              }.call(this).filter(Boolean)));;
              return __jade_nodes;
            }.call(this).filter(Boolean)));;
            return __jade_nodes;
          }.call(this).filter(Boolean)));
          __jade_nodes = __jade_nodes.concat(!open && !$component.isAttributeEnabled('show-tutorial-tooltip') && !$component.isAttributeEnabled('not-implemented') ? function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(h("mp-tooltip", {
              "attrs": {
                'placement': $component.getAttribute('tooltip-placement') || 'bottom'
              }
            }, [existingReport ? 'Edit dashboards' : 'Add to dashboard' || '']));;
            return __jade_nodes;
          }.call(this) : undefined);;
          return __jade_nodes;
        }.call(this).filter(Boolean)));
        __jade_nodes = __jade_nodes.concat($component.isAttributeEnabled('not-implemented') ? function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(h("div", {
            "class": {
              'mp-add-to-dash-disabled-tooltip': true
            }
          }, function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(h("div", {
              "class": {
                'mp-add-to-dash-disabled-tooltip-icon': true
              }
            }));
            __jade_nodes = __jade_nodes.concat($component.isAttributeEnabled('seg-retention') ? function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h("div", {
                "class": {
                  'mp-add-to-dash-disabled-tooltip-text': true
                }
              }, function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat("Segmented retention reports are not currently supported in dashboards. Please remove the segment and try again.");;
                return __jade_nodes;
              }.call(this).filter(Boolean)));;
              return __jade_nodes;
            }.call(this) : $component.getAttribute('not-implemented-text') ? function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h("div", {
                "class": {
                  'mp-add-to-dash-disabled-tooltip-text': true
                }
              }, [$component.getAttribute('not-implemented-text') || '']));;
              return __jade_nodes;
            }.call(this) : function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h("div", {
                "class": {
                  'mp-add-to-dash-disabled-tooltip-text': true
                }
              }, function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat("This report is not currently supported in dashboards, but we are continuing to add support for new reports.");;
                return __jade_nodes;
              }.call(this).filter(Boolean)));;
              return __jade_nodes;
            }.call(this));;
            return __jade_nodes;
          }.call(this).filter(Boolean)));;
          return __jade_nodes;
        }.call(this) : undefined);;
        return __jade_nodes;
      }.call(this).filter(Boolean))
    };
  }.call(this, "$component" in locals ? locals.$component : typeof $component !== "undefined" ? $component : undefined, "$helpers" in locals ? locals.$helpers : typeof $helpers !== "undefined" ? $helpers : undefined, "Array" in locals ? locals.Array : typeof Array !== "undefined" ? Array : undefined, "JSON" in locals ? locals.JSON : typeof JSON !== "undefined" ? JSON : undefined, "Object" in locals ? locals.Object : typeof Object !== "undefined" ? Object : undefined, "editTags" in locals ? locals.editTags : typeof editTags !== "undefined" ? editTags : undefined, "initialLoading" in locals ? locals.initialLoading : typeof initialLoading !== "undefined" ? initialLoading : undefined, "open" in locals ? locals.open : typeof open !== "undefined" ? open : undefined, "reportCreated" in locals ? locals.reportCreated : typeof reportCreated !== "undefined" ? reportCreated : undefined, "reportName" in locals ? locals.reportName : typeof reportName !== "undefined" ? reportName : undefined, "savingTags" in locals ? locals.savingTags : typeof savingTags !== "undefined" ? savingTags : undefined, "selectedTags" in locals ? locals.selectedTags : typeof selectedTags !== "undefined" ? selectedTags : undefined, "showUpsellModal" in locals ? locals.showUpsellModal : typeof showUpsellModal !== "undefined" ? showUpsellModal : undefined);
  if (result_of_with) return result_of_with.value;
}
module.exports = _jade_template_fn;
},{"panel":343}],287:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _panel = require('panel');

var _index = require('./index.styl');

var _index2 = _interopRequireDefault(_index);

var _index3 = require('./index.jade');

var _index4 = _interopRequireDefault(_index3);

var _util = require('../../util');

var _array = require('../../util/array');

var _appApiClient = require('../../util/app-api-client.js');

var _appApiClient2 = _interopRequireDefault(_appApiClient);

var _registerElement = require('../../util/register-element.js');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global mixpanel */


var sortedTags = function sortedTags(tags) {
  return (0, _array.sorted)(Array.from(tags), { transform: function transform(s) {
      return s.toLowerCase();
    } });
};

var DEFAULT_TAGS = ['project dashboard', 'my dashboard'];
exports.default = (0, _registerElement.registerMPElement)('add-to-dash', function (_Component) {
  _inherits(_class, _Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'saveBookmark',


    // this is separated out so that the caller can override if they need to do
    // something different (like we do on insights)
    value: function saveBookmark() {
      var type = this.getAttribute('report-type');
      var name = this.getAttribute('report-name');
      var params = this.getJSONAttribute('report-params');
      if ([type, name, params].includes(null)) {
        throw Error('\'report-type\', \'report-name\', and \'report-params\' attributes are required to create new dashboard reports');
      }
      var data = JSON.stringify({
        type: type === 'segmentation' ? 'segmentation3' : type, // when saving a segmentation report to bookmarks the type is actually "segmentation3" in the db
        name: name.substring(0, 255), // limit report name to max of 255 characters
        params: params
      });
      return _appApiClient2.default.post(this._getDashboardApiUrl(), data).then(function (resp) {
        return resp.results;
      });
    }
  }, {
    key: '_ensureBookmarkIsDashReport',
    value: function _ensureBookmarkIsDashReport(bookmark) {
      if (!bookmark.include_in_dashboard) {
        var data = { tags: DEFAULT_TAGS };
        return _appApiClient2.default.patch(this._getDashboardApiUrl() + '/' + bookmark.id, JSON.stringify(data)).then(function (resp) {
          bookmark.include_in_dashboard = true; // eslint-disable-line camelcase
          bookmark.tags = resp.results.tags;
          return bookmark;
        });
      }
    }
  }, {
    key: '_getDashboardApiUrl',
    value: function _getDashboardApiUrl() {
      var host = this.getAttribute('mixpanel-host');
      var projectId = this.getAttribute('project-id');
      return host + '/api/app/projects/' + projectId + '/dashboard-reports';
    }
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(attr) {
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'attributeChangedCallback', this).apply(this, arguments);
      switch (attr) {
        case 'bookmark':
          {
            var bookmark = this.getJSONAttribute('bookmark') || {};
            var tags = bookmark.tags || [];
            this.update({ selectedTags: new Set(tags) });
            break;
          }
      }
    }
  }, {
    key: 'config',
    get: function get() {
      var _this2 = this;

      return {
        css: _index2.default,
        template: _index4.default,
        defaultState: {
          editTags: false,
          open: false,
          savingTags: false,
          showUpsellModal: false,
          loadState: false,
          initialLoading: false
        },
        useShadowDom: true,
        helpers: {
          editTags: function editTags() {
            return _this2.update({ editTags: true });
          },
          allTags: function allTags() {
            var allTags = new Set(_this2.getJSONAttribute('all-tags') || []);
            ['project dashboard', 'my dashboard', 'product', 'marketing', 'growth'].forEach(function (t) {
              return allTags.add(t);
            });
            return JSON.stringify(sortedTags(allTags));
          },

          saveTags: function saveTags(e) {
            _this2.update({ savingTags: true });
            _appApiClient2.default.patch(_this2._getDashboardApiUrl() + '/' + _this2.getJSONAttribute('bookmark').id, JSON.stringify({ tags: e.detail.tags })).then(function (response) {
              _this2.update({ savingTags: false, open: false });
              var updatedReport = response.results;
              mixpanel.track('[Web Dash] Updated report dashboards', {
                'updated dashboards': updatedReport.tags,
                '# of dashboards after update': updatedReport.tags.length,
                'source': 'add report'
              });
              // fire off an event in case the parent cares about this change
              _this2.dispatchEvent(new CustomEvent('tags-saved', { detail: {
                  bookmarkId: parseInt(_this2.getJSONAttribute('bookmark').id),
                  selectedTags: e.detail.tags
                } }));
            }).catch(function () {
              _this2.update({ tagSaveError: true });
            });
          },

          openMenu: function openMenu() {
            _this2.update({ editTags: false });
            if (_this2.isAttributeEnabled('show-tutorial-tooltip')) {
              _this2.setAttribute('show-tutorial-tooltip', false);
            }

            if (!_this2.isAttributeEnabled('bookmark')) {
              // this implies we need to create a new bookmark
              if (_this2.isAttributeEnabled('over-free-limit')) {
                _this2.update({ showUpsellModal: true });
                return;
              }
            }

            _this2.update({ open: true, initialLoading: true });

            var existingBookmark = _this2.getJSONAttribute('bookmark');
            var addToDash = void 0;
            if (existingBookmark) {
              addToDash = _this2._ensureBookmarkIsDashReport(existingBookmark);
            } else {
              addToDash = _this2.saveBookmark().then(function (bookmark) {
                return _this2._ensureBookmarkIsDashReport(bookmark);
              });
            }

            if (addToDash) {
              addToDash.then(function (bookmark) {
                _this2.setAttribute('bookmark', JSON.stringify(bookmark)); // eslint-disable-line camelcase
                _this2.update({ initialLoading: false });
                _this2.dispatchEvent(new CustomEvent('report-added', { detail: { updatedBookmark: bookmark } }));
                mixpanel.track('[Web Dash] Report added to dashboard', {
                  'report info: name': bookmark.name,
                  'report info: type': bookmark.type,
                  'report info: chart type': bookmark.chart_type
                });
              }).catch(function (error) {
                _this2.update({ loadState: 'error' });
                console.warn(error);
              });
            } else {
              _this2.update({ editTags: true, initialLoading: false });
            }
          },

          closeUpsellPopup: function closeUpsellPopup(e) {
            if (e.detail.state === 'closed') {
              _this2.update({ showUpsellModal: false });
            }
          },

          closeTooltip: function closeTooltip() {
            _this2.setAttribute('show-tutorial-tooltip', false);
            _this2.dispatchEvent(new CustomEvent('tutorial-tooltip-closed'));
          },

          closeMenu: function closeMenu() {
            _this2.update({ open: false });
          },

          tagSelectorMenuChanged: function tagSelectorMenuChanged(e) {
            e.stopPropagation();
            if (e.detail.state === 'closed') {
              _this2.update({ open: false });
            }
          },

          tagSelectorChanged: function tagSelectorChanged(e) {
            var action = e.detail.action;
            if (['addTag', 'removeTag'].includes(action)) {
              var op = action === 'addTag' ? 'add' : 'delete';
              _this2.state.selectedTags[op](e.detail.tagName);
              _this2.update();
            }
          },

          maybeTrackHover: function maybeTrackHover() {
            if (_this2.getAttribute('not-implemented')) {
              mixpanel.track('[Web Dash] Hover on disabled add-to-dash', { 'Report Type': _this2.getAttribute('tracking-report-type') });
            }
          },

          truncateMiddle: _util.truncateMiddle
        }
      };
    }
  }]);

  return _class;
}(_panel.Component));
},{"../../util":282,"../../util/app-api-client.js":276,"../../util/array":277,"../../util/register-element.js":283,"./index.jade":286,"./index.styl":288,"panel":343}],288:[function(require,module,exports){
module.exports = "* {   -webkit-font-smoothing: antialiased; } *:focus {   outline: 0; } *::-ms-clear {   height: 0;   width: 0; } body {   color: #6d859e;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-stretch: normal;   font-weight: 400; } body.no-scroll {   overflow: hidden; } a, .mp-link {   cursor: pointer;   text-decoration: none; } a, .mp-link, a:visited, .mp-link:visited {   color: #3b99f0; } a:hover, .mp-link:hover {   color: #4ba8ff; } .mp-font-size-xl {   font-size: 18px; } .mp-font-size-large {   font-size: 16px; } .mp-font-size-medium {   font-size: 14px; } .mp-font-size-default {   font-size: 13px; } .mp-font-size-xs {   font-size: 11px;   text-transform: uppercase; } .mp-font-weight-bold {   font-weight: 600; } .mp-font-weight-medium {   font-weight: 500; } .mp-font-weight-regular {   font-weight: 400; } .mp-font-paragraph {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } input[type=text], textarea {   border: 1px solid #d8e0ea;   border-radius: 5px;   box-sizing: border-box;   color: #4c6072;   display: inline-block;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 400;   padding: 8px;   transition: border-color 150ms ease-out; } input[type=text]::-webkit-input-placeholder, textarea::-webkit-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::-moz-placeholder, textarea::-moz-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:-ms-input-placeholder, textarea:-ms-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::placeholder, textarea::placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:focus, textarea:focus, input[type=text]:active, textarea:active {   border-color: #3391e9;   transition: border-color 200ms ease-in; } input[type=text] {   height: 36px; } mp-truncated-text {   display: inline-block;   white-space: nowrap;   width: 100%; } svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } svg-icon[icon=lightning-bolt] #bolt, svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } svg-icon[icon=alert] #circle, svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } .mp-add-to-dash-container, .mp-add-to-dash-container * {   box-sizing: border-box; } .mp-add-to-dash-container {   position: relative; } .mp-add-to-dash-container .mp-add-to-dash-icon {   position: relative; } .mp-add-to-dash-container .mp-add-to-dash-icon .mp-add-to-dash-upsell-icon {   position: absolute;   right: -6px;   top: -5px; } .mp-add-to-dash-container.mp-add-to-dash-type-segmentation .mp-add-to-dash-btn, .mp-add-to-dash-container.mp-add-to-dash-type-retention .mp-add-to-dash-btn {   padding: 14px; } .mp-add-to-dash-container.mp-add-to-dash-type-segmentation .mp-add-to-dash-btn svg-icon, .mp-add-to-dash-container.mp-add-to-dash-type-retention .mp-add-to-dash-btn svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } .mp-add-to-dash-container.mp-add-to-dash-type-segmentation .mp-add-to-dash-btn svg-icon[icon=type-boolean] #left-dot, .mp-add-to-dash-container.mp-add-to-dash-type-retention .mp-add-to-dash-btn svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .mp-add-to-dash-container.mp-add-to-dash-type-segmentation .mp-add-to-dash-btn svg-icon[icon=type-boolean] #right-dot, .mp-add-to-dash-container.mp-add-to-dash-type-retention .mp-add-to-dash-btn svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .mp-add-to-dash-container.mp-add-to-dash-type-segmentation .mp-add-to-dash-btn svg-icon[icon=lightning-bolt] #bolt, .mp-add-to-dash-container.mp-add-to-dash-type-retention .mp-add-to-dash-btn svg-icon[icon=lightning-bolt] #bolt, .mp-add-to-dash-container.mp-add-to-dash-type-segmentation .mp-add-to-dash-btn svg-icon[icon=lighting-bolt] #bolt, .mp-add-to-dash-container.mp-add-to-dash-type-retention .mp-add-to-dash-btn svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .mp-add-to-dash-container.mp-add-to-dash-type-segmentation .mp-add-to-dash-btn svg-icon[icon=alert] #circle, .mp-add-to-dash-container.mp-add-to-dash-type-retention .mp-add-to-dash-btn svg-icon[icon=alert] #circle, .mp-add-to-dash-container.mp-add-to-dash-type-segmentation .mp-add-to-dash-btn svg-icon[icon=alert] #stem, .mp-add-to-dash-container.mp-add-to-dash-type-retention .mp-add-to-dash-btn svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .mp-add-to-dash-container.mp-add-to-dash-type-segmentation .mp-add-to-dash-btn svg-icon[icon=opt-out] #left-arrow, .mp-add-to-dash-container.mp-add-to-dash-type-retention .mp-add-to-dash-btn svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .mp-add-to-dash-container.mp-add-to-dash-type-segmentation .mp-add-to-dash-btn svg-icon[icon=opt-out] #right-arrow, .mp-add-to-dash-container.mp-add-to-dash-type-retention .mp-add-to-dash-btn svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .mp-add-to-dash-container.mp-add-to-dash-type-segmentation .mp-add-to-dash-btn svg-icon svg, .mp-add-to-dash-container.mp-add-to-dash-type-retention .mp-add-to-dash-btn svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } .mp-add-to-dash-container.mp-add-to-dash-type-segmentation .mp-add-to-dash-btn svg-icon svg, .mp-add-to-dash-container.mp-add-to-dash-type-retention .mp-add-to-dash-btn svg-icon svg, .mp-add-to-dash-container.mp-add-to-dash-type-segmentation .mp-add-to-dash-btn svg-icon path, .mp-add-to-dash-container.mp-add-to-dash-type-retention .mp-add-to-dash-btn svg-icon path {   color: #6d859e;   fill: #6d859e; } .mp-add-to-dash-container.mp-add-to-dash-type-segmentation .mp-add-to-dash-btn svg-icon svg, .mp-add-to-dash-container.mp-add-to-dash-type-retention .mp-add-to-dash-btn svg-icon svg, .mp-add-to-dash-container.mp-add-to-dash-type-segmentation .mp-add-to-dash-btn svg-icon path, .mp-add-to-dash-container.mp-add-to-dash-type-retention .mp-add-to-dash-btn svg-icon path {   transition: 0.2s; } .mp-add-to-dash-container.mp-add-to-dash-type-segmentation .mp-add-to-dash-btn:hover svg-icon svg, .mp-add-to-dash-container.mp-add-to-dash-type-retention .mp-add-to-dash-btn:hover svg-icon svg, .mp-add-to-dash-container.mp-add-to-dash-type-segmentation .mp-add-to-dash-btn:hover svg-icon path, .mp-add-to-dash-container.mp-add-to-dash-type-retention .mp-add-to-dash-btn:hover svg-icon path {   color: #4ba8ff;   fill: #4ba8ff; } .mp-add-to-dash-container.mp-add-to-dash-type-segmentation .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon, .mp-add-to-dash-container.mp-add-to-dash-type-retention .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon {   display: inline-block;   height: 16px;   min-height: 16px;   min-width: 16px;   position: relative;   width: 16px; } .mp-add-to-dash-container.mp-add-to-dash-type-segmentation .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=type-boolean] #left-dot, .mp-add-to-dash-container.mp-add-to-dash-type-retention .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .mp-add-to-dash-container.mp-add-to-dash-type-segmentation .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=type-boolean] #right-dot, .mp-add-to-dash-container.mp-add-to-dash-type-retention .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .mp-add-to-dash-container.mp-add-to-dash-type-segmentation .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=lightning-bolt] #bolt, .mp-add-to-dash-container.mp-add-to-dash-type-retention .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=lightning-bolt] #bolt, .mp-add-to-dash-container.mp-add-to-dash-type-segmentation .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=lighting-bolt] #bolt, .mp-add-to-dash-container.mp-add-to-dash-type-retention .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .mp-add-to-dash-container.mp-add-to-dash-type-segmentation .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=alert] #circle, .mp-add-to-dash-container.mp-add-to-dash-type-retention .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=alert] #circle, .mp-add-to-dash-container.mp-add-to-dash-type-segmentation .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=alert] #stem, .mp-add-to-dash-container.mp-add-to-dash-type-retention .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .mp-add-to-dash-container.mp-add-to-dash-type-segmentation .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=opt-out] #left-arrow, .mp-add-to-dash-container.mp-add-to-dash-type-retention .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .mp-add-to-dash-container.mp-add-to-dash-type-segmentation .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=opt-out] #right-arrow, .mp-add-to-dash-container.mp-add-to-dash-type-retention .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .mp-add-to-dash-container.mp-add-to-dash-type-segmentation .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon svg, .mp-add-to-dash-container.mp-add-to-dash-type-retention .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon svg {   height: 16px;   left: 0;   min-height: 16px;   min-width: 16px;   position: absolute;   top: 0;   width: 16px; } .mp-add-to-dash-container.mp-add-to-dash-type-segmentation .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon svg, .mp-add-to-dash-container.mp-add-to-dash-type-retention .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon svg, .mp-add-to-dash-container.mp-add-to-dash-type-segmentation .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon path, .mp-add-to-dash-container.mp-add-to-dash-type-retention .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon path {   color: #9270e2;   fill: #9270e2; } .mp-add-to-dash-container.mp-add-to-dash-type-segmentation .mp-add-to-dash-btn:hover, .mp-add-to-dash-container.mp-add-to-dash-type-retention .mp-add-to-dash-btn:hover {   background-color: rgba(255,255,255,0.35); } .mp-add-to-dash-container.mp-add-to-dash-type-segmentation mp-drop-menu, .mp-add-to-dash-container.mp-add-to-dash-type-retention mp-drop-menu {   cursor: default;   top: -8px; } .mp-add-to-dash-container.mp-add-to-dash-type-funnel-query .mp-add-to-dash-btn svg-icon, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-conversion .mp-add-to-dash-btn svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } .mp-add-to-dash-container.mp-add-to-dash-type-funnel-query .mp-add-to-dash-btn svg-icon[icon=type-boolean] #left-dot, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-conversion .mp-add-to-dash-btn svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .mp-add-to-dash-container.mp-add-to-dash-type-funnel-query .mp-add-to-dash-btn svg-icon[icon=type-boolean] #right-dot, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-conversion .mp-add-to-dash-btn svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .mp-add-to-dash-container.mp-add-to-dash-type-funnel-query .mp-add-to-dash-btn svg-icon[icon=lightning-bolt] #bolt, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-conversion .mp-add-to-dash-btn svg-icon[icon=lightning-bolt] #bolt, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-query .mp-add-to-dash-btn svg-icon[icon=lighting-bolt] #bolt, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-conversion .mp-add-to-dash-btn svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .mp-add-to-dash-container.mp-add-to-dash-type-funnel-query .mp-add-to-dash-btn svg-icon[icon=alert] #circle, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-conversion .mp-add-to-dash-btn svg-icon[icon=alert] #circle, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-query .mp-add-to-dash-btn svg-icon[icon=alert] #stem, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-conversion .mp-add-to-dash-btn svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .mp-add-to-dash-container.mp-add-to-dash-type-funnel-query .mp-add-to-dash-btn svg-icon[icon=opt-out] #left-arrow, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-conversion .mp-add-to-dash-btn svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .mp-add-to-dash-container.mp-add-to-dash-type-funnel-query .mp-add-to-dash-btn svg-icon[icon=opt-out] #right-arrow, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-conversion .mp-add-to-dash-btn svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .mp-add-to-dash-container.mp-add-to-dash-type-funnel-query .mp-add-to-dash-btn svg-icon svg, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-conversion .mp-add-to-dash-btn svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } .mp-add-to-dash-container.mp-add-to-dash-type-funnel-query .mp-add-to-dash-btn svg-icon svg, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-conversion .mp-add-to-dash-btn svg-icon svg, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-query .mp-add-to-dash-btn svg-icon path, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-conversion .mp-add-to-dash-btn svg-icon path {   color: #9bacbf;   fill: #9bacbf; } .mp-add-to-dash-container.mp-add-to-dash-type-funnel-query .mp-add-to-dash-btn svg-icon svg, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-conversion .mp-add-to-dash-btn svg-icon svg, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-query .mp-add-to-dash-btn svg-icon path, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-conversion .mp-add-to-dash-btn svg-icon path {   transition: 0.2s; } .mp-add-to-dash-container.mp-add-to-dash-type-funnel-query .mp-add-to-dash-btn:hover svg-icon svg, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-conversion .mp-add-to-dash-btn:hover svg-icon svg, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-query .mp-add-to-dash-btn:hover svg-icon path, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-conversion .mp-add-to-dash-btn:hover svg-icon path {   color: #4ba8ff;   fill: #4ba8ff; } .mp-add-to-dash-container.mp-add-to-dash-type-funnel-query .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-conversion .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon {   display: inline-block;   height: 16px;   min-height: 16px;   min-width: 16px;   position: relative;   width: 16px; } .mp-add-to-dash-container.mp-add-to-dash-type-funnel-query .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=type-boolean] #left-dot, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-conversion .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .mp-add-to-dash-container.mp-add-to-dash-type-funnel-query .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=type-boolean] #right-dot, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-conversion .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .mp-add-to-dash-container.mp-add-to-dash-type-funnel-query .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=lightning-bolt] #bolt, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-conversion .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=lightning-bolt] #bolt, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-query .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=lighting-bolt] #bolt, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-conversion .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .mp-add-to-dash-container.mp-add-to-dash-type-funnel-query .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=alert] #circle, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-conversion .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=alert] #circle, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-query .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=alert] #stem, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-conversion .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .mp-add-to-dash-container.mp-add-to-dash-type-funnel-query .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=opt-out] #left-arrow, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-conversion .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .mp-add-to-dash-container.mp-add-to-dash-type-funnel-query .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=opt-out] #right-arrow, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-conversion .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .mp-add-to-dash-container.mp-add-to-dash-type-funnel-query .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon svg, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-conversion .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon svg {   height: 16px;   left: 0;   min-height: 16px;   min-width: 16px;   position: absolute;   top: 0;   width: 16px; } .mp-add-to-dash-container.mp-add-to-dash-type-funnel-query .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon svg, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-conversion .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon svg, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-query .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon path, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-conversion .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon path {   color: #9270e2;   fill: #9270e2; } .mp-add-to-dash-container.mp-add-to-dash-type-funnel-query .mp-add-to-dash-btn:hover, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-conversion .mp-add-to-dash-btn:hover {   background-color: rgba(255,255,255,0.35); } .mp-add-to-dash-container.mp-add-to-dash-type-funnel-query mp-drop-menu, .mp-add-to-dash-container.mp-add-to-dash-type-funnel-conversion mp-drop-menu {   cursor: default;   top: -1px; } .mp-add-to-dash-container.mp-add-to-dash-type-insights .mp-add-to-dash-btn {   height: 25px;   padding: 5px; } .mp-add-to-dash-container.mp-add-to-dash-type-insights .mp-add-to-dash-btn svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } .mp-add-to-dash-container.mp-add-to-dash-type-insights .mp-add-to-dash-btn svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .mp-add-to-dash-container.mp-add-to-dash-type-insights .mp-add-to-dash-btn svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .mp-add-to-dash-container.mp-add-to-dash-type-insights .mp-add-to-dash-btn svg-icon[icon=lightning-bolt] #bolt, .mp-add-to-dash-container.mp-add-to-dash-type-insights .mp-add-to-dash-btn svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .mp-add-to-dash-container.mp-add-to-dash-type-insights .mp-add-to-dash-btn svg-icon[icon=alert] #circle, .mp-add-to-dash-container.mp-add-to-dash-type-insights .mp-add-to-dash-btn svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .mp-add-to-dash-container.mp-add-to-dash-type-insights .mp-add-to-dash-btn svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .mp-add-to-dash-container.mp-add-to-dash-type-insights .mp-add-to-dash-btn svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .mp-add-to-dash-container.mp-add-to-dash-type-insights .mp-add-to-dash-btn svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } .mp-add-to-dash-container.mp-add-to-dash-type-insights .mp-add-to-dash-btn svg-icon svg, .mp-add-to-dash-container.mp-add-to-dash-type-insights .mp-add-to-dash-btn svg-icon path {   color: #9bacbf;   fill: #9bacbf; } .mp-add-to-dash-container.mp-add-to-dash-type-insights .mp-add-to-dash-btn svg-icon svg, .mp-add-to-dash-container.mp-add-to-dash-type-insights .mp-add-to-dash-btn svg-icon path {   transition: 0.2s; } .mp-add-to-dash-container.mp-add-to-dash-type-insights .mp-add-to-dash-btn:hover svg-icon svg, .mp-add-to-dash-container.mp-add-to-dash-type-insights .mp-add-to-dash-btn:hover svg-icon path {   color: #4ba8ff;   fill: #4ba8ff; } .mp-add-to-dash-container.mp-add-to-dash-type-insights .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon {   display: inline-block;   height: 16px;   min-height: 16px;   min-width: 16px;   position: relative;   width: 16px; } .mp-add-to-dash-container.mp-add-to-dash-type-insights .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .mp-add-to-dash-container.mp-add-to-dash-type-insights .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .mp-add-to-dash-container.mp-add-to-dash-type-insights .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=lightning-bolt] #bolt, .mp-add-to-dash-container.mp-add-to-dash-type-insights .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .mp-add-to-dash-container.mp-add-to-dash-type-insights .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=alert] #circle, .mp-add-to-dash-container.mp-add-to-dash-type-insights .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .mp-add-to-dash-container.mp-add-to-dash-type-insights .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .mp-add-to-dash-container.mp-add-to-dash-type-insights .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .mp-add-to-dash-container.mp-add-to-dash-type-insights .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon svg {   height: 16px;   left: 0;   min-height: 16px;   min-width: 16px;   position: absolute;   top: 0;   width: 16px; } .mp-add-to-dash-container.mp-add-to-dash-type-insights .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon svg, .mp-add-to-dash-container.mp-add-to-dash-type-insights .mp-add-to-dash-btn .mp-add-to-dash-upsell-icon svg-icon path {   color: #9270e2;   fill: #9270e2; } .mp-add-to-dash-container.mp-add-to-dash-type-insights mp-drop-menu {   cursor: default;   top: 8px; } .mp-add-to-dash-container mp-upsell-popup {   left: -290px;   position: relative;   top: 34px; } .mp-add-to-dash-container mp-tutorial-tooltip {   height: 124px;   text-align: left;   top: calc(50% - 60px); } .mp-add-to-dash-container mp-tutorial-tooltip .mp-add-to-dash-tutorial-title {   color: #fff;   font-size: 16px; } .mp-add-to-dash-container mp-tutorial-tooltip .mp-add-to-dash-tutorial-content {   color: #fff;   font-size: 14px;   line-height: 1.7;   margin-bottom: 10px;   margin-top: 5px;   opacity: 0.7; } .mp-add-to-dash-container mp-tutorial-tooltip:hover path {   opacity: 1; } .mp-add-to-dash-container mp-tutorial-tooltip path {   opacity: 0.7; } .mp-add-to-dash-container .mp-add-to-dash-inner-container {   position: relative; } .mp-add-to-dash-container .mp-add-to-dash-inner-container[disabled='true'] {   cursor: default;   opacity: 0.6;   pointer-events: none; } .mp-add-to-dash-container .mp-add-to-dash-inner-container mp-tooltip {   white-space: nowrap; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-btn {   cursor: pointer;   display: -webkit-box;   display: -ms-flexbox;   display: flex; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-btn.mp-add-to-dash-added svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-btn.mp-add-to-dash-added svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-btn.mp-add-to-dash-added svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-btn.mp-add-to-dash-added svg-icon[icon=lightning-bolt] #bolt, .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-btn.mp-add-to-dash-added svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-btn.mp-add-to-dash-added svg-icon[icon=alert] #circle, .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-btn.mp-add-to-dash-added svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-btn.mp-add-to-dash-added svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-btn.mp-add-to-dash-added svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-btn.mp-add-to-dash-added svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-btn.mp-add-to-dash-added svg-icon svg, .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-btn.mp-add-to-dash-added svg-icon path {   color: #39d183;   fill: #39d183; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-btn.mp-add-to-dash-added svg, .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-btn.mp-add-to-dash-added path {   -webkit-animation: changeAddToDashColor 200ms forwards 3.3s;           animation: changeAddToDashColor 200ms forwards 3.3s; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu {   position: relative; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu mp-drop-menu {   left: inherit;   position: absolute;   right: -6px; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu mp-drop-menu .mp-add-to-dash-menu-contents {   width: 340px; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-loading {   display: -webkit-box;   display: -ms-flexbox;   display: flex;   -webkit-box-orient: horizontal;   -webkit-box-direction: normal;       -ms-flex-direction: row;           flex-direction: row;   height: 130px;   -webkit-box-pack: center;       -ms-flex-pack: center;           justify-content: center;   width: 340px; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-loading .mp-add-to-dash-spinner {   display: -webkit-box;   display: -ms-flexbox;   display: flex;   -webkit-box-orient: vertical;   -webkit-box-direction: normal;       -ms-flex-direction: column;           flex-direction: column;   height: 100%;   -webkit-box-pack: center;       -ms-flex-pack: center;           justify-content: center; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-loading .mp-add-to-dash-spinner mp-spinner {   height: 30px;   width: 30px; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title {   padding: 20px 12px 16px; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-header {   color: #4c6072;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   margin-left: 6px; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-header svg-icon {   display: inline-block;   height: 23px;   min-height: 23px;   min-width: 23px;   position: relative;   width: 23px; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-header svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-header svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-header svg-icon[icon=lightning-bolt] #bolt, .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-header svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-header svg-icon[icon=alert] #circle, .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-header svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-header svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-header svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-header svg-icon svg {   height: 23px;   left: 0;   min-height: 23px;   min-width: 23px;   position: absolute;   top: 0;   width: 23px; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-header svg-icon svg, .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-header svg-icon path {   color: #39d183;   fill: #39d183; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-header .mp-add-to-dash-header-text {   display: inline-block;   font-size: 16px;   font-weight: bold;   margin: auto 0;   padding-left: 8px; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext {   color: #6d859e;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   -webkit-box-orient: horizontal;   -webkit-box-direction: normal;       -ms-flex-direction: row;           flex-direction: row;   font-size: 12px;   font-weight: 500;   -webkit-box-pack: start;       -ms-flex-pack: start;           justify-content: flex-start;   line-height: 1.5;   margin: 2px 0 6px 38px; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext.mp-add-to-dash-no-icon {   margin-left: 15px; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext mp-spinner {   height: 12px;   padding: 5px;   position: relative;   top: -2px;   width: 12px; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-dashboard-icon {   display: -webkit-box;   display: -ms-flexbox;   display: flex;   position: relative;   top: -2px; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-dashboard-icon svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-dashboard-icon svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-dashboard-icon svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-dashboard-icon svg-icon[icon=lightning-bolt] #bolt, .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-dashboard-icon svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-dashboard-icon svg-icon[icon=alert] #circle, .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-dashboard-icon svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-dashboard-icon svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-dashboard-icon svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-dashboard-icon svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-dashboard-icon svg-icon svg, .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-dashboard-icon svg-icon path {   color: #bdc9d6;   fill: #bdc9d6; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-saved-icon {   display: -webkit-box;   display: -ms-flexbox;   display: flex;   position: relative;   top: -2px; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-saved-icon svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-saved-icon svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-saved-icon svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-saved-icon svg-icon[icon=lightning-bolt] #bolt, .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-saved-icon svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-saved-icon svg-icon[icon=alert] #circle, .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-saved-icon svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-saved-icon svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-saved-icon svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-saved-icon svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-saved-icon svg-icon svg, .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-saved-icon svg-icon path {   color: #39d183;   fill: #39d183; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-error-icon {   display: -webkit-box;   display: -ms-flexbox;   display: flex;   padding-left: 2px;   position: relative;   top: -2px; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-error-icon svg-icon {   display: inline-block;   height: 20px;   min-height: 20px;   min-width: 20px;   position: relative;   width: 20px; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-error-icon svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-error-icon svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-error-icon svg-icon[icon=lightning-bolt] #bolt, .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-error-icon svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-error-icon svg-icon[icon=alert] #circle, .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-error-icon svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-error-icon svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-error-icon svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-error-icon svg-icon svg {   height: 20px;   left: 0;   min-height: 20px;   min-width: 20px;   position: absolute;   top: 0;   width: 20px; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-error-icon svg-icon svg, .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu .mp-add-to-dash-title .mp-add-to-dash-subtext .mp-add-to-dash-error-icon svg-icon path {   color: #e4567b;   fill: #e4567b; } .mp-add-to-dash-container .mp-add-to-dash-inner-container .mp-add-to-dash-menu mp-tag-selector {   z-index: 1000; } .mp-add-to-dash-container[not-implemented='true']:hover .mp-add-to-dash-disabled-tooltip {   display: -webkit-box;   display: -ms-flexbox;   display: flex; } .mp-add-to-dash-container .mp-add-to-dash-disabled-tooltip {   background-color: #4c6072;   border-radius: 5px;   box-shadow: 0 10px 15px 0 rgba(0,0,0,0.1), 0 15px 30px 0 rgba(0,0,0,0.2);   display: none;   -webkit-box-orient: horizontal;   -webkit-box-direction: normal;       -ms-flex-direction: row;           flex-direction: row;   height: 71px;   -ms-flex-pack: distribute;       justify-content: space-around;   left: -375px;   opacity: 1;   padding: 18px 14px 0 24px;   position: absolute;   top: 51px;   width: 432px;   z-index: 6000; } .mp-add-to-dash-container .mp-add-to-dash-disabled-tooltip .mp-add-to-dash-disabled-tooltip-icon {   background: url(\"/site_media/images/reports/support-dash.png\") no-repeat;   position: relative;   top: 4px;   width: 63px; } .mp-add-to-dash-container .mp-add-to-dash-disabled-tooltip .mp-add-to-dash-disabled-tooltip-text {   color: #fff;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 500;   line-height: 1.38;   text-align: left; } @-webkit-keyframes changeAddToDashColor {   from {     color: #39d183;     fill: #39d183;   }   to {     color: #6d859e;     fill: #6d859e;   } } @keyframes changeAddToDashColor {   from {     color: #39d183;     fill: #39d183;   }   to {     color: #6d859e;     fill: #6d859e;   } } ";

},{}],289:[function(require,module,exports){
'use strict';

function _jade_template_fn(locals) {
  locals = locals || {};;;
  var result_of_with = function ($component, $helpers, Object, activeBookmark, confirmDeleteBookmark, createMode, filterText, filteredBookmarks, open, saving, showUpsellModal, userId) {
    var h = require('panel').h;
    var jade_mixins = {};
    jade_mixins['list-item'] = function (bookmark) {
      var block = this && this.block,
          attributes = this && this.attributes || {};

      return function () {
        var __jade_nodes = [];
        __jade_nodes = __jade_nodes.concat(h("mp-list-item", {
          "attrs": {
            active: activeBookmark && activeBookmark.id === bookmark.id
          },
          "on": {
            click: function click() {
              return $helpers.selectBookmark(bookmark);
            },
            mouseover: function mouseover() {
              return $helpers.activateBookmark(bookmark);
            },
            mouseleave: function mouseleave() {
              return $helpers.activateBookmark(null);
            }
          }
        }, function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(h("div", {
            "class": {
              'mp-bm-menu-bookmark-row': true
            }
          }, function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(h("div", {
              "class": {
                'mp-bm-menu-bookmark-details': true
              }
            }, function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h("div", {
                "attrs": {
                  title: bookmark.name
                },
                "class": {
                  'mp-bm-menu-name': true
                }
              }, function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat($helpers.stringFilterMatches(bookmark.name, filterText).reduce(function (__each_nodes, token, pos) {
                  return __each_nodes.concat(function () {
                    var __jade_nodes = [];
                    __jade_nodes = __jade_nodes.concat(pos % 2 === 1 ? function () {
                      var __jade_nodes = [];
                      __jade_nodes = __jade_nodes.concat(h("span", [$helpers.truncateMiddle(token, 40) || '']));;
                      return __jade_nodes;
                    }.call(this) : function () {
                      var __jade_nodes = [];
                      __jade_nodes = __jade_nodes.concat(h("b", [token || '']));;
                      return __jade_nodes;
                    }.call(this));;
                    return __jade_nodes;
                  }.call(this));
                }, []));;
                return __jade_nodes;
              }.call(this).filter(Boolean)));
              __jade_nodes = __jade_nodes.concat(h("div", {
                "class": {
                  'mp-bm-menu-creator': true
                }
              }, [bookmark.user || '']));;
              return __jade_nodes;
            }.call(this).filter(Boolean)));
            __jade_nodes = __jade_nodes.concat($component.isAttributeEnabled('has-write-permissions') ? function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h("div", {
                "on": {
                  click: function click(e) {
                    return $helpers.openConfirmDeleteDialog(e, bookmark);
                  }
                },
                "class": {
                  'mp-bm-menu-delete-button': true
                }
              }, function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat(h("svg-icon", {
                  "attrs": {
                    icon: 'trashcan'
                  }
                }));;
                return __jade_nodes;
              }.call(this).filter(Boolean)));;
              return __jade_nodes;
            }.call(this) : undefined);;
            return __jade_nodes;
          }.call(this).filter(Boolean)));;
          return __jade_nodes;
        }.call(this).filter(Boolean)));;
        return __jade_nodes;
      }.call(this);
    };
    return {
      value: h("div", {
        "on": {
          scroll: $helpers.stopPropagation
        },
        "class": {
          'mp-bm-container': true
        }
      }, function () {
        var __jade_nodes = [];
        __jade_nodes = __jade_nodes.concat(h("mp-upsell-popup", {
          "attrs": {
            open: showUpsellModal,
            feature: 'bookmark-maximum'
          },
          "on": {
            change: $helpers.closeUpsellModal
          }
        }));
        __jade_nodes = __jade_nodes.concat(h("div", {
          "on": {
            click: $helpers.toggleBookmarksMenu
          },
          "class": {
            'mp-bm-btn': true
          }
        }, function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(h("div", {
            "class": {
              'mp-bm-btn-icon': true
            }
          }, function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(h("svg-icon", {
              "attrs": {
                icon: 'bookmarks'
              }
            }));;
            return __jade_nodes;
          }.call(this).filter(Boolean)));
          __jade_nodes = __jade_nodes.concat(h("span", function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat("Bookmarks");;
            return __jade_nodes;
          }.call(this).filter(Boolean)));;
          return __jade_nodes;
        }.call(this).filter(Boolean)));
        __jade_nodes = __jade_nodes.concat(h("div", {
          "attrs": {
            tabindex: 0
          },
          "class": {
            'mp-bm-menu': true
          }
        }, function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(h("mp-drop-menu", {
            "attrs": {
              open: open
            },
            "on": {
              change: $helpers.handleDropMenuChange
            }
          }, function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(h("div", {
              "attrs": {
                'slot-body': true
              },
              "class": {
                'mp-bm-menu-container': true
              }
            }, function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h("mp-icon-input", {
                "attrs": {
                  icon: 'search',
                  placeholder: 'Search bookmarks...'
                },
                "on": {
                  change: $helpers.stopPropagation,
                  input: $helpers.setFilterText
                },
                "class": {
                  'mp-bm-menu-search': true
                }
              }));
              __jade_nodes = __jade_nodes.concat(h("div", {
                "class": {
                  'mp-bm-menu-list': true
                }
              }, function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat(filteredBookmarks.length === 0 ? function () {
                  var __jade_nodes = [];
                  __jade_nodes = __jade_nodes.concat(h("mp-list-item", {
                    "attrs": {
                      static: true
                    }
                  }, function () {
                    var __jade_nodes = [];
                    __jade_nodes = __jade_nodes.concat(h("div", {
                      "class": {
                        'mp-bm-menu-empty': true
                      }
                    }, function () {
                      var __jade_nodes = [];
                      __jade_nodes = __jade_nodes.concat("No bookmarks found, try creating a bookmark.");;
                      return __jade_nodes;
                    }.call(this).filter(Boolean)));;
                    return __jade_nodes;
                  }.call(this).filter(Boolean)));;
                  return __jade_nodes;
                }.call(this) : function () {
                  var __jade_nodes = [];
                  var showSectionHeader = filteredBookmarks[0].user_id === userId && filteredBookmarks[filteredBookmarks.length - 1].userId !== userId;
                  __jade_nodes = __jade_nodes.concat(filteredBookmarks.reduce(function (__each_nodes, bookmark, idx) {
                    return __each_nodes.concat(function () {
                      var __jade_nodes = [];
                      __jade_nodes = __jade_nodes.concat(showSectionHeader ? function () {
                        var __jade_nodes = [];
                        __jade_nodes = __jade_nodes.concat(idx === 0 ? function () {
                          var __jade_nodes = [];
                          __jade_nodes = __jade_nodes.concat(h("mp-list-item", {
                            "attrs": {
                              static: true
                            }
                          }, function () {
                            var __jade_nodes = [];
                            __jade_nodes = __jade_nodes.concat(h("div", {
                              "class": {
                                'mp-bm-menu-section-header': true
                              }
                            }, function () {
                              var __jade_nodes = [];
                              __jade_nodes = __jade_nodes.concat("Your Bookmarks");;
                              return __jade_nodes;
                            }.call(this).filter(Boolean)));;
                            return __jade_nodes;
                          }.call(this).filter(Boolean)));;
                          return __jade_nodes;
                        }.call(this) : bookmark.user_id !== userId && filteredBookmarks[idx - 1].user_id === userId ? function () {
                          var __jade_nodes = [];
                          __jade_nodes = __jade_nodes.concat(h("div", {
                            "class": {
                              'mp-bm-menu-list-item-divider': true
                            }
                          }));
                          __jade_nodes = __jade_nodes.concat(h("mp-list-item", {
                            "attrs": {
                              static: true
                            }
                          }, function () {
                            var __jade_nodes = [];
                            __jade_nodes = __jade_nodes.concat(h("div", {
                              "class": {
                                'mp-bm-menu-section-header': true
                              }
                            }, function () {
                              var __jade_nodes = [];
                              __jade_nodes = __jade_nodes.concat("Other bookmarks");;
                              return __jade_nodes;
                            }.call(this).filter(Boolean)));;
                            return __jade_nodes;
                          }.call(this).filter(Boolean)));;
                          return __jade_nodes;
                        }.call(this) : undefined);;
                        return __jade_nodes;
                      }.call(this) : undefined);
                      __jade_nodes = __jade_nodes.concat(jade_mixins['list-item'].call(this, bookmark));;
                      return __jade_nodes;
                    }.call(this));
                  }, []));;
                  return __jade_nodes;
                }.call(this));;
                return __jade_nodes;
              }.call(this).filter(Boolean)));
              __jade_nodes = __jade_nodes.concat($component.isAttributeEnabled('has-write-permissions') ? function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat(h("div", {
                  "class": {
                    'mp-bm-menu-add': true
                  }
                }, function () {
                  var __jade_nodes = [];
                  __jade_nodes = __jade_nodes.concat(!$component.isAttributeEnabled('create-disabled') && (createMode || saving) ? function () {
                    var __jade_nodes = [];
                    __jade_nodes = __jade_nodes.concat(h("mp-input-group", {
                      "attrs": {
                        autofocus: true,
                        placeholder: 'Name your bookmark',
                        busy: saving
                      },
                      "on": {
                        keydown: $helpers.stopPropagation,
                        change: $helpers.stopPropagation,
                        input: $helpers.setName,
                        submit: $helpers.createBookmark
                      }
                    }));;
                    return __jade_nodes;
                  }.call(this) : function () {
                    var __jade_nodes = [];
                    __jade_nodes = __jade_nodes.concat(h("mp-button-bar", {
                      "attrs": {
                        disabled: $component.isAttributeEnabled('create-disabled')
                      },
                      "on": {
                        click: $component.isAttributeEnabled('over-free-limit') ? $helpers.openUpsellModal : $helpers.goToCreateMode
                      },
                      "class": {
                        'mp-button-bar-secondary': true
                      }
                    }, function () {
                      var __jade_nodes = [];
                      __jade_nodes = __jade_nodes.concat(h("div", {
                        "class": Object.assign({}, {
                          'mp-bm-menu-over-free-text': $component.isAttributeEnabled('over-free-limit')
                        }, {
                          'mp-bm-menu-button-bar-text': true
                        })
                      }, function () {
                        var __jade_nodes = [];
                        __jade_nodes = __jade_nodes.concat("Create new bookmark");;
                        return __jade_nodes;
                      }.call(this).filter(Boolean)));;
                      return __jade_nodes;
                    }.call(this).filter(Boolean)));
                    __jade_nodes = __jade_nodes.concat($component.isAttributeEnabled('over-free-limit') ? function () {
                      var __jade_nodes = [];
                      __jade_nodes = __jade_nodes.concat(h("div", {
                        "class": {
                          'mp-bm-menu-upsell-icon': true
                        }
                      }, function () {
                        var __jade_nodes = [];
                        __jade_nodes = __jade_nodes.concat(h("svg-icon", {
                          "attrs": {
                            icon: 'lightning-bolt'
                          }
                        }));;
                        return __jade_nodes;
                      }.call(this).filter(Boolean)));;
                      return __jade_nodes;
                    }.call(this) : undefined);;
                    return __jade_nodes;
                  }.call(this));;
                  return __jade_nodes;
                }.call(this).filter(Boolean)));;
                return __jade_nodes;
              }.call(this) : undefined);;
              return __jade_nodes;
            }.call(this).filter(Boolean)));;
            return __jade_nodes;
          }.call(this).filter(Boolean)));;
          return __jade_nodes;
        }.call(this).filter(Boolean)));
        __jade_nodes = __jade_nodes.concat(confirmDeleteBookmark ? function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(h("mp-confirm-delete", {
            "attrs": {
              closeable: true,
              open: true
            },
            "on": {
              change: $helpers.handleConfirmModalChange,
              submit: $helpers.handleConfirmSubmit
            }
          }, function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(h("div", {
              "attrs": {
                'slot-body': true
              },
              "class": {
                'mp-bm-menu-confirm-delete-container': true
              }
            }, function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h("div", {
                "class": {
                  'mp-confirm-delete-title': true
                }
              }, function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat("Delete bookmark");;
                return __jade_nodes;
              }.call(this).filter(Boolean)));
              __jade_nodes = __jade_nodes.concat(confirmDeleteBookmark.include_in_dashboard ? function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat(h("div", {
                  "class": {
                    'mp-confirm-delete-description': true
                  }
                }, function () {
                  var __jade_nodes = [];
                  __jade_nodes = __jade_nodes.concat("Are you sure you want to delete the bookmark named \"" + confirmDeleteBookmark.name + "\"?");
                  __jade_nodes = __jade_nodes.concat(h("br"));
                  __jade_nodes = __jade_nodes.concat(h("br"));
                  __jade_nodes = __jade_nodes.concat("Deleting it will also remove it from all dashboards.");;
                  return __jade_nodes;
                }.call(this).filter(Boolean)));;
                return __jade_nodes;
              }.call(this) : function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat(h("div", {
                  "class": {
                    'mp-confirm-delete-description': true
                  }
                }, function () {
                  var __jade_nodes = [];
                  __jade_nodes = __jade_nodes.concat("Are you sure you want to delete the bookmark named \"" + confirmDeleteBookmark.name + "\"?");;
                  return __jade_nodes;
                }.call(this).filter(Boolean)));;
                return __jade_nodes;
              }.call(this));;
              return __jade_nodes;
            }.call(this).filter(Boolean)));;
            return __jade_nodes;
          }.call(this).filter(Boolean)));;
          return __jade_nodes;
        }.call(this) : undefined);;
        return __jade_nodes;
      }.call(this).filter(Boolean))
    };
  }.call(this, "$component" in locals ? locals.$component : typeof $component !== "undefined" ? $component : undefined, "$helpers" in locals ? locals.$helpers : typeof $helpers !== "undefined" ? $helpers : undefined, "Object" in locals ? locals.Object : typeof Object !== "undefined" ? Object : undefined, "activeBookmark" in locals ? locals.activeBookmark : typeof activeBookmark !== "undefined" ? activeBookmark : undefined, "confirmDeleteBookmark" in locals ? locals.confirmDeleteBookmark : typeof confirmDeleteBookmark !== "undefined" ? confirmDeleteBookmark : undefined, "createMode" in locals ? locals.createMode : typeof createMode !== "undefined" ? createMode : undefined, "filterText" in locals ? locals.filterText : typeof filterText !== "undefined" ? filterText : undefined, "filteredBookmarks" in locals ? locals.filteredBookmarks : typeof filteredBookmarks !== "undefined" ? filteredBookmarks : undefined, "open" in locals ? locals.open : typeof open !== "undefined" ? open : undefined, "saving" in locals ? locals.saving : typeof saving !== "undefined" ? saving : undefined, "showUpsellModal" in locals ? locals.showUpsellModal : typeof showUpsellModal !== "undefined" ? showUpsellModal : undefined, "userId" in locals ? locals.userId : typeof userId !== "undefined" ? userId : undefined);
  if (result_of_with) return result_of_with.value;
}
module.exports = _jade_template_fn;
},{"panel":343}],290:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _panel = require('panel');

var _registerElement = require('../../util/register-element.js');

var _index = require('../../util/index.js');

var _string = require('../../util/string.js');

var _index2 = require('./index.jade');

var _index3 = _interopRequireDefault(_index2);

var _index4 = require('./index.styl');

var _index5 = _interopRequireDefault(_index4);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

exports.default = (0, _registerElement.registerMPElement)('mp-bookmarks-widget', function (_Component) {
  _inherits(_class, _Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: '_sortBookmarks',
    value: function _sortBookmarks(a, b) {
      // put all bookmarks for the logged in "userId" at the top
      // then sort by name
      var aIsLoggedInUser = a.user_id === this.state.userId;
      var bIsLoggedInUser = b.user_id === this.state.userId;
      if (aIsLoggedInUser === bIsLoggedInUser) {
        var nameA = a.name.toUpperCase();
        var nameB = b.name.toUpperCase();
        return nameA < nameB ? -1 : nameA > nameB ? 1 : 0;
      } else {
        return aIsLoggedInUser ? -1 : 1;
      }
    }
  }, {
    key: '_filterBookmarks',
    value: function _filterBookmarks() {
      var _this2 = this;

      var filteredBookmarks = this.state.bookmarks.filter(function (b) {
        return (0, _string.stringFilterMatches)(b.name, _this2.state.filterText);
      }).sort(function (a, b) {
        return _this2._sortBookmarks(a, b);
      });
      this.update({ filteredBookmarks: filteredBookmarks });
    }
  }, {
    key: '_setActiveBookmark',
    value: function _setActiveBookmark(activeBookmark) {
      var _this3 = this;

      var scrollIntoView = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

      this.update({ activeBookmark: activeBookmark });

      if (scrollIntoView) {
        window.requestAnimationFrame(function () {
          var activeEl = _this3.el.querySelector('mp-list-item[active="true"]');
          if (activeEl) {
            var listEl = _this3.el.querySelector('.mp-bm-menu-list');
            var viewportBottom = listEl.scrollTop + listEl.offsetHeight;
            var activeElBottom = activeEl.offsetTop + activeEl.offsetHeight;
            if (activeEl.offsetTop < listEl.scrollTop) {
              listEl.scrollTop = activeEl.offsetTop - 8;
            } else if (activeElBottom > viewportBottom) {
              listEl.scrollTop = activeElBottom - listEl.offsetHeight + 8;
            }
          }
        });
      }
    }
  }, {
    key: '_resetActiveBookmark',
    value: function _resetActiveBookmark() {
      var _this4 = this;

      var selectedBookmark = this.state.filteredBookmarks.find(function (b) {
        return b.id === parseInt(_this4.getAttribute('selected-bookmark-id'));
      });
      this._setActiveBookmark(selectedBookmark || this.state.filteredBookmarks[0]);
    }
  }, {
    key: '_selectBookmark',
    value: function _selectBookmark(selectedBookmark) {
      this.update({ selectedBookmark: selectedBookmark });
      this.setAttribute('open', false);
      this.setAttribute('selected-bookmark-id', selectedBookmark.id);
      this.dispatchEvent(new CustomEvent('submit', { detail: { action: 'select', value: selectedBookmark } }));
    }
  }, {
    key: '_parseAttribute',
    value: function _parseAttribute(name) {
      switch (name) {
        case 'bookmarks':
          {
            this.state.bookmarks = this.getJSONAttribute('bookmarks') || [];
            this._filterBookmarks();
            this._resetActiveBookmark();
            break;
          }
        case 'open':
          {
            var open = this.isAttributeEnabled('open');
            this.dispatchEvent(new CustomEvent('change', { detail: { open: open } }));
            this.update({ open: open });
            break;
          }
        case 'saving':
          {
            this.update({ saving: this.isAttributeEnabled('saving') });
            break;
          }
        case 'selected-bookmark-id':
          {
            this._resetActiveBookmark();
            break;
          }
        case 'user-id':
          {
            this.state.userId = parseInt(this.getAttribute('user-id'));
            this._filterBookmarks();
            this._resetActiveBookmark();
            break;
          }
      }
    }
  }, {
    key: 'attachedCallback',
    value: function attachedCallback() {
      var _this5 = this;

      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'attachedCallback', this).call(this);
      this.localKeydownListener = function (e) {
        if (_this5.state.open) {
          switch (e.keyCode) {
            case 13:
              // enter
              _this5._selectBookmark(_this5.state.activeBookmark);
              break;
            case 38:
              {
                // up arrow
                e.preventDefault();
                var bookmarks = _this5.state.filteredBookmarks;
                var activeIdx = bookmarks.indexOf(_this5.state.activeBookmark);
                if (activeIdx !== 0) {
                  _this5._setActiveBookmark(bookmarks[activeIdx - 1]);
                }
                break;
              }
            case 40:
              {
                // down arrow
                e.preventDefault();
                var _bookmarks = _this5.state.filteredBookmarks;
                var _activeIdx = _bookmarks.indexOf(_this5.state.activeBookmark);
                if (_activeIdx < _bookmarks.length - 1) {
                  _this5._setActiveBookmark(_bookmarks[_activeIdx + 1]);
                }
                break;
              }
          }
        }
      };
      this.addEventListener('keydown', this.localKeydownListener);

      // bootstrap the widget's state from attributes
      this.update({
        bookmarks: this.getJSONAttribute('bookmarks'),
        open: this.isAttributeEnabled('open'),
        saving: this.isAttributeEnabled('saving'),
        userId: parseInt(this.getAttribute('user-id'))
      });
      this._filterBookmarks();
      if (this.state.open) {
        this._resetActiveBookmark();
      }
    }
  }, {
    key: 'detachedCallback',
    value: function detachedCallback() {
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'detachedCallback', this).apply(this, arguments);
      this.removeEventListener('keydown', this.localKeydownListener);
    }
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(name) {
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'attributeChangedCallback', this).apply(this, arguments);
      if (this.initialized) {
        this._parseAttribute(name);
        if (name === 'open') {
          this.update({ createMode: false });
        }
      }
    }
  }, {
    key: 'config',
    get: function get() {
      var _this6 = this;

      return {
        css: _index5.default,
        template: _index3.default,
        useShadowDom: true,
        defaultState: {
          activeBookmark: null,
          bookmarks: [],
          confirmDeleteBookmarkId: null,
          createMode: false,
          filteredBookmarks: [],
          filterText: '',
          name: '',
          open: false,
          selectedBookmark: null,
          userId: null,
          showUpsellModal: false
        },
        helpers: {
          toggleBookmarksMenu: function toggleBookmarksMenu() {
            return _this6.setAttribute('open', !_this6.state.open);
          },
          handleDropMenuChange: function handleDropMenuChange(e) {
            e.stopImmediatePropagation();
            if (e.detail.state === 'open') {
              _this6.el.querySelector('.mp-bm-menu-search').focus();
            } else if (e.detail.state === 'closed') {
              _this6.setAttribute('open', false);
            }
          },
          handleSubmit: function handleSubmit(e) {
            if (e.detail.action === 'select') {
              _this6.setAttribute('open', false);
            }
          },
          setFilterText: function setFilterText(e) {
            _this6.update({ filterText: e.target.value });
            _this6._filterBookmarks();
            _this6._setActiveBookmark(_this6.state.filteredBookmarks[0]);
          },
          activateBookmark: function activateBookmark(bookmark) {
            _this6._setActiveBookmark(bookmark, false);
          },
          selectBookmark: function selectBookmark(bookmark) {
            _this6._selectBookmark(bookmark);
          },
          openConfirmDeleteDialog: function openConfirmDeleteDialog(e, bookmark) {
            e.stopImmediatePropagation();
            _this6.update({ confirmDeleteBookmark: bookmark });
          },
          handleConfirmModalChange: function handleConfirmModalChange(e) {
            e.stopImmediatePropagation();
            if (e.detail.state === 'closed') {
              _this6.update({ confirmDeleteBookmark: null });
            }
          },
          handleConfirmSubmit: function handleConfirmSubmit(e) {
            if (e.detail.action === 'confirm') {
              _this6.dispatchEvent(new CustomEvent('submit', {
                detail: {
                  action: 'delete',
                  bookmarkId: _this6.state.confirmDeleteBookmark.id
                }
              }));
            }
          },
          goToCreateMode: function goToCreateMode() {
            _this6.update({ createMode: true });
            window.requestAnimationFrame(function () {
              return _this6.el.querySelector('mp-input-group').focus();
            });
          },
          createBookmark: function createBookmark(e) {
            e.stopImmediatePropagation();
            _this6.update({ createMode: false });
            _this6.setAttribute('saving', true);
            _this6.dispatchEvent(new CustomEvent('submit', { detail: { action: 'create', name: _this6.state.name } }));
          },
          openUpsellModal: function openUpsellModal(e) {
            e.stopPropagation();
            _this6.update({ showUpsellModal: true });
          },
          closeUpsellModal: function closeUpsellModal(e) {
            e.stopPropagation();
            if (e.detail.state === 'closed') {
              _this6.update({ showUpsellModal: false });
            }
          },
          setName: function setName(e) {
            e.stopImmediatePropagation();
            _this6.update({ name: e.target.value });
          },
          stopPropagation: function stopPropagation(e) {
            e.stopImmediatePropagation();
          },
          stringFilterMatches: _string.stringFilterMatches,
          truncateMiddle: _index.truncateMiddle
        }
      };
    }
  }]);

  return _class;
}(_panel.Component));
},{"../../util/index.js":282,"../../util/register-element.js":283,"../../util/string.js":285,"./index.jade":289,"./index.styl":291,"panel":343}],291:[function(require,module,exports){
module.exports = "* {   -webkit-font-smoothing: antialiased; } *:focus {   outline: 0; } *::-ms-clear {   height: 0;   width: 0; } body {   color: #6d859e;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-stretch: normal;   font-weight: 400; } body.no-scroll {   overflow: hidden; } a, .mp-link {   cursor: pointer;   text-decoration: none; } a, .mp-link, a:visited, .mp-link:visited {   color: #3b99f0; } a:hover, .mp-link:hover {   color: #4ba8ff; } .mp-font-size-xl {   font-size: 18px; } .mp-font-size-large {   font-size: 16px; } .mp-font-size-medium {   font-size: 14px; } .mp-font-size-default {   font-size: 13px; } .mp-font-size-xs {   font-size: 11px;   text-transform: uppercase; } .mp-font-weight-bold {   font-weight: 600; } .mp-font-weight-medium {   font-weight: 500; } .mp-font-weight-regular {   font-weight: 400; } .mp-font-paragraph {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } input[type=text], textarea {   border: 1px solid #d8e0ea;   border-radius: 5px;   box-sizing: border-box;   color: #4c6072;   display: inline-block;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 400;   padding: 8px;   transition: border-color 150ms ease-out; } input[type=text]::-webkit-input-placeholder, textarea::-webkit-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::-moz-placeholder, textarea::-moz-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:-ms-input-placeholder, textarea:-ms-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::placeholder, textarea::placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:focus, textarea:focus, input[type=text]:active, textarea:active {   border-color: #3391e9;   transition: border-color 200ms ease-in; } input[type=text] {   height: 36px; } mp-truncated-text {   display: inline-block;   white-space: nowrap;   width: 100%; } svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } svg-icon[icon=lightning-bolt] #bolt, svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } svg-icon[icon=alert] #circle, svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } mp-bookmarks-widget {   background-color: #ecf3f8;   background-image: linear-gradient(#f4f9fd 0, #ecf3f8 100%);   box-shadow: 0 1px rgba(0,0,0,0.05);   box-sizing: border-box;   height: 54px;   width: 145px; } :host {   background-color: #ecf3f8;   background-image: linear-gradient(#f4f9fd 0, #ecf3f8 100%);   box-shadow: 0 1px rgba(0,0,0,0.05);   box-sizing: border-box;   height: 54px;   width: 145px; } .mp-bm-container, .mp-bm-container * {   box-sizing: border-box; } .mp-bm-container {   color: #6d859e;   display: -webkit-inline-box;   display: -ms-inline-flexbox;   display: inline-flex;   -webkit-box-orient: vertical;   -webkit-box-direction: normal;       -ms-flex-direction: column;           flex-direction: column;   height: 100%;   position: relative;   width: 100%; } .mp-bm-container mp-upsell-popup {   left: -460px;   position: absolute;   top: 86px; } .mp-bm-container .mp-bm-btn {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   cursor: pointer;   display: -webkit-inline-box;   display: -ms-inline-flexbox;   display: inline-flex;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 600;   height: 100%;   -webkit-box-pack: center;       -ms-flex-pack: center;           justify-content: center;   -webkit-user-select: none;      -moz-user-select: none;       -ms-user-select: none;           user-select: none;   width: 100%; } .mp-bm-container .mp-bm-btn svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } .mp-bm-container .mp-bm-btn svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .mp-bm-container .mp-bm-btn svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .mp-bm-container .mp-bm-btn svg-icon[icon=lightning-bolt] #bolt, .mp-bm-container .mp-bm-btn svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .mp-bm-container .mp-bm-btn svg-icon[icon=alert] #circle, .mp-bm-container .mp-bm-btn svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .mp-bm-container .mp-bm-btn svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .mp-bm-container .mp-bm-btn svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .mp-bm-container .mp-bm-btn svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } .mp-bm-container .mp-bm-btn svg-icon svg, .mp-bm-container .mp-bm-btn svg-icon path {   color: #6d859e;   fill: #6d859e; } .mp-bm-container .mp-bm-btn svg-icon svg, .mp-bm-container .mp-bm-btn svg-icon path {   transition: 0; } .mp-bm-container .mp-bm-btn:hover svg-icon svg, .mp-bm-container .mp-bm-btn:hover svg-icon path {   color: #4c6072;   fill: #4c6072; } .mp-bm-container .mp-bm-btn .mp-bm-btn-icon {   height: 22px;   margin-right: 4px; } .mp-bm-container .mp-bm-btn:hover {   background-color: rgba(255,255,255,0.35);   color: #4c6072; } .mp-bm-container .mp-bm-menu {   height: 0;   position: relative;   width: 100%; } .mp-bm-container .mp-bm-menu mp-drop-menu {   left: initial;   right: -8px;   top: -10px; } .mp-bm-menu-container, .mp-bm-menu-container * {   box-sizing: border-box; } .mp-bm-menu-container {   background-color: #fff;   border-radius: 5px;   width: 320px; } .mp-bm-menu-container.mp-bm-menu-open {   display: block; } .mp-bm-menu-container mp-icon-input {   border-bottom: 1px solid #e5eef4;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   height: 60px;   padding: 12px 15px; } .mp-bm-menu-container .mp-bm-menu-list {   border-bottom-left-radius: 5px;   border-bottom-right-radius: 5px;   max-height: 360px;   overflow-x: hidden;   overflow-y: auto;   position: relative; } .mp-bm-menu-container .mp-bm-menu-list .mp-bm-menu-list-item-divider {   background-color: #ecf3f8;   height: 1px;   margin: 10px; } .mp-bm-menu-container .mp-bm-menu-list mp-list-item:not([static]) {   height: 50px; } .mp-bm-menu-container .mp-bm-menu-list mp-list-item .mp-bm-menu-empty {   font-style: italic; } .mp-bm-menu-container .mp-bm-menu-list mp-list-item .mp-bm-menu-section-header {   color: #6d859e;   font-size: 11px;   text-transform: uppercase;   font-weight: 600; } .mp-bm-menu-container .mp-bm-menu-list mp-list-item .mp-bm-menu-bookmark-row {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   -webkit-box-flex: 1;       -ms-flex: 1;           flex: 1; } .mp-bm-menu-container .mp-bm-menu-list mp-list-item .mp-bm-menu-bookmark-row .mp-bm-menu-bookmark-details {   display: -webkit-box;   display: -ms-flexbox;   display: flex;   -webkit-box-flex: 1;       -ms-flex: 1;           flex: 1;   -webkit-box-orient: vertical;   -webkit-box-direction: normal;       -ms-flex-direction: column;           flex-direction: column;   min-width: 0; } .mp-bm-menu-container .mp-bm-menu-list mp-list-item .mp-bm-menu-bookmark-row .mp-bm-menu-bookmark-details .mp-bm-menu-name, .mp-bm-menu-container .mp-bm-menu-list mp-list-item .mp-bm-menu-bookmark-row .mp-bm-menu-bookmark-details .mp-bm-menu-creator {   font-size: 13px;   max-width: 260px;   overflow: hidden;   text-overflow: ellipsis;   white-space: nowrap; } .mp-bm-menu-container .mp-bm-menu-list mp-list-item .mp-bm-menu-bookmark-row .mp-bm-menu-bookmark-details .mp-bm-menu-name {   color: #6d859e;   font-weight: 500;   line-height: 14px;   margin-bottom: 4px; } .mp-bm-menu-container .mp-bm-menu-list mp-list-item .mp-bm-menu-bookmark-row .mp-bm-menu-bookmark-details .mp-bm-menu-creator {   color: #bdc9d6;   font-weight: 400; } .mp-bm-menu-container .mp-bm-menu-list mp-list-item .mp-bm-menu-delete-button {   -webkit-box-flex: 0;       -ms-flex: none;           flex: none;   height: 22px;   margin-right: 6px;   opacity: 0; } .mp-bm-menu-container .mp-bm-menu-list mp-list-item .mp-bm-menu-delete-button svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } .mp-bm-menu-container .mp-bm-menu-list mp-list-item .mp-bm-menu-delete-button svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .mp-bm-menu-container .mp-bm-menu-list mp-list-item .mp-bm-menu-delete-button svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .mp-bm-menu-container .mp-bm-menu-list mp-list-item .mp-bm-menu-delete-button svg-icon[icon=lightning-bolt] #bolt, .mp-bm-menu-container .mp-bm-menu-list mp-list-item .mp-bm-menu-delete-button svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .mp-bm-menu-container .mp-bm-menu-list mp-list-item .mp-bm-menu-delete-button svg-icon[icon=alert] #circle, .mp-bm-menu-container .mp-bm-menu-list mp-list-item .mp-bm-menu-delete-button svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .mp-bm-menu-container .mp-bm-menu-list mp-list-item .mp-bm-menu-delete-button svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .mp-bm-menu-container .mp-bm-menu-list mp-list-item .mp-bm-menu-delete-button svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .mp-bm-menu-container .mp-bm-menu-list mp-list-item .mp-bm-menu-delete-button svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } .mp-bm-menu-container .mp-bm-menu-list mp-list-item .mp-bm-menu-delete-button svg-icon svg, .mp-bm-menu-container .mp-bm-menu-list mp-list-item .mp-bm-menu-delete-button svg-icon path {   color: #d8e0ea;   fill: #d8e0ea; } .mp-bm-menu-container .mp-bm-menu-list mp-list-item .mp-bm-menu-delete-button svg-icon svg, .mp-bm-menu-container .mp-bm-menu-list mp-list-item .mp-bm-menu-delete-button svg-icon path {   transition: 0.1s; } .mp-bm-menu-container .mp-bm-menu-list mp-list-item .mp-bm-menu-delete-button:hover svg-icon svg, .mp-bm-menu-container .mp-bm-menu-list mp-list-item .mp-bm-menu-delete-button:hover svg-icon path {   color: #e4567b;   fill: #e4567b; } .mp-bm-menu-container .mp-bm-menu-list mp-list-item:hover .mp-bm-menu-delete-button {   opacity: 1; } .mp-bm-menu-container .mp-bm-menu-list mp-list-item[active='true'] .mp-bm-menu-bookmark-row .mp-bm-menu-bookmark-details .mp-bm-menu-name {   color: #4ba8ff; } .mp-bm-menu-container .mp-bm-menu-list mp-list-item[active='true'] .mp-bm-menu-bookmark-row .mp-bm-menu-bookmark-details .mp-bm-menu-creator {   color: #9bacbf; } .mp-bm-menu-add {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   height: 50px;   -webkit-box-pack: center;       -ms-flex-pack: center;           justify-content: center;   position: relative;   width: 100%; } .mp-bm-menu-add mp-button-bar {   height: 100%; } .mp-bm-menu-add mp-button-bar .mp-bm-menu-over-free-text {   left: 13px;   position: relative; } .mp-bm-menu-add .mp-bm-menu-upsell-icon {   left: 72px;   position: absolute;   top: 15px; } .mp-bm-menu-add .mp-bm-menu-upsell-icon svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } .mp-bm-menu-add .mp-bm-menu-upsell-icon svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .mp-bm-menu-add .mp-bm-menu-upsell-icon svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .mp-bm-menu-add .mp-bm-menu-upsell-icon svg-icon[icon=lightning-bolt] #bolt, .mp-bm-menu-add .mp-bm-menu-upsell-icon svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .mp-bm-menu-add .mp-bm-menu-upsell-icon svg-icon[icon=alert] #circle, .mp-bm-menu-add .mp-bm-menu-upsell-icon svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .mp-bm-menu-add .mp-bm-menu-upsell-icon svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .mp-bm-menu-add .mp-bm-menu-upsell-icon svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .mp-bm-menu-add .mp-bm-menu-upsell-icon svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } .mp-bm-menu-add .mp-bm-menu-upsell-icon svg-icon svg, .mp-bm-menu-add .mp-bm-menu-upsell-icon svg-icon path {   color: #9270e2;   fill: #9270e2; } .mp-bm-menu-add mp-input-group {   border-top: 1px solid #d8e0ea;   height: 100%;   padding: 6px;   width: 100%; } .mp-bm-menu-add mp-upsell-popup {   position: fixed; } ";

},{}],292:[function(require,module,exports){
"use strict";

function _jade_template_fn(locals) {
  locals = locals || {};
  var h = require('panel').h;
  return h("div");
}
module.exports = _jade_template_fn;
},{"panel":343}],293:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _panel = require('panel');

var _registerElement = require('../../util/register-element');

var _dom = require('../../util/dom');

require('./internal');

var _index = require('./index.jade');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * We don't know the exact height of the tooltip at the time we position it, so this serves as an approximate placeholder.
 * Although this leads to imperfect vertical centering, it prevents the tooltip's vertical position from changing based
 * on its height, which is desired behavior.
 */
var TOOLTIP_HEIGHT_IN_PX = 165;

exports.default = (0, _registerElement.registerMPElement)('mp-event-definition-tooltip', function (_Component) {
  _inherits(_class, _Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'attachedCallback',
    value: function attachedCallback() {
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'attachedCallback', this).apply(this, arguments);
      this.tooltip = document.createElement('mp-event-definition-tooltip-internal');
      this.tooltip.setAttribute('url', this.getAttribute('lexicon-url') || '#');
      document.body.appendChild(this.tooltip);
      var positionElementSelector = this.getAttribute('position-parent-selector') || '';
      this.positionElement = (0, _dom.getClosest)(this, positionElementSelector) || this.previousSibling;
    }
  }, {
    key: 'detachedCallback',
    value: function detachedCallback() {
      document.body.removeChild(this.tooltip);
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'detachedCallback', this).apply(this, arguments);
    }
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(name, oldValue, newValue) {
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'attributeChangedCallback', this).apply(this, arguments);
      if (this.tooltip) {
        this.tooltip.setAttribute(name, newValue);
      }
      if (name === 'event-definition') {
        if (this.getJSONAttribute('event-definition') && this.positionElement) {
          var rect = this.positionElement.getBoundingClientRect();
          this.tooltip.style.left = rect.left + rect.width + document.body.scrollLeft + 10 + 'px';
          this.tooltip.style.top = rect.top + rect.height / 2 - TOOLTIP_HEIGHT_IN_PX / 2 + document.body.scrollTop + 'px';
        }
      }
    }
  }, {
    key: 'config',
    get: function get() {
      return {
        template: _index2.default,
        useShadowDom: true
      };
    }
  }]);

  return _class;
}(_panel.Component));
},{"../../util/dom":280,"../../util/register-element":283,"./index.jade":292,"./internal":295,"panel":343}],294:[function(require,module,exports){
'use strict';

function _jade_template_fn(locals) {
  locals = locals || {};;;
  var result_of_with = function ($component, $helpers, Object, delayRemove, description, isMixpanelDefinition, name, open, verified) {
    var h = require('panel').h;
    var url = $component.getAttribute('url');
    return {
      value: h("div", {
        "class": {
          'mp-event-definition-wrapper': true
        }
      }, function () {
        var __jade_nodes = [];
        __jade_nodes = __jade_nodes.concat(open ? function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(h("div", {
            "class": Object.assign({}, {
              delayed: {
                'mp-event-definition-in': true
              },
              remove: {
                'mp-event-definition-out': true,
                delayRemove: delayRemove
              }
            }, {
              'mp-event-definition-tooltip': true
            })
          }, function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(h("div", {
              "class": {
                'mp-event-definition-container': true
              }
            }, function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h("div", {
                "class": {
                  'mp-event-definition-name': true
                }
              }, [name || '']));
              __jade_nodes = __jade_nodes.concat(h("div", {
                "class": {
                  'mp-event-definition-description': true
                }
              }, [description || '']));
              __jade_nodes = __jade_nodes.concat(verified ? function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat(h("div", {
                  "class": {
                    'mp-event-definition-verified': true
                  }
                }, function () {
                  var __jade_nodes = [];
                  __jade_nodes = __jade_nodes.concat(h("div", {
                    "class": {
                      'mp-event-definition-verified-icon': true
                    }
                  }, function () {
                    var __jade_nodes = [];
                    __jade_nodes = __jade_nodes.concat(h("svg-icon", {
                      "attrs": {
                        icon: 'check-checkbox'
                      }
                    }));;
                    return __jade_nodes;
                  }.call(this).filter(Boolean)));
                  __jade_nodes = __jade_nodes.concat(h("div", {
                    "class": {
                      'mp-event-definition-verified-text': true
                    }
                  }, function () {
                    var __jade_nodes = [];
                    __jade_nodes = __jade_nodes.concat(isMixpanelDefinition ? 'This event is automatically tracked by Mixpanel.' : $helpers.getVerifiedText());;
                    return __jade_nodes;
                  }.call(this).filter(Boolean)));;
                  return __jade_nodes;
                }.call(this).filter(Boolean)));;
                return __jade_nodes;
              }.call(this) : undefined);;
              return __jade_nodes;
            }.call(this).filter(Boolean)));
            __jade_nodes = __jade_nodes.concat(h("div", {
              "class": {
                'mp-event-definition-learn-more': true
              }
            }, function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h("span", function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat(function () {
                  var __jade_nodes = [];
                  __jade_nodes = __jade_nodes.concat("Add descriptions to your events with ");
                  __jade_nodes = __jade_nodes.concat(function () {
                    var __jade_nodes = [];
                    __jade_nodes = __jade_nodes.concat(h("a", {
                      "attrs": {
                        href: url
                      }
                    }, function () {
                      var __jade_nodes = [];
                      __jade_nodes = __jade_nodes.concat("Lexicon");;
                      return __jade_nodes;
                    }.call(this).filter(Boolean)));;
                    return __jade_nodes;
                  }.call(this));
                  __jade_nodes = __jade_nodes.concat(".");;
                  return __jade_nodes;
                }.call(this));;
                return __jade_nodes;
              }.call(this).filter(Boolean)));;
              return __jade_nodes;
            }.call(this).filter(Boolean)));;
            return __jade_nodes;
          }.call(this).filter(Boolean)));;
          return __jade_nodes;
        }.call(this) : undefined);;
        return __jade_nodes;
      }.call(this).filter(Boolean))
    };
  }.call(this, "$component" in locals ? locals.$component : typeof $component !== "undefined" ? $component : undefined, "$helpers" in locals ? locals.$helpers : typeof $helpers !== "undefined" ? $helpers : undefined, "Object" in locals ? locals.Object : typeof Object !== "undefined" ? Object : undefined, "delayRemove" in locals ? locals.delayRemove : typeof delayRemove !== "undefined" ? delayRemove : undefined, "description" in locals ? locals.description : typeof description !== "undefined" ? description : undefined, "isMixpanelDefinition" in locals ? locals.isMixpanelDefinition : typeof isMixpanelDefinition !== "undefined" ? isMixpanelDefinition : undefined, "name" in locals ? locals.name : typeof name !== "undefined" ? name : undefined, "open" in locals ? locals.open : typeof open !== "undefined" ? open : undefined, "verified" in locals ? locals.verified : typeof verified !== "undefined" ? verified : undefined);
  if (result_of_with) return result_of_with.value;
}
module.exports = _jade_template_fn;
},{"panel":343}],295:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _panel = require('panel');

var _registerElement = require('../../../util/register-element');

var _timingJson = require('../../../stylesheets/mixins/timing.json.js');

var _timingJson2 = _interopRequireDefault(_timingJson);

var _date = require('../../../util/date');

var _index = require('./index.jade');

var _index2 = _interopRequireDefault(_index);

var _index3 = require('./index.styl');

var _index4 = _interopRequireDefault(_index3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

exports.default = (0, _registerElement.registerMPElement)('mp-event-definition-tooltip-internal', function (_Component) {
  _inherits(_class, _Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'attachedCallback',
    value: function attachedCallback() {
      if (!this.elementMoved) {
        this.elementMoved = true;
        document.body.appendChild(this);
      }

      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'attachedCallback', this).apply(this, arguments);
    }
  }, {
    key: 'detachedCallback',
    value: function detachedCallback() {
      if (this.initialized) {
        _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'detachedCallback', this).apply(this, arguments);
      }
    }
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(attr) {
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'attributeChangedCallback', this).apply(this, arguments);
      switch (attr) {
        case 'event-definition':
          var eventDefinition = this.getJSONAttribute('event-definition');
          if (eventDefinition) {
            var name = eventDefinition.name,
                description = eventDefinition.description,
                verified = eventDefinition.verified,
                isMixpanelDefinition = eventDefinition.isMixpanelDefinition,
                verifiedBy = eventDefinition.verifiedBy,
                verifiedDate = eventDefinition.verifiedDate;

            this.update({ name: name, description: description, verified: verified, isMixpanelDefinition: isMixpanelDefinition, verifiedBy: verifiedBy, verifiedDate: new Date(verifiedDate) });
          }
          break;
        case 'open':
          this.update({ open: this.isAttributeEnabled('open') });
          break;
      }
    }
  }, {
    key: 'config',
    get: function get() {
      var _this2 = this;

      return {
        css: _index4.default,
        template: _index2.default,
        useShadowDom: true,
        defaultState: {
          delayRemove: _timingJson2.default['mp-fast'],
          open: false
        },
        helpers: {
          getVerifiedText: function getVerifiedText() {
            var nameParts = _this2.state.verifiedBy.split(' ');
            var verifier = nameParts.length > 1 ? nameParts[0] + ' ' + nameParts[nameParts.length - 1][0] + '.' : _this2.state.verifiedBy;
            var customFormatting = { day: 'M/D/YYYY' };
            return 'This event was verified by ' + verifier + ' on ' + (0, _date.formatDate)(_this2.state.verifiedDate, { utc: true, unit: 'day', customFormatting: customFormatting });
          }
        }
      };
    }
  }]);

  return _class;
}(_panel.Component));
},{"../../../stylesheets/mixins/timing.json.js":274,"../../../util/date":279,"../../../util/register-element":283,"./index.jade":294,"./index.styl":296,"panel":343}],296:[function(require,module,exports){
module.exports = "* {   -webkit-font-smoothing: antialiased; } *:focus {   outline: 0; } *::-ms-clear {   height: 0;   width: 0; } body {   color: #6d859e;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-stretch: normal;   font-weight: 400; } body.no-scroll {   overflow: hidden; } a, .mp-link {   cursor: pointer;   text-decoration: none; } a, .mp-link, a:visited, .mp-link:visited {   color: #3b99f0; } a:hover, .mp-link:hover {   color: #4ba8ff; } .mp-font-size-xl {   font-size: 18px; } .mp-font-size-large {   font-size: 16px; } .mp-font-size-medium {   font-size: 14px; } .mp-font-size-default {   font-size: 13px; } .mp-font-size-xs {   font-size: 11px;   text-transform: uppercase; } .mp-font-weight-bold {   font-weight: 600; } .mp-font-weight-medium {   font-weight: 500; } .mp-font-weight-regular {   font-weight: 400; } .mp-font-paragraph {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } input[type=text], textarea {   border: 1px solid #d8e0ea;   border-radius: 5px;   box-sizing: border-box;   color: #4c6072;   display: inline-block;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 400;   padding: 8px;   transition: border-color 150ms ease-out; } input[type=text]::-webkit-input-placeholder, textarea::-webkit-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::-moz-placeholder, textarea::-moz-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:-ms-input-placeholder, textarea:-ms-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::placeholder, textarea::placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:focus, textarea:focus, input[type=text]:active, textarea:active {   border-color: #3391e9;   transition: border-color 200ms ease-in; } input[type=text] {   height: 36px; } mp-truncated-text {   display: inline-block;   white-space: nowrap;   width: 100%; } svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } svg-icon[icon=lightning-bolt] #bolt, svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } svg-icon[icon=alert] #circle, svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } mp-event-definition-tooltip-internal {   display: block;   position: absolute;   z-index: 6000; } :host {   display: block;   position: absolute;   z-index: 6000; } .mp-event-definition-wrapper {   position: relative; } .mp-event-definition-tooltip {   background-color: #fff;   border-radius: 6px;   box-shadow: 0 3px 7px 0 rgba(0,0,0,0.18);   color: #6d859e;   opacity: 0;   position: absolute;   width: 340px; } .mp-event-definition-tooltip.mp-event-definition-in {   opacity: 1;   transition: all 100ms cubic-bezier(0.165, 0.84, 0.44, 1); } .mp-event-definition-tooltip.mp-event-definition-out {   opacity: 0;   transition: all 100ms cubic-bezier(0.895, 0.03, 0.685, 0.22); } .mp-event-definition-tooltip .mp-event-definition-container {   font-size: 13px;   padding: 12px 20px; } .mp-event-definition-tooltip .mp-event-definition-container .mp-event-definition-name {   color: #4c6072;   font-weight: 600; } .mp-event-definition-tooltip .mp-event-definition-container .mp-event-definition-description {   margin-top: 12px; } .mp-event-definition-tooltip .mp-event-definition-container .mp-event-definition-verified {   display: -webkit-box;   display: -ms-flexbox;   display: flex;   margin-top: 12px; } .mp-event-definition-tooltip .mp-event-definition-container .mp-event-definition-verified .mp-event-definition-verified-icon {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   background-color: #2dc376;   border-radius: 50%;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   height: 12px;   width: 12px; } .mp-event-definition-tooltip .mp-event-definition-container .mp-event-definition-verified .mp-event-definition-verified-icon svg-icon {   display: inline-block;   height: 12px;   min-height: 12px;   min-width: 12px;   position: relative;   width: 12px; } .mp-event-definition-tooltip .mp-event-definition-container .mp-event-definition-verified .mp-event-definition-verified-icon svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .mp-event-definition-tooltip .mp-event-definition-container .mp-event-definition-verified .mp-event-definition-verified-icon svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .mp-event-definition-tooltip .mp-event-definition-container .mp-event-definition-verified .mp-event-definition-verified-icon svg-icon[icon=lightning-bolt] #bolt, .mp-event-definition-tooltip .mp-event-definition-container .mp-event-definition-verified .mp-event-definition-verified-icon svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .mp-event-definition-tooltip .mp-event-definition-container .mp-event-definition-verified .mp-event-definition-verified-icon svg-icon[icon=alert] #circle, .mp-event-definition-tooltip .mp-event-definition-container .mp-event-definition-verified .mp-event-definition-verified-icon svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .mp-event-definition-tooltip .mp-event-definition-container .mp-event-definition-verified .mp-event-definition-verified-icon svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .mp-event-definition-tooltip .mp-event-definition-container .mp-event-definition-verified .mp-event-definition-verified-icon svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .mp-event-definition-tooltip .mp-event-definition-container .mp-event-definition-verified .mp-event-definition-verified-icon svg-icon svg {   height: 12px;   left: 0;   min-height: 12px;   min-width: 12px;   position: absolute;   top: 0;   width: 12px; } .mp-event-definition-tooltip .mp-event-definition-container .mp-event-definition-verified .mp-event-definition-verified-icon svg-icon svg, .mp-event-definition-tooltip .mp-event-definition-container .mp-event-definition-verified .mp-event-definition-verified-icon svg-icon path {   color: #fff;   fill: #fff; } .mp-event-definition-tooltip .mp-event-definition-container .mp-event-definition-verified .mp-event-definition-verified-text {   font-size: 11px;   line-height: normal;   margin-left: 4px; } .mp-event-definition-tooltip .mp-event-definition-learn-more {   border-top: 1px solid #e5eef4;   font-size: 11px;   padding: 10px 20px; } .mp-event-definition-tooltip .mp-event-definition-learn-more a {   color: #3b99f0; } .mp-event-definition-tooltip .mp-event-definition-learn-more a:hover {   text-decoration: underline; } ";

},{}],297:[function(require,module,exports){
'use strict';

require('./add-to-dash/index.js');

require('./bookmarks-widget/index.js');

require('./event-definition-tooltip/index.js');

require('./items-menu/index.js');

require('./smart-hub-alert/index.js');

require('./smart-hub-data-point/index.js');

require('./smart-hub-dropdown/index.js');

require('./smart-hub-tooltip/index.js');

require('./tag-selector/index.js');

require('./tutorial-tooltip/index.js');

require('./upsell-popup/index.js');

require('./user-icon/index.js');
},{"./add-to-dash/index.js":287,"./bookmarks-widget/index.js":290,"./event-definition-tooltip/index.js":293,"./items-menu/index.js":300,"./smart-hub-alert/index.js":303,"./smart-hub-data-point/index.js":317,"./smart-hub-dropdown/index.js":321,"./smart-hub-tooltip/index.js":324,"./tag-selector/index.js":327,"./tutorial-tooltip/index.js":330,"./upsell-popup/index.js":333,"./user-icon/index.js":336}],298:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ItemsMenuController = exports.SHOW_ALL_ITEM = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _stateController = require('panel/build/state-controller');

var _stateController2 = _interopRequireDefault(_stateController);

var _util = require('../../util');

var _function = require('../../util/function');

var _string = require('../../util/string');

var _dom = require('../../util/dom');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var SHOW_ALL_ITEM = exports.SHOW_ALL_ITEM = {
  itemType: '_showAll',
  isExpander: true,
  label: 'Show all',
  icon: 'hor-ellipsis'
};

var ItemsMenuController = exports.ItemsMenuController = function (_StateController) {
  _inherits(ItemsMenuController, _StateController);

  // Passing explicit dependencies that controller can use
  function ItemsMenuController(_ref) {
    var dispatchCustomEvent = _ref.dispatchCustomEvent,
        _ref$store = _ref.store,
        store = _ref$store === undefined ? null : _ref$store;

    _classCallCheck(this, ItemsMenuController);

    var _this = _possibleConstructorReturn(this, (ItemsMenuController.__proto__ || Object.getPrototypeOf(ItemsMenuController)).call(this, { store: store }));

    _this.dispatchCustomEvent = dispatchCustomEvent;
    return _this;
  }

  _createClass(ItemsMenuController, [{
    key: 'handleAttributeChange',
    value: function handleAttributeChange(name, newVal) {
      switch (name) {
        case 'search-filter':
          this._update({ searchFilter: newVal });
          break;
        case 'empty-message':
          this._update({ emptyMessage: newVal });
          break;
        case 'sections':
          this._update({ sections: newVal });
          break;
        case 'progressive':
          this._update({ isProgressive: newVal });
          break;
        case 'sections-hint':
          this._update({ sectionsHint: newVal });
          break;
      }
    }
  }, {
    key: 'handlePostPatch',
    value: function handlePostPatch() {
      // When this component is patched, the height of it could change. Send a draw event so users of the
      // component can respond to the height change accordingly.
      this.dispatchCustomEvent('draw');
    }
  }, {
    key: 'handleMouseenterPill',
    value: function handleMouseenterPill() {
      this._update({ isPillFocused: true });
    }
  }, {
    key: 'handleMouseleavePill',
    value: function handleMouseleavePill() {
      this._update({ isPillFocused: false });
    }
  }, {
    key: 'handleMouseenterItem',
    value: function handleMouseenterItem(item) {
      this._update({ isPillFocused: false });
      this.focusItem(item.index);
    }
  }, {
    key: 'handleClickItem',
    value: function handleClickItem(item) {
      var modifierKey = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

      if (item.itemType === SHOW_ALL_ITEM.itemType) {
        this.handleShowAllItemClick(item);
      } else {
        this.dispatchCustomEvent('clickItem', { detail: { item: this.unwrapItem(item), modifierKey: modifierKey } });
      }
    }
  }, {
    key: 'handleClickPill',
    value: function handleClickPill(item) {
      var detail = { item: this.unwrapItem(item) };
      if (item.hasPropertiesPill) {
        this.dispatchCustomEvent('clickPropertiesPill', { detail: detail });
      } else {
        this.dispatchCustomEvent('clickPill', { detail: detail });
      }
    }
  }, {
    key: 'handleShowAllItemClick',
    value: function handleShowAllItemClick(item) {
      var sectionIndex = item.sectionIndex;
      var fullyShownSections = this.state.fullyShownSections;
      fullyShownSections[sectionIndex] = true;
      this._update(fullyShownSections);
    }
  }, {
    key: 'handleKeydown',
    value: function handleKeydown(keyCode) {
      if (keyCode === _dom.NAVIGATION_KEY_CODES.TAB) {
        this._update({ isPillFocused: !this.state.isPillFocused });
      } else if (keyCode === _dom.NAVIGATION_KEY_CODES.ENTER) {
        // User can press enter even though are no items or search results are empty
        var focusedItem = this.getFocusedItem();
        if (focusedItem) {
          if (this.state.isPillFocused) {
            this.handleClickPill(focusedItem);
          } else {
            this.handleClickItem(focusedItem);
          }
        }
      } else if (keyCode === _dom.NAVIGATION_KEY_CODES.UP_ARROW) {
        this.focusItem(Math.max(this.state.focusedItemIndex - 1, 0));
      } else if (keyCode === _dom.NAVIGATION_KEY_CODES.DOWN_ARROW) {
        this.focusItem(Math.min(this.state.focusedItemIndex + 1, this.countTotalItems(this.getFilteredSections(this.state.sections)) - 1));
      }
    }
  }, {
    key: 'focusItem',
    value: function focusItem(focusedItemIndex) {
      this._update({ focusedItemIndex: focusedItemIndex });
      this.dispatchCustomEvent('focusItem', { detail: { item: this.getFocusedItem() } });
    }
  }, {
    key: 'getFocusedItem',
    value: function getFocusedItem() {
      var _this2 = this;

      var focusedItem = null;
      this.getFilteredSections(this.state.sections).find(function (section) {
        return section.items.find(function (item) {
          if (item.index === _this2.state.focusedItemIndex) {
            focusedItem = item;
            return true;
          } else {
            return false;
          }
        });
      });
      return focusedItem;
    }
  }, {
    key: 'wrapItem',
    value: function wrapItem(item) {
      return (0, _util.extend)({ wrapped: item }, item);
    }
  }, {
    key: 'unwrapItem',
    value: function unwrapItem(item) {
      return item.wrapped;
    }
  }, {
    key: 'getDisplayState',
    value: function getDisplayState() {
      return {
        sections: this.getDisplaySections(),
        focusedItemIndex: this.state.focusedItemIndex,
        sectionsHint: this.state.sectionsHint,
        emptyMessage: this.state.emptyMessage,
        searchFilter: this.state.searchFilter
      };
    }
  }, {
    key: 'getDisplaySections',
    value: function getDisplaySections() {
      var sections = this.state.sections;
      var isProgressive = this.state.isProgressive;
      sections = this.getFilteredSections(sections);
      sections = isProgressive ? this.getProgressiveCappedSections(sections) : sections;
      sections = this.getFilledSections(sections);
      return sections;
    }
  }, {
    key: 'getFilteredSections',
    value: function getFilteredSections(sections) {
      var searchFilter = this.state.searchFilter;
      // Pass sections through a bunch of pure transforms and filter functions
      sections = this.getWrappedSections(sections);
      sections = searchFilter ? this.getMatchedSections(sections) : this.getShowLimitCappedSections(sections);
      sections = this.getItemIndexedSections(sections);
      return sections;
    }
  }, {
    key: 'getWrappedSections',
    value: function getWrappedSections(sections) {
      var _this3 = this;

      return sections.map(function (section) {
        return (0, _util.extend)(section, { items: section.items.map(function (item) {
            return _this3.wrapItem(item);
          }) });
      });
    }
  }, {
    key: 'getMatchedSections',
    value: function getMatchedSections(sections) {
      var _this4 = this;

      var searchFilter = this.state.searchFilter;
      return sections.map(function (section) {
        return (0, _util.extend)(section, { items: _this4.getMatchingItems(searchFilter, section.items) });
      });
    }
  }, {
    key: 'getShowLimitCappedSections',
    value: function getShowLimitCappedSections(sections) {
      var fullyShownSections = this.state.fullyShownSections;
      return sections.map(function (section, idx) {
        var showLimit = section.showLimit;
        var items = section.items;
        // We only cap the list of items at showLimit if numItems > showLimit * 2
        // This is so that if we have a list slightly larger than showLimit, we show the full list.
        if (showLimit > 0 && items.length > showLimit * 2 && !fullyShownSections[idx]) {
          var showAllItem = (0, _util.extend)(SHOW_ALL_ITEM, { sectionIndex: idx });
          items = items.slice(0, showLimit).concat([showAllItem]);
        }
        return (0, _util.extend)(section, { items: items });
      });
    }
  }, {
    key: 'getProgressiveCappedSections',
    value: function getProgressiveCappedSections(sections) {
      var progressiveListSize = this.state.progressiveListSize;
      return sections.map(function (section) {
        return (0, _util.extend)(section, { items: section.items.filter(function (item) {
            return item.index < progressiveListSize;
          }) });
      });
    }
  }, {
    key: 'getItemIndexedSections',
    value: function getItemIndexedSections(sections) {
      var index = 0;
      return sections.map(function (section) {
        return (0, _util.extend)(section, { items: section.items.map(function (item) {
            return Object.assign(item, { index: index++ });
          }) });
      });
    }
  }, {
    key: 'getFilledSections',
    value: function getFilledSections(sections) {
      var searchFilter = this.state.searchFilter;
      // Loading section only shown in non search scenarios
      return sections.filter(function (section) {
        return section.items.length > 0 || !searchFilter && section.isLoading;
      });
    }
  }, {
    key: 'countTotalItems',
    value: function countTotalItems(sections) {
      return sections.reduce(function (numItems, section) {
        return numItems + section.items.length;
      }, 0);
    }
  }, {
    key: 'getMatchingItems',
    value: function getMatchingItems(searchFilter, items) {
      return items.map(function (item) {
        return (0, _util.extend)(item, {
          matches: (0, _string.stringFilterMatches)(item.label, searchFilter)
        });
      }).filter(function (item) {
        return !!item.matches;
      }).sort((0, _function.lexicalCompose)(
      // prioritize beginning match
      (0, _function.mapArguments)(_function.defaultOrdering, function (item) {
        return -item.matches[0].length;
      }),
      // second: a-z
      (0, _function.mapArguments)(_function.defaultOrdering, function (item) {
        return item.label.toLowerCase();
      })));
    }
  }, {
    key: 'increaseProgressiveListSize',
    value: function increaseProgressiveListSize() {
      var isProgressive = this.state.isProgressive;
      var progressiveListSize = this.state.progressiveListSize;
      if (isProgressive && progressiveListSize < this.countTotalItems(this.getFilteredSections(this.state.sections))) {
        progressiveListSize *= 2;
        this._update({ progressiveListSize: progressiveListSize });
      }
    }
  }, {
    key: 'defaultState',
    get: function get() {
      return {
        searchFilter: null,
        emptyMessage: null,
        sections: [],
        isProgressive: false,
        progressiveListSize: 20,
        focusedItemIndex: 0,
        isPillFocused: false,
        sectionsHint: null,
        fullyShownSections: {} // Map to track which sections have 'show all' clicked
      };
    }
  }]);

  return ItemsMenuController;
}(_stateController2.default);
},{"../../util":282,"../../util/dom":280,"../../util/function":281,"../../util/string":285,"panel/build/state-controller":345}],299:[function(require,module,exports){
"use strict";

function _jade_template_fn(locals) {
  locals = locals || {};;;
  var result_of_with = function ($controller, $helpers, Object, isPillFocused) {
    var h = require('panel').h;
    return {
      value: h("div", {
        "attrs": {
          tabindex: 0
        },
        "hook": {
          postpatch: function postpatch() {
            return $controller.handlePostPatch();
          }
        },
        "class": {
          'screen-list-container': true
        }
      }, function () {
        var __jade_nodes = [];

        var _$controller$getDispl = $controller.getDisplayState(),
            sections = _$controller$getDispl.sections,
            focusedItemIndex = _$controller$getDispl.focusedItemIndex,
            emptyMessage = _$controller$getDispl.emptyMessage,
            sectionsHint = _$controller$getDispl.sectionsHint,
            searchFilter = _$controller$getDispl.searchFilter;

        __jade_nodes = __jade_nodes.concat(!sections.length ? function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(searchFilter ? function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(h("li", {
              "class": {
                'list-option': true,
                'list-empty': true
              }
            }, function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat("Your search returned no results");;
              return __jade_nodes;
            }.call(this).filter(Boolean)));;
            return __jade_nodes;
          }.call(this) : emptyMessage ? function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(h("li", {
              "class": {
                'list-option': true,
                'list-empty': true
              }
            }, [emptyMessage || '']));;
            return __jade_nodes;
          }.call(this) : undefined);;
          return __jade_nodes;
        }.call(this) : function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(sectionsHint ? function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(h("div", {
              "class": {
                'sections-hint': true
              }
            }, [sectionsHint || '']));;
            return __jade_nodes;
          }.call(this) : undefined);
          __jade_nodes = __jade_nodes.concat(sections.reduce(function (__each_nodes, section, idx) {
            return __each_nodes.concat(function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(idx > 0 ? function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat(h("div", {
                  "class": {
                    'section-divider': true
                  }
                }));;
                return __jade_nodes;
              }.call(this) : undefined);
              __jade_nodes = __jade_nodes.concat(section.label ? function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat(h("div", {
                  "class": {
                    'section-label': true
                  }
                }, function () {
                  var __jade_nodes = [];
                  __jade_nodes = __jade_nodes.concat(h("span", {
                    "class": {
                      'label': true
                    }
                  }, [section.label || '']));
                  __jade_nodes = __jade_nodes.concat(section.datasetDisplayName ? function () {
                    var __jade_nodes = [];
                    __jade_nodes = __jade_nodes.concat(h("span", {
                      "class": {
                        'dataset-name': true
                      }
                    }, [section.datasetDisplayName || '']));;
                    return __jade_nodes;
                  }.call(this) : undefined);;
                  return __jade_nodes;
                }.call(this).filter(Boolean)));;
                return __jade_nodes;
              }.call(this) : undefined);
              __jade_nodes = __jade_nodes.concat(h("ul", {
                "class": {
                  'screen-options-list': true
                }
              }, function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat(section.items.reduce(function (__each_nodes, item, $index) {
                  return __each_nodes.concat(function () {
                    var __jade_nodes = [];
                    var isSelectable = !item.isDisabled && (!item.isSelected || item.hasCaret);
                    var isFocused = focusedItemIndex === item.index;
                    __jade_nodes = __jade_nodes.concat(h("li", {
                      "on": {
                        click: isSelectable ? function (ev) {
                          return $controller.handleClickItem(item, ev.ctrlKey || ev.metaKey);
                        } : null,
                        mouseenter: function mouseenter() {
                          return $controller.handleMouseenterItem(item);
                        }
                      },
                      "class": Object.assign({}, {
                        disabled: item.isDisabled,
                        focused: isFocused,
                        selected: item.isSelected,
                        selectable: isSelectable,
                        uppercase: item.isUppercase,
                        expander: item.isExpander
                      }, {
                        'list-option': true
                      })
                    }, function () {
                      var __jade_nodes = [];
                      __jade_nodes = __jade_nodes.concat(item.hasOwnProperty("icon") ? function () {
                        var __jade_nodes = [];
                        __jade_nodes = __jade_nodes.concat(h("div", {
                          "class": Object.assign({}, {
                            'verified': item.verified
                          }, {
                            'option-icon': true
                          })
                        }, function () {
                          var __jade_nodes = [];
                          var icon = item.icon;
                          __jade_nodes = __jade_nodes.concat(h("svg-icon", {
                            "attrs": {
                              icon: icon,
                              empty: !icon
                            }
                          }));;
                          return __jade_nodes;
                        }.call(this).filter(Boolean)));;
                        return __jade_nodes;
                      }.call(this) : undefined);
                      __jade_nodes = __jade_nodes.concat(h("div", {
                        "attrs": {
                          title: item.label
                        },
                        "class": {
                          'option-label': true
                        }
                      }, function () {
                        var __jade_nodes = [];
                        __jade_nodes = __jade_nodes.concat(item.matches ? function () {
                          var __jade_nodes = [];
                          __jade_nodes = __jade_nodes.concat(item.matches.reduce(function (__each_nodes, substr, si) {
                            return __each_nodes.concat(function () {
                              var __jade_nodes = [];
                              __jade_nodes = __jade_nodes.concat(h("span", {
                                "class": Object.assign({}, {
                                  'matches-search': !(si % 2)
                                }, {
                                  'substr': true
                                })
                              }, [substr || '']));;
                              return __jade_nodes;
                            }.call(this));
                          }, []));;
                          return __jade_nodes;
                        }.call(this) : function () {
                          var __jade_nodes = [];
                          __jade_nodes = __jade_nodes.concat(h("span", {
                            "class": {
                              'label': true
                            }
                          }, [item.label || '']));;
                          return __jade_nodes;
                        }.call(this));;
                        return __jade_nodes;
                      }.call(this).filter(Boolean))); /*  Backwards compatibility for *propertiesPill* properties until all mp-common consumers move away */
                      /*  Item is already wrapped so setting additional properties is fine */
                      item.hasPill = item.hasPropertiesPill || item.hasPill;
                      item.isPillDisabled = item.isPropertiesPillDisabled || item.isPillDisabled;
                      item.pillLabel = item.pillLabel || "Properties";
                      __jade_nodes = __jade_nodes.concat(item.hasPill ? function () {
                        var __jade_nodes = [];
                        __jade_nodes = __jade_nodes.concat(h("div", {
                          "on": {
                            click: !item.isPillDisabled ? function (ev) {
                              return $helpers.handleClickPill(item, ev);
                            } : null,
                            mouseenter: function mouseenter() {
                              return $controller.handleMouseenterPill(item);
                            },
                            mouseleave: function mouseleave() {
                              return $controller.handleMouseleavePill(item);
                            }
                          },
                          "class": Object.assign({}, {
                            focused: isFocused && isPillFocused,
                            disabled: item.isPillDisabled
                          }, {
                            'secondary-action': true,
                            'pill': true
                          })
                        }, function () {
                          var __jade_nodes = [];
                          __jade_nodes = __jade_nodes.concat(h("span", [item.pillLabel || '']));
                          __jade_nodes = __jade_nodes.concat(h("div", {
                            "class": {
                              'pill-caret': true
                            }
                          }, function () {
                            var __jade_nodes = [];
                            __jade_nodes = __jade_nodes.concat(h("svg-icon", {
                              "attrs": {
                                icon: "caret-right"
                              }
                            }));;
                            return __jade_nodes;
                          }.call(this).filter(Boolean)));;
                          return __jade_nodes;
                        }.call(this).filter(Boolean)));;
                        return __jade_nodes;
                      }.call(this) : item.hasCaret ? function () {
                        var __jade_nodes = [];
                        __jade_nodes = __jade_nodes.concat(h("div", {
                          "class": {
                            'secondary-action': true,
                            'caret': true
                          }
                        }, function () {
                          var __jade_nodes = [];
                          __jade_nodes = __jade_nodes.concat(h("svg-icon", {
                            "attrs": {
                              icon: "caret-right"
                            }
                          }));;
                          return __jade_nodes;
                        }.call(this).filter(Boolean)));;
                        return __jade_nodes;
                      }.call(this) : undefined);;
                      return __jade_nodes;
                    }.call(this).filter(Boolean)));;
                    return __jade_nodes;
                  }.call(this));
                }, []));;
                return __jade_nodes;
              }.call(this).filter(Boolean)));
              __jade_nodes = __jade_nodes.concat(section.isLoading ? function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat(h("div", {
                  "class": {
                    'loading-items': true
                  }
                }, function () {
                  var __jade_nodes = [];
                  __jade_nodes = __jade_nodes.concat(h("mp-spinner"));;
                  return __jade_nodes;
                }.call(this).filter(Boolean)));;
                return __jade_nodes;
              }.call(this) : undefined);;
              return __jade_nodes;
            }.call(this));
          }, []));;
          return __jade_nodes;
        }.call(this));;
        return __jade_nodes;
      }.call(this).filter(Boolean))
    };
  }.call(this, "$controller" in locals ? locals.$controller : typeof $controller !== "undefined" ? $controller : undefined, "$helpers" in locals ? locals.$helpers : typeof $helpers !== "undefined" ? $helpers : undefined, "Object" in locals ? locals.Object : typeof Object !== "undefined" ? Object : undefined, "isPillFocused" in locals ? locals.isPillFocused : typeof isPillFocused !== "undefined" ? isPillFocused : undefined);
  if (result_of_with) return result_of_with.value;
}
module.exports = _jade_template_fn;
},{"panel":343}],300:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _panel = require('panel');

var _registerElement = require('../../util/register-element.js');

var _dom = require('../../util/dom');

var _controller = require('./controller');

var _index = require('./index.styl');

var _index2 = _interopRequireDefault(_index);

var _index3 = require('./index.jade');

var _index4 = _interopRequireDefault(_index3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ItemsMenu = function (_ControlledComponent) {
  _inherits(ItemsMenu, _ControlledComponent);

  function ItemsMenu() {
    _classCallCheck(this, ItemsMenu);

    return _possibleConstructorReturn(this, (ItemsMenu.__proto__ || Object.getPrototypeOf(ItemsMenu)).apply(this, arguments));
  }

  _createClass(ItemsMenu, [{
    key: 'createController',
    value: function createController() {
      var _this2 = this;

      return new _controller.ItemsMenuController({
        dispatchCustomEvent: function dispatchCustomEvent(name, opts) {
          return _this2.dispatchEvent(new CustomEvent(name, opts));
        }
      });
    }
  }, {
    key: 'createdCallback',
    value: function createdCallback() {
      _get(ItemsMenu.prototype.__proto__ || Object.getPrototypeOf(ItemsMenu.prototype), 'createdCallback', this).apply(this, arguments);

      // Since handleKeydown can be called on a proxy el
      // Ensure `this` is always consistent when event listener is called
      this.handleKeydown = this.handleKeydown.bind(this);
    }
  }, {
    key: 'attachedCallback',
    value: function attachedCallback() {
      _get(ItemsMenu.prototype.__proto__ || Object.getPrototypeOf(ItemsMenu.prototype), 'attachedCallback', this).apply(this, arguments);
      this.addEventListener('scroll', this.handleScroll);
      this.addEventListener('keydown', this.handleKeydown);
    }
  }, {
    key: 'detachedCallback',
    value: function detachedCallback() {
      _get(ItemsMenu.prototype.__proto__ || Object.getPrototypeOf(ItemsMenu.prototype), 'detachedCallback', this).apply(this, arguments);
      this.removeEventListener('scroll', this.handleScroll);
      this.removeEventListener('keydown', this.handleKeydown);
      if (this._keydownProxyEl) {
        this._keydownProxyEl.removeEventListener('keydown', this.handleKeydown);
      }
    }
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(name, oldVal, newVal) {
      _get(ItemsMenu.prototype.__proto__ || Object.getPrototypeOf(ItemsMenu.prototype), 'attributeChangedCallback', this).apply(this, arguments);
      if (name === 'sections') {
        newVal = this.getJSONAttribute(name);
      } else if (name === 'progressive') {
        newVal = this.isAttributeEnabled(name);
      }

      this.controller.handleAttributeChange(name, newVal);
    }
  }, {
    key: 'handleKeydown',
    value: function handleKeydown(ev) {
      var _this3 = this;

      var keyCode = ev.keyCode;
      if (Object.values(_dom.NAVIGATION_KEY_CODES).includes(keyCode)) {
        ev.stopPropagation();
        ev.preventDefault();
      }

      this.controller.handleKeydown(keyCode);
      if (keyCode === _dom.NAVIGATION_KEY_CODES.UP_ARROW || keyCode === _dom.NAVIGATION_KEY_CODES.DOWN_ARROW) {
        window.requestAnimationFrame(function () {
          _this3.scrollToItemIfNeeded();
        });
      }
    }
  }, {
    key: 'handleScroll',
    value: function handleScroll(ev) {
      var PROGRESSIVE_LIST_BUFFER_PX = 250;
      var scrollBottom = ev.target.scrollTop + ev.target.offsetHeight;
      if (scrollBottom + PROGRESSIVE_LIST_BUFFER_PX >= ev.target.scrollHeight) {
        this.controller.increaseProgressiveListSize();
      }
    }
  }, {
    key: 'scrollToItemIfNeeded',
    value: function scrollToItemIfNeeded() {
      var listEl = this;
      var focusedEl = this.el.querySelector('.list-option.focused');
      if (!focusedEl) {
        return;
      }

      // The top threshold should be large enough to account for section header
      var THRESHOLD_TOP = 45;
      var THRESHOLD_BOTTOM = 45;
      var listElTop = listEl.scrollTop;
      var listElBottom = listElTop + listEl.offsetHeight;
      var focusedElTop = focusedEl.offsetTop - listEl.offsetTop;
      var focusedElBottom = focusedElTop + focusedEl.offsetHeight;
      if (focusedElTop - THRESHOLD_TOP < listElTop) {
        listEl.scrollTop = focusedElTop - THRESHOLD_TOP;
      } else if (focusedElBottom + THRESHOLD_BOTTOM > listElBottom) {
        listEl.scrollTop = focusedElBottom + THRESHOLD_BOTTOM - listEl.offsetHeight;
      }
    }
  }, {
    key: 'focus',
    value: function focus() {
      this.el.querySelector('.screen-list-container').focus();
    }
  }, {
    key: 'config',
    get: function get() {
      var _this4 = this;

      return {
        useShadowDom: true,
        css: _index2.default,
        template: _index4.default,
        controller: this.createController(),
        helpers: {
          handleClickPill: function handleClickPill(item) {
            var ev = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

            // Pill click automatically bubbles up and becomes item click. We don't want that
            if (ev) {
              ev.stopPropagation();
            }

            _this4.controller.handleClickPill(item);
          }
        }
      };
    }
  }, {
    key: 'keydownProxyEl',
    set: function set(domElement) {
      if (this._keydownProxyEl) {
        this._keydownProxyEl.removeEventListener('keydown', this.handleKeydown);
      }
      this._keydownProxyEl = domElement;
      this._keydownProxyEl.addEventListener('keydown', this.handleKeydown);
    }
  }]);

  return ItemsMenu;
}(_panel.ControlledComponent);

exports.default = (0, _registerElement.registerMPElement)('mp-items-menu', ItemsMenu);
},{"../../util/dom":280,"../../util/register-element.js":283,"./controller":298,"./index.jade":299,"./index.styl":301,"panel":343}],301:[function(require,module,exports){
module.exports = "* {   -webkit-font-smoothing: antialiased; } *:focus {   outline: 0; } *::-ms-clear {   height: 0;   width: 0; } body {   color: #6d859e;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-stretch: normal;   font-weight: 400; } body.no-scroll {   overflow: hidden; } a, .mp-link {   cursor: pointer;   text-decoration: none; } a, .mp-link, a:visited, .mp-link:visited {   color: #3b99f0; } a:hover, .mp-link:hover {   color: #4ba8ff; } .mp-font-size-xl {   font-size: 18px; } .mp-font-size-large {   font-size: 16px; } .mp-font-size-medium {   font-size: 14px; } .mp-font-size-default {   font-size: 13px; } .mp-font-size-xs {   font-size: 11px;   text-transform: uppercase; } .mp-font-weight-bold {   font-weight: 600; } .mp-font-weight-medium {   font-weight: 500; } .mp-font-weight-regular {   font-weight: 400; } .mp-font-paragraph {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } input[type=text], textarea {   border: 1px solid #d8e0ea;   border-radius: 5px;   box-sizing: border-box;   color: #4c6072;   display: inline-block;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 400;   padding: 8px;   transition: border-color 150ms ease-out; } input[type=text]::-webkit-input-placeholder, textarea::-webkit-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::-moz-placeholder, textarea::-moz-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:-ms-input-placeholder, textarea:-ms-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::placeholder, textarea::placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:focus, textarea:focus, input[type=text]:active, textarea:active {   border-color: #3391e9;   transition: border-color 200ms ease-in; } input[type=text] {   height: 36px; } mp-truncated-text {   display: inline-block;   white-space: nowrap;   width: 100%; } svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } svg-icon[icon=lightning-bolt] #bolt, svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } svg-icon[icon=alert] #circle, svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } span.substr.matches-search {   color: #4c6072;   font-weight: 600; } .drop-menu-screen {   display: -webkit-box;   display: -ms-flexbox;   display: flex;   -webkit-box-orient: vertical;   -webkit-box-direction: normal;       -ms-flex-direction: column;           flex-direction: column; } mp-items-menu {   display: block;   overflow: auto; } :host {   display: block;   overflow: auto; } .screen-list-container .loading-items {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   height: 80px;   -webkit-box-pack: center;       -ms-flex-pack: center;           justify-content: center; } .screen-list-container .loading-items mp-spinner {   height: 30px;   width: 30px; } .screen-list-container .sections-hint {   color: #9bacbf;   font-size: 12px;   height: 12px;   margin-left: 18px;   margin-top: 8px;   position: relative;   top: 5px; } .screen-list-container .section-divider {   border-top: 1px solid #e5eef4;   margin: 0 10px; } .screen-list-container .section-label {   color: #6d859e;   font-size: 11px;   font-weight: 600;   margin: 20px 18px 0;   text-transform: uppercase; } .screen-list-container .section-label .dataset-name {   color: #bdc9d6;   float: right; } .screen-list-container ul.screen-options-list {   overflow: visible; } ul.screen-options-list {   -webkit-box-flex: 1;       -ms-flex: 1 1 auto;           flex: 1 1 auto;   margin: 0 10px;   overflow: auto;   padding: 0; } ul.screen-options-list:empty {   border-bottom: none; } ul.screen-options-list + ul.screen-options-list {   border-top: 1px solid #e5eef4;   margin-top: 2px;   padding-top: 2px; } ul.screen-options-list .matches-search {   color: #4ba8ff; } li.list-option {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   border-radius: 3px;   color: #6d859e;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   font-size: 12px;   font-weight: 500;   height: 30px;   -webkit-box-pack: end;       -ms-flex-pack: end;           justify-content: flex-end; /* secondary-action */ /* end secondary-action */ } li.list-option:first-child {   margin-top: 10px; } li.list-option:last-child {   margin-bottom: 10px; } li.list-option.uppercase {   font-size: 11px;   text-transform: uppercase;   font-weight: 600;   line-height: 11px; } li.list-option.selected {   color: #4c6072;   cursor: default;   font-weight: 600; } li.list-option.selected .option-icon svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } li.list-option.selected .option-icon svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } li.list-option.selected .option-icon svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } li.list-option.selected .option-icon svg-icon[icon=lightning-bolt] #bolt, li.list-option.selected .option-icon svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } li.list-option.selected .option-icon svg-icon[icon=alert] #circle, li.list-option.selected .option-icon svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } li.list-option.selected .option-icon svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } li.list-option.selected .option-icon svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } li.list-option.selected .option-icon svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } li.list-option.selected .option-icon svg-icon svg, li.list-option.selected .option-icon svg-icon path {   color: #4c6072;   fill: #4c6072; } li.list-option.disabled {   opacity: 0.2;   pointer-events: none; } li.list-option.focused {   background-color: #ecf3f8; } li.list-option.focused.selectable {   color: #4ba8ff;   cursor: pointer; } li.list-option.focused.selectable .option-icon svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } li.list-option.focused.selectable .option-icon svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } li.list-option.focused.selectable .option-icon svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } li.list-option.focused.selectable .option-icon svg-icon[icon=lightning-bolt] #bolt, li.list-option.focused.selectable .option-icon svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } li.list-option.focused.selectable .option-icon svg-icon[icon=alert] #circle, li.list-option.focused.selectable .option-icon svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } li.list-option.focused.selectable .option-icon svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } li.list-option.focused.selectable .option-icon svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } li.list-option.focused.selectable .option-icon svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } li.list-option.focused.selectable .option-icon svg-icon svg, li.list-option.focused.selectable .option-icon svg-icon path {   color: #4ba8ff;   fill: #4ba8ff; } li.list-option.expander {   color: #9bacbf; } li.list-option.expander .option-icon svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } li.list-option.expander .option-icon svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } li.list-option.expander .option-icon svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } li.list-option.expander .option-icon svg-icon[icon=lightning-bolt] #bolt, li.list-option.expander .option-icon svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } li.list-option.expander .option-icon svg-icon[icon=alert] #circle, li.list-option.expander .option-icon svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } li.list-option.expander .option-icon svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } li.list-option.expander .option-icon svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } li.list-option.expander .option-icon svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } li.list-option.expander .option-icon svg-icon svg, li.list-option.expander .option-icon svg-icon path {   color: #9bacbf;   fill: #9bacbf; } li.list-option .secondary-action {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   cursor: pointer;   display: none;   -webkit-box-flex: 0;       -ms-flex: 0;           flex: 0;   margin: 0 5px 0 10px;   opacity: 0; } li.list-option .secondary-action.caret {   height: 18px;   position: relative;   top: 1px; } li.list-option .secondary-action.caret svg-icon {   display: inline-block;   height: 16px;   min-height: 16px;   min-width: 16px;   position: relative;   width: 16px; } li.list-option .secondary-action.caret svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } li.list-option .secondary-action.caret svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } li.list-option .secondary-action.caret svg-icon[icon=lightning-bolt] #bolt, li.list-option .secondary-action.caret svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } li.list-option .secondary-action.caret svg-icon[icon=alert] #circle, li.list-option .secondary-action.caret svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } li.list-option .secondary-action.caret svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } li.list-option .secondary-action.caret svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } li.list-option .secondary-action.caret svg-icon svg {   height: 16px;   left: 0;   min-height: 16px;   min-width: 16px;   position: absolute;   top: 0;   width: 16px; } li.list-option .secondary-action.caret svg-icon svg, li.list-option .secondary-action.caret svg-icon path {   color: #4ba8ff;   fill: #4ba8ff; } li.list-option .secondary-action.pill {   background-color: #fff;   border-radius: 40px;   color: #9bacbf;   font-size: 11px;   font-weight: 600;   height: 18px;   line-height: 12px;   padding: 0 5px 0 10px;   transition: background-color 0.1s; /* pill-caret */ /* end pill-caret */ } li.list-option .secondary-action.pill.focused {   background-color: #4ba8ff;   color: #fff; } li.list-option .secondary-action.pill .pill-caret {   position: relative;   right: -2px;   top: 0; } li.list-option .secondary-action.pill .pill-caret svg-icon {   display: inline-block;   height: 16px;   min-height: 16px;   min-width: 16px;   position: relative;   width: 16px; } li.list-option .secondary-action.pill .pill-caret svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } li.list-option .secondary-action.pill .pill-caret svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } li.list-option .secondary-action.pill .pill-caret svg-icon[icon=lightning-bolt] #bolt, li.list-option .secondary-action.pill .pill-caret svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } li.list-option .secondary-action.pill .pill-caret svg-icon[icon=alert] #circle, li.list-option .secondary-action.pill .pill-caret svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } li.list-option .secondary-action.pill .pill-caret svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } li.list-option .secondary-action.pill .pill-caret svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } li.list-option .secondary-action.pill .pill-caret svg-icon svg {   height: 16px;   left: 0;   min-height: 16px;   min-width: 16px;   position: absolute;   top: 1px;   width: 16px; } li.list-option .secondary-action.pill .pill-caret svg-icon svg, li.list-option .secondary-action.pill .pill-caret svg-icon path {   color: #9bacbf;   fill: #9bacbf; } li.list-option .secondary-action.pill.focused .pill-caret svg-icon {   display: inline-block;   height: 16px;   min-height: 16px;   min-width: 16px;   position: relative;   width: 16px; } li.list-option .secondary-action.pill.focused .pill-caret svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } li.list-option .secondary-action.pill.focused .pill-caret svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } li.list-option .secondary-action.pill.focused .pill-caret svg-icon[icon=lightning-bolt] #bolt, li.list-option .secondary-action.pill.focused .pill-caret svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } li.list-option .secondary-action.pill.focused .pill-caret svg-icon[icon=alert] #circle, li.list-option .secondary-action.pill.focused .pill-caret svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } li.list-option .secondary-action.pill.focused .pill-caret svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } li.list-option .secondary-action.pill.focused .pill-caret svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } li.list-option .secondary-action.pill.focused .pill-caret svg-icon svg {   height: 16px;   left: 0;   min-height: 16px;   min-width: 16px;   position: absolute;   top: 1px;   width: 16px; } li.list-option .secondary-action.pill.focused .pill-caret svg-icon svg, li.list-option .secondary-action.pill.focused .pill-caret svg-icon path {   color: #fff;   fill: #fff; } li.list-option .secondary-action.pill.disabled {   opacity: 0.2;   pointer-events: none; } li.list-option.focused .secondary-action {   display: -webkit-box;   display: -ms-flexbox;   display: flex;   opacity: 1; } li.list-option.list-empty {   pointer-events: none;   -webkit-box-pack: center;       -ms-flex-pack: center;           justify-content: center; } li.list-option .option-label {   overflow: hidden;   text-overflow: ellipsis;   white-space: nowrap;   -webkit-box-flex: 1;       -ms-flex: 1 1;           flex: 1 1;   padding-left: 8px;   padding-right: 8px; } li.list-option .option-icon {   display: -webkit-box;   display: -ms-flexbox;   display: flex;   padding-left: 5px; } li.list-option .option-icon svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } li.list-option .option-icon svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } li.list-option .option-icon svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } li.list-option .option-icon svg-icon[icon=lightning-bolt] #bolt, li.list-option .option-icon svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } li.list-option .option-icon svg-icon[icon=alert] #circle, li.list-option .option-icon svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } li.list-option .option-icon svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } li.list-option .option-icon svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } li.list-option .option-icon svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } li.list-option .option-icon svg-icon svg, li.list-option .option-icon svg-icon path {   color: #6d859e;   fill: #6d859e; } li.list-option .option-icon.verified svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } li.list-option .option-icon.verified svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } li.list-option .option-icon.verified svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } li.list-option .option-icon.verified svg-icon[icon=lightning-bolt] #bolt, li.list-option .option-icon.verified svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } li.list-option .option-icon.verified svg-icon[icon=alert] #circle, li.list-option .option-icon.verified svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } li.list-option .option-icon.verified svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } li.list-option .option-icon.verified svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } li.list-option .option-icon.verified svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } li.list-option .option-icon.verified svg-icon svg, li.list-option .option-icon.verified svg-icon path {   color: #2dc376;   fill: #2dc376; } .screen-title {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   box-shadow: 0 1px 3px 0 rgba(155,172,191,0.37), 0 1px 0 0 #e5eef4;   color: #6d859e;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   -webkit-box-flex: 0;       -ms-flex: none;           flex: none;   font-size: 11px;   font-weight: 600;   height: 48px;   position: relative; } .screen-title .title-button {   cursor: pointer;   padding: 10px;   position: absolute; } .screen-title .title-button svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } .screen-title .title-button svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .screen-title .title-button svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .screen-title .title-button svg-icon[icon=lightning-bolt] #bolt, .screen-title .title-button svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .screen-title .title-button svg-icon[icon=alert] #circle, .screen-title .title-button svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .screen-title .title-button svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .screen-title .title-button svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .screen-title .title-button svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } .screen-title .title-button svg-icon svg, .screen-title .title-button svg-icon path {   color: #9bacbf;   fill: #9bacbf; } .screen-title .title-button svg-icon svg, .screen-title .title-button svg-icon path {   transition: 0.2s; } .screen-title .title-button:hover svg-icon svg, .screen-title .title-button:hover svg-icon path {   color: #6d859e;   fill: #6d859e; } .screen-title .title-button.close-button {   right: 0; } .screen-title .title-label {   overflow: hidden;   text-overflow: ellipsis;   white-space: nowrap;   padding: 0 30px;   text-align: center;   text-transform: uppercase;   width: 100%; } ";

},{}],302:[function(require,module,exports){
'use strict';

function _jade_template_fn(locals) {
  locals = locals || {};;;
  var result_of_with = function ($helpers, JSON, Object, alert, alertId, displayContext, feedbackSentStatus, isAlertOwner, isRead, message) {
    var h = require('panel').h;
    var jade_mixins = {};
    jade_mixins['alert-content'] = function () {
      var block = this && this.block,
          attributes = this && this.attributes || {};

      return function () {
        var __jade_nodes = [];
        __jade_nodes = __jade_nodes.concat(h("div", {
          "class": {
            'mp-sh-alert-header': true
          }
        }, function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(h("div", {
            "class": Object.assign({}, {
              'mp-sh-alert-type-anomaly': !!alert.anomaly,
              'mp-sh-alert-type-contour': !!alert.contour
            }, {
              'mp-sh-alert-type-icon': true
            })
          }, function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat($helpers.getAlertDirection() === 'NEGATIVE' ? function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h('div', {
                props: {
                  innerHTML: '<?xml version="1.0" encoding="UTF-8"?><svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">   <title>Arrow Down</title>    <desc>Smart Hub Icons</desc>    <defs></defs>    <g id="Arrow Down" stroke="none" stroke-width="1" fill-rule="evenodd">        <g id="Arrow-Down">            <g id="Page-1" transform="translate(8.000000, 8.000000) rotate(180.000000) translate(-8.000000, -8.000000) ">                <path d="M8,0 C12.418,0 16,3.582 16,8 C16,12.418 12.418,16 8,16 C3.582,16 0,12.418 0,8 C0,3.582 3.582,0 8,0" id="disc"></path>                <path d="M10.9121,7.3394 L8.4241,4.9214 C8.1901,4.6934 7.8101,4.6934 7.5761,4.9214 L5.0881,7.3394 C4.9711,7.4534 4.9711,7.6384 5.0881,7.7524 L5.5121,8.1644 C5.6291,8.2774 5.8191,8.2774 5.9361,8.1644 L7.4001,6.7414 L7.4001,11.4584 C7.4001,11.6194 7.5341,11.7504 7.7001,11.7504 L8.3001,11.7504 C8.4661,11.7504 8.5991,11.6194 8.5991,11.4584 L8.5991,6.7414 L10.0631,8.1644 C10.1811,8.2774 10.3711,8.2774 10.4881,8.1644 L10.9121,7.7524 C11.0291,7.6384 11.0291,7.4534 10.9121,7.3394" id="arrow"></path>            </g>        </g>    </g></svg>'
                }
              }));;
              return __jade_nodes;
            }.call(this) : function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h('div', {
                props: {
                  innerHTML: '<?xml version="1.0" encoding="UTF-8"?><svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Arrow Up</title>    <desc>Smart Hub Icons</desc>    <defs></defs>    <g id="Page-1" stroke="none" stroke-width="1" fill-rule="evenodd">        <g id="Arrow-Up">            <g id="Arrow-Up">                <path d="M8,0 C12.418,0 16,3.582 16,8 C16,12.418 12.418,16 8,16 C3.582,16 0,12.418 0,8 C0,3.582 3.582,0 8,0" id="disc"></path>                <path d="M10.9121,7.3394 L8.4241,4.9214 C8.1901,4.6934 7.8101,4.6934 7.5761,4.9214 L5.0881,7.3394 C4.9711,7.4534 4.9711,7.6384 5.0881,7.7524 L5.5121,8.1644 C5.6291,8.2774 5.8191,8.2774 5.9361,8.1644 L7.4001,6.7414 L7.4001,11.4584 C7.4001,11.6194 7.5341,11.7504 7.7001,11.7504 L8.3001,11.7504 C8.4661,11.7504 8.5991,11.6194 8.5991,11.4584 L8.5991,6.7414 L10.0631,8.1644 C10.1811,8.2774 10.3711,8.2774 10.4881,8.1644 L10.9121,7.7524 C11.0291,7.6384 11.0291,7.4534 10.9121,7.3394" id="arrow"></path>            </g>        </g>    </g></svg>'
                }
              }));;
              return __jade_nodes;
            }.call(this));;
            return __jade_nodes;
          }.call(this).filter(Boolean)));
          __jade_nodes = __jade_nodes.concat(h("div", {
            "class": {
              'mp-sh-alert-header-text': true
            }
          }, function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(alert.anomaly ? function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h("span", {
                "class": {
                  'mp-sh-alert-header-alert-type': true
                }
              }, ['Anomaly detected: ' || '']));;
              return __jade_nodes;
            }.call(this) : alert.contour ? function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h("span", {
                "class": {
                  'mp-sh-alert-header-alert-type': true
                }
              }, ['Interesting segment detected: ' || '']));;
              return __jade_nodes;
            }.call(this) : undefined);
            __jade_nodes = __jade_nodes.concat(h("span", {
              "class": {
                'mp-sh-alert-header-report-type': true
              }
            }, [$helpers.getReportType() || '']));;
            return __jade_nodes;
          }.call(this).filter(Boolean)));
          __jade_nodes = __jade_nodes.concat(h("div", {
            "on": {
              click: function click(ev) {
                return $helpers.handleRemoveAlert(ev, alertId);
              }
            },
            "class": {
              'mp-sh-alert-remove': true
            }
          }, function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(h("svg-icon", {
              "attrs": {
                icon: 'x'
              }
            }));;
            return __jade_nodes;
          }.call(this).filter(Boolean)));;
          return __jade_nodes;
        }.call(this).filter(Boolean)));
        __jade_nodes = __jade_nodes.concat(h("div", {
          "class": {
            'mp-sh-alert-message': true
          }
        }, function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(h("mp-formatted-message", {
            "attrs": {
              parts: JSON.stringify(message)
            }
          }));;
          return __jade_nodes;
        }.call(this).filter(Boolean)));
        __jade_nodes = __jade_nodes.concat(h("div", {
          "class": {
            'mp-sh-alert-footer': true
          }
        }, function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(h("div", {
            "class": {
              'mp-sh-alert-footer-time': true
            }
          }, [$helpers.getAlertTime() || '']));
          __jade_nodes = __jade_nodes.concat(isAlertOwner ? function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(h("div", {
              "class": Object.assign({}, {
                'mp-sh-alert-animate-buttons': feedbackSentStatus === 'MARKED_USEFULNESS',
                'mp-sh-alert-animate-thank-you': feedbackSentStatus === 'SHOWING_THANK_YOU'
              }, {
                'mp-sh-alert-footer-usefulness': true
              })
            }, function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(feedbackSentStatus == 'NOT_SENT' || feedbackSentStatus == 'MARKED_USEFULNESS' ? function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat(h("div", {
                  "on": {
                    click: function click(ev) {
                      return $helpers.handleSentFeedback(ev, false);
                    }
                  },
                  "class": {
                    'mp-sh-alert-footer-usefulness-option': true,
                    'mp-sh-alert-footer-usefulness-bad': true
                  }
                }, function () {
                  var __jade_nodes = [];
                  __jade_nodes = __jade_nodes.concat(h("div", {
                    "class": {
                      'mp-sh-alert-footer-usefulness-icon': true
                    }
                  }, function () {
                    var __jade_nodes = [];
                    __jade_nodes = __jade_nodes.concat(h('div', {
                      props: {
                        innerHTML: '<?xml version="1.0" encoding="UTF-8"?><svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">    <title>Thumb Down</title>    <desc>Smart-Hub Icon Set</desc>    <defs></defs>    <g id="16-x-16" stroke="none" stroke-width="1" fill-rule="evenodd">        <g id="Thumb-Down">            <path d="M3,17.0189513 L6,17.0189513 L6,10.0189513 L3,10.0189513 L3,17.0189513 L3,17.0189513 Z M17.7790534,9.02342999 L13.0243364,9.02342999 L13.5660377,5.8 C13.6405284,5.34596953 13.5398994,4.99596953 13.2641509,4.75 L12.4339623,4 L7.45283019,8.95 C7.1509434,9.175 7,9.55 7,10 L7,16.5 C7,17.325 7.67924528,18 8.50943396,18 L15.3018868,18 C15.9056604,18 16.4339623,17.625 16.6603774,17.1 L18.9245283,11.775 C19,11.625 19,11.4 19,11.25 C19,11.5702033 19,11.4035367 19,10.75 C19,9.76969499 18.6092421,9.02342999 17.7790534,9.02342999 Z" id="Shape" transform="translate(11.000000, 11.000000) rotate(180.000000) translate(-11.000000, -11.000000) "></path>        </g>    </g></svg>'
                      }
                    }));;
                    return __jade_nodes;
                  }.call(this).filter(Boolean)));
                  __jade_nodes = __jade_nodes.concat(h("div", {
                    "class": {
                      'mp-sh-alert-footer-usefulness-text': true
                    }
                  }, function () {
                    var __jade_nodes = [];
                    __jade_nodes = __jade_nodes.concat("Not useful");;
                    return __jade_nodes;
                  }.call(this).filter(Boolean)));;
                  return __jade_nodes;
                }.call(this).filter(Boolean)));
                __jade_nodes = __jade_nodes.concat(h("div", {
                  "on": {
                    click: function click(ev) {
                      return $helpers.handleSentFeedback(ev, true);
                    }
                  },
                  "class": {
                    'mp-sh-alert-footer-usefulness-option': true,
                    'mp-sh-alert-footer-usefulness-good': true
                  }
                }, function () {
                  var __jade_nodes = [];
                  __jade_nodes = __jade_nodes.concat(h("div", {
                    "class": {
                      'mp-sh-alert-footer-usefulness-icon': true
                    }
                  }, function () {
                    var __jade_nodes = [];
                    __jade_nodes = __jade_nodes.concat(h('div', {
                      props: {
                        innerHTML: '<?xml version="1.0" encoding="UTF-8"?><svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">    <title>Thumb Up</title>    <desc>Smart-hub Icon Set</desc>    <defs></defs>    <g id="16-x-16" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">        <g id="Thumb-Up" fill-rule="nonzero">            <path d="M3,17.0189513 L6,17.0189513 L6,10.0189513 L3,10.0189513 L3,17.0189513 L3,17.0189513 Z M17.7790534,9.02342999 L13.0243364,9.02342999 L13.5660377,5.8 C13.6405284,5.34596953 13.5398994,4.99596953 13.2641509,4.75 L12.4339623,4 L7.45283019,8.95 C7.1509434,9.175 7,9.55 7,10 L7,16.5 C7,17.325 7.67924528,18 8.50943396,18 L15.3018868,18 C15.9056604,18 16.4339623,17.625 16.6603774,17.1 L18.9245283,11.775 C19,11.625 19,11.4 19,11.25 C19,11.5702033 19,11.4035367 19,10.75 C19,9.76969499 18.6092421,9.02342999 17.7790534,9.02342999 Z" id="Shape"></path>        </g>    </g></svg>'
                      }
                    }));;
                    return __jade_nodes;
                  }.call(this).filter(Boolean)));
                  __jade_nodes = __jade_nodes.concat(h("div", {
                    "class": {
                      'mp-sh-alert-footer-usefulness-text': true
                    }
                  }, function () {
                    var __jade_nodes = [];
                    __jade_nodes = __jade_nodes.concat("Useful");;
                    return __jade_nodes;
                  }.call(this).filter(Boolean)));;
                  return __jade_nodes;
                }.call(this).filter(Boolean)));;
                return __jade_nodes;
              }.call(this) : feedbackSentStatus == 'SHOWING_THANK_YOU' ? function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat(h("div", {
                  "class": {
                    'mp-sh-alert-footer-thank-you': true
                  }
                }, function () {
                  var __jade_nodes = [];
                  __jade_nodes = __jade_nodes.concat("Thank you for your feedback");;
                  return __jade_nodes;
                }.call(this).filter(Boolean)));;
                return __jade_nodes;
              }.call(this) : undefined);;
              return __jade_nodes;
            }.call(this).filter(Boolean)));;
            return __jade_nodes;
          }.call(this) : undefined);;
          return __jade_nodes;
        }.call(this).filter(Boolean)));;
        return __jade_nodes;
      }.call(this);
    };
    return {
      value: h("div", {
        "on": {
          click: $helpers.handleClickAlert
        },
        "class": {
          'mp-sh-alert-container': true
        }
      }, function () {
        var __jade_nodes = [];
        __jade_nodes = __jade_nodes.concat(displayContext !== 'IN_REPORT' ? function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(h("a", {
            "attrs": {
              href: $helpers.generatePermalink()
            },
            "on": {
              click: $helpers.handleClickLink
            },
            "class": Object.assign({}, {
              'mp-sh-alert-unread': !isRead
            }, {
              'mp-sh-alert-content': true
            })
          }, function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(jade_mixins['alert-content'].call(this));;
            return __jade_nodes;
          }.call(this).filter(Boolean)));;
          return __jade_nodes;
        }.call(this) : function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(h("div", {
            "class": {
              'mp-sh-alert-content': true,
              'mp-sh-alert-in-report': true
            }
          }, function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(jade_mixins['alert-content'].call(this));;
            return __jade_nodes;
          }.call(this).filter(Boolean)));;
          return __jade_nodes;
        }.call(this));;
        return __jade_nodes;
      }.call(this).filter(Boolean))
    };
  }.call(this, "$helpers" in locals ? locals.$helpers : typeof $helpers !== "undefined" ? $helpers : undefined, "JSON" in locals ? locals.JSON : typeof JSON !== "undefined" ? JSON : undefined, "Object" in locals ? locals.Object : typeof Object !== "undefined" ? Object : undefined, "alert" in locals ? locals.alert : typeof alert !== "undefined" ? alert : undefined, "alertId" in locals ? locals.alertId : typeof alertId !== "undefined" ? alertId : undefined, "displayContext" in locals ? locals.displayContext : typeof displayContext !== "undefined" ? displayContext : undefined, "feedbackSentStatus" in locals ? locals.feedbackSentStatus : typeof feedbackSentStatus !== "undefined" ? feedbackSentStatus : undefined, "isAlertOwner" in locals ? locals.isAlertOwner : typeof isAlertOwner !== "undefined" ? isAlertOwner : undefined, "isRead" in locals ? locals.isRead : typeof isRead !== "undefined" ? isRead : undefined, "message" in locals ? locals.message : typeof message !== "undefined" ? message : undefined);
  if (result_of_with) return result_of_with.value;
}
module.exports = _jade_template_fn;
},{"panel":343}],303:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _panel = require('panel');

var _dom = require('../../util/dom');

var _registerElement = require('../../util/register-element.js');

var _appApiClient = require('../../util/app-api-client.js');

var _appApiClient2 = _interopRequireDefault(_appApiClient);

var _message = require('./utils/message');

var _common = require('./utils/common');

var _tracking = require('./utils/tracking');

var _permalink = require('./utils/permalink');

var _index = require('./index.jade');

var _index2 = _interopRequireDefault(_index);

var _index3 = require('./index.styl');

var _index4 = _interopRequireDefault(_index3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* globals mixpanel */

var SmartHubAlert = function (_Component) {
  _inherits(SmartHubAlert, _Component);

  function SmartHubAlert() {
    _classCallCheck(this, SmartHubAlert);

    return _possibleConstructorReturn(this, (SmartHubAlert.__proto__ || Object.getPrototypeOf(SmartHubAlert)).apply(this, arguments));
  }

  _createClass(SmartHubAlert, [{
    key: 'formatAlertDate',
    value: function formatAlertDate(timestampMs) {
      return (0, _moment2.default)(timestampMs).utcOffset(this.state.utcOffset || 0).format('ddd, MMM D');
    }
  }, {
    key: 'updateAlertState',
    value: function updateAlertState() {
      var alert = this.getJSONAttribute('alert');
      this.update({
        alert: alert,
        projectId: Number(this.getAttribute('project-id')),
        displayContext: this.getAttribute('display-context'),
        // The caller can specify the value to use the alert's message rather than using the value in the alert.
        // The value in the alert can be used for alerts in the smart hub dropdown. When used in-report, let the
        // report pass the value based on the current data in the report (since the value in the alert could be
        // out of date).
        utcOffset: Number(this.getAttribute('utc-offset'))
      });

      if (!alert) {
        return;
      }

      // TODO(ML-974): Most of this data is immutable and doesn't need to live in state.
      this.update({
        alertId: alert.alertId,
        isRead: alert.isRead,
        isAlertOwner: alert.isAlertOwner,
        message: (0, _message.generateMessage)(alert, {
          displayContext: this.state.displayContext,
          utcOffset: this.state.utcOffset
        })
      });

      var sentFeedbackAtMs = (0, _common.getSentFeedbackAtMs)(this.state.alert);
      if (!sentFeedbackAtMs || !['MARKED_USEFULNESS', 'SHOWING_THANK_YOU'].includes(this.state.feedbackSentStatus)) {
        // Only update the feedbackStatus only if it's not currently animating towards the ALREADY_SENT status
        this.update({
          feedbackSentStatus: sentFeedbackAtMs ? 'ALREADY_SENT' : 'NOT_SENT'
        });
      }
    }
  }, {
    key: 'attachedCallback',
    value: function attachedCallback() {
      var _this2 = this;

      this.updateAlertState();

      _get(SmartHubAlert.prototype.__proto__ || Object.getPrototypeOf(SmartHubAlert.prototype), 'attachedCallback', this).apply(this, arguments);

      this._onFeedbackAnimationEnd = function (ev) {
        if (!ev.target.classList.contains('mp-sh-alert-footer-usefulness')) {
          return;
        }

        switch (_this2.state.feedbackSentStatus) {
          case 'MARKED_USEFULNESS':
            _this2.update({ feedbackSentStatus: 'SHOWING_THANK_YOU' });
            break;
          case 'SHOWING_THANK_YOU':
            _this2.update({ feedbackSentStatus: 'ALREADY_SENT' });
            break;
        }
      };
      (0, _dom.onAnimationEnd)(this.el, this._onFeedbackAnimationEnd);

      this._handleGlobalChangedAlert = function (e) {
        if (!(0, _common.isSimilarAlert)(e.detail.alert, _this2.state.alert)) {
          return;
        }

        if (e.detail.type === SmartHubAlert.CHANGE_TYPE_SENT_FEEDBACK) {
          var sentFeedbackAtMs = (0, _common.getSentFeedbackAtMs)(e.detail.alert);
          _this2.setSentFeedbackAtMs(sentFeedbackAtMs);
        }

        _this2.dispatchEvent(new CustomEvent('changedAlert', {
          detail: Object.assign(e.detail, { alert: _this2.state.alert })
        }));
      };
      document.addEventListener('globalChangedAlert', this._handleGlobalChangedAlert);
    }
  }, {
    key: 'stopFeedbackAnimationIfNeeded',
    value: function stopFeedbackAnimationIfNeeded() {
      if (!['NOT_SENT', 'ALREADY_SENT'].includes(this.state.feedbackSentStatus)) {
        this.update({ feedbackSentStatus: 'ALREADY_SENT' });
      }
    }
  }, {
    key: 'detachedCallback',
    value: function detachedCallback() {
      _get(SmartHubAlert.prototype.__proto__ || Object.getPrototypeOf(SmartHubAlert.prototype), 'detachedCallback', this).apply(this, arguments);
      (0, _dom.offAnimationEnd)(this.el, this._onFeedbackAnimationEnd);
      document.removeEventListener('globalChangedAlert', this._handleGlobalChangedAlert);
    }
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(name) {
      _get(SmartHubAlert.prototype.__proto__ || Object.getPrototypeOf(SmartHubAlert.prototype), 'attributeChangedCallback', this).apply(this, arguments);

      if (!this.initialized) {
        return;
      }

      if (!['alert', 'project-id', 'display-context', 'utc-offset'].includes(name)) {
        return;
      }

      this.updateAlertState();
    }
  }, {
    key: '_fetchUrl',
    value: function _fetchUrl() {
      var _state = this.state,
          alert = _state.alert,
          projectId = _state.projectId;


      var detailId = function () {
        var anomaly = alert.anomaly,
            contour = alert.contour;

        if (anomaly && anomaly.anomalyDetail) {
          return anomaly.anomalyDetail.anomalyDetailId;
        } else if (contour && contour.contourDetail) {
          return contour.contourDetail.contourDetailId;
        } else {
          return null;
        }
      }();

      if (detailId) {
        return (0, _common.getAlertDetailUrl)({ projectId: projectId, alertId: alert.alertId, detailId: detailId });
      } else {
        return (0, _common.getAlertUrl)({ projectId: projectId, alertId: alert.alertId, detailId: detailId });
      }
    }
  }, {
    key: 'fetch',
    value: function fetch(method, params) {
      return _appApiClient2.default.fetch(this._fetchUrl(), { method: method, body: JSON.stringify(params) }).then(function (response) {
        return response.json();
      });
    }
  }, {
    key: 'dispatchGlobalChangedAlert',
    value: function dispatchGlobalChangedAlert(type) {
      var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

      // Changes (marking useful, removing) are bubbled to the root of the document. All mp-smart-hub-alerts in the
      // document listen for this event on the document root. When the event occurs for an (alertId, detailId)
      // matching the current mp-smart-hub-alert, it will update it's own state, and trigger a 'changedAlert' event
      // which parent elements (mp-smart-hub-dropdown, mp-smart-hub-tooltip) can listen for to update their own state.
      // TODO(mack): Find a cleaner way to do this. The current way requires that all mp-smart-hub-alerts are in the
      // DOM, even when they are not visible (e.g. if the dropdown is not open). This is currently the case, but is
      // not guaranteed to be true forever.
      this.dispatchEvent(new CustomEvent('globalChangedAlert', {
        detail: {
          type: type,
          alert: this.state.alert,
          data: data
        },
        bubbles: true
      }));
    }
  }, {
    key: 'setSentFeedbackAtMs',
    value: function setSentFeedbackAtMs(ms) {
      var alert = this.state.alert;

      (0, _common.setSentFeedbackAtMs)(alert, ms);
      this.setAttribute('alert', JSON.stringify(alert));
    }
  }, {
    key: 'trackEvent',
    value: function trackEvent(eventName) {
      var _this3 = this;

      var extraProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

      var commonProperties = (0, _tracking.trackingProperties)(this.state.alert);

      return new Promise(function (resolve) {
        mixpanel.track(eventName, Object.assign({
          'display_context': _this3.state.displayContext.toUpperCase(),
          'platform_created': 'WEB',
          'platform_detected': 'WEB',
          'project_id': _this3.state.projectId
        }, commonProperties, extraProps), resolve);
      });
    }
  }, {
    key: 'incrementPeopleProperty',
    value: function incrementPeopleProperty(propertyName) {
      return new Promise(function (resolve) {
        mixpanel.people.increment(propertyName, 1, resolve);
      });
    }
  }, {
    key: 'config',
    get: function get() {
      var _this4 = this;

      return {
        css: _index4.default,
        template: _index2.default,
        useShadowDom: true,
        defaultState: {
          projectId: null,
          displayContext: null,
          alert: null,
          alertId: null,
          type: null,
          isRead: false,
          isAlertOwner: false,
          feedbackSentStatus: 'NOT_SENT',
          isUseful: false,
          message: null,
          utcOffset: 0
        },
        helpers: {
          generatePermalink: function generatePermalink() {
            return (0, _permalink.generatePermalink)({
              alert: _this4.state.alert,
              projectId: _this4.state.projectId
            });
          },
          getReportType: function getReportType() {
            return (0, _common.reportType)(_this4.state.alert);
          },
          getAlertTime: function getAlertTime() {
            var _state$alert = _this4.state.alert,
                anomaly = _state$alert.anomaly,
                contour = _state$alert.contour;

            if (anomaly) {
              var anomalyDetail = anomaly.anomalyDetail,
                  anomalyDetails = anomaly.anomalyDetails;

              var anomalyTimestamp = anomalyDetail ? anomalyDetail.anomalyTimestamp : anomalyDetails[0].anomalyTimestamp;
              return _this4.formatAlertDate(Number(anomalyTimestamp));
            } else if (contour) {
              return _this4.formatAlertDate(Number(_this4.state.alert.ingestedAtMs));
            }
          },
          getAlertDirection: function getAlertDirection() {
            return (0, _common.getAlertDirection)(_this4.state.alert);
          },
          handleClickAlert: function handleClickAlert(ev) {
            // Don't propagate any clicks on the alert, since custom events are fired for different interactions
            ev.stopPropagation();
          },
          handleSentFeedback: function handleSentFeedback(ev, isUseful) {
            ev.preventDefault();
            ev.stopPropagation();

            var params = {
              is_useful: isUseful, // eslint-disable-line camelcase
              display_context: _this4.state.displayContext // eslint-disable-line camelcase
            };
            _this4.fetch('PATCH', params);

            _this4.update({ feedbackSentStatus: 'MARKED_USEFULNESS' });

            _this4.trackEvent('Smart Hub: Sent Feedback', { 'is_useful': isUseful });

            var sentFeedbackAtMs = new Date().getTime();
            _this4.setSentFeedbackAtMs(sentFeedbackAtMs);

            _this4.dispatchGlobalChangedAlert(SmartHubAlert.CHANGE_TYPE_SENT_FEEDBACK, { isUseful: isUseful });
          },
          handleClickLink: function handleClickLink(ev) {
            ev.stopPropagation();

            var modifierKey = ev.ctrlKey || ev.metaKey;
            if (!modifierKey) {
              ev.preventDefault();
            }

            var href = ev.currentTarget.href;
            var navigateToLinkIfNeeded = function navigateToLinkIfNeeded() {
              if (!modifierKey) {
                window.location.href = href;
              }
            };

            Promise.all([_this4.incrementPeopleProperty('Smart Hub: Total Alerts Clicked'), _this4.trackEvent('Smart Hub: Clicked Alert Link')]).then(navigateToLinkIfNeeded);

            // Navigate to link if the mixpanel track calls doesn't finish within 300ms.
            setTimeout(navigateToLinkIfNeeded, 300);

            _this4.dispatchEvent(new CustomEvent('clickedLink', {
              detail: { modifierKey: modifierKey }
            }));
          },
          handleRemoveAlert: function handleRemoveAlert(ev) {
            ev.preventDefault();
            ev.stopPropagation();
            if (_this4.state.displayContext !== 'IN_REPORT') {
              _this4.fetch('DELETE');
              _this4.trackEvent('Smart Hub: Deleted Alert');
            }
            _this4.dispatchGlobalChangedAlert(SmartHubAlert.CHANGE_TYPE_REMOVED);
          }
        }
      };
    }
  }]);

  return SmartHubAlert;
}(_panel.Component);

SmartHubAlert.CHANGE_TYPE_SENT_FEEDBACK = 'SENT_FEEDBACK';
SmartHubAlert.CHANGE_TYPE_REMOVED = 'REMOVED';

exports.default = (0, _registerElement.registerMPElement)('mp-smart-hub-alert', SmartHubAlert);
},{"../../util/app-api-client.js":276,"../../util/dom":280,"../../util/register-element.js":283,"./index.jade":302,"./index.styl":304,"./utils/common":305,"./utils/message":309,"./utils/permalink":312,"./utils/tracking":315,"moment":338,"panel":343}],304:[function(require,module,exports){
module.exports = "* {   -webkit-font-smoothing: antialiased; } *:focus {   outline: 0; } *::-ms-clear {   height: 0;   width: 0; } body {   color: #6d859e;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-stretch: normal;   font-weight: 400; } body.no-scroll {   overflow: hidden; } a, .mp-link {   cursor: pointer;   text-decoration: none; } a, .mp-link, a:visited, .mp-link:visited {   color: #3b99f0; } a:hover, .mp-link:hover {   color: #4ba8ff; } .mp-font-size-xl {   font-size: 18px; } .mp-font-size-large {   font-size: 16px; } .mp-font-size-medium {   font-size: 14px; } .mp-font-size-default {   font-size: 13px; } .mp-font-size-xs {   font-size: 11px;   text-transform: uppercase; } .mp-font-weight-bold {   font-weight: 600; } .mp-font-weight-medium {   font-weight: 500; } .mp-font-weight-regular {   font-weight: 400; } .mp-font-paragraph {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } input[type=text], textarea {   border: 1px solid #d8e0ea;   border-radius: 5px;   box-sizing: border-box;   color: #4c6072;   display: inline-block;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 400;   padding: 8px;   transition: border-color 150ms ease-out; } input[type=text]::-webkit-input-placeholder, textarea::-webkit-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::-moz-placeholder, textarea::-moz-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:-ms-input-placeholder, textarea:-ms-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::placeholder, textarea::placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:focus, textarea:focus, input[type=text]:active, textarea:active {   border-color: #3391e9;   transition: border-color 200ms ease-in; } input[type=text] {   height: 36px; } mp-truncated-text {   display: inline-block;   white-space: nowrap;   width: 100%; } svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } svg-icon[icon=lightning-bolt] #bolt, svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } svg-icon[icon=alert] #circle, svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } mp-smart-hub-alert {   display: -webkit-inline-box;   display: -ms-inline-flexbox;   display: inline-flex;   width: 360px; } :host {   display: -webkit-inline-box;   display: -ms-inline-flexbox;   display: inline-flex;   width: 360px; } .mp-sh-alert-container {   width: 100%; } .mp-sh-alert-content {   background-color: #fff;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   -webkit-box-orient: vertical;   -webkit-box-direction: normal;       -ms-flex-direction: column;           flex-direction: column;   padding: 12px 25px 12px 46px;   position: relative;   transition: background-color 0.25s; } .mp-sh-alert-content.mp-sh-alert-unread {   background-color: rgba(108,184,255,0.05); } .mp-sh-alert-content .mp-sh-alert-header {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   position: relative; } .mp-sh-alert-content .mp-sh-alert-header .mp-sh-alert-type-icon {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   height: 100%;   left: -26px;   position: absolute; } .mp-sh-alert-content .mp-sh-alert-header .mp-sh-alert-type-icon svg {   display: block; } .mp-sh-alert-content .mp-sh-alert-header .mp-sh-alert-type-icon svg path#arrow {   fill: #fff; } .mp-sh-alert-content .mp-sh-alert-header .mp-sh-alert-type-icon.mp-sh-alert-type-anomaly svg path#disc {   fill: #ffd209; } .mp-sh-alert-content .mp-sh-alert-header .mp-sh-alert-type-icon.mp-sh-alert-type-contour svg path#disc {   fill: #2dc376; } .mp-sh-alert-content .mp-sh-alert-header .mp-sh-alert-header-text {   -webkit-box-flex: 1;       -ms-flex: 1;           flex: 1; } .mp-sh-alert-content .mp-sh-alert-header .mp-sh-alert-header-text .mp-sh-alert-header-alert-type {   color: #4c6072;   font-weight: 600;   font-size: 13px; } .mp-sh-alert-content .mp-sh-alert-header .mp-sh-alert-header-text .mp-sh-alert-header-report-type {   color: #4c6072;   font-size: 13px;   font-weight: 400; } .mp-sh-alert-content .mp-sh-alert-header .mp-sh-alert-remove {   cursor: pointer;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   opacity: 0;   position: relative;   right: -5px;   transition: opacity 0.25s; } .mp-sh-alert-content .mp-sh-alert-header .mp-sh-alert-remove svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } .mp-sh-alert-content .mp-sh-alert-header .mp-sh-alert-remove svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .mp-sh-alert-content .mp-sh-alert-header .mp-sh-alert-remove svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .mp-sh-alert-content .mp-sh-alert-header .mp-sh-alert-remove svg-icon[icon=lightning-bolt] #bolt, .mp-sh-alert-content .mp-sh-alert-header .mp-sh-alert-remove svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .mp-sh-alert-content .mp-sh-alert-header .mp-sh-alert-remove svg-icon[icon=alert] #circle, .mp-sh-alert-content .mp-sh-alert-header .mp-sh-alert-remove svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .mp-sh-alert-content .mp-sh-alert-header .mp-sh-alert-remove svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .mp-sh-alert-content .mp-sh-alert-header .mp-sh-alert-remove svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .mp-sh-alert-content .mp-sh-alert-header .mp-sh-alert-remove svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } .mp-sh-alert-content .mp-sh-alert-header .mp-sh-alert-remove svg-icon svg, .mp-sh-alert-content .mp-sh-alert-header .mp-sh-alert-remove svg-icon path {   color: #bdc9d6;   fill: #bdc9d6; } .mp-sh-alert-content .mp-sh-alert-header .mp-sh-alert-remove svg-icon svg, .mp-sh-alert-content .mp-sh-alert-header .mp-sh-alert-remove svg-icon path {   transition: 0.2s; } .mp-sh-alert-content .mp-sh-alert-header .mp-sh-alert-remove:hover svg-icon svg, .mp-sh-alert-content .mp-sh-alert-header .mp-sh-alert-remove:hover svg-icon path {   color: #ec7191;   fill: #ec7191; } .mp-sh-alert-content .mp-sh-alert-message {   color: #6d859e;   font-size: 13px;   font-weight: 500;   margin: 6px 0;   text-align: start;   white-space: normal;   word-wrap: break-word; } .mp-sh-alert-content .mp-sh-alert-message .mp-sh-alert-keyword {   color: #4c6072; } .mp-sh-alert-content .mp-sh-alert-footer {   display: -webkit-box;   display: -ms-flexbox;   display: flex;   -webkit-box-orient: horizontal;   -webkit-box-direction: normal;       -ms-flex-direction: row;           flex-direction: row;   height: 26px;   -webkit-box-pack: justify;       -ms-flex-pack: justify;           justify-content: space-between; } .mp-sh-alert-content .mp-sh-alert-footer .mp-sh-alert-footer-time {   color: #9bacbf;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   -webkit-box-orient: vertical;   -webkit-box-direction: normal;       -ms-flex-direction: column;           flex-direction: column;   font-size: 12px;   font-weight: 400;   -webkit-box-pack: center;       -ms-flex-pack: center;           justify-content: center; } .mp-sh-alert-content .mp-sh-alert-footer .mp-sh-alert-footer-usefulness {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   -webkit-box-orient: horizontal;   -webkit-box-direction: normal;       -ms-flex-direction: row;           flex-direction: row;   font-size: 12px;   font-weight: 400; } .mp-sh-alert-content .mp-sh-alert-footer .mp-sh-alert-footer-usefulness.mp-sh-alert-animate-buttons {   -webkit-animation: feedback-buttons 0.25s ease-out forwards;           animation: feedback-buttons 0.25s ease-out forwards; } .mp-sh-alert-content .mp-sh-alert-footer .mp-sh-alert-footer-usefulness.mp-sh-alert-animate-thank-you {   -webkit-animation: feedback-thank-you 2.5s ease-in-out forwards;           animation: feedback-thank-you 2.5s ease-in-out forwards; } .mp-sh-alert-content .mp-sh-alert-footer .mp-sh-alert-footer-usefulness .mp-sh-alert-footer-usefulness-option {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   color: #9bacbf;   cursor: pointer;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   margin-right: 18px;   transition: color 0.3s; } .mp-sh-alert-content .mp-sh-alert-footer .mp-sh-alert-footer-usefulness .mp-sh-alert-footer-usefulness-option.mp-sh-alert-footer-usefulness-bad .mp-sh-alert-footer-usefulness-icon {   margin-top: 2px; } .mp-sh-alert-content .mp-sh-alert-footer .mp-sh-alert-footer-usefulness .mp-sh-alert-footer-usefulness-option.mp-sh-alert-footer-usefulness-good .mp-sh-alert-footer-usefulness-icon {   margin-top: -3px; } .mp-sh-alert-content .mp-sh-alert-footer .mp-sh-alert-footer-usefulness .mp-sh-alert-footer-usefulness-option .mp-sh-alert-footer-usefulness-text {   margin-left: 2px; } .mp-sh-alert-content .mp-sh-alert-footer .mp-sh-alert-footer-usefulness .mp-sh-alert-footer-usefulness-option svg {   display: block;   height: 18px;   width: 18px; } .mp-sh-alert-content .mp-sh-alert-footer .mp-sh-alert-footer-usefulness .mp-sh-alert-footer-usefulness-option svg, .mp-sh-alert-content .mp-sh-alert-footer .mp-sh-alert-footer-usefulness .mp-sh-alert-footer-usefulness-option path {   color: #9bacbf;   fill: #9bacbf;   transition: color 0.1s, fill 0.1s; } .mp-sh-alert-content .mp-sh-alert-footer .mp-sh-alert-footer-usefulness .mp-sh-alert-footer-usefulness-option:hover {   color: #4ba8ff; } .mp-sh-alert-content .mp-sh-alert-footer .mp-sh-alert-footer-usefulness .mp-sh-alert-footer-usefulness-option:hover svg, .mp-sh-alert-content .mp-sh-alert-footer .mp-sh-alert-footer-usefulness .mp-sh-alert-footer-usefulness-option:hover path {   color: #4ba8ff;   fill: #4ba8ff; } .mp-sh-alert-content .mp-sh-alert-footer .mp-sh-alert-footer-usefulness .mp-sh-alert-footer-usefulness-option:last-child {   margin-right: 0; } .mp-sh-alert-content .mp-sh-alert-footer .mp-sh-alert-footer-usefulness .mp-sh-alert-footer-thank-you {   color: #9bacbf;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   -webkit-box-orient: vertical;   -webkit-box-direction: normal;       -ms-flex-direction: column;           flex-direction: column;   -webkit-box-pack: center;       -ms-flex-pack: center;           justify-content: center; } .mp-sh-alert-content.mp-sh-alert-in-report .mp-sh-alert-header .mp-sh-alert-remove {   opacity: 1; } .mp-sh-alert-content:not(.mp-sh-alert-in-report):hover {   background-color: #f4f9fd;   text-decoration: none; } .mp-sh-alert-content:not(.mp-sh-alert-in-report):hover .mp-sh-alert-header .mp-sh-alert-remove {   opacity: 1; } @-webkit-keyframes feedback-buttons {   0% {     opacity: 1;   }   100% {     opacity: 0;   } } @keyframes feedback-buttons {   0% {     opacity: 1;   }   100% {     opacity: 0;   } } @-webkit-keyframes feedback-thank-you {   0% {     opacity: 0;   }   25% {     opacity: 1;   }   75% {     opacity: 1;   }   100% {     opacity: 0;   } } @keyframes feedback-thank-you {   0% {     opacity: 0;   }   25% {     opacity: 1;   }   75% {     opacity: 1;   }   100% {     opacity: 0;   } } ";

},{}],305:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.expandToAnomalyDetails = expandToAnomalyDetails;
exports.expandToContourDetails = expandToContourDetails;
exports.getAlertDirection = getAlertDirection;
exports.getAlertIdentifier = getAlertIdentifier;
exports.isMatchingAlert = isMatchingAlert;
exports.getSimilarAlertIdentifier = getSimilarAlertIdentifier;
exports.isSimilarAlert = isSimilarAlert;
exports.getSentFeedbackAtMs = getSentFeedbackAtMs;
exports.setSentFeedbackAtMs = setSentFeedbackAtMs;
exports.takeFirstPresentProperty = takeFirstPresentProperty;
exports.getRawContourSegment = getRawContourSegment;
exports.getContourSegment = getContourSegment;
exports.getCommonApiQueryParams = getCommonApiQueryParams;
exports.withCommonApiQueryParams = withCommonApiQueryParams;
exports.getAlertUrl = getAlertUrl;
exports.getAlertDetailUrl = getAlertDetailUrl;
exports.reportType = reportType;
exports.injectContourBaseConversionRate = injectContourBaseConversionRate;
exports.injectContourConversionRate = injectContourConversionRate;
exports.replaceContourSegment = replaceContourSegment;
exports.injectAnomalyValue = injectAnomalyValue;

var _cloneDeep = require('lodash/cloneDeep');

var _cloneDeep2 = _interopRequireDefault(_cloneDeep);

var _isEqual = require('lodash/isEqual');

var _isEqual2 = _interopRequireDefault(_isEqual);

var _orderBy = require('lodash/orderBy');

var _orderBy2 = _interopRequireDefault(_orderBy);

var _queryString = require('query-string');

var _queryString2 = _interopRequireDefault(_queryString);

var _util = require('../../../report/util');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function expandToAnomalyDetails(anomalyAlert) {
  return anomalyAlert.anomaly.anomalyDetails.map(function (anomalyDetail) {
    var anomaly = Object.assign({}, anomalyAlert.anomaly, { anomalyDetail: anomalyDetail });
    delete anomaly.anomalyDetails;
    var anomalyDetailAlert = (0, _cloneDeep2.default)(Object.assign({}, anomalyAlert, { anomaly: anomaly }));
    delete anomalyDetailAlert.readAtMs;
    delete anomalyDetailAlert.sentFeedbackAtMs;
    return anomalyDetailAlert;
  });
}

// Expand a contour primary into a list of contour details in the format needed for mp-smart-hub-alert
function expandToContourDetails(contourAlert) {
  var contourDetails = (0, _orderBy2.default)(contourAlert.contour.contourDetails, function (cd) {
    return cd.score;
  }, 'desc');
  return contourDetails.map(function (contourDetail) {
    var contour = Object.assign({}, contourAlert.contour, { contourDetail: contourDetail });
    delete contour.contourDetails;
    var contourDetailAlert = (0, _cloneDeep2.default)(Object.assign({}, contourAlert, { contour: contour }));
    delete contourDetailAlert.readAtMs;
    delete contourDetailAlert.sentFeedbackAtMs;
    return contourDetailAlert;
  });
}

function getAlertDirection(alert) {
  var anomaly = alert.anomaly,
      contour = alert.contour;

  if (anomaly) {
    if (anomaly.anomalyDetail) {
      return anomaly.anomalyDetail.direction;
    } else {
      return anomaly.anomalyDetails.some(function (d) {
        return d.direction === 'POSITIVE';
      }) ? 'POSITIVE' : 'NEGATIVE';
    }
  } else if (contour) {
    var _contour = alert.contour;
    if (_contour.contourDetail) {
      return _contour.contourDetail.conversionRate >= _contour.baseConversionRate ? 'POSITIVE' : 'NEGATIVE';
    } else {
      var hasPositive = _contour.contourDetails.some(function (d) {
        return d.conversionRate >= _contour.baseConversionRate;
      });
      return hasPositive ? 'POSITIVE' : 'NEGATIVE';
    }
  }
}

function getAlertIdentifier(alert) {
  var identifier = { alertId: alert.alertId };
  var anomaly = alert.anomaly,
      contour = alert.contour;

  if (anomaly && anomaly.anomalyDetail) {
    identifier.anomalyDetailId = anomaly.anomalyDetail.anomalyDetailId;
  } else if (alert.contour && contour.contourDetail) {
    identifier.contourDetailId = contour.contourDetail.contourDetailId;
  }
  return identifier;
}

function isMatchingAlert(alert1, alert2) {
  return (0, _isEqual2.default)(getAlertIdentifier(alert1), getAlertIdentifier(alert2));
}

function getSimilarAlertIdentifier(alert) {
  var identifier = { alertId: alert.alertId };
  var anomaly = alert.anomaly,
      contour = alert.contour;

  if (anomaly) {
    if (anomaly.anomalyDetail) {
      identifier.anomalyDetailId = anomaly.anomalyDetail.anomalyDetailId;
    } else if (anomaly.anomalyDetails.length === 1) {
      identifier.anomalyDetailId = anomaly.anomalyDetails[0].anomalyDetailId;
    }
  } else if (contour) {
    if (contour.contourDetail) {
      identifier.contourDetailId = contour.contourDetail.contourDetailId;
    } else if (contour.contourDetails.length === 1) {
      identifier.contourDetailId = contour.contourDetails[0].contourDetailId;
    }
  }
  return identifier;
}

function isSimilarAlert(alert1, alert2) {
  return (0, _isEqual2.default)(getSimilarAlertIdentifier(alert1), getSimilarAlertIdentifier(alert2));
}

function getSentFeedbackAtMs(alert) {
  var anomaly = alert.anomaly,
      contour = alert.contour;

  if (anomaly && anomaly.anomalyDetail) {
    return anomaly.anomalyDetail.sentFeedbackAtMs;
  } else if (contour && contour.contourDetail) {
    return contour.contourDetail.sentFeedbackAtMs;
  } else {
    return alert.sentFeedbackAtMs;
  }
}

function setSentFeedbackAtMs(alert, ms) {
  var anomaly = alert.anomaly,
      contour = alert.contour;

  if (anomaly && anomaly.anomalyDetail) {
    anomaly.anomalyDetail.sentFeedbackAtMs = ms;
  } else if (contour && contour.contourDetail) {
    contour.contourDetail.sentFeedbackAtMs = ms;
  } else {
    alert.sentFeedbackAtMs = ms;
  }
  return alert;
}

function takeFirstPresentProperty(obj, properties) {
  var propertyIndex = properties.findIndex(function (property) {
    return obj.hasOwnProperty(property);
  });
  return propertyIndex >= 0 ? obj[properties[propertyIndex]] : null;
}

var CONTOUR_SEGMENT_VALUE_FIELDS = ['stringValue', 'boolValue', 'numValue'];

function getRawContourSegment(_ref) {
  var contourDetail = _ref.contourDetail;

  return takeFirstPresentProperty(contourDetail, CONTOUR_SEGMENT_VALUE_FIELDS).toString();
}

function getContourSegment(_ref2) {
  var contourDetail = _ref2.contourDetail,
      property = _ref2.property;

  return (0, _util.renamePropertyValue)(getRawContourSegment({ contourDetail: contourDetail }), property);
}

function getCommonApiQueryParams() {
  var params = {};

  if (localStorage.getItem('mp_smart_hub_use_mock_response')) {
    params.use_mock_response = 1; // eslint-disable-line camelcase
  }

  if (localStorage.getItem('mp_smart_hub_use_staging')) {
    params.use_staging_smarthub = 1; // eslint-disable-line camelcase
  }

  return params;
}

function withCommonApiQueryParams(url) {
  var qs = _queryString2.default.stringify(getCommonApiQueryParams());
  return qs ? url + '?' + qs : url;
}

// TODO(mack): Create app_api client rather than individual functions
function getAlertUrl(_ref3) {
  var projectId = _ref3.projectId,
      alertId = _ref3.alertId;

  return withCommonApiQueryParams('/api/app/projects/' + projectId + '/smart-hub/alerts/' + alertId);
}

function getAlertDetailUrl(_ref4) {
  var projectId = _ref4.projectId,
      alertId = _ref4.alertId,
      detailId = _ref4.detailId;

  return withCommonApiQueryParams('/api/app/projects/' + projectId + '/smart-hub/alerts/' + alertId + '/details/' + detailId);
}

function reportType(alert) {
  var anomaly = alert.anomaly,
      contour = alert.contour;

  if (anomaly) {
    if (anomaly.insightsQuery) {
      return 'Insights';
    } else if (anomaly.funnelsQuery) {
      return 'Funnels';
    } else if (anomaly.retentionQuery) {
      return 'Retention';
    }
  } else if (contour) {
    if (contour.insightsDetails) {
      return 'Insights';
    } else if (contour.funnelsDetails) {
      return 'Funnels';
    } else if (contour.retentionDetails) {
      return 'Retention';
    }
  }
}

function injectContourBaseConversionRate(alert, baseConversionRate) {
  alert.contour.baseConversionRate = baseConversionRate;
  return alert;
}

function injectContourConversionRate(alert, conversionRate) {
  alert.contour.contourDetail.conversionRate = conversionRate;
  return alert;
}

function replaceContourSegment(alert, segment) {
  var contourDetail = alert.contour.contourDetail;

  CONTOUR_SEGMENT_VALUE_FIELDS.forEach(function (field) {
    if (contourDetail.hasOwnProperty(field)) {
      delete contourDetail[field];
    }
  });
  contourDetail.stringValue = segment.toString();
  return alert;
}

function injectAnomalyValue(alert, value) {
  alert.anomaly.anomalyDetail.valueAtTimestamp = value;
  return alert;
}
},{"../../../report/util":273,"lodash/cloneDeep":161,"lodash/isEqual":173,"lodash/orderBy":185,"query-string":348}],306:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.generateInsightsMessage = generateInsightsMessage;
exports.generateRetentionMessage = generateRetentionMessage;
exports.generateFunnelsMessage = generateFunnelsMessage;

var _util = require('../../../../report/util');

var _common = require('./common');

function getAnomalyValue(anomalyDetail) {
  return anomalyDetail.valueAtTimestamp;
}

// wrap keywordParam by always applying our highlight class
function keyword(arg) {
  return (0, _common.keywordParam)(arg, 'span', 'mp-sh-alert-keyword');
}

function generateInsightsMessage(anomaly) {
  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
      displayContext = _ref.displayContext,
      _ref$utcOffset = _ref.utcOffset,
      utcOffset = _ref$utcOffset === undefined ? 0 : _ref$utcOffset;

  var messageParts = [];

  // TODO(mack): Even though the backend should be returning UNIQUE anomaly_detail before TOTAL, enforce this on
  // the front-end
  var insightsQuery = anomaly.insightsQuery;

  var anomalyDetail = anomaly.anomalyDetail ? anomaly.anomalyDetail : anomaly.anomalyDetails[0];

  var value = getAnomalyValue(anomalyDetail);

  var eventName = keyword((0, _util.renameEvent)(insightsQuery.eventDisplayName));
  var direction = anomaly.direction === 'NEGATIVE' ? 'decreased' : 'increased';
  var formattedValue = (0, _common.formatWholeNumber)(value);
  // Viewed report decreased to 50
  messageParts.push(eventName, ' ', direction, ' to ', formattedValue);

  var showAction = anomalyDetail.insightsDetails.showAction;

  if (showAction === 'UNIQUE') {
    messageParts.push(' ', (0, _common.pluralize)('user', value));
  }

  var timeUnit = insightsQuery.timeUnit;
  if (displayContext === 'IN_REPORT') {
    var anomalyDate = (0, _common.formatAlertDate)(Number(anomalyDetail.anomalyTimestamp), { includeHours: timeUnit === 'HOUR', utcOffset: utcOffset });
    messageParts.push(' on ', anomalyDate, '. ');
  } else {
    var lastUnit = { 'HOUR': 'hour', 'DAY': '24 hours' }[timeUnit];
    messageParts.push(' in the last ', lastUnit, '. ');
  }

  var expectedValue = anomalyDetail.expectedValue;

  var formattedExpectedValue = (0, _common.formatWholeNumber)(expectedValue);
  var expectedDirection = value < expectedValue ? 'lower' : 'higher';
  if (expectedValue === 0) {
    messageParts.push('This is ', expectedDirection, ' than our forecast of ', formattedExpectedValue, '.');
  } else {
    var expectedDiff = function () {
      if (value < expectedValue) {
        return (0, _common.formatPercent)(1 - value / expectedValue, 0);
      } else {
        return (0, _common.formatPercent)(value / expectedValue - 1, 0);
      }
    }();

    messageParts.push('This is ', expectedDiff, ' ', expectedDirection, ' than our forecast of ', formattedExpectedValue, '.');
  }

  return (0, _common.combine)(messageParts);
}

function inReportRetentionMessage(_ref2) {
  var anomaly = _ref2.anomaly,
      utcOffset = _ref2.utcOffset;

  var messageParts = [];

  var anomalyDetail = anomaly.anomalyDetail,
      retentionQuery = anomaly.retentionQuery;


  var value = getAnomalyValue(anomalyDetail);
  var retentionDetails = anomalyDetail.retentionDetails;

  var direction = anomalyDetail.direction === 'NEGATIVE' ? 'decreased' : 'increased';
  var interval = retentionDetails.interval;

  var retentionDate = (0, _common.formatAlertDate)(Number(anomalyDetail.anomalyTimestamp) - interval * 86400000, { utcOffset: utcOffset });
  var expectedDirection = value < anomalyDetail.expectedValue ? 'lower' : 'higher';
  var expectedValue = (0, _common.formatPercent)(anomalyDetail.expectedValue, 2);

  var formattedValue = function () {
    if (retentionQuery.countType === 'PERCENT') {
      return (0, _common.formatPercent)(value, 2);
    } else {
      console.error('Unsupported countType ' + retentionQuery.countType);
    }
  }();

  messageParts.push('Day ', interval, ' retention has ', direction, ' to ', formattedValue, ' for users from ', retentionDate, '. ');
  messageParts.push('This is ', expectedDirection, ' than our forecast of ', expectedValue, '.');

  return (0, _common.combine)(messageParts);
}

function globalRetentionMessage(_ref3) {
  var anomaly = _ref3.anomaly;

  var messageParts = [];

  var anomalyDetails = anomaly.anomalyDetails,
      retentionQuery = anomaly.retentionQuery;


  if (anomalyDetails.length > 1) {
    messageParts.push('The retention rate ');
  } else {
    messageParts.push('Day ', anomalyDetails[0].retentionDetails.interval, ' retention ');
  }

  if (retentionQuery.retentionType === 'BIRTH') {
    var bornEventName = keyword((0, _util.renameEvent)(retentionQuery.bornEventDisplayName));
    var eventName = keyword((0, _util.renameEvent)(retentionQuery.eventDisplayName));
    messageParts.push('from ', bornEventName, ' -> ', eventName);
  } else if (retentionQuery.retentionType === 'COMPOUNDED') {
    var _eventName = keyword((0, _util.renameEvent)(retentionQuery.eventDisplayName));
    messageParts.push('from ', _eventName, ' -> ', _eventName);
  }

  if (anomalyDetails.length > 1) {
    messageParts.push(' for multiple time windows have changed.');
  } else {
    var direction = anomalyDetails[0].direction === 'NEGATIVE' ? 'decreased' : 'increased';
    messageParts.push(' has ', direction, '.');
  }

  return (0, _common.combine)(messageParts);
}

function generateRetentionMessage(anomaly) {
  var _ref4 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
      displayContext = _ref4.displayContext,
      _ref4$utcOffset = _ref4.utcOffset,
      utcOffset = _ref4$utcOffset === undefined ? 0 : _ref4$utcOffset;

  var messageFunc = displayContext === 'IN_REPORT' ? inReportRetentionMessage : globalRetentionMessage;

  return messageFunc({ anomaly: anomaly, utcOffset: utcOffset });
}

function inReportFunnelsMessage(_ref5) {
  var anomaly = _ref5.anomaly,
      utcOffset = _ref5.utcOffset;

  var messageParts = [];

  var anomalyDetail = anomaly.anomalyDetail,
      funnelsQuery = anomaly.funnelsQuery;
  var funnelsDetails = anomalyDetail.funnelsDetails;


  if (funnelsDetails.isOverallConversion) {
    messageParts.push('The overall conversion rate ');
  } else {
    messageParts.push('Conversion for this step ');
  }

  var value = getAnomalyValue(anomalyDetail);
  var formattedValue = (0, _common.formatPercent)(value, 2);
  var expectedValue = (0, _common.formatPercent)(anomalyDetail.expectedValue, 2);
  var expectedDirection = value < anomalyDetail.expectedValue ? 'lower' : 'higher';
  var anomalyDate = (0, _common.formatAlertDate)(Number(anomalyDetail.anomalyTimestamp), { utcOffset: utcOffset });
  if (funnelsQuery.isPartial) {
    messageParts.push('is currently ', formattedValue, ', ');
    messageParts.push('which is ', expectedDirection, ' than our forecast of ', expectedValue, ' ');
    messageParts.push('for users who entered your funnel on ', anomalyDate, '.');
  } else {
    var direction = anomalyDetail.direction === 'NEGATIVE' ? 'decreased' : 'increased';
    messageParts.push('has ', direction, ' to ', formattedValue, ' for users who entered your funnel on ', anomalyDate, '. This is ', expectedDirection, ' than our forecast of ', expectedValue, '.');
  }

  return (0, _common.combine)(messageParts);
}

function globalFunnelsMessage(_ref6) {
  var anomaly = _ref6.anomaly;

  var messageParts = [];
  var anomalyDetails = anomaly.anomalyDetails,
      funnelsQuery = anomaly.funnelsQuery;


  if (anomalyDetails.length > 1) {
    messageParts.push('The conversion rates for multiple steps in ');
  } else {
    if (anomalyDetails[0].funnelsDetails.isOverallConversion) {
      messageParts.push('The overall conversion rate for ');
    } else {
      messageParts.push('Conversion for a step in ');
    }
  }

  messageParts.push('your funnel, ', keyword(funnelsQuery.funnelName), ', ');

  if (anomalyDetails.length > 1) {
    messageParts.push('have changed.');
  } else {
    var anomalyDetail = anomalyDetails[0];
    if (funnelsQuery.isPartial) {
      var value = getAnomalyValue(anomalyDetail);
      var expectedDirection = value < anomalyDetail.expectedValue ? 'lower' : 'higher';
      messageParts.push('is currently ', expectedDirection, ' than expected.');
    } else {
      var direction = anomalyDetail.direction === 'NEGATIVE' ? 'decreased' : 'increased';
      messageParts.push('has ', direction, '.');
    }
  }

  return (0, _common.combine)(messageParts);
}

function generateFunnelsMessage(anomaly) {
  var _ref7 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
      displayContext = _ref7.displayContext,
      _ref7$utcOffset = _ref7.utcOffset,
      utcOffset = _ref7$utcOffset === undefined ? 0 : _ref7$utcOffset;

  var messageFunc = displayContext === 'IN_REPORT' ? inReportFunnelsMessage : globalFunnelsMessage;
  return messageFunc({ anomaly: anomaly, utcOffset: utcOffset });
}
},{"../../../../report/util":273,"./common":307}],307:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.formatAlertDate = formatAlertDate;
exports.formatPercent = formatPercent;
exports.formatWholeNumber = formatWholeNumber;
exports.pluralize = pluralize;
exports.combine = combine;
exports.keywordParam = keywordParam;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function formatAlertDate(timestampMs) {
  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
      _ref$includeHours = _ref.includeHours,
      includeHours = _ref$includeHours === undefined ? false : _ref$includeHours,
      _ref$utcOffset = _ref.utcOffset,
      utcOffset = _ref$utcOffset === undefined ? 0 : _ref$utcOffset;

  var timeMoment = (0, _moment2.default)(timestampMs).utcOffset(utcOffset);
  var dateStr = timeMoment.format('dddd, MMMM Do');
  if (includeHours) {
    return dateStr + ' at ' + timeMoment.format('ha');
  } else {
    return dateStr;
  }
}

// (0.2548, 1) => 25.5%
// (12.342, 0) => 1,234%
function formatPercent(value, precision) {
  return (value * 100).toLocaleString(undefined, {
    minimumFractionDigits: precision,
    maximumFractionDigits: precision
  }) + '%';
}

// 1234 => 1,234
function formatWholeNumber(value) {
  return Number(value.toFixed(0)).toLocaleString();
}

function pluralize(singular, number, plural) {
  if (number === 1) {
    return singular;
  } else {
    return plural || singular + 's';
  }
}

var tokenize = function tokenize(str) {
  return str instanceof Object ? str : { text: str };
};
var isString = function isString(str) {
  return typeof str === 'string';
};
var combineText = function combineText(acc, str) {
  if (isString(acc[acc.length - 1]) && isString(str)) {
    acc.push(acc.pop() + str);
  } else {
    acc.push(str);
  }
  return acc;
};

// Take a list of strings and objects. Concatenate all adjacent strings, and then map
// the entire list to text block descriptor objects.
function combine(messageParts) {
  return messageParts.reduce(combineText, []).map(tokenize);
}

function keywordParam(text, tokenType, className) {
  return { text: text, type: tokenType, class: className };
}
},{"moment":338}],308:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

exports.generateInsightsMessage = generateInsightsMessage;
exports.generateFunnelsMessage = generateFunnelsMessage;
exports.generateRetentionMessage = generateRetentionMessage;

var _partition3 = require('lodash/partition');

var _partition4 = _interopRequireDefault(_partition3);

var _util = require('../../../../report/util');

var _common = require('../common');

var _common2 = require('./common');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

// wrap keywordParam by always applying our highlight class
function keyword(arg) {
  return (0, _common2.keywordParam)(arg, 'span', 'mp-sh-alert-keyword');
}

function formatSegmentList(_ref) {
  var contourDetails = _ref.contourDetails,
      property = _ref.property;

  contourDetails = [].concat(_toConsumableArray(contourDetails));
  contourDetails.sort(function (cd1, cd2) {
    return cd2.score - cd1.score;
  });

  var segments = contourDetails.map(function (contourDetail) {
    return (0, _common.getContourSegment)({ contourDetail: contourDetail, property: property });
  });
  if (segments.length === 0) {
    return '';
  } else if (segments.length === 1) {
    return segments[0];
  } else if (segments.length === 2) {
    return segments[0] + ' or ' + segments[1];
  } else if (segments.length >= 3) {
    return segments[0] + ', ' + segments[1] + ', or ' + segments[2];
  }
}

function partitionSegments(contour) {
  var _partition = (0, _partition4.default)(contour.contourDetails, function (contourDetail) {
    return contourDetail.conversionRate < contour.baseConversionRate;
  }),
      _partition2 = _slicedToArray(_partition, 2),
      lowerContourDetails = _partition2[0],
      higherContourDetails = _partition2[1];

  var segments = {};
  if (lowerContourDetails.length) {
    segments.lower = formatSegmentList({ contourDetails: lowerContourDetails, property: contour.property });
  }
  if (higherContourDetails.length) {
    segments.higher = formatSegmentList({ contourDetails: higherContourDetails, property: contour.property });
  }

  return segments;
}

function inReportInsightsMessage(contour) {
  // [x%] of [event name] happen where [property name] = [property value]. This is [higher/lower] than your
  // overall activity of [z%] of all events performed where [property name] = [property value].
  var contourDetail = contour.contourDetail;

  var segmentConversionRate = (0, _common2.formatPercent)(contourDetail.conversionRate, 2);
  var eventName = keyword((0, _util.renameEvent)(contour.insightsDetails.eventDisplayName));
  var propertyName = keyword((0, _util.renameProperty)(contour.property));
  var segment = keyword((0, _common.getContourSegment)({ contourDetail: contourDetail, property: contour.property }));
  var expectedDirection = contourDetail.conversionRate < contour.baseConversionRate ? 'lower' : 'higher';
  var overallConversionRate = (0, _common2.formatPercent)(contour.baseConversionRate, 2);

  return (0, _common2.combine)([segmentConversionRate, ' of ', eventName, ' happen where ', propertyName, ' = ', segment, '. ', 'This is ', expectedDirection, ' than your overall activity of ', overallConversionRate, ' of all events performed where ', propertyName, ' = ', segment, '.']);
}

function globalInsightsMessage(contour) {
  // For your event, [Event name], activity is lower where [property name] = [Segment1- lower, Segment2-lower,
  // or Segment3-lower] and is higher where [property name]=[segment1-higher,segment2-higher, or segment3-higher].
  var segmentDetails = [];
  var propertyName = keyword((0, _util.renameProperty)(contour.property));

  var _partitionSegments = partitionSegments(contour),
      lower = _partitionSegments.lower,
      higher = _partitionSegments.higher;

  if (lower) {
    segmentDetails.push('is lower where ', propertyName, ' = ', keyword(lower));
  }

  if (higher) {
    if (segmentDetails.length > 0) {
      segmentDetails.push(' and ');
    }

    segmentDetails.push('is higher where ', propertyName, ' = ', keyword(higher));
  }

  var eventName = keyword((0, _util.renameEvent)(contour.insightsDetails.eventDisplayName));

  return (0, _common2.combine)(['For your event, ', eventName, ', activity '].concat(segmentDetails, ['.']));
}

function generateInsightsMessage(contour, _ref2) {
  var displayContext = _ref2.displayContext;

  return displayContext === 'IN_REPORT' ? inReportInsightsMessage(contour) : globalInsightsMessage(contour);
}

function inReportFunnelsMessage(contour) {
  // Users where [property name] = [property value] have a [x%] conversion rate in your funnel.
  // This is [higher/lower] than your overall conversion rate of [z%].

  var contourDetail = contour.contourDetail;


  var propertyName = keyword((0, _util.renameProperty)(contour.property));
  var segment = keyword((0, _common.getContourSegment)({ contourDetail: contourDetail, property: contour.property }));
  var segmentConversionRate = (0, _common2.formatPercent)(contourDetail.conversionRate, 2);
  var expectedDirection = contourDetail.conversionRate < contour.baseConversionRate ? 'lower' : 'higher';
  var overallConversionRate = (0, _common2.formatPercent)(contour.baseConversionRate, 2);

  return (0, _common2.combine)(['Users where ', propertyName, ' = ', segment, ' have a ', segmentConversionRate, ' conversion rate in your funnel. This is ', expectedDirection, ' than your overall conversion rate of ', overallConversionRate, '.']);
}

function globalFunnelsMessage(contour) {
  // For your funnel, [Funnel name], users where [property name] = [Segment1-lower, Segment2-lower, or
  // Segment3-lower] convert at a lower rate and users where [property name] = [Segment1-higher, Segment2-higher,
  // or Segment3-higher] convert at a higher rate.

  var _partitionSegments2 = partitionSegments(contour),
      higher = _partitionSegments2.higher,
      lower = _partitionSegments2.lower;

  var propertyName = keyword((0, _util.renameProperty)(contour.property));
  var segmentDetails = [];

  if (lower) {
    segmentDetails.push('users where ', propertyName, ' = ', keyword(lower), ' convert worse');
  }

  if (higher) {
    if (segmentDetails.length) {
      segmentDetails.push(' and ');
    }

    segmentDetails.push('users where ', propertyName, ' = ', keyword(higher), ' convert better');
  }

  var funnelName = keyword(contour.funnelsDetails.funnelName);
  return (0, _common2.combine)(['For funnel, ', funnelName, ', '].concat(segmentDetails, [' than your overall user base.']));
}

function generateFunnelsMessage(contour, _ref3) {
  var displayContext = _ref3.displayContext;

  return displayContext === 'IN_REPORT' ? inReportFunnelsMessage(contour) : globalFunnelsMessage(contour);
}

function inReportRetentionMessage(contour) {
  // Users where [property name] = [property value] have a [x%] retention rate in your funnel for
  // [p] [day/week/month] retention. This is [higher/lower] than your overall retention rate of [z%].

  var contourDetail = contour.contourDetail,
      retentionDetails = contour.retentionDetails;


  var propertyName = keyword((0, _util.renameProperty)(contour.property));
  var segment = keyword((0, _common.getContourSegment)({ contourDetail: contourDetail, property: contour.property }));
  var segmentRetentionRate = (0, _common2.formatPercent)(contourDetail.conversionRate, 2);
  var interval = retentionDetails.interval;
  var timeUnit = (0, _common2.pluralize)(retentionDetails.timeUnit.toLowerCase(), retentionDetails.interval);
  var expectedDirection = contourDetail.conversionRate < contour.baseConversionRate ? 'lower' : 'higher';
  var overallRetentionRate = (0, _common2.formatPercent)(contour.baseConversionRate, 2);
  return (0, _common2.combine)(['Users where ', propertyName, ' = ', segment, ' have a ', segmentRetentionRate, ' retention rate for ', interval, ' ', timeUnit, ' retention. This is ', expectedDirection, ' than your overall retention rate of ', overallRetentionRate, '.']);
}

function globalRetentionMessage(contour) {
  // For retention from [Event1] to [Event2], users where [property name] = [Segment1-lower, Segment2-lower,
  // or Segment3-lower] have a lower retention rate and users where [property name] = [Segment1-higher,
  // Segment2-higher, or Segment3-higher] have a higher retention rate.

  var _partitionSegments3 = partitionSegments(contour),
      lower = _partitionSegments3.lower,
      higher = _partitionSegments3.higher;

  var propertyName = keyword((0, _util.renameProperty)(contour.property));
  var segmentDetails = [];

  if (lower) {
    segmentDetails.push('users where ', propertyName, ' = ', keyword(lower), ' retain worse');
  }

  if (higher) {
    if (segmentDetails.length) {
      segmentDetails.push(' and ');
    }
    segmentDetails.push('users where ', propertyName, ' = ', keyword(higher), ' retain better');
  }

  var retentionDetails = contour.retentionDetails;

  var bornEventName = keyword((0, _util.renameEvent)(retentionDetails.bornEventDisplayName));
  var eventName = keyword((0, _util.renameEvent)(retentionDetails.eventDisplayName));
  return (0, _common2.combine)(['For ', bornEventName, ' to ', eventName, ' retention, '].concat(segmentDetails, [' than your overall user base.']));
}

function generateRetentionMessage(contour, _ref4) {
  var displayContext = _ref4.displayContext;

  return displayContext === 'IN_REPORT' ? inReportRetentionMessage(contour) : globalRetentionMessage(contour);
}
},{"../../../../report/util":273,"../common":305,"./common":307,"lodash/partition":186}],309:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.generateMessage = generateMessage;

var _anomaly = require('./anomaly');

var AnomalyMessage = _interopRequireWildcard(_anomaly);

var _contour = require('./contour');

var ContourMessage = _interopRequireWildcard(_contour);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

// Message format spec: https://docs.google.com/spreadsheets/d/1pjBspT545121sIvO1MKYxTuVv3muJ4sZDoeY3LIUW98
function generateMessage(alert) {
  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
      displayContext = _ref.displayContext,
      _ref$utcOffset = _ref.utcOffset,
      utcOffset = _ref$utcOffset === undefined ? 0 : _ref$utcOffset;

  var anomaly = alert.anomaly,
      contour = alert.contour;

  if (anomaly) {
    if (anomaly.insightsQuery) {
      return AnomalyMessage.generateInsightsMessage(anomaly, { displayContext: displayContext, utcOffset: utcOffset });
    } else if (anomaly.retentionQuery) {
      return AnomalyMessage.generateRetentionMessage(anomaly, { displayContext: displayContext, utcOffset: utcOffset });
    } else if (anomaly.funnelsQuery) {
      return AnomalyMessage.generateFunnelsMessage(anomaly, { displayContext: displayContext, utcOffset: utcOffset });
    }
  } else if (contour) {
    if (contour.insightsDetails) {
      return ContourMessage.generateInsightsMessage(contour, { displayContext: displayContext });
    } else if (contour.funnelsDetails) {
      return ContourMessage.generateFunnelsMessage(contour, { displayContext: displayContext });
    } else if (contour.retentionDetails) {
      return ContourMessage.generateRetentionMessage(contour, { displayContext: displayContext });
    }
  }
}
},{"./anomaly":306,"./contour":308}],310:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.propertyToSegFilter = propertyToSegFilter;
exports.propertyFilterToSegFilter = propertyFilterToSegFilter;
var PROPERTY_TYPE_MAP = {
  'STRING': 'string',
  'NUMBER': 'number',
  'DATE': 'datetime',
  'BOOLEAN': 'boolean',
  'LIST': 'list'
};

var PROPERTY_SOURCE_MAP = {
  'EVENTS': 'properties',
  'PEOPLE': 'user'
};

var STRING_FILTER_OPERATOR_MAP = {
  'CONTAINS': 'in',
  'DOES_NOT_CONTAIN': 'not in',
  'EQUALS': '==',
  'DOES_NOT_EQUAL': '!=',
  'SET': 'set',
  'NOT_SET': 'not set'
};

var NUMBER_FILTER_OPERATOR_MAP = {
  'BETWEEN': '><',
  'GREATER_THAN': '>',
  'LESS_THAN': '<',
  'EQUAL_TO': '=='
};

var ABSOLUTE_DATE_FILTER_OPERATOR_MAP = {
  'ON': '==',
  'BETWEEN': '><'
};

var RELATIVE_DATE_FILTER_OPERATOR_MAP = {
  'LESS_THAN': '<',
  'GREATER_THAN': '>'
};

var TIME_UNIT_MAP = {
  'DAY': 'days',
  'WEEK': 'weeks',
  'MONTH': 'months'
};

var BOOLEAN_FILTER_OPERATOR_MAP = {
  'true': 'true',
  'false': 'false'
};

var LIST_FILTER_OPERATOR_MAP = {
  'CONTAINS': 'in'
};

/* eslint-disable camelcase */
function propertyToSegFilter(property) {
  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
      _ref$isTypecastable = _ref.isTypecastable,
      isTypecastable = _ref$isTypecastable === undefined ? true : _ref$isTypecastable;

  var segFilter = {
    dropdown_tab_index: 0,
    property: {
      name: property.name,
      source: PROPERTY_SOURCE_MAP[property.source],
      type: PROPERTY_TYPE_MAP[property.type]
    },
    type: PROPERTY_TYPE_MAP[property.typecast || property.type]
  };
  if (isTypecastable) {
    segFilter.selected_property_type = PROPERTY_TYPE_MAP[property.type];
  }
  return segFilter;
}
/* eslint-enable camelcase */

function propertyFilterToSegFilter(propertyFilter) {
  var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
      _ref2$isTypecastable = _ref2.isTypecastable,
      isTypecastable = _ref2$isTypecastable === undefined ? true : _ref2$isTypecastable;

  var filter = void 0;
  if (propertyFilter.stringFilter) {
    var _propertyFilter$strin = propertyFilter.stringFilter,
        operator = _propertyFilter$strin.operator,
        operands = _propertyFilter$strin.operands;

    var operand = void 0;
    if (['EQUALS', 'DOES_NOT_EQUAL'].includes(operator)) {
      operand = operands;
    } else if (['CONTAINS', 'DOES_NOT_CONTAIN'].includes(operator)) {
      operand = operands[0];
    } else {
      operand = '';
    }
    filter = {
      operator: STRING_FILTER_OPERATOR_MAP[operator],
      operand: operand
    };
  } else if (propertyFilter.numberFilter) {
    var _propertyFilter$numbe = propertyFilter.numberFilter,
        _operator = _propertyFilter$numbe.operator,
        operand1 = _propertyFilter$numbe.operand1,
        operand2 = _propertyFilter$numbe.operand2;

    filter = {
      operator: NUMBER_FILTER_OPERATOR_MAP[_operator],
      operand: _operator === 'BETWEEN' ? [operand1.toString(), operand2.toString()] : operand1.toString()
    };
  } else if (propertyFilter.absoluteDateFilter) {
    var _propertyFilter$absol = propertyFilter.absoluteDateFilter,
        _operator2 = _propertyFilter$absol.operator,
        _operand = _propertyFilter$absol.operand1,
        _operand2 = _propertyFilter$absol.operand2;

    filter = {
      operator: ABSOLUTE_DATE_FILTER_OPERATOR_MAP[_operator2],
      operand: _operator2 === 'BETWEEN' ? [_operand, _operand2] : _operand
    };
  } else if (propertyFilter.relativeDateFilter) {
    var _propertyFilter$relat = propertyFilter.relativeDateFilter,
        _operator3 = _propertyFilter$relat.operator,
        _operand3 = _propertyFilter$relat.operand,
        timeUnit = _propertyFilter$relat.timeUnit;

    filter = {
      operator: RELATIVE_DATE_FILTER_OPERATOR_MAP[_operator3],
      operand: _operand3,
      unit: TIME_UNIT_MAP[timeUnit]
    };
  } else if (propertyFilter.booleanFilter) {
    var _operand4 = propertyFilter.booleanFilter.operand;

    filter = {
      operand: BOOLEAN_FILTER_OPERATOR_MAP[_operand4]
    };
  } else if (propertyFilter.listFilter) {
    var _propertyFilter$listF = propertyFilter.listFilter,
        _operator4 = _propertyFilter$listF.operator,
        _operand5 = _propertyFilter$listF.operand;

    filter = {
      operator: LIST_FILTER_OPERATOR_MAP[_operator4],
      operand: _operand5
    };
  }
  return Object.assign(propertyToSegFilter(propertyFilter.property, { isTypecastable: isTypecastable }), { filter: filter });
}
},{}],311:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _rison = require('../../../../util/rison');

var _common = require('./common');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _exports = {};
exports.default = _exports;

/* eslint-disable camelcase */

_exports.generateParams = function (_ref) {
  var query = _ref.query,
      alertType = _ref.alertType,
      alertId = _ref.alertId,
      startStepIdx = _ref.startStepIdx;

  query = Object.assign({ propertyFilters: [] }, query);

  var urlParams = {
    conversion_unit: query.timeUnit.toLowerCase()
  };

  // TODO(mack): Figure out how to handle timezones
  var currMoment = (0, _moment2.default)();
  urlParams.from_date = (0, _moment2.default)(query.dateRange.from).diff(currMoment, 'days');
  urlParams.to_date = (0, _moment2.default)(query.dateRange.to).diff(currMoment, 'days');

  var filters = query.propertyFilters.map(_common.propertyFilterToSegFilter);

  if (query.groupByProperty) {
    var groupByProperty = query.groupByProperty;
    var propertySegFilter = (0, _common.propertyToSegFilter)(groupByProperty);
    filters.push(propertySegFilter);
    urlParams.segment_type = propertySegFilter.type;
  }

  urlParams.segfilter = {
    filters: filters,
    op: 'and'
  };

  urlParams.smart_hub = { alert_type: alertType, alert_id: alertId }; // eslint-disable-line camelcase

  if (Number.isInteger(startStepIdx)) {
    urlParams.event_index = startStepIdx + 1; // eslint-disable-line camelcase
  }

  return urlParams;
};
/* eslint-enable camelcase */

// See FunnelsQuery in clj/service/smart-hub/protos/smart_hub.proto for the query format
_exports.generatePermalink = function (_ref2) {
  var query = _ref2.query,
      alertType = _ref2.alertType,
      alertId = _ref2.alertId,
      projectId = _ref2.projectId,
      startStepIdx = _ref2.startStepIdx;

  var urlParams = _exports.generateParams({ query: query, alertType: alertType, alertId: alertId, startStepIdx: startStepIdx });
  var urlHash = _rison.rison.urlencode(urlParams);
  return '/report/' + projectId + '/funnels/#view/' + query.bookmarkId + '/' + urlHash.substring(1, urlHash.length - 1);
};
},{"../../../../util/rison":284,"./common":310,"moment":338}],312:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.generateAnomalyPermalink = generateAnomalyPermalink;
exports.generateContourPermalink = generateContourPermalink;
exports.generatePermalink = generatePermalink;

var _cloneDeep = require('lodash/cloneDeep');

var _cloneDeep2 = _interopRequireDefault(_cloneDeep);

var _funnels = require('./funnels');

var _funnels2 = _interopRequireDefault(_funnels);

var _insights = require('./insights');

var _insights2 = _interopRequireDefault(_insights);

var _retention = require('./retention');

var _retention2 = _interopRequireDefault(_retention);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function generateAnomalyPermalink(_ref) {
  var alert = _ref.alert,
      projectId = _ref.projectId;

  var commonParams = {
    alertType: 'ANOMALY',
    alertId: alert.alertId,
    projectId: projectId
  };

  var anomaly = alert.anomaly;
  var funnelsQuery = anomaly.funnelsQuery,
      insightsQuery = anomaly.insightsQuery,
      retentionQuery = anomaly.retentionQuery;

  if (insightsQuery) {
    var clonedInsightsQuery = (0, _cloneDeep2.default)(insightsQuery);
    // TODO(mack): The backend should be returning the anomalyDetail with showAction UNIQUE as the first
    // one if there's both UNIQUE and TOTAL, but it's safer for the front-end to specifically look for the
    // UNIQUE one.
    // The insightsQuery will only have a single showClause for now for anomalies.
    clonedInsightsQuery.showClauses[0].showEvent.action = anomaly.anomalyDetails[0].insightsDetails.showAction;
    return _insights2.default.generatePermalink(Object.assign(commonParams, { query: clonedInsightsQuery }));
  } else if (funnelsQuery) {
    return _funnels2.default.generatePermalink(Object.assign(commonParams, {
      query: funnelsQuery,
      startStepIdx: alert.anomaly.anomalyDetails[0].funnelsDetails.startStepIdx
    }));
  } else if (retentionQuery) {
    return _retention2.default.generatePermalink(Object.assign(commonParams, { query: retentionQuery }));
  }
}

function getGroupByPropertyForContour(contour) {
  return {
    name: contour.property,
    source: 'EVENTS',
    type: contour.propertyType,
    typecast: 'STRING'
  };
}

function getPropertyFilterForContour(contour) {
  return {
    stringFilter: {
      operator: 'SET'
    },
    property: getGroupByPropertyForContour(contour)
  };
}

function generateContourPermalink(_ref2) {
  var alert = _ref2.alert,
      projectId = _ref2.projectId;

  var contour = alert.contour;
  var commonParams = {
    alertType: 'CONTOUR',
    alertId: alert.alertId,
    projectId: projectId
  };

  if (contour.insightsDetails) {
    return _insights2.default.generatePermalink(Object.assign(commonParams, {
      query: {
        showClauses: [{
          showEvent: {
            event: contour.insightsDetails.event,
            action: 'TOTAL'
          }
        }, {
          showEvent: {
            event: '$all_events',
            action: 'TOTAL'
          }
        }],
        groupByProperties: [{ property: getGroupByPropertyForContour(contour) }],
        propertyFilters: [getPropertyFilterForContour(contour)],
        dateRange: contour.dateRange,
        // Insights will consider the query params invalid if time unit is missing, even if the display type is not
        // line graph
        timeUnit: 'DAY'
      }
    }));
  } else if (contour.funnelsDetails) {
    var propertyFilters = function () {
      if (contour.property === 'campaign_id') {
        // You cannot add a "is set" filter for campaign_id in funnels
        return [];
      } else {
        return [getPropertyFilterForContour(contour)];
      }
    }();

    return _funnels2.default.generatePermalink(Object.assign(commonParams, {
      query: {
        bookmarkId: contour.funnelsDetails.bookmarkId,
        groupByProperty: getGroupByPropertyForContour(contour),
        propertyFilters: propertyFilters,
        dateRange: contour.dateRange,
        timeUnit: 'DAY'
      }
    }));
  } else if (contour.retentionDetails) {
    var retentionDetails = contour.retentionDetails;
    var event = retentionDetails.event;
    var bornEvent = retentionDetails.bornEvent;
    var isCompounded = event === bornEvent;
    return _retention2.default.generatePermalink(Object.assign(commonParams, {
      query: {
        event: event,
        bornEvent: isCompounded ? null : bornEvent,
        segmentEvent: isCompounded ? event : bornEvent,
        segmentMethod: 'ALL',
        // The property will always be an event property (i.e. not a user property)
        segmentOn: 'properties["' + contour.property + '"]',
        countType: 'PERCENT',
        retentionType: isCompounded ? 'COMPOUNDED' : 'BIRTH',
        dateRange: contour.dateRange,
        timeUnit: retentionDetails.timeUnit
      }
    }));
  }
}

function generatePermalink(_ref3) {
  var alert = _ref3.alert,
      projectId = _ref3.projectId;

  if (alert.anomaly) {
    return generateAnomalyPermalink({ alert: alert, projectId: projectId });
  } else if (alert.contour) {
    return generateContourPermalink({ alert: alert, projectId: projectId });
  }
}
},{"./funnels":311,"./insights":313,"./retention":314,"lodash/cloneDeep":161}],313:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _jsurl = require('jsurl');

var _jsurl2 = _interopRequireDefault(_jsurl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var PROPERTY_TYPE_MAP = {
  'STRING': 'string',
  'NUMBER': 'number',
  'DATE': 'datetime',
  'BOOLEAN': 'boolean',
  'LIST': 'list'
};

var MATH_ACTION_MAP = {
  'TOTAL': 'total',
  'UNIQUE': 'unique',
  'AVERAGE': 'average',
  'MEDIAN': 'median',
  'MIN': 'min',
  'MAX': 'max'
};

var TIME_UNIT_MAP = {
  'HOUR': 'hour',
  'DAY': 'day',
  'WEEK': 'week',
  'MONTH': 'month',
  'QUARTER': 'quarter'
};

var PROPERTY_SOURCE_MAP = {
  'EVENTS': 'events',
  'PEOPLE': 'people'
};

var PROPERTY_FILTERS_OPERATOR_MAP = {
  'AND': 'all',
  'OR': 'any'
};

var STRING_FILTER_OPERATOR_MAP = {
  'CONTAINS': 'contains',
  'DOES_NOT_CONTAIN': 'does not contain',
  'EQUALS': 'equals',
  'DOES_NOT_EQUAL': 'does not equal',
  'SET': 'is set',
  'NOT_SET': 'is not set'
};

var NUMBER_FILTER_OPERATOR_MAP = {
  'BETWEEN': 'is between',
  'GREATER_THAN': 'is greater than',
  'LESS_THAN': 'is less than',
  'EQUAL_TO': 'is equal to'
};

var ABSOLUTE_DATE_FILTER_OPERATOR_MAP = {
  'ON': 'was on',
  'BETWEEN': 'was between'
};

var RELATIVE_DATE_FILTER_OPERATOR_MAP = {
  'LESS_THAN': 'was in the',
  'GREATER_THAN': null // from segmentation, but not supported in insights
};

var BOOLEAN_FILTER_OPERATOR_MAP = {
  'true': 'is true',
  'false': 'is false'
};

var LIST_FILTER_OPERATOR_MAP = {
  'CONTAINS': 'contains',
  'DOES_NOT_CONTAIN': 'does not contain'
};

function valueForEvent(event) {
  if (event.startsWith('$custom_event:')) {
    var customEventId = Number(event.replace(/^\$custom_event:/, ''));
    return { custom: true, id: customEventId };
  } else {
    return { name: event };
  }
}

function getDisplayOptions(_ref) {
  var alertType = _ref.alertType;

  if (alertType === 'ANOMALY') {
    return {
      analysis: 'linear',
      chartType: 'line',
      plotStyle: 'standard',
      value: 'absolute'
    };
  } else if (alertType === 'CONTOUR') {
    return {
      analysis: 'linear',
      chartType: 'bar',
      plotStyle: 'standard',
      value: 'relative'
    };
  }
}

var _exports = {};
exports.default = _exports;


_exports.generateParams = function (_ref2) {
  var query = _ref2.query,
      alertType = _ref2.alertType,
      alertId = _ref2.alertId;

  query = Object.assign({
    showClauses: [],
    propertyFilters: [],
    groupByProperties: []
  }, query);

  var showClauses = query.showClauses.map(function (showClause) {
    if (showClause.showEvent) {
      var showEvent = showClause.showEvent;
      return {
        math: MATH_ACTION_MAP[showEvent.action],
        resourceType: 'all',
        value: valueForEvent(showEvent.event)
      };
    } else if (showClause.showEventProperty) {
      var showEventProperty = showClause.showEventProperty;
      var property = showEventProperty.property;
      return {
        math: MATH_ACTION_MAP[showEventProperty.action],
        resourceType: 'all',
        property: {
          name: property.name,
          resourceType: PROPERTY_SOURCE_MAP[property.source],
          type: PROPERTY_TYPE_MAP[property.type]
        },
        value: valueForEvent(showEventProperty.event)
      };
    } else if (showClause.showPeopleProperty) {
      var showPeopleProperty = showClause.showPeopleProperty;
      var _property = showPeopleProperty.property;
      return {
        math: MATH_ACTION_MAP[showPeopleProperty.action],
        resourceType: 'people',
        property: {
          name: _property.name,
          resourceType: PROPERTY_SOURCE_MAP[_property.source],
          type: PROPERTY_TYPE_MAP[_property.type]
        }
      };
    }
  });

  var groupClauses = query.groupByProperties.map(function (groupByProperty) {
    var property = groupByProperty.property;
    var groupClause = {
      propertyType: PROPERTY_TYPE_MAP[property.type],
      typeCast: property.typecast ? PROPERTY_TYPE_MAP[property.typecast] : null,
      resourceType: PROPERTY_SOURCE_MAP[property.source],
      value: property.name
    };
    if (groupByProperty.timeUnit) {
      groupClause.unit = TIME_UNIT_MAP[groupByProperty.timeUnit];
    }
    return groupClause;
  });

  var filterClauses = query.propertyFilters.map(function (propertyFilter) {
    var filterClause = {};
    if (propertyFilter.stringFilter) {
      var _propertyFilter$strin = propertyFilter.stringFilter,
          operator = _propertyFilter$strin.operator,
          operands = _propertyFilter$strin.operands;

      var filterValue = void 0;
      if (['EQUALS', 'DOES_NOT_EQUAL'].includes(operator)) {
        filterValue = operands;
      } else if (['CONTAINS', 'DOES_NOT_CONTAIN'].includes(operator)) {
        filterValue = operands[0];
      } else {
        filterValue = null;
      }
      filterClause = Object.assign(filterClause, {
        filterOperator: STRING_FILTER_OPERATOR_MAP[operator],
        filterValue: filterValue
      });
    } else if (propertyFilter.numberFilter) {
      var _propertyFilter$numbe = propertyFilter.numberFilter,
          _operator = _propertyFilter$numbe.operator,
          operand1 = _propertyFilter$numbe.operand1,
          operand2 = _propertyFilter$numbe.operand2;

      filterClause = Object.assign(filterClause, {
        filterOperator: NUMBER_FILTER_OPERATOR_MAP[_operator],
        filterValue: _operator === 'BETWEEN' ? [operand1, operand2] : operand1
      });
    } else if (propertyFilter.absoluteDateFilter) {
      var _propertyFilter$absol = propertyFilter.absoluteDateFilter,
          _operator2 = _propertyFilter$absol.operator,
          _operand = _propertyFilter$absol.operand1,
          _operand2 = _propertyFilter$absol.operand2;

      filterClause = Object.assign(filterClause, {
        filterOperator: ABSOLUTE_DATE_FILTER_OPERATOR_MAP[_operator2],
        filterValue: _operator2 === 'BETWEEN' ? [_operand, _operand2] : _operand
      });
    } else if (propertyFilter.relativeDateFilter) {
      var _propertyFilter$relat = propertyFilter.relativeDateFilter,
          _operator3 = _propertyFilter$relat.operator,
          operand = _propertyFilter$relat.operand,
          timeUnit = _propertyFilter$relat.timeUnit;

      filterClause = Object.assign(filterClause, {
        filterOperator: RELATIVE_DATE_FILTER_OPERATOR_MAP[_operator3],
        filterValue: operand,
        filterDateUnit: TIME_UNIT_MAP[timeUnit]
      });
    } else if (propertyFilter.booleanFilter) {
      var _operand3 = propertyFilter.booleanFilter.operand;

      filterClause = Object.assign(filterClause, {
        filterOperator: BOOLEAN_FILTER_OPERATOR_MAP[_operand3]
      });
    } else if (propertyFilter.listFilter) {
      var _propertyFilter$listF = propertyFilter.listFilter,
          _operator4 = _propertyFilter$listF.operator,
          _operand4 = _propertyFilter$listF.operand;

      filterClause = Object.assign(filterClause, {
        filterOperator: LIST_FILTER_OPERATOR_MAP[_operator4],
        filterValue: _operand4
      });
    }

    var property = propertyFilter.property;
    filterClause = Object.assign(filterClause, {
      value: property.name,
      filterType: PROPERTY_TYPE_MAP[property.typecast || property.type],
      resourceType: PROPERTY_SOURCE_MAP[property.source]
    });

    return filterClause;
  });

  var filterSection = { clauses: filterClauses };
  if (query.propertyFiltersOperator) {
    filterSection.determiner = PROPERTY_FILTERS_OPERATOR_MAP[query.propertyFiltersOperator];
  }

  var timeClause = { value: [query.dateRange.from, query.dateRange.to] };
  if (query.timeUnit) {
    timeClause.unit = TIME_UNIT_MAP[query.timeUnit];
  }
  var timeClauses = [timeClause];

  return {
    smartHub: { alertType: alertType, alertId: alertId },
    displayOptions: getDisplayOptions({ alertType: alertType }),
    sections: {
      show: { clauses: showClauses },
      group: { clauses: groupClauses },
      filter: filterSection,
      time: { clauses: timeClauses }
    }
  };
};

// See InsightsQuery in clj/service/smart-hub/protos/smart_hub.proto for the query format
_exports.generatePermalink = function (_ref3) {
  var query = _ref3.query,
      alertType = _ref3.alertType,
      alertId = _ref3.alertId,
      projectId = _ref3.projectId;

  // In order to stub/spy on generateParams when generatePermalink is called, we need to access
  // it from a enclosed namespace (i.e. exports).
  var urlParams = _exports.generateParams({ query: query, alertType: alertType, alertId: alertId });
  return '/report/' + projectId + '/insights/#' + _jsurl2.default.stringify(urlParams);
};
},{"jsurl":2}],314:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _rison = require('../../../../util/rison');

var _common = require('./common');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var TIME_UNIT_MAP = {
  'DAY': 'day',
  'WEEK': 'week',
  'MONTH': 'month'
};

var SEGMENT_METHOD_MAP = {
  'FIRST': 'single',
  'ALL': 'multiple'
};

var RETENTION_TYPE_MAP = {
  'BIRTH': 'birth',
  'COMPOUNDED': 'compounded'
};

var _exports = {};
exports.default = _exports;

/* eslint-disable camelcase */

_exports.generateParams = function (_ref) {
  var query = _ref.query,
      alertType = _ref.alertType,
      alertId = _ref.alertId;

  var urlParams = {};

  urlParams.event = query.event;
  if (query.propertyFilters && query.propertyFilters.length) {
    urlParams.filters = query.propertyFilters.map(function (filter) {
      return (0, _common.propertyFilterToSegFilter)(filter, { isTypecastable: false });
    });
  }

  if (query.segmentOn) {
    urlParams.on = query.segmentOn;
    urlParams.segmentation_event = query.segmentEvent;
    urlParams.segments = SEGMENT_METHOD_MAP[query.segmentMethod];
  }

  urlParams.percentage_view = query.countType === 'PERCENT';

  urlParams.retention_type = RETENTION_TYPE_MAP[query.retentionType];
  if (query.bornEvent) {
    urlParams.born_event = query.bornEvent;
    if (query.bornPropertyFilters && query.bornPropertyFilters.length) {
      urlParams.born_filters = query.bornPropertyFilters.map(function (filter) {
        return (0, _common.propertyFilterToSegFilter)(filter, { isTypecastable: false });
      });
    }
  }

  // TODO(mack): Figure out how to handle timezones
  var currMoment = (0, _moment2.default)();
  urlParams.date_range = {
    from: (0, _moment2.default)(query.dateRange.from).diff(currMoment, 'days'),
    to: (0, _moment2.default)(query.dateRange.to).diff(currMoment, 'days')
  };
  urlParams.date_unit = TIME_UNIT_MAP[query.timeUnit];

  urlParams.smart_hub = { alert_type: alertType, alert_id: alertId }; // eslint-disable-line camelcase

  return urlParams;
};
/* eslint-enable camelcase */

// See RetentionQuery in clj/service/smart-hub/protos/smart_hub.proto for the query format
_exports.generatePermalink = function (_ref2) {
  var query = _ref2.query,
      alertType = _ref2.alertType,
      alertId = _ref2.alertId,
      projectId = _ref2.projectId;

  var urlParams = _exports.generateParams({ query: query, alertType: alertType, alertId: alertId });
  var urlHash = _rison.rison.urlencode(urlParams);
  return '/report/' + projectId + '/retention/#' + urlHash.substring(1, urlHash.length - 1);
};
},{"../../../../util/rison":284,"./common":310,"moment":338}],315:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.commonProps = exports.contours = exports.anomalies = undefined;
exports.trackingProperties = trackingProperties;

var _common = require('./common');

function anomalyTimeUnit(alert) {
  var _alert$anomaly = alert.anomaly,
      funnelsQuery = _alert$anomaly.funnelsQuery,
      insightsQuery = _alert$anomaly.insightsQuery,
      retentionQuery = _alert$anomaly.retentionQuery;

  if (insightsQuery) {
    return insightsQuery.timeUnit;
  } else if (funnelsQuery) {
    return funnelsQuery.timeUnit;
  } else if (retentionQuery) {
    return retentionQuery.timeUnit;
  }
}

function anomalyDetails(anomaly) {
  return anomaly.anomalyDetail ? [anomaly.anomalyDetail] : anomaly.anomalyDetails;
}

var anomalies = exports.anomalies = {
  'anomaly_detail_ids': function anomaly_detail_ids(alert) {
    return anomalyDetails(alert.anomaly).map(function (ad) {
      return ad.anomalyDetailId;
    });
  },
  'time_unit': function time_unit(alert) {
    return anomalyTimeUnit(alert);
  },
  'insights_show_actions': function insights_show_actions(alert) {
    var anomaly = alert.anomaly;

    if (!anomaly.insightsQuery) {
      return null;
    }

    return anomalyDetails(anomaly).map(function (ad) {
      return ad.insightsDetails.showAction;
    });
  }
};

function contourDetails(contour) {
  return contour.contourDetail ? [contour.contourDetail] : contour.contourDetails;
}

var contours = exports.contours = {
  'contour_detail_ids': function contour_detail_ids(alert) {
    return contourDetails(alert.contour).map(function (ad) {
      return ad.contourDetailId;
    });
  },
  'score': function score(alert) {
    if (alert.contour.contourDetail) {
      return alert.contour.contourDetail.score;
    } else {
      return null;
    }
  },
  'property': function property(alert) {
    return alert.contour.property;
  }
};

var commonProps = exports.commonProps = {
  'alert_id': function alert_id(alert) {
    return alert.alertId;
  },
  'alert_type': function alert_type(alert) {
    var anomaly = alert.anomaly,
        contour = alert.contour;

    if (anomaly) {
      return 'ANOMALY';
    } else if (contour) {
      return 'CONTOUR';
    }
  },
  'detection_reason': function detection_reason(alert) {
    return alert.detectionReason;
  },
  'report_type': function report_type(alert) {
    return (0, _common.reportType)(alert).toUpperCase();
  }
};

function transform(mapping, item, output) {
  return Object.keys(mapping).forEach(function (k) {
    return output[k] = mapping[k](item);
  });
}

function trackingProperties(alert) {
  var props = {};
  transform(commonProps, alert, props);

  if (alert.contour) {
    transform(contours, alert, props);
  } else {
    transform(anomalies, alert, props);
  }

  return props;
}
},{"./common":305}],316:[function(require,module,exports){
"use strict";

function _jade_template_fn(locals) {
  locals = locals || {};;;
  var result_of_with = function ($component, $helpers, Object) {
    var h = require('panel').h;
    var open = $component.isAttributeEnabled("open");
    return {
      value: h("div", {
        "on": {
          click: $helpers.handleClick
        },
        "class": {
          'mp-sh-data-point-container': true
        }
      }, function () {
        var __jade_nodes = [];
        var alert = $component.alert;;
        __jade_nodes = __jade_nodes.concat(h("div", {
          "class": Object.assign({}, {
            'mp-sh-data-point-open': open,
            'mp-sh-data-point-type-anomaly': !!alert.anomaly,
            'mp-sh-data-point-type-contour': !!alert.contour
          }, {
            'mp-sh-data-point-icon': true
          })
        }, function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(open ? function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat($helpers.getAlertDirection() === "NEGATIVE" ? function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h('div', {
                props: {
                  innerHTML: '<?xml version="1.0" encoding="UTF-8"?><svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">   <title>Arrow Down</title>    <desc>Smart Hub Icons</desc>    <defs></defs>    <g id="Arrow Down" stroke="none" stroke-width="1" fill-rule="evenodd">        <g id="Arrow-Down">            <g id="Page-1" transform="translate(8.000000, 8.000000) rotate(180.000000) translate(-8.000000, -8.000000) ">                <path d="M8,0 C12.418,0 16,3.582 16,8 C16,12.418 12.418,16 8,16 C3.582,16 0,12.418 0,8 C0,3.582 3.582,0 8,0" id="disc"></path>                <path d="M10.9121,7.3394 L8.4241,4.9214 C8.1901,4.6934 7.8101,4.6934 7.5761,4.9214 L5.0881,7.3394 C4.9711,7.4534 4.9711,7.6384 5.0881,7.7524 L5.5121,8.1644 C5.6291,8.2774 5.8191,8.2774 5.9361,8.1644 L7.4001,6.7414 L7.4001,11.4584 C7.4001,11.6194 7.5341,11.7504 7.7001,11.7504 L8.3001,11.7504 C8.4661,11.7504 8.5991,11.6194 8.5991,11.4584 L8.5991,6.7414 L10.0631,8.1644 C10.1811,8.2774 10.3711,8.2774 10.4881,8.1644 L10.9121,7.7524 C11.0291,7.6384 11.0291,7.4534 10.9121,7.3394" id="arrow"></path>            </g>        </g>    </g></svg>'
                }
              }));;
              return __jade_nodes;
            }.call(this) : function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h('div', {
                props: {
                  innerHTML: '<?xml version="1.0" encoding="UTF-8"?><svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Arrow Up</title>    <desc>Smart Hub Icons</desc>    <defs></defs>    <g id="Page-1" stroke="none" stroke-width="1" fill-rule="evenodd">        <g id="Arrow-Up">            <g id="Arrow-Up">                <path d="M8,0 C12.418,0 16,3.582 16,8 C16,12.418 12.418,16 8,16 C3.582,16 0,12.418 0,8 C0,3.582 3.582,0 8,0" id="disc"></path>                <path d="M10.9121,7.3394 L8.4241,4.9214 C8.1901,4.6934 7.8101,4.6934 7.5761,4.9214 L5.0881,7.3394 C4.9711,7.4534 4.9711,7.6384 5.0881,7.7524 L5.5121,8.1644 C5.6291,8.2774 5.8191,8.2774 5.9361,8.1644 L7.4001,6.7414 L7.4001,11.4584 C7.4001,11.6194 7.5341,11.7504 7.7001,11.7504 L8.3001,11.7504 C8.4661,11.7504 8.5991,11.6194 8.5991,11.4584 L8.5991,6.7414 L10.0631,8.1644 C10.1811,8.2774 10.3711,8.2774 10.4881,8.1644 L10.9121,7.7524 C11.0291,7.6384 11.0291,7.4534 10.9121,7.3394" id="arrow"></path>            </g>        </g>    </g></svg>'
                }
              }));;
              return __jade_nodes;
            }.call(this));;
            return __jade_nodes;
          }.call(this) : undefined);;
          return __jade_nodes;
        }.call(this).filter(Boolean)));
        var tooltipOffset = $helpers.getTooltipOffset();;
        __jade_nodes = __jade_nodes.concat(h("mp-smart-hub-tooltip", {
          "attrs": {
            'open': open,
            'placement': $component.getAttribute("placement") || "",
            'offset-top': tooltipOffset.top,
            'offset-left': tooltipOffset.left,
            'project-id': $component.getAttribute("project-id") || "",
            'utc-offset': $component.getAttribute("utc-offset") || "",
            'alert': $component.getAttribute("alert") || ""
          },
          "on": {
            change: $helpers.handleTooltipChange,
            changedAlert: $helpers.handleChangedAlert
          }
        }));;
        return __jade_nodes;
      }.call(this).filter(Boolean))
    };
  }.call(this, "$component" in locals ? locals.$component : typeof $component !== "undefined" ? $component : undefined, "$helpers" in locals ? locals.$helpers : typeof $helpers !== "undefined" ? $helpers : undefined, "Object" in locals ? locals.Object : typeof Object !== "undefined" ? Object : undefined);
  if (result_of_with) return result_of_with.value;
}
module.exports = _jade_template_fn;
},{"panel":343}],317:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _panel = require('panel');

var _registerElement = require('../../util/register-element.js');

var _common = require('../smart-hub-alert/utils/common');

var _tracking = require('../smart-hub-alert/utils/tracking');

var _index = require('./index.jade');

var _index2 = _interopRequireDefault(_index);

var _index3 = require('./index.styl');

var _index4 = _interopRequireDefault(_index3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global mixpanel */


var SmartHubDataPoint = function (_Component) {
  _inherits(SmartHubDataPoint, _Component);

  function SmartHubDataPoint() {
    _classCallCheck(this, SmartHubDataPoint);

    return _possibleConstructorReturn(this, (SmartHubDataPoint.__proto__ || Object.getPrototypeOf(SmartHubDataPoint)).apply(this, arguments));
  }

  _createClass(SmartHubDataPoint, [{
    key: 'trackClick',
    value: function trackClick() {
      mixpanel.track('Smart Hub: Clicked Data Point', (0, _tracking.trackingProperties)(this.alert));
    }
  }, {
    key: 'config',
    get: function get() {
      var _this2 = this;

      return {
        css: _index4.default,
        template: _index2.default,
        useShadowDom: true,
        helpers: {
          getAlertDirection: function getAlertDirection() {
            return (0, _common.getAlertDirection)(_this2.alert);
          },
          getTooltipOffset: function getTooltipOffset() {
            var placement = _this2.getAttribute('placement');
            if (placement === 'top') {
              return { left: _this2.offsetWidth / 2, top: 0 };
            } else if (placement === 'bottom') {
              return { left: _this2.offsetWidth / 2, top: _this2.offsetHeight };
            } else if (placement === 'left') {
              return { left: 0, top: _this2.offsetHeight / 2 };
            } else if (placement === 'right') {
              return { left: _this2.offsetWidth, top: _this2.offsetHeight / 2 };
            } else {
              console.error('Unsupported placement: ' + placement);
            }
          },
          handleClick: function handleClick() {
            _this2.setAttribute('open', !_this2.isAttributeEnabled('open'));

            if (_this2.isAttributeEnabled('open')) {
              _this2.trackClick();
            }
          },
          handleTooltipChange: function handleTooltipChange(e) {
            if (['open', 'closed'].includes(e.detail.state)) {
              _this2.setAttribute('open', e.detail.state === 'open');
            }
            _this2.helpers.handleEventPropagation(e);
          },
          handleChangedAlert: function handleChangedAlert(ev) {
            _this2.setAttribute('alert', JSON.stringify(ev.detail.alert));
            _this2.helpers.handleEventPropagation(ev);
          },
          handleEventPropagation: function handleEventPropagation(ev) {
            ev.stopPropagation();
            _this2.dispatchEvent(new CustomEvent(ev.type, ev));
          }
        }
      };
    }
  }, {
    key: 'alert',
    get: function get() {
      return this.getJSONAttribute('alert');
    }
  }]);

  return SmartHubDataPoint;
}(_panel.Component);

SmartHubDataPoint.SIZE = SmartHubDataPoint.prototype.SIZE = 16;

var BUFFER_SIZE = 20;
var CARET_SIZE = 10;
var TOOLTIP_MAX_WIDTH = 360;
// height is variable, but this is a reasonable max height based on 4 lines of text
var TOOLTIP_MAX_HEIGHT = 150;

SmartHubDataPoint.computePlacement = function (placements, _ref) {
  var _this3 = this;

  var viewportTop = _ref.viewportTop,
      viewportLeft = _ref.viewportLeft;

  var documentHeight = document.body.scrollHeight;
  var documentWidth = document.body.scrollWidth;
  var top = window.pageYOffset + viewportTop;
  var left = window.pageXOffset + viewportLeft;
  var placement = placements.find(function (placement) {
    var tooltipTop = void 0,
        tooltipLeft = void 0;
    if (placement === 'top') {
      tooltipTop = top - TOOLTIP_MAX_HEIGHT - CARET_SIZE;
      tooltipLeft = left + _this3.SIZE / 2 - TOOLTIP_MAX_WIDTH / 2;
    } else if (placement === 'bottom') {
      tooltipTop = top + _this3.SIZE + CARET_SIZE;
      tooltipLeft = left + _this3.SIZE / 2 - TOOLTIP_MAX_WIDTH / 2;
    } else if (placement === 'left') {
      tooltipTop = top + _this3.SIZE / 2 - TOOLTIP_MAX_HEIGHT / 2;
      tooltipLeft = left - TOOLTIP_MAX_WIDTH - CARET_SIZE;
    } else if (placement === 'right') {
      tooltipTop = top + _this3.SIZE / 2 - TOOLTIP_MAX_HEIGHT / 2;
      tooltipLeft = left + _this3.SIZE + CARET_SIZE;
    } else {
      console.error('Unsupported placement ' + placement);
    }

    return tooltipTop >= BUFFER_SIZE && tooltipTop + TOOLTIP_MAX_HEIGHT + BUFFER_SIZE <= documentHeight && tooltipLeft >= BUFFER_SIZE && tooltipLeft + TOOLTIP_MAX_WIDTH + BUFFER_SIZE <= documentWidth;
  });

  if (!placement) {
    console.error('Could not find valid placement, defaulting to first placement option');
    return placements[0];
  }

  return placement;
};

exports.default = (0, _registerElement.registerMPElement)('mp-smart-hub-data-point', SmartHubDataPoint);
},{"../../util/register-element.js":283,"../smart-hub-alert/utils/common":305,"../smart-hub-alert/utils/tracking":315,"./index.jade":316,"./index.styl":318,"panel":343}],318:[function(require,module,exports){
module.exports = "* {   -webkit-font-smoothing: antialiased; } *:focus {   outline: 0; } *::-ms-clear {   height: 0;   width: 0; } body {   color: #6d859e;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-stretch: normal;   font-weight: 400; } body.no-scroll {   overflow: hidden; } a, .mp-link {   cursor: pointer;   text-decoration: none; } a, .mp-link, a:visited, .mp-link:visited {   color: #3b99f0; } a:hover, .mp-link:hover {   color: #4ba8ff; } .mp-font-size-xl {   font-size: 18px; } .mp-font-size-large {   font-size: 16px; } .mp-font-size-medium {   font-size: 14px; } .mp-font-size-default {   font-size: 13px; } .mp-font-size-xs {   font-size: 11px;   text-transform: uppercase; } .mp-font-weight-bold {   font-weight: 600; } .mp-font-weight-medium {   font-weight: 500; } .mp-font-weight-regular {   font-weight: 400; } .mp-font-paragraph {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } input[type=text], textarea {   border: 1px solid #d8e0ea;   border-radius: 5px;   box-sizing: border-box;   color: #4c6072;   display: inline-block;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 400;   padding: 8px;   transition: border-color 150ms ease-out; } input[type=text]::-webkit-input-placeholder, textarea::-webkit-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::-moz-placeholder, textarea::-moz-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:-ms-input-placeholder, textarea:-ms-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::placeholder, textarea::placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:focus, textarea:focus, input[type=text]:active, textarea:active {   border-color: #3391e9;   transition: border-color 200ms ease-in; } input[type=text] {   height: 36px; } mp-truncated-text {   display: inline-block;   white-space: nowrap;   width: 100%; } svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } svg-icon[icon=lightning-bolt] #bolt, svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } svg-icon[icon=alert] #circle, svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } mp-smart-hub-data-point {   display: inline-block;   height: 16px;   width: 16px; } :host {   display: inline-block;   height: 16px;   width: 16px; } .mp-sh-data-point-container {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   height: 100%;   -webkit-box-pack: center;       -ms-flex-pack: center;           justify-content: center;   position: relative;   width: 100%; } .mp-sh-data-point-container .mp-sh-data-point-icon {   border-radius: 100px;   cursor: pointer;   height: 10px;   width: 10px; } .mp-sh-data-point-container .mp-sh-data-point-icon:hover {   height: 12px;   width: 12px; } .mp-sh-data-point-container .mp-sh-data-point-icon.mp-sh-data-point-open {   background-color: transparent;   background-repeat: no-repeat;   height: 16px;   transition: none;   width: 16px; } .mp-sh-data-point-container .mp-sh-data-point-icon svg path#arrow {   fill: #fff; } .mp-sh-data-point-container .mp-sh-data-point-icon.mp-sh-data-point-type-anomaly {   background-color: #ffd209; } .mp-sh-data-point-container .mp-sh-data-point-icon.mp-sh-data-point-type-anomaly:hover {   background-color: #fcde5c; } .mp-sh-data-point-container .mp-sh-data-point-icon.mp-sh-data-point-type-anomaly svg path#disc {   fill: #ffd209; } .mp-sh-data-point-container .mp-sh-data-point-icon.mp-sh-data-point-type-contour {   background-color: #2dc376; } .mp-sh-data-point-container .mp-sh-data-point-icon.mp-sh-data-point-type-contour:hover {   background-color: #39d183; } .mp-sh-data-point-container .mp-sh-data-point-icon.mp-sh-data-point-type-contour svg path#disc {   fill: #2dc376; } ";

},{}],319:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.smartHubApi = exports.SmartHubApi = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _queryString = require('query-string');

var _queryString2 = _interopRequireDefault(_queryString);

var _appApiClient = require('../../util/app-api-client.js');

var _appApiClient2 = _interopRequireDefault(_appApiClient);

var _common = require('../smart-hub-alert/utils/common');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var SmartHubApi = exports.SmartHubApi = function () {
  function SmartHubApi(urlMap) {
    _classCallCheck(this, SmartHubApi);

    this.urls = urlMap;
    this.pendingRequests = {};
  }

  _createClass(SmartHubApi, [{
    key: 'fetchUnreadCount',
    value: function fetchUnreadCount() {
      return this.fetch('GET', this.urls.unreadCount(this.queryParams())).then(function (resp) {
        return resp.json();
      }).then(function (resp) {
        return resp.results;
      });
    }

    /*
     * Return a promise that resolves to an a list of alerts.
     */

  }, {
    key: 'fetchAlerts',
    value: function fetchAlerts() {
      var _this = this;

      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
          maxExclusiveMs = _ref.maxExclusiveMs,
          limit = _ref.limit;

      if (this.pendingRequests[maxExclusiveMs]) {
        return;
      }

      this.pendingRequests[maxExclusiveMs] = this.fetch('GET', this.urls.alerts(this.queryParams({ maxExclusiveMs: maxExclusiveMs, limit: limit })));

      var deletePending = function deletePending() {
        return delete _this.pendingRequests[maxExclusiveMs];
      };
      this.pendingRequests[maxExclusiveMs].then(deletePending, deletePending);

      return this.pendingRequests[maxExclusiveMs].then(function (response) {
        return response.json();
      }).then(function (response) {
        return response.results;
      });
    }
  }, {
    key: 'markAlertsRead',
    value: function markAlertsRead() {
      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
          minExclusiveMs = _ref2.minExclusiveMs;

      return this.fetch('PATCH', this.urls.alerts(this.queryParams({ minExclusiveMs: minExclusiveMs })), { is_read: true }); //eslint-disable-line camelcase
    }
  }, {
    key: 'fetch',
    value: function fetch(method, url, body) {
      return _appApiClient2.default.fetch(url, { method: method, body: this.encodeBody(body) });
    }
  }, {
    key: 'queryParams',
    value: function queryParams() {
      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
          maxExclusiveMs = _ref3.maxExclusiveMs,
          limit = _ref3.limit,
          minExclusiveMs = _ref3.minExclusiveMs;

      var params = Object.assign((0, _common.getCommonApiQueryParams)(), { limit: limit });

      if (maxExclusiveMs) {
        params.max_exclusive_ms = maxExclusiveMs; // eslint-disable-line camelcase
      }

      if (minExclusiveMs) {
        params.max_inclusive_ms = minExclusiveMs; //eslint-disable-line camelcase
      }

      return params;
    }
  }, {
    key: 'encodeBody',
    value: function encodeBody(body) {
      return body && JSON.stringify(body);
    }
  }]);

  return SmartHubApi;
}();

var urls = function urls(projectId, reportId) {
  var withDefaults = function withDefaults(query) {
    return reportId ? Object.assign({}, { report_id: reportId }, query) : query;
  }; // eslint-disable-line camelcase
  var encoded = function encoded(query) {
    return _queryString2.default.stringify(withDefaults(query));
  };

  return {
    alerts: function alerts(query) {
      return '/api/app/projects/' + projectId + '/smart-hub/alerts?' + encoded(query);
    },
    unreadCount: function unreadCount(query) {
      return '/api/app/projects/' + projectId + '/smart-hub/unread-count?' + encoded(query);
    }
  };
};

var smartHubApi = exports.smartHubApi = function smartHubApi(projectId, reportId) {
  return new SmartHubApi(urls(projectId, reportId));
};
},{"../../util/app-api-client.js":276,"../smart-hub-alert/utils/common":305,"query-string":348}],320:[function(require,module,exports){
"use strict";

function _jade_template_fn(locals) {
  locals = locals || {};;;
  var result_of_with = function ($component, $controller, $helpers, JSON, Object) {
    var h = require('panel').h;
    return {
      value: h("div", {
        "class": {
          'mp-sh-menu': true
        }
      }, function () {
        var __jade_nodes = [];
        var placement = $component.getAttribute("placement");;
        var caretOffset = $component.getCaretOffset(placement);;
        var dropdownWidth = $component.dropdownWidth;;
        var open = $controller.isOpen();
        __jade_nodes = __jade_nodes.concat(h("mp-drop-menu", {
          "attrs": {
            open: open
          },
          "style": {
            position: "absolute",
            left: placement === "left" || placement === "center" ? "-" + caretOffset + "px" : "auto",
            right: placement === "right" ? "-" + caretOffset + "px" : "auto",
            width: open ? dropdownWidth + "px" : ""
          },
          "on": {
            change: $helpers.handleDropMenuChange
          }
        }, function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(h("div", {
            "style": {
              width: dropdownWidth + "px"
            },
            "class": Object.assign({}, {
              'mp-sh-placement-left': placement === "left",
              'mp-sh-placement-right': placement === "right",
              'mp-sh-placement-center': placement === "center"
            }, {
              'mp-sh-menu-caret-container': true
            })
          }, function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(h("div", {
              "class": {
                'mp-sh-menu-container': true
              }
            }, function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h("div", {
                "class": {
                  'mp-sh-menu-header': true
                }
              }, function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat(h("div", {
                  "class": {
                    'mp-sh-menu-title': true
                  }
                }, function () {
                  var __jade_nodes = [];
                  __jade_nodes = __jade_nodes.concat($component.displayContext !== "GLOBAL" ? function () {
                    var __jade_nodes = [];
                    __jade_nodes = __jade_nodes.concat("Related insights");;
                    return __jade_nodes;
                  }.call(this) : function () {
                    var __jade_nodes = [];
                    __jade_nodes = __jade_nodes.concat("Notifications");;
                    return __jade_nodes;
                  }.call(this));;
                  return __jade_nodes;
                }.call(this).filter(Boolean)));;
                return __jade_nodes;
              }.call(this).filter(Boolean)));
              __jade_nodes = __jade_nodes.concat($helpers.shouldShowLoadingState() ? function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat(h("div", {
                  "class": {
                    'mp-sh-initial-loading': true
                  }
                }, function () {
                  var __jade_nodes = [];
                  __jade_nodes = __jade_nodes.concat(h("mp-spinner"));;
                  return __jade_nodes;
                }.call(this).filter(Boolean)));;
                return __jade_nodes;
              }.call(this) : $helpers.hasAlerts() ? function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat(h("div", {
                  "on": {
                    scroll: $helpers.handleScroll,
                    wheel: $helpers.handleMousewheel
                  },
                  "hook": {
                    insert: $helpers.fetchAlertsIfNeeded,
                    postpatch: $helpers.fetchAlertsIfNeeded
                  },
                  "class": {
                    'mp-sh-alerts-container': true
                  }
                }, function () {
                  var __jade_nodes = [];
                  __jade_nodes = __jade_nodes.concat($controller.getAlerts().reduce(function (__each_nodes, alert, $index) {
                    return __each_nodes.concat(function () {
                      var __jade_nodes = [];
                      __jade_nodes = __jade_nodes.concat(alert.isDeleted ? function () {
                        var __jade_nodes = [];
                        __jade_nodes = __jade_nodes.concat(h("div", {
                          "hook": {
                            insert: function insert(vnode) {
                              return $helpers.insertedDeletedAlert(vnode.elm, alert);
                            }
                          },
                          "style": {
                            height: alert.placeholderHeight + "px"
                          },
                          "class": {
                            'mp-sh-deleted-alert': true,
                            'mp-sh-list-item': true
                          }
                        }));;
                        return __jade_nodes;
                      }.call(this) : function () {
                        var __jade_nodes = [];
                        __jade_nodes = __jade_nodes.concat(h("mp-smart-hub-alert", {
                          "attrs": {
                            'project-id': $component.getAttribute("project-id") || "",
                            'utc-offset': $component.getAttribute("utc-offset") || "",
                            'display-context': $component.displayContext,
                            'alert': JSON.stringify(alert)
                          },
                          "style": {
                            width: dropdownWidth + "px"
                          },
                          "on": {
                            clickedLink: $helpers.handleClickedLink,
                            changedAlert: $helpers.handleChangedAlert
                          },
                          "class": {
                            'mp-sh-list-item': true
                          }
                        }));;
                        return __jade_nodes;
                      }.call(this));;
                      return __jade_nodes;
                    }.call(this));
                  }, []));
                  __jade_nodes = __jade_nodes.concat($helpers.isLoading() ? function () {
                    var __jade_nodes = [];
                    __jade_nodes = __jade_nodes.concat(h("div", {
                      "class": {
                        'mp-sh-pagination-loading': true,
                        'mp-sh-list-item': true
                      }
                    }, function () {
                      var __jade_nodes = [];
                      __jade_nodes = __jade_nodes.concat(h("mp-spinner"));;
                      return __jade_nodes;
                    }.call(this).filter(Boolean)));;
                    return __jade_nodes;
                  }.call(this) : undefined);;
                  return __jade_nodes;
                }.call(this).filter(Boolean)));;
                return __jade_nodes;
              }.call(this) : function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat(h("div", {
                  "class": {
                    'mp-sh-empty-state': true
                  }
                }, function () {
                  var __jade_nodes = [];
                  __jade_nodes = __jade_nodes.concat(h("img", {
                    "attrs": {
                      // By un-setting/re-setting the src, the gif will replay from the beginning when the dropdown
                      // is re-opened.
                      src: open ? "/site_media/images/smart_hub/empty_state.gif" : ""
                    },
                    "class": {
                      'mp-sh-empty-state-image': true
                    }
                  }));
                  __jade_nodes = __jade_nodes.concat(h("div", {
                    "class": {
                      'mp-sh-empty-state-text': true
                    }
                  }, function () {
                    var __jade_nodes = [];
                    __jade_nodes = __jade_nodes.concat(h("div", {
                      "class": {
                        'mp-sh-empty-state-text-primary': true
                      }
                    }, function () {
                      var __jade_nodes = [];
                      __jade_nodes = __jade_nodes.concat("No current notifications");;
                      return __jade_nodes;
                    }.call(this).filter(Boolean)));
                    __jade_nodes = __jade_nodes.concat(h("div", {
                      "class": {
                        'mp-sh-empty-state-text-secondary': true
                      }
                    }, function () {
                      var __jade_nodes = [];
                      __jade_nodes = __jade_nodes.concat("Mixpanel automatically finds interesting trends and anomalies in your data. Add reports to your dashboard to start receiving notifications.");;
                      return __jade_nodes;
                    }.call(this).filter(Boolean)));;
                    return __jade_nodes;
                  }.call(this).filter(Boolean)));;
                  return __jade_nodes;
                }.call(this).filter(Boolean)));;
                return __jade_nodes;
              }.call(this));;
              return __jade_nodes;
            }.call(this).filter(Boolean)));;
            return __jade_nodes;
          }.call(this).filter(Boolean)));;
          return __jade_nodes;
        }.call(this).filter(Boolean)));;
        return __jade_nodes;
      }.call(this).filter(Boolean))
    };
  }.call(this, "$component" in locals ? locals.$component : typeof $component !== "undefined" ? $component : undefined, "$controller" in locals ? locals.$controller : typeof $controller !== "undefined" ? $controller : undefined, "$helpers" in locals ? locals.$helpers : typeof $helpers !== "undefined" ? $helpers : undefined, "JSON" in locals ? locals.JSON : typeof JSON !== "undefined" ? JSON : undefined, "Object" in locals ? locals.Object : typeof Object !== "undefined" ? Object : undefined);
  if (result_of_with) return result_of_with.value;
}
module.exports = _jade_template_fn;
},{"panel":343}],321:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _panel = require('panel');

var _throttle = require('lodash/throttle');

var _throttle2 = _interopRequireDefault(_throttle);

var _uniqWith = require('lodash/uniqWith');

var _uniqWith2 = _interopRequireDefault(_uniqWith);

var _array = require('../../util/array');

var _dom = require('../../util/dom');

var _registerElement = require('../../util/register-element.js');

var _smartHubAlert = require('../smart-hub-alert');

var _smartHubAlert2 = _interopRequireDefault(_smartHubAlert);

var _common = require('../smart-hub-alert/utils/common');

var _api = require('./api');

var _index = require('./index.jade');

var _index2 = _interopRequireDefault(_index);

var _index3 = require('./index.styl');

var _index4 = _interopRequireDefault(_index3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global mixpanel */

var REQUEST_LIMIT = 10;

var DropdownStateController = function (_StateController) {
  _inherits(DropdownStateController, _StateController);

  function DropdownStateController() {
    _classCallCheck(this, DropdownStateController);

    return _possibleConstructorReturn(this, (DropdownStateController.__proto__ || Object.getPrototypeOf(DropdownStateController)).apply(this, arguments));
  }

  _createClass(DropdownStateController, [{
    key: 'closeDropdown',


    /* mutators */
    value: function closeDropdown() {
      this._update({ open: false });
    }
  }, {
    key: 'markOpen',
    value: function markOpen(open) {
      this._update({ open: open });
    }
  }, {
    key: 'updateAlerts',
    value: function updateAlerts(alerts) {
      this._update({ alerts: alerts });
    }
  }, {
    key: 'removeAlert',
    value: function removeAlert(alert) {
      this._update(this.state.alerts.filter(function (currAlert) {
        return !(0, _common.isMatchingAlert)(alert, currAlert);
      }));
    }
  }, {
    key: 'markPageFetched',
    value: function markPageFetched() {
      this._update({
        paginationCount: this.state.paginationCount + 1,
        pendingPaginationRequest: null
      });
    }
  }, {
    key: 'markAllAlertsFetched',
    value: function markAllAlertsFetched() {
      this._update({ allAlertsFetched: true });
    }
  }, {
    key: 'markAlertsEventDispatched',
    value: function markAlertsEventDispatched() {
      this._update({ dispatchedGlobalAlertsEvent: true });
    }
  }, {
    key: 'markMinIngestedAt',
    value: function markMinIngestedAt(minIngestedAt) {
      this._update({ minIngestedAt: minIngestedAt });
    }
  }, {
    key: 'markAttachedAt',
    value: function markAttachedAt(attachedAt) {
      this._update({ attachedAt: attachedAt });
    }
  }, {
    key: 'setPendingRequest',
    value: function setPendingRequest(pendingPaginationRequest) {
      this._update({ pendingPaginationRequest: pendingPaginationRequest });
    }
  }, {
    key: 'reset',
    value: function reset() {
      this._update(this.defaultState);
    }

    /* readers */

  }, {
    key: 'getAttachedAt',
    value: function getAttachedAt() {
      return this.state.attachedAt;
    }
  }, {
    key: 'getPendingRequest',
    value: function getPendingRequest() {
      return this.state.pendingPaginationRequest;
    }
  }, {
    key: 'getPageCount',
    value: function getPageCount() {
      return this.state.paginationCount;
    }
  }, {
    key: 'getAlerts',
    value: function getAlerts() {
      return this.state.alerts;
    }
  }, {
    key: 'getMinIngestedAt',
    value: function getMinIngestedAt() {
      return this.state.minIngestedAt;
    }
  }, {
    key: 'isOpen',
    value: function isOpen() {
      return this.state.open;
    }
  }, {
    key: 'pendingRequest',
    value: function pendingRequest() {
      return this.state.pendingPaginationRequest;
    }
  }, {
    key: 'hasPendingRequest',
    value: function hasPendingRequest() {
      return !!this.state.pendingPaginationRequest;
    }
  }, {
    key: 'hasDispatchedAlertsEvent',
    value: function hasDispatchedAlertsEvent() {
      return this.state.dispatchedGlobalAlertsEvent;
    }
  }, {
    key: 'canFetchAgain',
    value: function canFetchAgain() {
      return !(this.state.pendingPaginationRequest || this.state.allAlertsFetched);
    }
  }, {
    key: 'defaultState',
    get: function get() {
      return {
        alerts: [],
        allAlertsFetched: false,
        attachedAt: null,
        dispatchedGlobalAlertsEvent: false,
        minIngestedAt: null,
        open: false,
        paginationCount: 0,
        pendingPaginationRequest: null
      };
    }
  }]);

  return DropdownStateController;
}(_panel.StateController);
/*
 * Dropdown component which is responsible for loading its own alerts from the server.
 * After attempting to load, a CustomEvent named alertsLoaded will be fired with the outcome.
 */


exports.default = (0, _registerElement.registerMPElement)('mp-smart-hub-dropdown', function (_ControlledComponent) {
  _inherits(SmartHubDropdown, _ControlledComponent);

  function SmartHubDropdown() {
    _classCallCheck(this, SmartHubDropdown);

    return _possibleConstructorReturn(this, (SmartHubDropdown.__proto__ || Object.getPrototypeOf(SmartHubDropdown)).apply(this, arguments));
  }

  _createClass(SmartHubDropdown, [{
    key: 'removeAlert',
    value: function removeAlert(alert) {
      this.controller.removeAlert(alert);
      this.fetchAlertsIfNeeded();
    }
  }, {
    key: 'initializeSmartHubFetcher',
    value: function initializeSmartHubFetcher() {
      this.fetcher = (0, _api.smartHubApi)(this.getAttribute('project-id'), this.getAttribute('report-id'));
    }
  }, {
    key: 'attachedCallback',
    value: function attachedCallback() {
      var _this3 = this;

      this.initializeSmartHubFetcher();

      this.handleDropdownOpenState();
      _get(SmartHubDropdown.prototype.__proto__ || Object.getPrototypeOf(SmartHubDropdown.prototype), 'attachedCallback', this).apply(this, arguments);

      this.fetchAlertsIfNeeded = (0, _throttle2.default)(function () {
        var containerEl = _this3.el.querySelector('.mp-sh-alerts-container');
        var alertEl = containerEl.querySelector('mp-smart-hub-alert:last-of-type');
        if (!alertEl) {
          return;
        }

        var containerElBottom = containerEl.getBoundingClientRect().bottom;
        var alertElTop = alertEl.getBoundingClientRect().top;
        // If the last alert is more than 20px above the bottom of the dropdown container.
        if (alertEl && containerElBottom - alertElTop > 20) {
          _this3.fetchAlerts();
        }
      }, 50);

      // For marking as read, and clear all, only affect alerts older than the current time.
      // Also, alerts that are marked as read more recently than the current time should continue
      // to be shown as unread.
      this.controller.markAttachedAt(new Date().getTime());

      this.fetchAlerts();
    }
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(name) {
      _get(SmartHubDropdown.prototype.__proto__ || Object.getPrototypeOf(SmartHubDropdown.prototype), 'attributeChangedCallback', this).apply(this, arguments);

      if (!this.initialized) {
        return;
      }

      if (name === 'open') {
        this.handleDropdownOpenState();
      } else if (name === 'placements') {
        this.computePlacement();
      } else if (name === 'report-id') {
        // if the report-id changes, reset all state in this instance.
        this.controller.reset();
        this.initializeSmartHubFetcher();
        this.fetchAlerts();
      }
    }
  }, {
    key: 'handleDropdownOpenState',
    value: function handleDropdownOpenState() {
      var open = this.isAttributeEnabled('open');
      if (open) {
        this.computePlacement();
        this.trackClick(1);
        this.incrementPeopleProperty('Smart Hub: Total Clicks');
        this.markAlertsRead();
        // TODO(mack): Try to fetch more alerts here if the last alert is visible
      }
      this.controller.markOpen(open);
    }
  }, {
    key: 'getCaretOffset',
    value: function getCaretOffset(placement) {
      switch (placement) {
        case 'center':
          return this.dropdownWidth / 2;
        case 'left':
        case 'right':
        default:
          return 40;
      }
    }
  }, {
    key: 'computePlacement',
    value: function computePlacement() {
      var _this4 = this;

      var viewportLeft = this.getBoundingClientRect().left;
      var placements = this.getJSONAttribute('placements');
      if (!placements || !placements.length) {
        if (!this.hasAttribute('placement')) {
          this.setAttribute('placement', 'left');
        }
        return;
      }

      var BUFFER_SIZE = 20;
      var documentWidth = document.body.scrollWidth;
      var left = window.pageXOffset + viewportLeft;
      var placement = placements.find(function (placement) {
        var dropdownLeft = void 0;
        if (placement === 'left') {
          dropdownLeft = left - _this4.getCaretOffset(placement);
        } else if (placement === 'right') {
          dropdownLeft = left + _this4.getCaretOffset(placement) - _this4.dropdownWidth;
        } else if (placement === 'center') {
          dropdownLeft = _this4.dropdownWidth / 2;
        } else {
          console.error('Unsupported placement ' + placement);
          return false;
        }

        return dropdownLeft >= BUFFER_SIZE && dropdownLeft + _this4.dropdownWidth + BUFFER_SIZE <= documentWidth;
      });

      if (!placement) {
        console.error('Could not find valid placement, defaulting to first placement option');
        placement = placements[0];
      }

      this.setAttribute('placement', placement);
    }
  }, {
    key: 'markAlertsRead',
    value: function markAlertsRead() {
      this.fetcher.markAlertsRead({ minExclusiveMs: this.controller.getAttachedAt() });
    }
  }, {
    key: 'fetchAlerts',
    value: function fetchAlerts() {
      var _this5 = this;

      if (!this.controller.canFetchAgain()) {
        return;
      }

      this.controller.setPendingRequest(this.fetcher.fetchAlerts({ maxExclusiveMs: this.controller.getMinIngestedAt(), limit: REQUEST_LIMIT }));
      if (!this.controller.hasPendingRequest()) {
        return;
      }

      this.controller.pendingRequest().then(function (alerts) {
        return _this5.handleGetAlertsResponse(alerts);
      }).catch(function () {
        return _this5.handleGetAlertsResponse([]);
      });
    }
  }, {
    key: 'handleGetAlertsResponse',
    value: function handleGetAlertsResponse(alerts) {
      this.controller.markPageFetched();

      if (this.controller.getPageCount() > 1) {
        // This represents a manually-triggered pagination request by the user scrolling in the dropdown.
        this.trackClick(this.controller.getPageCount());
        this.incrementPeopleProperty('Smart Hub: Total Paginations');
      }

      if (!alerts.length || alerts.length < REQUEST_LIMIT) {
        this.controller.markAllAlertsFetched();
      }

      if (!this.controller.hasDispatchedAlertsEvent()) {
        this.dispatchEvent(new CustomEvent('alertsLoaded', {
          detail: {
            loaded: alerts.length > 0,
            unread: alerts.filter(function (a) {
              return !a.readAtMs;
            }).length
          }
        }));

        this.controller.markAlertsEventDispatched();
      }

      this.appendAlerts(alerts);
    }
  }, {
    key: 'appendAlerts',
    value: function appendAlerts(alerts) {
      var _this6 = this;

      alerts = (0, _uniqWith2.default)(this.controller.getAlerts().concat(alerts), function (a1, a2) {
        return (0, _common.isMatchingAlert)(a1, a2);
      });
      alerts = (0, _array.sorted)(alerts, {
        order: 'desc',
        transform: function transform(alert) {
          return alert.ingestedAtMs;
        }
      });

      alerts.forEach(function (alert) {
        alert.isRead = !!alert.readAtMs && Number(alert.readAtMs) < _this6.controller.getAttachedAt();
      });

      if (alerts.length) {
        this.controller.markMinIngestedAt(alerts[alerts.length - 1].ingestedAtMs);
      }

      this.controller.updateAlerts(alerts);
    }
  }, {
    key: 'trackClick',
    value: function trackClick(pageCount) {
      this.trackEvent('Smart Hub: Clicked', { page_number: pageCount }); // eslint-disable-line camelcase
    }
  }, {
    key: 'trackEvent',
    value: function trackEvent(eventName) {
      var extraProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

      mixpanel.track(eventName, Object.assign({
        'display_context': this.displayContext,
        'project_id': this.getAttribute('project-id')
      }, extraProps));
    }
  }, {
    key: 'incrementPeopleProperty',
    value: function incrementPeopleProperty(propertyName) {
      mixpanel.people.increment(propertyName);
    }
  }, {
    key: 'config',
    get: function get() {
      var _this7 = this;

      return {
        css: _index4.default,
        template: _index2.default,
        controller: new DropdownStateController(),
        useShadowDom: true,
        helpers: {
          handleScroll: function handleScroll() {
            return _this7.fetchAlertsIfNeeded();
          },
          handleMousewheel: function handleMousewheel(e) {
            var container = e.currentTarget;
            if (e.deltaY < 0 && container.scrollTop === 0 || e.deltaY > 0 && container.scrollTop + container.offsetHeight >= container.scrollHeight) {
              e.preventDefault();
              e.stopPropagation();
            }
          },
          handleDropMenuChange: function handleDropMenuChange(e) {
            var state = e.detail.state;
            if (['open', 'closed'].includes(state)) {
              var open = e.detail.state === 'open';
              _this7.setAttribute('open', open);
            }

            e.stopPropagation();
            _this7.dispatchEvent(new CustomEvent(e.type, e));
          },
          handleClickedLink: function handleClickedLink(ev) {
            if (!ev.detail.modifierKey) {
              _this7.controller.closeDropdown();
            }
          },
          handleChangedAlert: function handleChangedAlert(e) {
            var alerts = _this7.controller.getAlerts().map(function (oldAlert) {
              if ((0, _common.isMatchingAlert)(oldAlert, e.detail.alert)) {
                // oldAlert has fields that are not in e.detail.alert, like isRead, hence the use of
                // Object.assign().
                var newAlert = Object.assign({}, oldAlert, e.detail.alert);
                if (e.detail.type === _smartHubAlert2.default.CHANGE_TYPE_REMOVED || e.detail.type === _smartHubAlert2.default.CHANGE_TYPE_SENT_FEEDBACK && !e.detail.data.isUseful) {
                  newAlert.isDeleted = true;
                  newAlert.placeholderHeight = e.target.getBoundingClientRect().height;
                }
                return newAlert;
              } else {
                return oldAlert;
              }
            });
            _this7.controller.updateAlerts(alerts);
          },
          insertedDeletedAlert: function insertedDeletedAlert(el, alert) {
            var removeAlertHandler = function removeAlertHandler() {
              (0, _dom.offAnimationEnd)(el, removeAlertHandler);
              _this7.removeAlert(alert);
            };
            (0, _dom.onAnimationEnd)(el, removeAlertHandler);
          },
          isLoading: function isLoading() {
            return _this7.controller.hasPendingRequest();
          },
          hasAlerts: function hasAlerts() {
            return _this7.controller.getAlerts().length > 0;
          },
          shouldShowLoadingState: function shouldShowLoadingState() {
            return _this7.controller.getPageCount() === 0 && _this7.controller.hasPendingRequest();
          }
        }
      };
    }
  }, {
    key: 'displayContext',
    get: function get() {
      return this.getAttribute('display-context') || 'GLOBAL';
    }
  }, {
    key: 'dropdownWidth',
    get: function get() {
      return 360;
    }
  }]);

  return SmartHubDropdown;
}(_panel.ControlledComponent));
},{"../../util/array":277,"../../util/dom":280,"../../util/register-element.js":283,"../smart-hub-alert":303,"../smart-hub-alert/utils/common":305,"./api":319,"./index.jade":320,"./index.styl":322,"lodash/throttle":191,"lodash/uniqWith":194,"panel":343}],322:[function(require,module,exports){
module.exports = "* {   -webkit-font-smoothing: antialiased; } *:focus {   outline: 0; } *::-ms-clear {   height: 0;   width: 0; } body {   color: #6d859e;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-stretch: normal;   font-weight: 400; } body.no-scroll {   overflow: hidden; } a, .mp-link {   cursor: pointer;   text-decoration: none; } a, .mp-link, a:visited, .mp-link:visited {   color: #3b99f0; } a:hover, .mp-link:hover {   color: #4ba8ff; } .mp-font-size-xl {   font-size: 18px; } .mp-font-size-large {   font-size: 16px; } .mp-font-size-medium {   font-size: 14px; } .mp-font-size-default {   font-size: 13px; } .mp-font-size-xs {   font-size: 11px;   text-transform: uppercase; } .mp-font-weight-bold {   font-weight: 600; } .mp-font-weight-medium {   font-weight: 500; } .mp-font-weight-regular {   font-weight: 400; } .mp-font-paragraph {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } input[type=text], textarea {   border: 1px solid #d8e0ea;   border-radius: 5px;   box-sizing: border-box;   color: #4c6072;   display: inline-block;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 400;   padding: 8px;   transition: border-color 150ms ease-out; } input[type=text]::-webkit-input-placeholder, textarea::-webkit-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::-moz-placeholder, textarea::-moz-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:-ms-input-placeholder, textarea:-ms-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::placeholder, textarea::placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:focus, textarea:focus, input[type=text]:active, textarea:active {   border-color: #3391e9;   transition: border-color 200ms ease-in; } input[type=text] {   height: 36px; } mp-truncated-text {   display: inline-block;   white-space: nowrap;   width: 100%; } svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } svg-icon[icon=lightning-bolt] #bolt, svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } svg-icon[icon=alert] #circle, svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } mp-smart-hub-dropdown {   display: inline; } :host {   display: inline; } .mp-sh-menu {   position: relative; } .mp-sh-menu mp-drop-menu {   top: 10px;   z-index: 7000; } .mp-sh-menu .mp-sh-menu-caret-container {   position: relative; } .mp-sh-menu .mp-sh-menu-caret-container .mp-sh-menu-container {   border-radius: 5px;   overflow: hidden; } .mp-sh-menu .mp-sh-menu-caret-container .mp-sh-menu-container .mp-sh-menu-header {   background-color: #fff;   border-bottom: 1px solid #d8e0ea;   padding: 12px 20px; } .mp-sh-menu .mp-sh-menu-caret-container .mp-sh-menu-container .mp-sh-menu-header .mp-sh-menu-title {   color: #4c6072;   font-size: 16px;   font-weight: 600; } .mp-sh-menu .mp-sh-menu-caret-container .mp-sh-menu-container .mp-sh-initial-loading {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   -webkit-box-pack: center;       -ms-flex-pack: center;           justify-content: center;   height: 300px; } .mp-sh-menu .mp-sh-menu-caret-container .mp-sh-menu-container .mp-sh-initial-loading mp-spinner {   height: 100px;   width: 100px; } .mp-sh-menu .mp-sh-menu-caret-container .mp-sh-menu-container .mp-sh-alerts-container {   max-height: 510px;   overflow: hidden;   overflow-y: auto;   width: 100%; } .mp-sh-menu .mp-sh-menu-caret-container .mp-sh-menu-container .mp-sh-alerts-container .mp-sh-list-item {   border-bottom: 1px solid #d8e0ea; } .mp-sh-menu .mp-sh-menu-caret-container .mp-sh-menu-container .mp-sh-alerts-container .mp-sh-list-item:last-child {   border-bottom: 0; } .mp-sh-menu .mp-sh-menu-caret-container .mp-sh-menu-container .mp-sh-alerts-container .mp-sh-deleted-alert {   -webkit-animation: collapse 0.25s linear forwards;           animation: collapse 0.25s linear forwards;   background-color: #f4f9fd; } .mp-sh-menu .mp-sh-menu-caret-container .mp-sh-menu-container .mp-sh-alerts-container .mp-sh-pagination-loading {   display: -webkit-box;   display: -ms-flexbox;   display: flex;   -webkit-box-pack: center;       -ms-flex-pack: center;           justify-content: center;   padding: 12px; } .mp-sh-menu .mp-sh-menu-caret-container .mp-sh-menu-container .mp-sh-alerts-container .mp-sh-pagination-loading mp-spinner {   height: 30px;   width: 30px; } .mp-sh-menu .mp-sh-menu-caret-container .mp-sh-menu-container .mp-sh-empty-state {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   -webkit-animation: fade-in 1s ease-in forwards;           animation: fade-in 1s ease-in forwards;   color: #6d859e;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   -webkit-box-orient: vertical;   -webkit-box-direction: normal;       -ms-flex-direction: column;           flex-direction: column;   font-weight: 500;   height: 410px;   -webkit-box-pack: center;       -ms-flex-pack: center;           justify-content: center;   opacity: 0;   padding: 20px 50px; } .mp-sh-menu .mp-sh-menu-caret-container .mp-sh-menu-container .mp-sh-empty-state .mp-sh-empty-state-image {   margin-left: 8px; } .mp-sh-menu .mp-sh-menu-caret-container .mp-sh-menu-container .mp-sh-empty-state .mp-sh-empty-state-text {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   -webkit-animation: fade-in 1s 1s ease-in forwards;           animation: fade-in 1s 1s ease-in forwards;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   -webkit-box-orient: vertical;   -webkit-box-direction: normal;       -ms-flex-direction: column;           flex-direction: column;   margin-top: 40px;   opacity: 0; } .mp-sh-menu .mp-sh-menu-caret-container .mp-sh-menu-container .mp-sh-empty-state .mp-sh-empty-state-text .mp-sh-empty-state-text-primary {   color: #4c6072;   font-size: 16px;   font-weight: 600;   margin-top: 10px; } .mp-sh-menu .mp-sh-menu-caret-container .mp-sh-menu-container .mp-sh-empty-state .mp-sh-empty-state-text .mp-sh-empty-state-text-secondary {   color: #6d859e;   font-size: 13px;   font-weight: 500;   margin-top: 15px;   text-align: center; } @-webkit-keyframes fade-in {   0% {     opacity: 0;   }   100% {     opacity: 1;   } } @keyframes fade-in {   0% {     opacity: 0;   }   100% {     opacity: 1;   } } @-webkit-keyframes collapse {   100% {     height: 0;   } } @keyframes collapse {   100% {     height: 0;   } } ";

},{}],323:[function(require,module,exports){
"use strict";

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _jade_template_fn(locals) {
  locals = locals || {};;;
  var result_of_with = function ($component, $helpers, Object, visibility) {
    var _Object$assign;

    var h = require('panel').h;
    var placement = $component.getAttribute("placement");
    return {
      value: h("div", {
        "hook": {
          // The visibility of the tooltip can change, will change the size of the tooltip. Hence, the tooltip's
          // position should be recomputed when this happens.
          insert: $helpers.handleUpdatedTooltip,
          postpatch: $helpers.handleUpdatedTooltip
        },
        "class": Object.assign({}, (_Object$assign = {}, _defineProperty(_Object$assign, "mp-sh-tooltip-placement-" + placement, true), _defineProperty(_Object$assign, "mp-sh-tooltip-visibility-" + visibility, true), _Object$assign), {
          'mp-sh-tooltip-container': true
        })
      }, function () {
        var __jade_nodes = [];
        __jade_nodes = __jade_nodes.concat(h("mp-smart-hub-alert", {
          "attrs": {
            'project-id': $component.getAttribute("project-id") || "",
            'utc-offset': $component.getAttribute("utc-offset") || "",
            'display-context': "IN_REPORT",
            'alert': $component.getAttribute("alert") || ""
          },
          "on": {
            changedAlert: $helpers.handleChangedAlert
          }
        }));;
        return __jade_nodes;
      }.call(this).filter(Boolean))
    };
  }.call(this, "$component" in locals ? locals.$component : typeof $component !== "undefined" ? $component : undefined, "$helpers" in locals ? locals.$helpers : typeof $helpers !== "undefined" ? $helpers : undefined, "Object" in locals ? locals.Object : typeof Object !== "undefined" ? Object : undefined, "visibility" in locals ? locals.visibility : typeof visibility !== "undefined" ? visibility : undefined);
  if (result_of_with) return result_of_with.value;
}
module.exports = _jade_template_fn;
},{"panel":343}],324:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _panel = require('panel');

var _dom = require('../../util/dom');

var _registerElement = require('../../util/register-element.js');

var _smartHubAlert = require('../smart-hub-alert');

var _smartHubAlert2 = _interopRequireDefault(_smartHubAlert);

var _index = require('./index.jade');

var _index2 = _interopRequireDefault(_index);

var _index3 = require('./index.styl');

var _index4 = _interopRequireDefault(_index3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var VISIBILITY_OPEN = 'open';
var VISIBILITY_OPENING = 'opening';
var VISIBILITY_CLOSED = 'closed';
var VISIBILITY_CLOSING = 'closing';

var SmartHubTooltip = function (_Component) {
  _inherits(SmartHubTooltip, _Component);

  function SmartHubTooltip() {
    _classCallCheck(this, SmartHubTooltip);

    return _possibleConstructorReturn(this, (SmartHubTooltip.__proto__ || Object.getPrototypeOf(SmartHubTooltip)).apply(this, arguments));
  }

  _createClass(SmartHubTooltip, [{
    key: '_closeTooltip',
    value: function _closeTooltip() {
      switch (this.state.visibility) {
        case VISIBILITY_CLOSED:
        case VISIBILITY_CLOSING:
          break;
        case VISIBILITY_OPENING:
          this.update({ visibility: VISIBILITY_CLOSED });
          this.dispatchCurrentVisibility();
          break;
        case VISIBILITY_OPEN:
          this.update({ visibility: VISIBILITY_CLOSING });
          this.dispatchCurrentVisibility();
          break;
      }
    }
  }, {
    key: '_openTooltip',
    value: function _openTooltip() {
      switch (this.state.visibility) {
        case VISIBILITY_OPEN:
        case VISIBILITY_OPENING:
          break;
        case VISIBILITY_CLOSING:
          this.update({ visibility: VISIBILITY_OPEN });
          this.dispatchCurrentVisibility();
          break;
        case VISIBILITY_CLOSED:
          this.update({ visibility: VISIBILITY_OPENING });
          this.dispatchCurrentVisibility();
          break;
      }
    }
  }, {
    key: 'dispatchCurrentVisibility',
    value: function dispatchCurrentVisibility() {
      this.dispatchEvent(new CustomEvent('change', { detail: { state: this.state.visibility } }));
    }
  }, {
    key: 'attachedCallback',
    value: function attachedCallback() {
      var _this2 = this;

      _get(SmartHubTooltip.prototype.__proto__ || Object.getPrototypeOf(SmartHubTooltip.prototype), 'attachedCallback', this).apply(this, arguments);

      if (this.isAttributeEnabled('open')) {
        this._openTooltip();
      }
      this._onAnimationEnd = function () {
        switch (_this2.state.visibility) {
          case VISIBILITY_OPENING:
            _this2.update({ visibility: VISIBILITY_OPEN });
            document.addEventListener('click', _this2.clickOutsideListener);
            _this2.dispatchCurrentVisibility();
            break;
          case VISIBILITY_CLOSING:
            _this2.update({ visibility: VISIBILITY_CLOSED });
            document.removeEventListener('click', _this2.clickOutsideListener);
            _this2.dispatchCurrentVisibility();
            break;
        }
      };
      (0, _dom.onAnimationEnd)(this.el, this._onAnimationEnd);

      // close when the user clicks outside of the tooltip
      this.clickOutsideListener = function (e) {
        if (_this2.isAttributeEnabled('open') && (0, _dom.clickWasOutside)(e, _this2)) {
          _this2.setAttribute('open', false);
        }
      };
    }
  }, {
    key: 'detachedCallback',
    value: function detachedCallback() {
      _get(SmartHubTooltip.prototype.__proto__ || Object.getPrototypeOf(SmartHubTooltip.prototype), 'detachedCallback', this).apply(this, arguments);
      (0, _dom.offAnimationEnd)(this.el, this._onAnimationEnd);
      document.removeEventListener('click', this.clickOutsideListener);
    }
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(name) {
      _get(SmartHubTooltip.prototype.__proto__ || Object.getPrototypeOf(SmartHubTooltip.prototype), 'attributeChangedCallback', this).apply(this, arguments);

      if (!this.initialized) {
        return;
      }

      if (name === 'open') {
        if (this.isAttributeEnabled('open')) {
          this._openTooltip();
        } else {
          var alertEl = this.el.querySelector('mp-smart-hub-alert');
          if (alertEl) {
            // Stop feedback animation if in process so that when the tooltip is opened again, the animation is not
            // still occurring.
            alertEl.stopFeedbackAnimationIfNeeded();
          }
          this._closeTooltip();
        }
      }
    }
  }, {
    key: 'updateTooltipPosition',
    value: function updateTooltipPosition() {
      var placement = this.getAttribute('placement');
      var rect = this.getBoundingClientRect();
      var offsetTop = Number(this.getAttribute('offset-top'));
      var offsetLeft = Number(this.getAttribute('offset-left'));
      if (placement === 'top') {
        this.style.top = offsetTop - rect.height + 'px';
        this.style.left = offsetLeft - rect.width / 2 + 'px';
      } else if (placement === 'bottom') {
        this.style.top = offsetTop + 'px';
        this.style.left = offsetLeft - rect.width / 2 + 'px';
      } else if (placement === 'left') {
        this.style.top = offsetTop - rect.height / 2 + 'px';
        this.style.left = offsetLeft - rect.width + 'px';
      } else if (placement === 'right') {
        this.style.top = offsetTop - rect.height / 2 + 'px';
        this.style.left = offsetLeft + 'px';
      } else {
        console.error('Unsupported placement: ' + placement);
      }
    }
  }, {
    key: 'config',
    get: function get() {
      var _this3 = this;

      return {
        css: _index4.default,
        template: _index2.default,
        useShadowDom: true,
        defaultState: {
          visibility: VISIBILITY_CLOSED
        },
        helpers: {
          handleChangedAlert: function handleChangedAlert(ev) {
            ev.stopPropagation();
            var alert = ev.detail.alert;

            _this3.setAttribute('alert', JSON.stringify(alert));

            if (ev.detail.type === _smartHubAlert2.default.CHANGE_TYPE_REMOVED || ev.detail.type === _smartHubAlert2.default.CHANGE_TYPE_SENT_FEEDBACK && !ev.detail.data.isUseful) {
              _this3.setAttribute('open', false);
            }

            ev.stopPropagation();
            _this3.dispatchEvent(new CustomEvent(ev.type, ev));
          },
          handleUpdatedTooltip: function handleUpdatedTooltip() {
            return _this3.updateTooltipPosition();
          }
        }
      };
    }
  }]);

  return SmartHubTooltip;
}(_panel.Component);

exports.default = (0, _registerElement.registerMPElement)('mp-smart-hub-tooltip', SmartHubTooltip);
},{"../../util/dom":280,"../../util/register-element.js":283,"../smart-hub-alert":303,"./index.jade":323,"./index.styl":325,"panel":343}],325:[function(require,module,exports){
module.exports = "* {   -webkit-font-smoothing: antialiased; } *:focus {   outline: 0; } *::-ms-clear {   height: 0;   width: 0; } body {   color: #6d859e;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-stretch: normal;   font-weight: 400; } body.no-scroll {   overflow: hidden; } a, .mp-link {   cursor: pointer;   text-decoration: none; } a, .mp-link, a:visited, .mp-link:visited {   color: #3b99f0; } a:hover, .mp-link:hover {   color: #4ba8ff; } .mp-font-size-xl {   font-size: 18px; } .mp-font-size-large {   font-size: 16px; } .mp-font-size-medium {   font-size: 14px; } .mp-font-size-default {   font-size: 13px; } .mp-font-size-xs {   font-size: 11px;   text-transform: uppercase; } .mp-font-weight-bold {   font-weight: 600; } .mp-font-weight-medium {   font-weight: 500; } .mp-font-weight-regular {   font-weight: 400; } .mp-font-paragraph {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } input[type=text], textarea {   border: 1px solid #d8e0ea;   border-radius: 5px;   box-sizing: border-box;   color: #4c6072;   display: inline-block;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 400;   padding: 8px;   transition: border-color 150ms ease-out; } input[type=text]::-webkit-input-placeholder, textarea::-webkit-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::-moz-placeholder, textarea::-moz-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:-ms-input-placeholder, textarea:-ms-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::placeholder, textarea::placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:focus, textarea:focus, input[type=text]:active, textarea:active {   border-color: #3391e9;   transition: border-color 200ms ease-in; } input[type=text] {   height: 36px; } mp-truncated-text {   display: inline-block;   white-space: nowrap;   width: 100%; } svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } svg-icon[icon=lightning-bolt] #bolt, svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } svg-icon[icon=alert] #circle, svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } mp-smart-hub-tooltip {   display: inline-block;   position: absolute; } :host {   display: inline-block;   position: absolute; } .mp-sh-tooltip-container {   border: 1px solid #ecf3f8;   border-radius: 6px;   box-shadow: 0 10px 40px rgba(0,0,0,0.15);   position: relative; } .mp-sh-tooltip-container mp-smart-hub-alert {   border-radius: 4px;   overflow: hidden; } .mp-sh-tooltip-container::after {   border: 10px solid transparent;   content: '';   height: 0;   position: absolute;   width: 0; } .mp-sh-tooltip-container.mp-sh-tooltip-placement-top {   margin-bottom: 10px; } .mp-sh-tooltip-container.mp-sh-tooltip-placement-top::after {   border-bottom: 0;   border-top-color: #fff;   left: 50%;   margin-left: -10px;   top: 100%; } .mp-sh-tooltip-container.mp-sh-tooltip-placement-bottom {   margin-top: 10px; } .mp-sh-tooltip-container.mp-sh-tooltip-placement-bottom::after {   border-bottom-color: #fff;   border-top: 0;   bottom: 100%;   left: 50%;   margin-left: -10px; } .mp-sh-tooltip-container.mp-sh-tooltip-placement-left {   margin-right: 10px; } .mp-sh-tooltip-container.mp-sh-tooltip-placement-left::after {   border-left-color: #fff;   border-right: 0;   left: 100%;   margin-top: -10px;   top: 50%; } .mp-sh-tooltip-container.mp-sh-tooltip-placement-right {   margin-left: 10px; } .mp-sh-tooltip-container.mp-sh-tooltip-placement-right::after {   border-left: 0;   border-right-color: #fff;   margin-top: -10px;   right: 100%;   top: 50%; } .mp-sh-tooltip-container.mp-sh-tooltip-visibility-closed {   display: none; } .mp-sh-tooltip-container.mp-sh-tooltip-visibility-opening {   -webkit-animation: fadeOverlayIn 100ms forwards;           animation: fadeOverlayIn 100ms forwards;   opacity: 0; } .mp-sh-tooltip-container.mp-sh-tooltip-visibility-open {   opacity: 1; } .mp-sh-tooltip-container.mp-sh-tooltip-visibility-closing {   -webkit-animation: fadeOverlayOut 100ms forwards;           animation: fadeOverlayOut 100ms forwards; } @-webkit-keyframes fadeOverlayIn {   from {     opacity: 0;     -webkit-transform: translateY(-10px);             transform: translateY(-10px);   }   to {     opacity: 0.9;   } } @keyframes fadeOverlayIn {   from {     opacity: 0;     -webkit-transform: translateY(-10px);             transform: translateY(-10px);   }   to {     opacity: 0.9;   } } @-webkit-keyframes fadeOverlayOut {   from {     opacity: 0.9;   }   to {     opacity: 0;     -webkit-transform: translateY(-10px);             transform: translateY(-10px);   } } @keyframes fadeOverlayOut {   from {     opacity: 0.9;   }   to {     opacity: 0;     -webkit-transform: translateY(-10px);             transform: translateY(-10px);   } } ";

},{}],326:[function(require,module,exports){
"use strict";

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _jade_template_fn(locals) {
  locals = locals || {};;;
  var result_of_with = function ($component, $helpers, Object, activeTagIndex, inputText, inputWidth, matchingTags, selectedTags) {
    var h = require('panel').h;
    return {
      value: h("div", {
        "class": {
          'mp-tag-selector-container': true
        }
      }, function () {
        var __jade_nodes = [];
        __jade_nodes = __jade_nodes.concat(h("div", {
          "class": {
            'mp-tag-selector-top-input-wrapper': true
          }
        }, function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(h("div", {
            "on": {
              click: $helpers.focusInput
            },
            "class": {
              'mp-tag-selector-input-wrapper': true
            }
          }, function () {
            var __jade_nodes = [];
            var showSearchIcon = !selectedTags.size || $component.isAttributeEnabled('read-only');
            __jade_nodes = __jade_nodes.concat(showSearchIcon ? function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h("div", {
                "class": {
                  'mp-tag-selector-mp-icon': true
                }
              }, function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat(h("svg-icon", {
                  "attrs": {
                    icon: 'search'
                  }
                }));;
                return __jade_nodes;
              }.call(this).filter(Boolean)));;
              return __jade_nodes;
            }.call(this) : function () {
              var __jade_nodes = [];
              var tags = [].concat(_toConsumableArray(selectedTags));
              __jade_nodes = __jade_nodes.concat(tags.reduce(function (__each_nodes, tag, $index) {
                return __each_nodes.concat(function () {
                  var __jade_nodes = [];
                  var attrs = {
                    'tag-name': tag,
                    'removable': true,
                    'size': 'small'
                  };
                  __jade_nodes = __jade_nodes.concat(tag === 'my dashboard' ? function () {
                    var __jade_nodes = [];
                    attrs['icon'] = 'profile-large';;;
                    return __jade_nodes;
                  }.call(this) : undefined);
                  __jade_nodes = __jade_nodes.concat(h("mp-tag", {
                    "attrs": attrs,
                    "key": 'tag-' + tag,
                    "on": {
                      remove: function remove() {
                        return $helpers.removeTag(tag);
                      }
                    }
                  }));;
                  return __jade_nodes;
                }.call(this));
              }, []));;
              return __jade_nodes;
            }.call(this));
            __jade_nodes = __jade_nodes.concat(h("input", {
              "props": {
                type: 'text',
                value: inputText,
                placeholder: showSearchIcon ? 'Exclude events...' : ''
              },
              "on": {
                input: $helpers.setInputText,
                keydown: $helpers.handleKeyDown,
                keypress: $helpers.handleKeyPress
              },
              "style": {
                width: showSearchIcon ? '100%' : inputWidth
              },
              "class": Object.assign({}, {
                'mp-tag-selector-empty': showSearchIcon
              }, {
                'mp-tag-selector-search-input': true
              })
            }));
            __jade_nodes = __jade_nodes.concat(h("div", {
              "class": Object.assign({}, {
                'mp-tag-selector-error': $component.isAttributeEnabled('error')
              }, {
                'mp-tag-selector-border': true
              })
            }));;
            return __jade_nodes;
          }.call(this).filter(Boolean)));;
          return __jade_nodes;
        }.call(this).filter(Boolean)));
        __jade_nodes = __jade_nodes.concat(h("div", {
          "class": {
            'mp-tag-selector-hr': true
          }
        }));
        __jade_nodes = __jade_nodes.concat(matchingTags.length ? function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(h("div", {
            "class": {
              'mp-tag-selector-tag-list': true
            }
          }, function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(matchingTags.reduce(function (__each_nodes, tag, tagIdx) {
              return __each_nodes.concat(function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat(h("mp-list-item", {
                  "attrs": {
                    active: tagIdx === activeTagIndex,
                    'tag-name': tag
                  },
                  "on": {
                    click: function click() {
                      return $helpers.addTag(tag);
                    }
                  }
                }, function () {
                  var __jade_nodes = [];
                  __jade_nodes = __jade_nodes.concat(tag === 'my dashboard' ? function () {
                    var __jade_nodes = [];
                    __jade_nodes = __jade_nodes.concat(h("svg-icon", {
                      "attrs": {
                        icon: 'profile-large'
                      }
                    }));;
                    return __jade_nodes;
                  }.call(this) : undefined);
                  __jade_nodes = __jade_nodes.concat(h("div", {
                    "class": {
                      'mp-tag-selector-tag-list-item': true
                    }
                  }, function () {
                    var __jade_nodes = [];
                    __jade_nodes = __jade_nodes.concat($helpers.stringFilterMatches($helpers.toSentenceCase(tag), inputText).reduce(function (__each_nodes, token, pos) {
                      return __each_nodes.concat(function () {
                        var __jade_nodes = [];
                        __jade_nodes = __jade_nodes.concat(pos % 2 === 1 ? function () {
                          var __jade_nodes = [];
                          __jade_nodes = __jade_nodes.concat(h("span", [token || '']));;
                          return __jade_nodes;
                        }.call(this) : function () {
                          var __jade_nodes = [];
                          __jade_nodes = __jade_nodes.concat(h("b", [token || '']));;
                          return __jade_nodes;
                        }.call(this));;
                        return __jade_nodes;
                      }.call(this));
                    }, []));;
                    return __jade_nodes;
                  }.call(this).filter(Boolean)));;
                  return __jade_nodes;
                }.call(this).filter(Boolean)));;
                return __jade_nodes;
              }.call(this));
            }, []));;
            return __jade_nodes;
          }.call(this).filter(Boolean)));;
          return __jade_nodes;
        }.call(this) : function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(h("div", {
            "class": {
              'mp-tag-selector-empty-list': true
            }
          }, function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(h("mp-list-item", {
              "attrs": {
                static: true
              }
            }, function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h("div", {
                "class": {
                  'mp-tag-selector-empty': true
                }
              }, function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat("Drag me");;
                return __jade_nodes;
              }.call(this).filter(Boolean)));;
              return __jade_nodes;
            }.call(this).filter(Boolean)));;
            return __jade_nodes;
          }.call(this).filter(Boolean)));;
          return __jade_nodes;
        }.call(this));
        __jade_nodes = __jade_nodes.concat(!$component.isAttributeEnabled('read-only') ? function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat($helpers.showCreateButton() ? function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(h("mp-button-bar", {
              "attrs": {
                color: 'grey'
              },
              "on": {
                click: function click() {
                  return $helpers.addTag(inputText);
                }
              }
            }, function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h("div", {
                "class": {
                  'mp-tag-selector-create-tag-btn': true
                }
              }, function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat(h("div", {
                  "class": {
                    'mp-tag-selector-copy': true
                  }
                }, function () {
                  var __jade_nodes = [];
                  __jade_nodes = __jade_nodes.concat("Create new exclusion for");;
                  return __jade_nodes;
                }.call(this).filter(Boolean)));
                __jade_nodes = __jade_nodes.concat(h("div", {
                  "class": {
                    'mp-tag-selector-label-name': true
                  }
                }, [inputText || '']));;
                return __jade_nodes;
              }.call(this).filter(Boolean)));;
              return __jade_nodes;
            }.call(this).filter(Boolean)));;
            return __jade_nodes;
          }.call(this) : function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(h("mp-button-bar", {
              "attrs": {
                color: 'blue',
                disabled: $component.isAttributeEnabled('saving')
              },
              "on": {
                click: $helpers.saveTags
              },
              "class": {
                'save-btn': true
              }
            }, function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat($component.isAttributeEnabled('saving') ? function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat(h("mp-spinner", {
                  "attrs": {
                    color: 'white'
                  }
                }));;
                return __jade_nodes;
              }.call(this) : function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat("Save");;
                return __jade_nodes;
              }.call(this));;
              return __jade_nodes;
            }.call(this).filter(Boolean)));;
            return __jade_nodes;
          }.call(this));;
          return __jade_nodes;
        }.call(this) : undefined);;
        return __jade_nodes;
      }.call(this).filter(Boolean))
    };
  }.call(this, "$component" in locals ? locals.$component : typeof $component !== "undefined" ? $component : undefined, "$helpers" in locals ? locals.$helpers : typeof $helpers !== "undefined" ? $helpers : undefined, "Object" in locals ? locals.Object : typeof Object !== "undefined" ? Object : undefined, "activeTagIndex" in locals ? locals.activeTagIndex : typeof activeTagIndex !== "undefined" ? activeTagIndex : undefined, "inputText" in locals ? locals.inputText : typeof inputText !== "undefined" ? inputText : undefined, "inputWidth" in locals ? locals.inputWidth : typeof inputWidth !== "undefined" ? inputWidth : undefined, "matchingTags" in locals ? locals.matchingTags : typeof matchingTags !== "undefined" ? matchingTags : undefined, "selectedTags" in locals ? locals.selectedTags : typeof selectedTags !== "undefined" ? selectedTags : undefined);
  if (result_of_with) return result_of_with.value;
}
module.exports = _jade_template_fn;

},{"panel":343}],327:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _panel = require('panel');

var _registerElement = require('../../util/register-element.js');

var _string = require('../../util/string.js');

var _function = require('../../util/function.js');

var _index = require('./index.styl');

var _index2 = _interopRequireDefault(_index);

var _index3 = require('./index.jade');

var _index4 = _interopRequireDefault(_index3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var MIN_INPUT_WIDTH = '12px';

exports.default = (0, _registerElement.registerMPElement)('mp-tag-selector', function (_Component) {
  _inherits(_class, _Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'attachedCallback',
    value: function attachedCallback() {
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'attachedCallback', this).apply(this, arguments);
      this.update({
        selectedTags: new Set(this.getJSONAttribute('selected-tags')),
        allTags: new Set(this.getJSONAttribute('all-tags'))
      });
      this._filterTags();
    }
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(attr) {
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'attributeChangedCallback', this).apply(this, arguments);
      if (this.initialized) {
        switch (attr) {
          case 'selected-tags':
            this.update({ selectedTags: new Set(this.getJSONAttribute('selected-tags')) });
            this._filterTags();
            break;
          case 'all-tags':
            this.update({ allTags: new Set(this.getJSONAttribute('all-tags')) });
            this._filterTags();
            break;
        }
      }
    }
  }, {
    key: 'focus',
    value: function focus() {
      var searchInput = this.el.querySelector('.mp-tag-selector-search-input');
      if (searchInput) {
        searchInput.focus();
      }
    }
  }, {
    key: '_filterTags',
    value: function _filterTags() {
      var _this2 = this;

      var search = this.state.inputText.trim().toLowerCase();
      var matchingTags = [].concat(_toConsumableArray(this.state.allTags)).map(function (tag) {
        return tag.toLowerCase();
      }).filter(function (tag) {
        return !_this2.state.selectedTags.has(tag) && (0, _string.stringFilterMatches)(tag, search);
      }).sort((0, _function.lexicalCompose)(
      // first sort by whether the string matches the search string exactly
      (0, _function.mapArguments)(_function.defaultOrdering, function (a) {
        return a.toLowerCase() === search ? 0 : 1;
      }),

      // next place 'my dashboard' at the top
      (0, _function.mapArguments)(_function.defaultOrdering, function (a) {
        return a.toLowerCase() === 'my dashboard' ? 0 : 1;
      }),

      // then sort alphabetically
      (0, _function.mapArguments)(_function.defaultOrdering, function (a) {
        return a.toLowerCase();
      })));
      var activeTagIndex = matchingTags.indexOf(search);
      // if there is a search term, select the first matching result if there is not exact match
      if (search && activeTagIndex === -1 && matchingTags.length) {
        activeTagIndex = 0;
      }
      this.update({ matchingTags: matchingTags, activeTagIndex: activeTagIndex });
      this.dispatchEvent(new CustomEvent('change', {
        detail: {
          action: 'updateInput',
          inputText: this.state.inputText,
          matchingTags: matchingTags
        }
      }));
    }
  }, {
    key: '_resizeInput',
    value: function _resizeInput() {
      // make the search input width dynamic
      var span = document.createElement('span');
      span.className = 'mp-tag-selector-search-input-dummy';
      span.innerText = this.el.querySelector('.mp-tag-selector-search-input').value;
      this.el.appendChild(span);
      var buffer = 24;
      this.update({ inputWidth: span.offsetWidth + buffer + 'px' });
      this.el.removeChild(span);
    }
  }, {
    key: '_resetActiveTagIndex',
    value: function _resetActiveTagIndex() {
      this.update({ activeTagIndex: -1 });
    }
  }, {
    key: '_removeTag',
    value: function _removeTag(tagName) {
      var _this3 = this;

      this.state.selectedTags.delete(tagName);
      this._resetActiveTagIndex();
      this.dispatchEvent(new CustomEvent('change', { detail: { tagName: tagName, action: 'removeTag' } }));
      requestAnimationFrame(function () {
        return _this3.focus();
      });
    }
  }, {
    key: '_addTag',
    value: function _addTag(tagName) {
      var _this4 = this;

      tagName = tagName.trim();
      if (tagName && !this.state.selectedTags.has(tagName)) {
        this.state.selectedTags.add(tagName);
        this.update({ inputText: '', inputWidth: MIN_INPUT_WIDTH });
        this._resetActiveTagIndex();
        requestAnimationFrame(function () {
          return _this4.focus();
        });
        this.dispatchEvent(new CustomEvent('change', { detail: { tagName: tagName, action: 'addTag' } }));
      }
    }
  }, {
    key: 'config',
    get: function get() {
      var _this5 = this;

      return {
        defaultState: {
          activeTagIndex: -1,
          selectedTags: new Set(),
          allTags: new Set(),
          matchingTags: [],
          inputText: '',
          inputWidth: MIN_INPUT_WIDTH
        },
        css: _index2.default,
        template: _index4.default,
        helpers: {
          setInputText: function setInputText(e) {
            _this5.update({ inputText: e.target.value });
            _this5._resizeInput();
            _this5._filterTags();
          },
          showCreateButton: function showCreateButton() {
            var isNewTag = _this5.state.inputText && !_this5.state.matchingTags.filter(function (tag) {
              return tag === _this5.state.inputText.toLowerCase();
            }).length && !_this5.state.selectedTags.has(_this5.state.inputText);
            return isNewTag && !_this5.isAttributeEnabled('read-only');
          },
          toSentenceCase: _string.toSentenceCase,
          addTag: function addTag(tagName) {
            return _this5._addTag(tagName);
          },
          removeTag: function removeTag(tagName) {
            return _this5._removeTag(tagName);
          },
          saveTags: function saveTags() {
            if (!_this5.isAttributeEnabled('saving')) {
              _this5.dispatchEvent(new CustomEvent('save', { detail: { tags: _this5.state.selectedTags } }));
            }
          },
          focusInput: function focusInput() {
            return _this5.focus();
          },
          handleKeyPress: function handleKeyPress(e) {
            switch (e.keyCode) {
              case 13:
                // enter
                if (_this5.state.activeTagIndex > -1) {
                  _this5._addTag(_this5.state.matchingTags[_this5.state.activeTagIndex]);
                } else if (!_this5.isAttributeEnabled('read-only')) {
                  _this5._addTag(_this5.state.inputText);
                }
                break;
              default:
                _this5._resetActiveTagIndex();
                break;
            }
          },
          handleKeyDown: function handleKeyDown(e) {
            switch (e.keyCode) {
              case 38:
                // up arrow
                _this5.update({ activeTagIndex: Math.max(0, _this5.state.activeTagIndex - 1) });
                break;
              case 40:
                // down arrow
                _this5.update({ activeTagIndex: Math.min(_this5.state.matchingTags.length - 1, _this5.state.activeTagIndex + 1) });
                break;
              default:
                break;
            }
          },
          stringFilterMatches: _string.stringFilterMatches
        },
        useShadowDom: true
      };
    }
  }]);

  return _class;
}(_panel.Component));
},{"../../util/function.js":281,"../../util/register-element.js":283,"../../util/string.js":285,"./index.jade":326,"./index.styl":328,"panel":343}],328:[function(require,module,exports){
module.exports = "* {   -webkit-font-smoothing: antialiased; } *:focus {   outline: 0; } *::-ms-clear {   height: 0;   width: 0; } body {   color: #6d859e;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-stretch: normal;   font-weight: 400; } body.no-scroll {   overflow: hidden; } a, .mp-link {   cursor: pointer;   text-decoration: none; } a, .mp-link, a:visited, .mp-link:visited {   color: #3b99f0; } a:hover, .mp-link:hover {   color: #4ba8ff; } .mp-font-size-xl {   font-size: 18px; } .mp-font-size-large {   font-size: 16px; } .mp-font-size-medium {   font-size: 14px; } .mp-font-size-default {   font-size: 13px; } .mp-font-size-xs {   font-size: 11px;   text-transform: uppercase; } .mp-font-weight-bold {   font-weight: 600; } .mp-font-weight-medium {   font-weight: 500; } .mp-font-weight-regular {   font-weight: 400; } .mp-font-paragraph {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } input[type=text], textarea {   border: 1px solid #d8e0ea;   border-radius: 5px;   box-sizing: border-box;   color: #4c6072;   display: inline-block;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 400;   padding: 8px;   transition: border-color 150ms ease-out; } input[type=text]::-webkit-input-placeholder, textarea::-webkit-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::-moz-placeholder, textarea::-moz-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:-ms-input-placeholder, textarea:-ms-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::placeholder, textarea::placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:focus, textarea:focus, input[type=text]:active, textarea:active {   border-color: #3391e9;   transition: border-color 200ms ease-in; } input[type=text] {   height: 36px; } mp-truncated-text {   display: inline-block;   white-space: nowrap;   width: 100%; } svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } svg-icon[icon=lightning-bolt] #bolt, svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } svg-icon[icon=alert] #circle, svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } mp-drop-menu {   border-radius: 5px;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   width: 340px; } :host {   border-radius: 5px;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   width: 340px; } .mp-tag-selector-container {   border-radius: inherit;   width: 100%; } .mp-tag-selector-container, .mp-tag-selector-container * {   box-sizing: border-box; } .mp-tag-selector-container .mp-tag-selector-top-input-wrapper {   margin: 0 auto;   margin-bottom: 20px;   padding: 0 20px; } .mp-tag-selector-container .mp-tag-selector-top-input-wrapper .mp-tag-selector-input-wrapper {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   cursor: text;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   -webkit-box-orient: horizontal;   -webkit-box-direction: normal;       -ms-flex-direction: row;           flex-direction: row;   -ms-flex-wrap: wrap;       flex-wrap: wrap;   -webkit-box-pack: start;       -ms-flex-pack: start;           justify-content: flex-start;   min-height: 36px;   padding: 6px 6px 0;   position: relative;   width: 300px; } .mp-tag-selector-container .mp-tag-selector-top-input-wrapper .mp-tag-selector-input-wrapper input:focus::-webkit-contacts-auto-fill-button {   display: none;   height: 0;   margin: 0;   opacity: 0;   padding: 0;   width: 0; } .mp-tag-selector-container .mp-tag-selector-top-input-wrapper .mp-tag-selector-input-wrapper .mp-tag-selector-mp-icon {   -webkit-box-align: center;       -ms-flex-align: center;           align-items: center;   bottom: 0;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   left: 8px;   position: absolute;   top: -1px; } .mp-tag-selector-container .mp-tag-selector-top-input-wrapper .mp-tag-selector-input-wrapper .mp-tag-selector-mp-icon svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } .mp-tag-selector-container .mp-tag-selector-top-input-wrapper .mp-tag-selector-input-wrapper .mp-tag-selector-mp-icon svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .mp-tag-selector-container .mp-tag-selector-top-input-wrapper .mp-tag-selector-input-wrapper .mp-tag-selector-mp-icon svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .mp-tag-selector-container .mp-tag-selector-top-input-wrapper .mp-tag-selector-input-wrapper .mp-tag-selector-mp-icon svg-icon[icon=lightning-bolt] #bolt, .mp-tag-selector-container .mp-tag-selector-top-input-wrapper .mp-tag-selector-input-wrapper .mp-tag-selector-mp-icon svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .mp-tag-selector-container .mp-tag-selector-top-input-wrapper .mp-tag-selector-input-wrapper .mp-tag-selector-mp-icon svg-icon[icon=alert] #circle, .mp-tag-selector-container .mp-tag-selector-top-input-wrapper .mp-tag-selector-input-wrapper .mp-tag-selector-mp-icon svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .mp-tag-selector-container .mp-tag-selector-top-input-wrapper .mp-tag-selector-input-wrapper .mp-tag-selector-mp-icon svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .mp-tag-selector-container .mp-tag-selector-top-input-wrapper .mp-tag-selector-input-wrapper .mp-tag-selector-mp-icon svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .mp-tag-selector-container .mp-tag-selector-top-input-wrapper .mp-tag-selector-input-wrapper .mp-tag-selector-mp-icon svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } .mp-tag-selector-container .mp-tag-selector-top-input-wrapper .mp-tag-selector-input-wrapper .mp-tag-selector-mp-icon svg-icon svg, .mp-tag-selector-container .mp-tag-selector-top-input-wrapper .mp-tag-selector-input-wrapper .mp-tag-selector-mp-icon svg-icon path {   color: #9bacbf;   fill: #9bacbf; } .mp-tag-selector-container .mp-tag-selector-top-input-wrapper .mp-tag-selector-input-wrapper mp-tag {   margin: 0 0 6px 4px; } .mp-tag-selector-container .mp-tag-selector-top-input-wrapper .mp-tag-selector-input-wrapper .mp-tag-selector-border {   border: 1px solid #d8e0ea;   border-radius: 5px;   height: 100%;   left: 0;   pointer-events: none;   position: absolute;   top: 0;   transition: border-color 0.25s;   width: 100%; } .mp-tag-selector-container .mp-tag-selector-top-input-wrapper .mp-tag-selector-input-wrapper .mp-tag-selector-border.mp-tag-selector-error {   border-color: #e4567b; } .mp-tag-selector-container .mp-tag-selector-top-input-wrapper .mp-tag-selector-input-wrapper:active .mp-tag-selector-border {   border-color: #3b99f0; } .mp-tag-selector-container .mp-tag-selector-top-input-wrapper .mp-tag-selector-input-wrapper .mp-tag-selector-search-input {   background-color: transparent;   border: 0;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-style: normal;   font-weight: 400;   height: auto;   line-height: 1.5;   margin-bottom: 7px;   margin-left: 6px;   max-width: 100%;   min-width: 0;   padding: 0; } .mp-tag-selector-container .mp-tag-selector-top-input-wrapper .mp-tag-selector-input-wrapper .mp-tag-selector-search-input.mp-tag-selector-empty {   padding-left: 24px;   padding-top: 1px; } .mp-tag-selector-container .mp-tag-selector-top-input-wrapper .mp-tag-selector-input-wrapper .mp-tag-selector-search-input:focus + .mp-tag-selector-border:not(.mp-tag-selector-loaded-error) {   border-color: #3b99f0; } .mp-tag-selector-container .mp-tag-selector-empty {   font-style: italic; } .mp-tag-selector-container .mp-tag-selector-hr {   background-color: #e5eef4;   height: 1px;   width: 100%; } .mp-tag-selector-container .mp-tag-selector-tag-list {   margin-bottom: 8px;   max-height: 280px;   overflow-y: auto; } .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item {   margin-left: 12px;   margin-right: 12px; } .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item svg-icon {   display: inline-block;   height: 16px;   min-height: 16px;   min-width: 16px;   position: relative;   width: 16px; } .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item svg-icon[icon=lightning-bolt] #bolt, .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item svg-icon[icon=alert] #circle, .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item svg-icon svg {   height: 16px;   left: -3px;   min-height: 16px;   min-width: 16px;   position: absolute;   top: -1px;   width: 16px; } .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item svg-icon svg, .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item svg-icon path {   color: #6d859e;   fill: #6d859e; } .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item:last-child {   margin-bottom: 0; } .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item[active='true'] svg-icon, .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item:hover svg-icon {   display: inline-block;   height: 16px;   min-height: 16px;   min-width: 16px;   position: relative;   width: 16px; } .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item[active='true'] svg-icon[icon=type-boolean] #left-dot, .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item:hover svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item[active='true'] svg-icon[icon=type-boolean] #right-dot, .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item:hover svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item[active='true'] svg-icon[icon=lightning-bolt] #bolt, .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item:hover svg-icon[icon=lightning-bolt] #bolt, .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item[active='true'] svg-icon[icon=lighting-bolt] #bolt, .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item:hover svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item[active='true'] svg-icon[icon=alert] #circle, .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item:hover svg-icon[icon=alert] #circle, .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item[active='true'] svg-icon[icon=alert] #stem, .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item:hover svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item[active='true'] svg-icon[icon=opt-out] #left-arrow, .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item:hover svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item[active='true'] svg-icon[icon=opt-out] #right-arrow, .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item:hover svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item[active='true'] svg-icon svg, .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item:hover svg-icon svg {   height: 16px;   left: -3px;   min-height: 16px;   min-width: 16px;   position: absolute;   top: -1px;   width: 16px; } .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item[active='true'] svg-icon svg, .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item:hover svg-icon svg, .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item[active='true'] svg-icon path, .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item:hover svg-icon path {   color: #4ba8ff;   fill: #4ba8ff; } .mp-tag-selector-container .mp-tag-selector-tag-list mp-list-item .mp-tag-selector-tag-list-item {   display: block; } .mp-tag-selector-create-tag-btn {   display: -webkit-box;   display: -ms-flexbox;   display: flex;   max-width: 100%;   overflow: hidden;   white-space: nowrap; } .mp-tag-selector-create-tag-btn .mp-tag-selector-copy {   color: #4c6072;   -webkit-box-flex: 0;       -ms-flex: none;           flex: none;   margin-right: 4px; } .mp-tag-selector-create-tag-btn .mp-tag-selector-label-name {   color: #3391e9;   -webkit-box-flex: 1;       -ms-flex: 1;           flex: 1;   overflow: hidden;   text-overflow: ellipsis; } .mp-tag-selector-search-input-dummy {   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 400;   padding: 0;   position: absolute;   visibility: hidden;   white-space: nowrap; } ";

},{}],329:[function(require,module,exports){
'use strict';

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _jade_template_fn(locals) {
  locals = locals || {};;;
  var result_of_with = function ($component, $helpers, Object, currStep, delayRemove) {
    var h = require('panel').h;
    var arrowAlign = $component.getAttribute('arrow-align');
    var hide = $component.isAttributeEnabled('hide');
    var hideFooter = $component.isAttributeEnabled('hide-footer');
    var placement = $component.getAttribute('placement');
    var showNext = $component.isAttributeEnabled('next-button');
    return {
      value: h("div", {
        "class": {
          'mp-tutorial-tooltip-stage': true
        }
      }, function () {
        var __jade_nodes = [];
        __jade_nodes = __jade_nodes.concat(!hide ? function () {
          var _Object$assign;

          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(h("div", {
            "class": Object.assign({}, (_Object$assign = {
              'mp-tutorial-tooltip-hide-footer': hideFooter
            }, _defineProperty(_Object$assign, 'mp-tutorial-tooltip-placement-' + placement, placement), _defineProperty(_Object$assign, 'mp-tutorial-tooltip-arrow-align-' + arrowAlign, arrowAlign), _defineProperty(_Object$assign, 'delayed', {
              'mp-tutorial-tooltip-in': true
            }), _defineProperty(_Object$assign, 'remove', {
              'mp-tutorial-tooltip-out': true,
              delayRemove: delayRemove
            }), _Object$assign), {
              'mp-tutorial-tooltip-wrapper': true
            })
          }, function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(h("div", {
              "class": {
                'mp-tutorial-tooltip-content': true
              }
            }, function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h("content"));;
              return __jade_nodes;
            }.call(this).filter(Boolean)));
            __jade_nodes = __jade_nodes.concat($component.isAttributeEnabled('closeable') ? function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h("div", {
                "on": {
                  click: $helpers.close
                },
                "class": {
                  'mp-tutorial-tooltip-close-btn': true
                }
              }, function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat(h("svg-icon", {
                  "attrs": {
                    icon: 'x'
                  }
                }));;
                return __jade_nodes;
              }.call(this).filter(Boolean)));;
              return __jade_nodes;
            }.call(this) : undefined);
            __jade_nodes = __jade_nodes.concat(!$component.isAttributeEnabled('hide-footer') ? function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h("div", {
                "class": {
                  'mp-tutorial-tooltip-footer': true
                }
              }, function () {
                var __jade_nodes = [];
                var steps = $helpers.getSteps();
                __jade_nodes = __jade_nodes.concat(h("ul", {
                  "class": {
                    'mp-tutorial-tooltip-steps': true
                  }
                }, function () {
                  var __jade_nodes = [];
                  __jade_nodes = __jade_nodes.concat(steps.reduce(function (__each_nodes, step, $index) {
                    return __each_nodes.concat(function () {
                      var __jade_nodes = [];
                      __jade_nodes = __jade_nodes.concat(h("li", {
                        "class": Object.assign({}, {
                          'mp-tutorial-tooltip-active': step === currStep
                        }, {
                          'mp-tutorial-tooltip-step': true
                        })
                      }));;
                      return __jade_nodes;
                    }.call(this));
                  }, []));;
                  return __jade_nodes;
                }.call(this).filter(Boolean)));
                __jade_nodes = __jade_nodes.concat(showNext ? function () {
                  var __jade_nodes = [];
                  __jade_nodes = __jade_nodes.concat(currStep < steps.length - 1 ? function () {
                    var __jade_nodes = [];
                    __jade_nodes = __jade_nodes.concat(h("div", {
                      "on": {
                        click: $helpers.next
                      },
                      "class": {
                        'mp-tutorial-tooltip-next': true
                      }
                    }, function () {
                      var __jade_nodes = [];
                      __jade_nodes = __jade_nodes.concat("next");;
                      return __jade_nodes;
                    }.call(this).filter(Boolean)));;
                    return __jade_nodes;
                  }.call(this) : function () {
                    var __jade_nodes = [];
                    __jade_nodes = __jade_nodes.concat(h("div", {
                      "on": {
                        click: $helpers.close
                      },
                      "class": {
                        'mp-tutorial-tooltip-done': true
                      }
                    }, function () {
                      var __jade_nodes = [];
                      __jade_nodes = __jade_nodes.concat("ok, got it");;
                      return __jade_nodes;
                    }.call(this).filter(Boolean)));;
                    return __jade_nodes;
                  }.call(this));;
                  return __jade_nodes;
                }.call(this) : undefined);;
                return __jade_nodes;
              }.call(this).filter(Boolean)));;
              return __jade_nodes;
            }.call(this) : undefined);;
            return __jade_nodes;
          }.call(this).filter(Boolean)));;
          return __jade_nodes;
        }.call(this) : undefined);;
        return __jade_nodes;
      }.call(this).filter(Boolean))
    };
  }.call(this, "$component" in locals ? locals.$component : typeof $component !== "undefined" ? $component : undefined, "$helpers" in locals ? locals.$helpers : typeof $helpers !== "undefined" ? $helpers : undefined, "Object" in locals ? locals.Object : typeof Object !== "undefined" ? Object : undefined, "currStep" in locals ? locals.currStep : typeof currStep !== "undefined" ? currStep : undefined, "delayRemove" in locals ? locals.delayRemove : typeof delayRemove !== "undefined" ? delayRemove : undefined);
  if (result_of_with) return result_of_with.value;
}
module.exports = _jade_template_fn;
},{"panel":343}],330:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _panel = require('panel');

var _registerElement = require('../../util/register-element.js');

var _timingJson = require('../../stylesheets/mixins/timing.json.js');

var _timingJson2 = _interopRequireDefault(_timingJson);

var _index = require('./index.jade');

var _index2 = _interopRequireDefault(_index);

var _index3 = require('./index.styl');

var _index4 = _interopRequireDefault(_index3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

exports.default = (0, _registerElement.registerMPElement)('mp-tutorial-tooltip', function (_Component) {
  _inherits(_class, _Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback() {
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'attributeChangedCallback', this).apply(this, arguments);

      var update = {};
      var numSteps = parseInt(this.getAttribute('num-steps'));
      var currStep = parseInt(this.getAttribute('curr-step'));

      if (Number.isInteger(numSteps)) {
        update.numSteps = numSteps;
      }
      if (Number.isInteger(currStep)) {
        update.currStep = currStep;
      }

      this.update(update);
    }
  }, {
    key: 'config',
    get: function get() {
      var _this2 = this;

      return {
        css: _index4.default,
        template: _index2.default,
        useShadowDom: true,
        defaultState: {
          numSteps: 0,
          currStep: 0,
          delayRemove: _timingJson2.default['mp-slow']
        },
        helpers: {
          close: function close(e) {
            e.stopPropagation();
            _this2.dispatchEvent(new CustomEvent('close'));
          },
          next: function next(e) {
            e.stopPropagation();
            _this2.dispatchEvent(new CustomEvent('next'));
          },
          getSteps: function getSteps() {
            return [].concat(_toConsumableArray(Array(_this2.state.numSteps).keys()));
          }
        }
      };
    }
  }]);

  return _class;
}(_panel.Component));
},{"../../stylesheets/mixins/timing.json.js":274,"../../util/register-element.js":283,"./index.jade":329,"./index.styl":331,"panel":343}],331:[function(require,module,exports){
module.exports = "* {   -webkit-font-smoothing: antialiased; } *:focus {   outline: 0; } *::-ms-clear {   height: 0;   width: 0; } body {   color: #6d859e;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-stretch: normal;   font-weight: 400; } body.no-scroll {   overflow: hidden; } a, .mp-link {   cursor: pointer;   text-decoration: none; } a, .mp-link, a:visited, .mp-link:visited {   color: #3b99f0; } a:hover, .mp-link:hover {   color: #4ba8ff; } .mp-font-size-xl {   font-size: 18px; } .mp-font-size-large {   font-size: 16px; } .mp-font-size-medium {   font-size: 14px; } .mp-font-size-default {   font-size: 13px; } .mp-font-size-xs {   font-size: 11px;   text-transform: uppercase; } .mp-font-weight-bold {   font-weight: 600; } .mp-font-weight-medium {   font-weight: 500; } .mp-font-weight-regular {   font-weight: 400; } .mp-font-paragraph {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } input[type=text], textarea {   border: 1px solid #d8e0ea;   border-radius: 5px;   box-sizing: border-box;   color: #4c6072;   display: inline-block;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 400;   padding: 8px;   transition: border-color 150ms ease-out; } input[type=text]::-webkit-input-placeholder, textarea::-webkit-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::-moz-placeholder, textarea::-moz-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:-ms-input-placeholder, textarea:-ms-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::placeholder, textarea::placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:focus, textarea:focus, input[type=text]:active, textarea:active {   border-color: #3391e9;   transition: border-color 200ms ease-in; } input[type=text] {   height: 36px; } mp-truncated-text {   display: inline-block;   white-space: nowrap;   width: 100%; } svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } svg-icon[icon=lightning-bolt] #bolt, svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } svg-icon[icon=alert] #circle, svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } mp-tutorial-tooltip {   color: rgba(255,255,255,0.64);   cursor: default;   font-weight: 500;   height: 172px;   position: absolute;   width: 424px;   z-index: 6000;   bottom: calc(100% + 12px);   left: calc(50% - 212px); } :host {   color: rgba(255,255,255,0.64);   cursor: default;   font-weight: 500;   height: 172px;   position: absolute;   width: 424px;   z-index: 6000;   bottom: calc(100% + 12px);   left: calc(50% - 212px); } mp-tutorial-tooltip[hide=\"true\"] {   pointer-events: none; } :host([hide=\"true\"]) {   pointer-events: none; } mp-tutorial-tooltip[placement=\"bottom\"] {   bottom: initial;   left: calc(50% - 212px);   top: calc(100% + 12px); } :host([placement=\"bottom\"]) {   bottom: initial;   left: calc(50% - 212px);   top: calc(100% + 12px); } mp-tutorial-tooltip[placement=\"left\"] {   bottom: initial;   left: initial;   right: calc(100% + 12px);   top: calc(50% - 86px); } :host([placement=\"left\"]) {   bottom: initial;   left: initial;   right: calc(100% + 12px);   top: calc(50% - 86px); } mp-tutorial-tooltip[placement=\"right\"] {   bottom: initial;   left: calc(100% + 12px);   top: calc(50% - 86px); } :host([placement=\"right\"]) {   bottom: initial;   left: calc(100% + 12px);   top: calc(50% - 86px); } mp-tutorial-tooltip[placement=\"center\"] {   bottom: initial;   left: calc(50% - 212px);   top: calc(50% - 86px); } :host([placement=\"center\"]) {   bottom: initial;   left: calc(50% - 212px);   top: calc(50% - 86px); } mp-tutorial-tooltip[arrow-align=\"top\"] {   bottom: initial;   top: calc(50% - 31px); } :host([arrow-align=\"top\"]) {   bottom: initial;   top: calc(50% - 31px); } mp-tutorial-tooltip[arrow-align=\"bottom\"] {   bottom: calc(50% - 24px);   top: initial; } :host([arrow-align=\"bottom\"]) {   bottom: calc(50% - 24px);   top: initial; } mp-tutorial-tooltip[arrow-align=\"left\"] {   left: calc(50% - 32px);   right: initial; } :host([arrow-align=\"left\"]) {   left: calc(50% - 32px);   right: initial; } mp-tutorial-tooltip[arrow-align=\"right\"] {   left: initial;   right: calc(50% - 36px); } :host([arrow-align=\"right\"]) {   left: initial;   right: calc(50% - 36px); } .mp-tutorial-tooltip-stage {   height: inherit; } .mp-tutorial-tooltip-wrapper {   background: #3391e9;   border-radius: 8px;   box-shadow: 0 16px 41px 0 rgba(18,82,143,0.37);   height: inherit;   opacity: 0; } .mp-tutorial-tooltip-wrapper.mp-tutorial-tooltip-in {   opacity: 1;   transition: all 400ms cubic-bezier(0.165, 0.84, 0.44, 1); } .mp-tutorial-tooltip-wrapper.mp-tutorial-tooltip-out {   opacity: 0;   transition: all 400ms cubic-bezier(0.895, 0.03, 0.685, 0.22); } .mp-tutorial-tooltip-wrapper.mp-tutorial-tooltip-placement-bottom.mp-tutorial-tooltip-in, .mp-tutorial-tooltip-wrapper.mp-tutorial-tooltip-placement-top.mp-tutorial-tooltip-in, .mp-tutorial-tooltip-wrapper.mp-tutorial-tooltip-placement-left.mp-tutorial-tooltip-in, .mp-tutorial-tooltip-wrapper.mp-tutorial-tooltip-placement-right.mp-tutorial-tooltip-in {   -webkit-transform: translate(0);           transform: translate(0); } .mp-tutorial-tooltip-wrapper.mp-tutorial-tooltip-placement-top, .mp-tutorial-tooltip-wrapper.mp-tutorial-tooltip-placement-top.mp-tutorial-tooltip-out {   -webkit-transform: translateY(-20px);           transform: translateY(-20px); } .mp-tutorial-tooltip-wrapper.mp-tutorial-tooltip-placement-bottom, .mp-tutorial-tooltip-wrapper.mp-tutorial-tooltip-placement-bottom.mp-tutorial-tooltip-out {   -webkit-transform: translateY(20px);           transform: translateY(20px); } .mp-tutorial-tooltip-wrapper.mp-tutorial-tooltip-placement-left, .mp-tutorial-tooltip-wrapper.mp-tutorial-tooltip-placement-left.mp-tutorial-tooltip-out {   -webkit-transform: translateX(-20px);           transform: translateX(-20px); } .mp-tutorial-tooltip-wrapper.mp-tutorial-tooltip-placement-right, .mp-tutorial-tooltip-wrapper.mp-tutorial-tooltip-placement-right.mp-tutorial-tooltip-out {   -webkit-transform: translateX(20px);           transform: translateX(20px); } .mp-tutorial-tooltip-wrapper.mp-tutorial-tooltip-placement-center.mp-tutorial-tooltip-in {   -webkit-transform: scale(1);           transform: scale(1); } .mp-tutorial-tooltip-wrapper.mp-tutorial-tooltip-placement-center, .mp-tutorial-tooltip-wrapper.mp-tutorial-tooltip-placement-center.mp-tutorial-tooltip-out {   -webkit-transform: scale(0.95);           transform: scale(0.95); } .mp-tutorial-tooltip-wrapper::after {   border: 11px solid transparent;   content: '';   height: 0;   pointer-events: none;   position: absolute;   width: 0; } .mp-tutorial-tooltip-wrapper.mp-tutorial-tooltip-placement-top::after {   border-top-color: #2687e3;   left: 50%;   margin-left: -11px;   top: 100%; } .mp-tutorial-tooltip-wrapper.mp-tutorial-tooltip-placement-top.mp-tutorial-tooltip-hide-footer::after {   border-top-color: #3391e9; } .mp-tutorial-tooltip-wrapper.mp-tutorial-tooltip-placement-bottom::after {   border-bottom-color: #3391e9;   bottom: 100%;   left: 50%;   margin-left: -11px; } .mp-tutorial-tooltip-wrapper.mp-tutorial-tooltip-placement-left::after {   border-left-color: #3391e9;   left: 100%;   margin-top: -11px;   top: 50%; } .mp-tutorial-tooltip-wrapper.mp-tutorial-tooltip-placement-right::after {   border-right-color: #3391e9;   margin-top: -11px;   right: 100%;   top: 50%; } .mp-tutorial-tooltip-wrapper.mp-tutorial-tooltip-arrow-align-top.mp-tutorial-tooltip-placement-left::after, .mp-tutorial-tooltip-wrapper.mp-tutorial-tooltip-arrow-align-top.mp-tutorial-tooltip-placement-right::after {   bottom: initial;   top: 32px; } .mp-tutorial-tooltip-wrapper.mp-tutorial-tooltip-arrow-align-bottom.mp-tutorial-tooltip-placement-left::after, .mp-tutorial-tooltip-wrapper.mp-tutorial-tooltip-arrow-align-bottom.mp-tutorial-tooltip-placement-right::after {   bottom: 13px;   top: initial; } .mp-tutorial-tooltip-wrapper.mp-tutorial-tooltip-arrow-align-bottom.mp-tutorial-tooltip-placement-left:not(.mp-tutorial-tooltip-hide-footer)::after, .mp-tutorial-tooltip-wrapper.mp-tutorial-tooltip-arrow-align-bottom.mp-tutorial-tooltip-placement-right:not(.mp-tutorial-tooltip-hide-footer)::after {   border-right-color: #2687e3; } .mp-tutorial-tooltip-wrapper.mp-tutorial-tooltip-arrow-align-right.mp-tutorial-tooltip-placement-top::after, .mp-tutorial-tooltip-wrapper.mp-tutorial-tooltip-arrow-align-right.mp-tutorial-tooltip-placement-bottom::after {   left: initial;   right: 23px; } .mp-tutorial-tooltip-wrapper.mp-tutorial-tooltip-arrow-align-left.mp-tutorial-tooltip-placement-top::after, .mp-tutorial-tooltip-wrapper.mp-tutorial-tooltip-arrow-align-left.mp-tutorial-tooltip-placement-bottom::after {   left: 32px;   right: initial; } .mp-tutorial-tooltip-close-btn {   cursor: pointer;   position: absolute;   right: 10px;   top: 10px; } .mp-tutorial-tooltip-close-btn svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } .mp-tutorial-tooltip-close-btn svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } .mp-tutorial-tooltip-close-btn svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } .mp-tutorial-tooltip-close-btn svg-icon[icon=lightning-bolt] #bolt, .mp-tutorial-tooltip-close-btn svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } .mp-tutorial-tooltip-close-btn svg-icon[icon=alert] #circle, .mp-tutorial-tooltip-close-btn svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } .mp-tutorial-tooltip-close-btn svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } .mp-tutorial-tooltip-close-btn svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } .mp-tutorial-tooltip-close-btn svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } .mp-tutorial-tooltip-close-btn svg-icon svg, .mp-tutorial-tooltip-close-btn svg-icon path {   color: #6cb8ff;   fill: #6cb8ff; } .mp-tutorial-tooltip-close-btn svg-icon svg, .mp-tutorial-tooltip-close-btn svg-icon path {   transition: 0.2s; } .mp-tutorial-tooltip-close-btn:hover svg-icon svg, .mp-tutorial-tooltip-close-btn:hover svg-icon path {   color: #fff;   fill: #fff; } .mp-tutorial-tooltip-content {   padding: 23px 30px; } .mp-tutorial-tooltip-footer {   background: #2687e3;   border-radius: 0 0 8px 8px;   border-top: 1px solid #2687e3;   bottom: 0;   display: -webkit-box;   display: -ms-flexbox;   display: flex;   -webkit-box-orient: horizontal;   -webkit-box-direction: normal;       -ms-flex-direction: row;           flex-direction: row;   height: 42px;   -webkit-box-pack: justify;       -ms-flex-pack: justify;           justify-content: space-between;   position: absolute;   width: 100%; } .mp-tutorial-tooltip-footer ul.mp-tutorial-tooltip-steps {   list-style: none;   margin: 0;   padding: 0;   padding-left: 30px; } .mp-tutorial-tooltip-footer ul.mp-tutorial-tooltip-steps li.mp-tutorial-tooltip-step {   background: #6cb8ff;   border-radius: 50%;   float: left;   height: 6px;   margin: 17px 14px 17px 0;   position: relative;   width: 6px; } .mp-tutorial-tooltip-footer ul.mp-tutorial-tooltip-steps li.mp-tutorial-tooltip-step.mp-tutorial-tooltip-active {   background: transparent; } .mp-tutorial-tooltip-footer ul.mp-tutorial-tooltip-steps li.mp-tutorial-tooltip-step.mp-tutorial-tooltip-active::after {   border: 4px solid #ffd209;   border-radius: 50%;   box-shadow: 0 2px 3px 0 rgba(19,102,179,0.66);   content: '';   height: 4px;   left: -3px;   position: absolute;   top: -3px;   width: 4px; } .mp-tutorial-tooltip-footer .mp-tutorial-tooltip-next, .mp-tutorial-tooltip-footer .mp-tutorial-tooltip-done {   color: #6cb8ff;   cursor: pointer;   font-size: 12px;   font-weight: bold;   padding: 13px 25px 17px 0;   text-transform: uppercase; } .mp-tutorial-tooltip-footer .mp-tutorial-tooltip-next:hover, .mp-tutorial-tooltip-footer .mp-tutorial-tooltip-done:hover {   color: #fff; } ";

},{}],332:[function(require,module,exports){
'use strict';

function _jade_template_fn(locals) {
  locals = locals || {};;;
  var result_of_with = function ($component) {
    var h = require('panel').h;
    var modalAttrs = {
      'modal-type': 'popup',
      'closeable': true,
      'not-fullscreen': true,
      'open': $component.getAttribute('open')
    };
    var feature = $component.getAttribute('feature');
    return {
      value: h("mp-modal", {
        "attrs": modalAttrs
      }, function () {
        var __jade_nodes = [];
        __jade_nodes = __jade_nodes.concat(h("div", {
          "class": {
            'mp-upsell-popup-content': true
          }
        }, function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(h("div", {
            "class": {
              'mp-upsell-popup-icon': true
            }
          }, function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(feature == 'custom-events' ? function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h('div', {
                props: {
                  innerHTML: '<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg width="53px" height="44px" viewBox="0 0 53 44" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">    <!-- Generator: sketchtool 39.1 (31720) - http://www.bohemiancoding.com/sketch -->    <title>F26B9051-DB7A-47A6-A35F-71A0EC04B121</title>    <desc>Created with sketchtool.</desc>    <defs>        <rect id="path-1" x="0" y="0" width="45.109514" height="37" rx="2.35372636"></rect>        <mask id="mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="45.109514" height="37" fill="white">            <use xlink:href="#path-1"></use>        </mask>        <ellipse id="path-3" cx="7" cy="7" rx="7" ry="7"></ellipse>        <mask id="mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="-1.68881119" y="-1.68881119" width="17.3776224" height="17.3776224">            <rect x="-1.68881119" y="-1.68881119" width="17.3776224" height="17.3776224" fill="white"></rect>            <use xlink:href="#path-3" fill="black"></use>        </mask>    </defs>    <g id="Pricing-Upgrade-Purple" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">        <g id="Custom-Event-Upgrade-Dialog" transform="translate(-359.000000, -168.000000)">            <g id="segmentation-upgrade" transform="translate(341.000000, 150.000000)">                <g id="illustration.custom.event" transform="translate(20.000000, 20.000000)">                    <use id="fill" stroke="#FFFFFF" mask="url(#mask-2)" stroke-width="6" stroke-linecap="round" stroke-linejoin="round" fill="#EDF3F8" xlink:href="#path-1"></use>                    <rect id="outline" stroke="#4BA8FF" stroke-width="2.359" stroke-linecap="round" stroke-linejoin="round" x="0" y="0" width="45.109514" height="37" rx="2.35372636"></rect>                    <g id="plus" transform="translate(11.000000, 7.000000)">                        <circle id="Oval" fill="#C4D6E5" cx="12" cy="12" r="12"></circle>                        <path d="M13.3846154,10.6153846 L13.3846154,6 L10.6153846,6 L10.6153846,10.6153846 L6,10.6153846 L6,13.3846154 L10.6153846,13.3846154 L10.6153846,18 L13.3846154,18 L13.3846154,13.3846154 L18,13.3846154 L18,10.6153846 L13.3846154,10.6153846 Z" id="Combined-Shape" fill="#EDF3F8"></path>                    </g>                    <g id="lightning-bolt" transform="translate(35.000000, 26.000000)">                        <g id="circle">                            <use fill="#9270E2" fill-rule="evenodd" xlink:href="#path-3"></use>                            <use stroke="#FFFFFF" mask="url(#mask-4)" stroke-width="3.37762238" xlink:href="#path-3"></use>                        </g>                        <path d="M6.50875804,7.43563046 C6.52410688,7.38766237 6.51796734,7.33739641 6.49136269,7.29976876 C6.46494409,7.2621411 6.42038595,7.24059854 6.36931618,7.24059854 L5.03350223,7.24059854 C5.01210688,7.24059854 5.00187432,7.23466237 5.00047897,7.23198152 C4.99908362,7.22920493 5.00010688,7.21704535 5.0121999,7.19885386 L8.41011014,3.08638284 C8.51673783,2.95733196 8.56350739,2.97236977 8.50962051,3.13490852 L7.41089758,6.44898152 C7.39285106,6.49647088 7.39647897,6.5466411 7.42159525,6.58446024 C7.44661851,6.62218365 7.49061851,6.64391769 7.54206037,6.64391769 L8.80466502,6.64391769 C8.82661851,6.64391769 8.83806037,6.65042833 8.84113013,6.65598152 C8.84429292,6.66153471 8.84401385,6.67503471 8.83303711,6.69456663 L5.63308817,11.0810031 C5.53267259,11.2186511 5.4864542,11.2006563 5.52732162,11.0501464 L6.50875804,7.43563046 Z" id="bolt" fill="#FFFFFF"></path>                    </g>                </g>            </g>        </g>    </g></svg>'
                }
              }));;
              return __jade_nodes;
            }.call(this) : feature == 'export-csv' ? function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h('div', {
                props: {
                  innerHTML: '<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg width="52px" height="45px" viewBox="0 0 52 45" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">    <!-- Generator: sketchtool 39.1 (31720) - http://www.bohemiancoding.com/sketch -->    <title>DF9621C7-DA6B-4CF5-8AF7-95BD63476BD2</title>    <desc>Created with sketchtool.</desc>    <defs>        <ellipse id="path-1" cx="7" cy="7" rx="7" ry="7"></ellipse>        <mask id="mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="-1.75" y="-1.75" width="17.5" height="17.5">            <rect x="-1.75" y="-1.75" width="17.5" height="17.5" fill="white"></rect>            <use xlink:href="#path-1" fill="black"></use>        </mask>    </defs>    <g id="Pricing-Upgrade-" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">        <g id="Export-CSV-Upgrade" transform="translate(-919.000000, -822.000000)">            <g id="Group-6-Copy-6" transform="translate(900.000000, 805.000000)">                <g id="Group-4">                    <g id="illustration.csv" transform="translate(20.000000, 18.000000)">                        <path d="M5.9374,39.931 C3.8654,39.931 2.1794,38.245 2.1794,36.174 L2.1794,5.937 C2.1794,3.865 3.8654,2.18 5.9374,2.18 L28.3554,2.18 L36.1794,13.288 L36.1794,36.174 C36.1794,38.245 34.4944,39.931 32.4214,39.931 L5.9374,39.931 Z" id="Fill-1" fill="#EDF3F9"></path>                        <g id="arrow_down" transform="translate(13.000000, 15.000000)" fill="#C4D6E5">                            <path d="M11.8239,7.99516667 L10.9755,7.17033333 C10.7415,6.94283333 10.3611,6.94283333 10.1271,7.17033333 L7.1991,10.0158333 L7.1991,0.583333333 C7.1991,0.260166667 6.9315,0 6.5991,0 L5.3991,0 C5.0679,0 4.7991,0.260166667 4.7991,0.583333333 L4.7991,10.0158333 L1.8723,7.17033333 C1.6383,6.94283333 1.2579,6.94283333 1.0239,7.17033333 L0.1755,7.99516667 C-0.0585,8.22266667 -0.0585,8.5925 0.1755,8.82 L5.1507,13.6581667 C5.6199,14.1131667 6.3795,14.1131667 6.8487,13.6581667 L11.8239,8.82 C12.0579,8.5925 12.0579,8.22266667 11.8239,7.99516667" id="Fill-1"></path>                        </g>                        <path d="M29.3932,0.1795 L5.9372,0.1795 C2.7702,0.1795 0.1792,2.7705 0.1792,5.9375 L0.1792,36.1735 C0.1792,39.3405 2.7702,41.9315 5.9372,41.9315 L32.4222,41.9315 C35.5882,41.9315 38.1792,39.3405 38.1792,36.1735 L38.1792,12.6545 L29.3932,0.1795 Z M27.3182,4.1795 L34.1792,13.9215 L34.1792,36.1735 C34.1792,37.1265 33.3742,37.9315 32.4222,37.9315 L5.9372,37.9315 C4.9842,37.9315 4.1792,37.1265 4.1792,36.1735 L4.1792,5.9375 C4.1792,4.9845 4.9842,4.1795 5.9372,4.1795 L27.3182,4.1795 L27.3182,4.1795 Z" id="Fill-3" fill="#FFFFFF"></path>                        <path d="M29.3932,0.1795 L5.9372,0.1795 C2.7702,0.1795 0.1792,2.7705 0.1792,5.9375 L0.1792,36.1735 C0.1792,39.3405 2.7702,41.9315 5.9372,41.9315 L32.4222,41.9315 C35.5882,41.9315 38.1792,39.3405 38.1792,36.1735 L38.1792,12.6545 L29.3932,0.1795 L29.3932,0.1795 Z" id="Stroke-5" stroke="#4BA8FF" stroke-width="2.359" stroke-linecap="round" stroke-linejoin="round"></path>                        <path d="M29.0443,0.1795 L29.0443,11.4845 C29.0443,12.4125 29.7783,13.1725 30.6753,13.1725 L38.1793,13.1725 L29.0443,0.1795 L29.0443,0.1795 Z" id="Stroke-7" stroke="#4BA8FF" stroke-width="2.359" stroke-linecap="round" stroke-linejoin="round"></path>                        <path d="M32.4218,41.9314 L5.9368,41.9314 C2.7708,41.9314 0.1798,39.3404 0.1798,36.1734 L0.1798,5.9374" id="Stroke-9" stroke="#2788E3" stroke-width="2.359" stroke-linecap="round"></path>                        <g id="untitled" transform="translate(35.000000, 28.000000)">                            <g id="circle">                                <use fill="#9270E2" fill-rule="evenodd" xlink:href="#path-1"></use>                                <use stroke="#FFFFFF" mask="url(#mask-2)" stroke-width="3.5" xlink:href="#path-1"></use>                            </g>                            <g id="bolt" transform="translate(5.000000, 3.000000)" fill="#FFFFFF">                                <path d="M1.55525581,4.88007766 C1.57060465,4.83210957 1.56446512,4.78184362 1.53786047,4.74421596 C1.51144186,4.7065883 1.46688372,4.68504574 1.41581395,4.68504574 L0.08,4.68504574 C0.0586046512,4.68504574 0.048372093,4.67910957 0.0469767442,4.67642872 C0.0455813953,4.67365213 0.0466046512,4.66149255 0.0586976744,4.64330106 L3.45660791,0.530830037 C3.5632356,0.401779167 3.61000516,0.41681697 3.55611828,0.579355724 L2.45739535,3.89342872 C2.43934884,3.94091809 2.44297674,3.9910883 2.46809302,4.02890745 C2.49311628,4.06663085 2.53711628,4.08836489 2.58855814,4.08836489 L3.85116279,4.08836489 C3.87311628,4.08836489 3.88455814,4.09487553 3.88762791,4.10042872 C3.8907907,4.10598191 3.89051163,4.11948191 3.87953488,4.13901383 L0.679585947,8.52545028 C0.57917036,8.66309829 0.532951972,8.64510352 0.573819398,8.49459356 L1.55525581,4.88007766 Z" id="Fill-1"></path>                            </g>                        </g>                    </g>                </g>            </g>        </g>    </g></svg>'
                }
              }));;
              return __jade_nodes;
            }.call(this) : feature == 'bookmark-maximum' ? function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h('div', {
                props: {
                  innerHTML: '<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg width="52px" height="43px" viewBox="0 0 52 43" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">    <!-- Generator: sketchtool 39.1 (31720) - http://www.bohemiancoding.com/sketch -->    <title>8DC3DB90-2C37-452E-8EC5-F81AD3E1EBC1</title>    <desc>Created with sketchtool.</desc>    <defs>        <ellipse id="path-1" cx="42" cy="33" rx="7" ry="7"></ellipse>        <mask id="mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="-1.75" y="-1.75" width="17.5" height="17.5">            <rect x="33.25" y="24.25" width="17.5" height="17.5" fill="white"></rect>            <use xlink:href="#path-1" fill="black"></use>        </mask>    </defs>    <g id="Pricing-Upgrade-Purple" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">        <g id="Save-Bookmarks-Upgrade-Dialog" transform="translate(-997.000000, -183.000000)">            <g id="Group-6-Copy-5" transform="translate(978.000000, 164.000000)">                <g id="Group-4">                    <g id="illustration.filter" transform="translate(20.000000, 20.000000)">                        <g id="bookmark">                            <path d="M1.97841818,27.9444706 C1.97841818,27.9134118 1.97496364,27.8310588 1.97397662,27.8207059 L1.97397662,2.82352941 C1.97397662,2.30447059 2.41665195,1.88235294 2.96098961,1.88235294 L34.9851195,1.88235294 C35.5294571,1.88235294 35.9721325,2.30447059 35.9721325,2.82352941 C35.9721325,2.82352941 35.972626,11.6009412 35.9731195,11.6216471 C35.973613,11.6404706 35.9750935,11.6602353 35.976574,11.6809412 L35.976574,37.6301176 L20.1014571,31.4211765 C19.7436649,31.2809412 19.3651455,31.2094118 18.9782364,31.2094118 C18.5928078,31.2094118 18.2152753,31.2804706 17.8564961,31.4202353 L1.97841818,37.6301176 L1.97841818,27.9444706 Z" id="Fill-1" fill="#EDF3F9"></path>                            <path d="M34.9849714,0 L2.96084156,0 C1.32832208,0 -0.000197402597,1.26635294 -0.000197402597,2.82352941 L-0.000197402597,27.9035294 C-0.000197402597,27.9176471 0.00375064935,27.9308235 0.00424415584,27.9444706 L0.00424415584,39.0216471 L0.00424415584,39.0254118 L0.00424415584,39.0329412 C0.00424415584,39.0512941 0.00868571429,39.0682353 0.0101662338,39.0861176 C0.0126337662,39.1294118 0.0146077922,39.1722353 0.0234909091,39.2155294 C0.0318805195,39.256 0.0466857143,39.2941176 0.0600103896,39.3322353 C0.0669194805,39.3515294 0.0698805195,39.3712941 0.0782701299,39.3901176 C0.0787636364,39.3915294 0.0792571429,39.3924706 0.0802441558,39.3938824 C0.100971429,39.4414118 0.127127273,39.4856471 0.155750649,39.5289412 C0.170062338,39.5510588 0.185361039,39.5712941 0.201153247,39.592 C0.23027013,39.6291765 0.259387013,39.6658824 0.293438961,39.6988235 C0.319101299,39.7228235 0.348218182,39.7421176 0.375854545,39.7632941 C0.398062338,39.7802353 0.417802597,39.7995294 0.441490909,39.8145882 C0.462711688,39.8282353 0.4864,39.8376471 0.509101299,39.8494118 C0.542166234,39.8672941 0.574737662,39.8870588 0.61027013,39.9011765 C0.62852987,39.9087059 0.64827013,39.912 0.667023377,39.9181176 C0.718348052,39.9350588 0.77065974,39.9496471 0.825438961,39.9585882 C0.878737662,39.9670588 0.93252987,39.9736471 0.987309091,39.9741176 L0.991257143,39.9741176 C1.0109974,39.9741176 1.02975065,39.9698824 1.0489974,39.9689412 C1.09341299,39.9661176 1.13782857,39.9642353 1.18224416,39.9557647 C1.22517922,39.9477647 1.26515325,39.9341176 1.30562078,39.9209412 C1.32536104,39.9148235 1.34608831,39.9115294 1.36582857,39.904 L1.37372468,39.9007059 C1.37471169,39.9002353 1.3756987,39.9002353 1.37668571,39.8997647 L18.6025299,33.1628235 C18.7239325,33.1157647 18.8507636,33.0917647 18.9780883,33.0917647 C19.1049195,33.0917647 19.2312571,33.1152941 19.3521662,33.1628235 L36.5780104,39.8997647 C36.5789974,39.9002353 36.5799844,39.9002353 36.5804779,39.9007059 L36.5888675,39.904 C36.6155169,39.9143529 36.6426597,39.9190588 36.6693091,39.9270588 C36.702374,39.9369412 36.7344519,39.9491765 36.7694909,39.9557647 C36.8336468,39.968 36.8987896,39.9745882 36.9629455,39.9745882 C36.9659065,39.9745882 36.9688675,39.9736471 36.9723221,39.9736471 C37.0572052,39.9727059 37.1386338,39.9590588 37.2171013,39.9388235 C37.2383221,39.9336471 37.2580623,39.9275294 37.2787896,39.9204706 C37.3542961,39.8964706 37.4258545,39.8658824 37.4914909,39.8258824 C37.497413,39.8221176 37.5043221,39.8197647 37.5097506,39.816 C37.5808156,39.7712941 37.6425039,39.7157647 37.6987636,39.6550588 C37.7130753,39.64 37.7259065,39.6249412 37.7392312,39.6089412 C37.7930234,39.5425882 37.8408935,39.4715294 37.8749455,39.3929412 C37.875439,39.392 37.876426,39.3910588 37.876426,39.3901176 C37.8848156,39.3712941 37.8877766,39.3515294 37.8946857,39.3322353 C37.9080104,39.2941176 37.9228156,39.256 37.9312052,39.2155294 C37.9400883,39.1722353 37.9420623,39.1294118 37.9445299,39.0861176 C37.9460104,39.0682353 37.9504519,39.0512941 37.9504519,39.0329412 L37.9504519,39.0254118 L37.9504519,39.0216471 L37.9504519,11.6 C37.9504519,11.5858824 37.9465039,11.5727059 37.9460104,11.5590588 L37.9460104,2.82352941 C37.9460104,1.26635294 36.6179844,0 34.9849714,0 M33.9979584,3.76470588 L33.9979584,11.5590588 C33.9979584,11.6131765 33.999439,11.6677647 34.0019065,11.7218824 C34.0019065,11.7265882 34.0019065,11.7312941 34.0024,11.7355294 L34.0024,34.8235294 L20.853413,29.6809412 C20.2547896,29.4461176 19.6240883,29.3270588 18.9780883,29.3270588 C18.3355429,29.3270588 17.7068156,29.4451765 17.1042442,29.6795294 L3.9522961,34.8235294 L3.9522961,27.9444706 C3.9522961,27.8903529 3.95130909,27.8357647 3.94884156,27.7811765 C3.94834805,27.7769412 3.94834805,27.7727059 3.94785455,27.768 L3.94785455,3.76470588 L33.9979584,3.76470588" id="Fill-3" fill="#FFFFFF"></path>                            <path d="M0.989233766,11.5999529 L0.989233766,39.0328941 L18.2259351,32.2921882 C18.7061169,32.1044235 19.244039,32.1044235 19.7242208,32.2921882 L36.9609221,39.0328941 L36.956974,27.9039529 L36.956974,2.82348235 C36.956974,1.78395294 36.0731039,0.941129412 34.9829481,0.941129412 L2.95881818,0.941129412 C1.86866234,0.941129412 0.984792208,1.78395294 0.984792208,2.82348235 L0.984792208,27.9039529" id="Stroke-5" stroke="#4BA8FF" stroke-width="2.359" stroke-linecap="round" stroke-linejoin="round"></path>                            <path d="M0.980646753,2.82352941 L0.980646753,39.0329412 L0.989036364,39.0329412 L18.2262312,32.2917647 C18.7059195,32.1044706 19.2443351,32.1044706 19.7240234,32.2917647 L36.9612182,39.0329412" id="Stroke-7" stroke="#2788E3" stroke-width="2.359" stroke-linecap="round" stroke-linejoin="round"></path>                        </g>                        <g id="circle">                            <use fill="#9270E2" fill-rule="evenodd" xlink:href="#path-1"></use>                            <use stroke="#FFFFFF" mask="url(#mask-2)" stroke-width="3.5" xlink:href="#path-1"></use>                        </g>                        <g id="bolt" transform="translate(40.000000, 29.000000)" fill="#FFFFFF">                            <path d="M1.55525581,4.88007766 C1.57060465,4.83210957 1.56446512,4.78184362 1.53786047,4.74421596 C1.51144186,4.7065883 1.46688372,4.68504574 1.41581395,4.68504574 L0.08,4.68504574 C0.0586046512,4.68504574 0.048372093,4.67910957 0.0469767442,4.67642872 C0.0455813953,4.67365213 0.0466046512,4.66149255 0.0586976744,4.64330106 L3.45660791,0.530830037 C3.5632356,0.401779167 3.61000516,0.41681697 3.55611828,0.579355724 L2.45739535,3.89342872 C2.43934884,3.94091809 2.44297674,3.9910883 2.46809302,4.02890745 C2.49311628,4.06663085 2.53711628,4.08836489 2.58855814,4.08836489 L3.85116279,4.08836489 C3.87311628,4.08836489 3.88455814,4.09487553 3.88762791,4.10042872 C3.8907907,4.10598191 3.89051163,4.11948191 3.87953488,4.13901383 L0.679585947,8.52545028 C0.57917036,8.66309829 0.532951972,8.64510352 0.573819398,8.49459356 L1.55525581,4.88007766 Z" id="Fill-1"></path>                        </g>                    </g>                </g>            </g>        </g>    </g></svg>'
                }
              }));;
              return __jade_nodes;
            }.call(this) : function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h('div', {
                props: {
                  innerHTML: '<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg width="53px" height="42px" viewBox="0 0 53 42" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">    <!-- Generator: sketchtool 39.1 (31720) - http://www.bohemiancoding.com/sketch -->    <title>70DF7A0A-2DFC-4C75-82E7-675032143BED</title>    <desc>Created with sketchtool.</desc>    <defs>        <rect id="path-1" x="0" y="0" width="45.109514" height="37" rx="2.35372636"></rect>        <mask id="mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="45.109514" height="37" fill="white">            <use xlink:href="#path-1"></use>        </mask>        <path d="M7,14 C10.8659932,14 14,10.8659932 14,7 C14,3.13400675 10.8659932,0 7,0 C3.13400675,0 0,3.13400675 0,7 C0,10.8659932 3.13400675,14 7,14 Z" id="path-3"></path>        <mask id="mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="-1.75331439" y="-1.75331439" width="17.5066288" height="17.5066288">            <rect x="-1.75331439" y="-1.75331439" width="17.5066288" height="17.5066288" fill="white"></rect>            <use xlink:href="#path-3" fill="black"></use>        </mask>    </defs>    <g id="Pricing-Upgrade-" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">        <g id="Retention-Upgrade" transform="translate(-980.000000, -298.000000)">            <g id="retention-filters-upgrade" transform="translate(962.000000, 277.000000)">                <g id="illustration.filter" transform="translate(20.000000, 23.000000)">                    <use id="fill" stroke="#FFFFFF" mask="url(#mask-2)" stroke-width="6" stroke-linecap="round" stroke-linejoin="round" fill="#EDF3F8" xlink:href="#path-1"></use>                    <rect id="outline" stroke="#4BA8FF" stroke-width="2.359" stroke-linecap="round" stroke-linejoin="round" x="0" y="0" width="45.109514" height="37" rx="2.35372636"></rect>                    <g id="lines" transform="translate(9.000000, 12.000000)" stroke="#C4D6E5" stroke-width="2.30771739" stroke-linecap="round" stroke-linejoin="round">                        <path d="M0.804347826,1.62162162 L28.1956522,1.62162162" id="Line"></path>                        <path d="M5.69565217,6.48648649 L23.3043478,6.48648649" id="Line-Copy"></path>                        <polyline id="Line-Copy-2" points="10.5869565 11.3513514 13.9699591 11.3513514 18.4130435 11.3513514"></polyline>                    </g>                    <g id="upgrade" transform="translate(35.000000, 24.000000)">                        <g id="Oval-Copy">                            <use fill="#9270E2" fill-rule="evenodd" xlink:href="#path-3"></use>                            <use stroke="#FFFFFF" mask="url(#mask-4)" stroke-width="3.50662879" xlink:href="#path-3"></use>                        </g>                        <path d="M6.50875804,7.43563046 C6.52410688,7.38766237 6.51796734,7.33739641 6.49136269,7.29976876 C6.46494409,7.2621411 6.42038595,7.24059854 6.36931618,7.24059854 L5.03350223,7.24059854 C5.01210688,7.24059854 5.00187432,7.23466237 5.00047897,7.23198152 C4.99908362,7.22920493 5.00010688,7.21704535 5.0121999,7.19885386 L8.41011014,3.08638284 C8.51673783,2.95733196 8.56350739,2.97236977 8.50962051,3.13490852 L7.41089758,6.44898152 C7.39285106,6.49647088 7.39647897,6.5466411 7.42159525,6.58446024 C7.44661851,6.62218365 7.49061851,6.64391769 7.54206037,6.64391769 L8.80466502,6.64391769 C8.82661851,6.64391769 8.83806037,6.65042833 8.84113013,6.65598152 C8.84429292,6.66153471 8.84401385,6.67503471 8.83303711,6.69456663 L5.63308817,11.0810031 C5.53267259,11.2186511 5.4864542,11.2006563 5.52732162,11.0501464 L6.50875804,7.43563046 Z" id="Fill-1-Copy" fill="#FFFFFF"></path>                    </g>                </g>            </g>        </g>    </g></svg>'
                }
              }));;
              return __jade_nodes;
            }.call(this));;
            return __jade_nodes;
          }.call(this).filter(Boolean)));
          __jade_nodes = __jade_nodes.concat(h("div", {
            "class": {
              'mp-upsell-popup-text': true
            }
          }, function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat(feature == 'custom-events' ? function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat("");
                __jade_nodes = __jade_nodes.concat(function () {
                  var __jade_nodes = [];
                  __jade_nodes = __jade_nodes.concat(h("a", {
                    "attrs": {
                      href: '/pricing/',
                      target: '_blank'
                    },
                    "class": {
                      'upgrade-link': true
                    }
                  }, function () {
                    var __jade_nodes = [];
                    __jade_nodes = __jade_nodes.concat("Upgrade");;
                    return __jade_nodes;
                  }.call(this).filter(Boolean)));;
                  return __jade_nodes;
                }.call(this));
                __jade_nodes = __jade_nodes.concat(" your plan to create more custom events.");;
                return __jade_nodes;
              }.call(this));;
              return __jade_nodes;
            }.call(this) : feature == 'date-range' ? function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat("");
                __jade_nodes = __jade_nodes.concat(function () {
                  var __jade_nodes = [];
                  __jade_nodes = __jade_nodes.concat(h("a", {
                    "attrs": {
                      href: '/pricing/',
                      target: '_blank'
                    },
                    "class": {
                      'upgrade-link': true
                    }
                  }, function () {
                    var __jade_nodes = [];
                    __jade_nodes = __jade_nodes.concat("Upgrade");;
                    return __jade_nodes;
                  }.call(this).filter(Boolean)));;
                  return __jade_nodes;
                }.call(this));
                __jade_nodes = __jade_nodes.concat(" your plan to query a wider date range.");;
                return __jade_nodes;
              }.call(this));;
              return __jade_nodes;
            }.call(this) : feature == 'export-csv' ? function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat("");
                __jade_nodes = __jade_nodes.concat(function () {
                  var __jade_nodes = [];
                  __jade_nodes = __jade_nodes.concat(h("a", {
                    "attrs": {
                      href: '/pricing/',
                      target: '_blank'
                    },
                    "class": {
                      'upgrade-link': true
                    }
                  }, function () {
                    var __jade_nodes = [];
                    __jade_nodes = __jade_nodes.concat("Upgrade");;
                    return __jade_nodes;
                  }.call(this).filter(Boolean)));;
                  return __jade_nodes;
                }.call(this));
                __jade_nodes = __jade_nodes.concat(" your plan to export a CSV report.");;
                return __jade_nodes;
              }.call(this));;
              return __jade_nodes;
            }.call(this) : feature == 'filter-levels' ? function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat("More filters are not available. ");
                __jade_nodes = __jade_nodes.concat(function () {
                  var __jade_nodes = [];
                  __jade_nodes = __jade_nodes.concat(h("a", {
                    "attrs": {
                      href: '/pricing/',
                      target: '_blank'
                    },
                    "class": {
                      'upgrade-link': true
                    }
                  }, function () {
                    var __jade_nodes = [];
                    __jade_nodes = __jade_nodes.concat("Upgrade");;
                    return __jade_nodes;
                  }.call(this).filter(Boolean)));;
                  return __jade_nodes;
                }.call(this));
                __jade_nodes = __jade_nodes.concat(" your plan for more.");;
                return __jade_nodes;
              }.call(this));;
              return __jade_nodes;
            }.call(this) : feature == 'bookmark-maximum' ? function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat("");
                __jade_nodes = __jade_nodes.concat(function () {
                  var __jade_nodes = [];
                  __jade_nodes = __jade_nodes.concat(h("a", {
                    "attrs": {
                      href: '/pricing/',
                      target: '_blank'
                    },
                    "class": {
                      'upgrade-link': true
                    }
                  }, function () {
                    var __jade_nodes = [];
                    __jade_nodes = __jade_nodes.concat("Upgrade");;
                    return __jade_nodes;
                  }.call(this).filter(Boolean)));;
                  return __jade_nodes;
                }.call(this));
                __jade_nodes = __jade_nodes.concat(" your plan to save more bookmarks.");;
                return __jade_nodes;
              }.call(this));;
              return __jade_nodes;
            }.call(this) : function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(function () {
                var __jade_nodes = [];
                __jade_nodes = __jade_nodes.concat("");
                __jade_nodes = __jade_nodes.concat(function () {
                  var __jade_nodes = [];
                  __jade_nodes = __jade_nodes.concat(h("a", {
                    "attrs": {
                      href: '/pricing/',
                      target: '_blank'
                    },
                    "class": {
                      'upgrade-link': true
                    }
                  }, function () {
                    var __jade_nodes = [];
                    __jade_nodes = __jade_nodes.concat("Upgrade");;
                    return __jade_nodes;
                  }.call(this).filter(Boolean)));;
                  return __jade_nodes;
                }.call(this));
                __jade_nodes = __jade_nodes.concat(" your plan to do more.");;
                return __jade_nodes;
              }.call(this));;
              return __jade_nodes;
            }.call(this));;
            return __jade_nodes;
          }.call(this).filter(Boolean)));;
          return __jade_nodes;
        }.call(this).filter(Boolean)));;
        return __jade_nodes;
      }.call(this).filter(Boolean))
    };
  }.call(this, "$component" in locals ? locals.$component : typeof $component !== "undefined" ? $component : undefined);
  if (result_of_with) return result_of_with.value;
}
module.exports = _jade_template_fn;
},{"panel":343}],333:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _panel = require('panel');

var _registerElement = require('../../util/register-element.js');

var _index = require('./index.jade');

var _index2 = _interopRequireDefault(_index);

var _index3 = require('./index.styl');

var _index4 = _interopRequireDefault(_index3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

exports.default = (0, _registerElement.registerMPElement)('mp-upsell-popup', function (_Component) {
  _inherits(_class, _Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'config',
    get: function get() {
      return {
        css: _index4.default,
        template: _index2.default,
        useShadowDom: true
      };
    }
  }]);

  return _class;
}(_panel.Component));
},{"../../util/register-element.js":283,"./index.jade":332,"./index.styl":334,"panel":343}],334:[function(require,module,exports){
module.exports = "* {   -webkit-font-smoothing: antialiased; } *:focus {   outline: 0; } *::-ms-clear {   height: 0;   width: 0; } body {   color: #6d859e;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-stretch: normal;   font-weight: 400; } body.no-scroll {   overflow: hidden; } a, .mp-link {   cursor: pointer;   text-decoration: none; } a, .mp-link, a:visited, .mp-link:visited {   color: #3b99f0; } a:hover, .mp-link:hover {   color: #4ba8ff; } .mp-font-size-xl {   font-size: 18px; } .mp-font-size-large {   font-size: 16px; } .mp-font-size-medium {   font-size: 14px; } .mp-font-size-default {   font-size: 13px; } .mp-font-size-xs {   font-size: 11px;   text-transform: uppercase; } .mp-font-weight-bold {   font-weight: 600; } .mp-font-weight-medium {   font-weight: 500; } .mp-font-weight-regular {   font-weight: 400; } .mp-font-paragraph {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } input[type=text], textarea {   border: 1px solid #d8e0ea;   border-radius: 5px;   box-sizing: border-box;   color: #4c6072;   display: inline-block;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 400;   padding: 8px;   transition: border-color 150ms ease-out; } input[type=text]::-webkit-input-placeholder, textarea::-webkit-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::-moz-placeholder, textarea::-moz-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:-ms-input-placeholder, textarea:-ms-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::placeholder, textarea::placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:focus, textarea:focus, input[type=text]:active, textarea:active {   border-color: #3391e9;   transition: border-color 200ms ease-in; } input[type=text] {   height: 36px; } mp-truncated-text {   display: inline-block;   white-space: nowrap;   width: 100%; } svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } svg-icon[icon=lightning-bolt] #bolt, svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } svg-icon[icon=alert] #circle, svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } mp-modal {   width: 285px; } .mp-upsell-popup-content {   box-shadow: 0 1px 30px 0 rgba(0,0,0,0.19);   display: -webkit-box;   display: -ms-flexbox;   display: flex;   padding: 20px; } .mp-upsell-popup-content .mp-upsell-popup-icon {   margin-right: 10px; } .mp-upsell-popup-content .mp-upsell-popup-icon svg {   height: 42px;   width: 53px; } .mp-upsell-popup-content .mp-upsell-popup-text {   color: #6d859e;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 14px;   font-weight: 400;   line-height: 18px;   margin: 3px 20px 0 0;   max-width: 180px;   text-shadow: 0 1px 0 rgba(255,255,255,0.5); } .mp-upsell-popup-content .mp-upsell-popup-text .mp-upsell-popup-upgrade-link {   color: #2687e3;   cursor: pointer;   font-weight: 600;   text-decoration: none; } .mp-upsell-popup-content .mp-upsell-popup-text .mp-upsell-popup-upgrade-link:hover {   color: #4ba8ff; } ";

},{}],335:[function(require,module,exports){
"use strict";

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _jade_template_fn(locals) {
  locals = locals || {};;;
  var result_of_with = function ($helpers, name, showTooltip, tooltipText) {
    var h = require('panel').h;
    return {
      value: h("div", {
        "class": {
          'mp-user-icon-container': true
        }
      }, function () {
        var __jade_nodes = [];
        __jade_nodes = __jade_nodes.concat(name ? function () {
          var __jade_nodes = [];
          __jade_nodes = __jade_nodes.concat(h("div", {
            "class": _defineProperty({}, "mp-user-icon-color-" + name[0].toUpperCase(), true)
          }, function () {
            var __jade_nodes = [];
            __jade_nodes = __jade_nodes.concat($helpers.nameToInitials(name));
            __jade_nodes = __jade_nodes.concat(showTooltip ? function () {
              var __jade_nodes = [];
              __jade_nodes = __jade_nodes.concat(h("mp-tooltip", [tooltipText || $helpers.getAbbreviatedName() || '']));;
              return __jade_nodes;
            }.call(this) : undefined);;
            return __jade_nodes;
          }.call(this).filter(Boolean)));;
          return __jade_nodes;
        }.call(this) : undefined);;
        return __jade_nodes;
      }.call(this).filter(Boolean))
    };
  }.call(this, "$helpers" in locals ? locals.$helpers : typeof $helpers !== "undefined" ? $helpers : undefined, "name" in locals ? locals.name : typeof name !== "undefined" ? name : undefined, "showTooltip" in locals ? locals.showTooltip : typeof showTooltip !== "undefined" ? showTooltip : undefined, "tooltipText" in locals ? locals.tooltipText : typeof tooltipText !== "undefined" ? tooltipText : undefined);
  if (result_of_with) return result_of_with.value;
}
module.exports = _jade_template_fn;
},{"panel":343}],336:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _panel = require('panel');

var _registerElement = require('../../util/register-element');

var _string = require('../../util/string');

var _index = require('./index.jade');

var _index2 = _interopRequireDefault(_index);

var _index3 = require('./index.styl');

var _index4 = _interopRequireDefault(_index3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

exports.default = (0, _registerElement.registerMPElement)('mp-user-icon', function (_Component) {
  _inherits(_class, _Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(attr, oldVal, newVal) {
      _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'attributeChangedCallback', this).apply(this, arguments);
      switch (attr) {
        case 'name':
          this.update({ name: newVal });
          break;
        case 'show-tooltip':
          this.update({ showTooltip: this.isAttributeEnabled(attr) });
          break;
        case 'tooltip-text':
          if (newVal) {
            this.update({ tooltipText: newVal });
          } else {
            this.update({ tooltipText: null });
          }
          break;
      }
    }
  }, {
    key: 'config',
    get: function get() {
      var _this2 = this;

      return {
        css: _index4.default,
        template: _index2.default,
        useShadowDom: true,
        defaultState: {
          name: null,
          showTooltip: true,
          tooltipText: null
        },
        helpers: {
          nameToInitials: _string.nameToInitials,
          getAbbreviatedName: function getAbbreviatedName() {
            var nameParts = _this2.state.name.split(' ');
            return nameParts.length > 1 ? nameParts[0] + ' ' + nameParts[nameParts.length - 1][0] + '.' : _this2.state.name;
          }
        }
      };
    }
  }]);

  return _class;
}(_panel.Component));
},{"../../util/register-element":283,"../../util/string":285,"./index.jade":335,"./index.styl":337,"panel":343}],337:[function(require,module,exports){
module.exports = "* {   -webkit-font-smoothing: antialiased; } *:focus {   outline: 0; } *::-ms-clear {   height: 0;   width: 0; } body {   color: #6d859e;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-stretch: normal;   font-weight: 400; } body.no-scroll {   overflow: hidden; } a, .mp-link {   cursor: pointer;   text-decoration: none; } a, .mp-link, a:visited, .mp-link:visited {   color: #3b99f0; } a:hover, .mp-link:hover {   color: #4ba8ff; } .mp-font-size-xl {   font-size: 18px; } .mp-font-size-large {   font-size: 16px; } .mp-font-size-medium {   font-size: 14px; } .mp-font-size-default {   font-size: 13px; } .mp-font-size-xs {   font-size: 11px;   text-transform: uppercase; } .mp-font-weight-bold {   font-weight: 600; } .mp-font-weight-medium {   font-weight: 500; } .mp-font-weight-regular {   font-weight: 400; } .mp-font-paragraph {   color: #6d859e;   font-size: 14px;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-stretch: normal;   font-weight: 500;   line-height: 18px; } input[type=text], textarea {   border: 1px solid #d8e0ea;   border-radius: 5px;   box-sizing: border-box;   color: #4c6072;   display: inline-block;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 13px;   font-weight: 400;   padding: 8px;   transition: border-color 150ms ease-out; } input[type=text]::-webkit-input-placeholder, textarea::-webkit-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::-moz-placeholder, textarea::-moz-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:-ms-input-placeholder, textarea:-ms-input-placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]::placeholder, textarea::placeholder {   color: #9bacbf !important;   font-weight: weight-normal !important; } input[type=text]:focus, textarea:focus, input[type=text]:active, textarea:active {   border-color: #3391e9;   transition: border-color 200ms ease-in; } input[type=text] {   height: 36px; } mp-truncated-text {   display: inline-block;   white-space: nowrap;   width: 100%; } svg-icon {   display: inline-block;   height: 22px;   min-height: 22px;   min-width: 22px;   position: relative;   width: 22px; } svg-icon[icon=type-boolean] #left-dot {   color: #fff;   fill: #fff; } svg-icon[icon=type-boolean] #right-dot {   color: #4c6072;   fill: #4c6072; } svg-icon[icon=lightning-bolt] #bolt, svg-icon[icon=lighting-bolt] #bolt {   color: #fff;   fill: #fff; } svg-icon[icon=alert] #circle, svg-icon[icon=alert] #stem {   color: #fff;   fill: #fff; } svg-icon[icon=opt-out] #left-arrow {   color: #4ba8ff;   fill: #4ba8ff; } svg-icon[icon=opt-out] #right-arrow {   color: #1660a7;   fill: #1660a7; } svg-icon svg {   height: 22px;   left: 0;   min-height: 22px;   min-width: 22px;   position: absolute;   top: 0;   width: 22px; } mp-user-icon {   display: inline-block; } :host {   display: inline-block; } .mp-user-icon-container {   background-color: #1e7171;   border-radius: 50%;   color: #fff;   cursor: default;   font-family: 'Helvetica Neue', 'Helvetica', 'Tahoma', 'Geneva', 'Arial', sans-serif;   font-size: 11px;   text-transform: uppercase;   font-weight: 600;   height: 26px;   line-height: 26px;   overflow: hidden;   text-align: center;   text-transform: uppercase;   width: 26px; } .mp-user-icon-container mp-tooltip {   line-height: normal;   z-index: 6000; } .mp-user-icon-container .mp-user-icon-color-A {   background-color: #33bcbd; } .mp-user-icon-container .mp-user-icon-color-B {   background-color: #2da9aa; } .mp-user-icon-container .mp-user-icon-color-C {   background-color: #289697; } .mp-user-icon-container .mp-user-icon-color-D {   background-color: #238384; } .mp-user-icon-container .mp-user-icon-color-E {   background-color: #64ade8; } .mp-user-icon-container .mp-user-icon-color-F {   background-color: #5a9bd1; } .mp-user-icon-container .mp-user-icon-color-G {   background-color: #508bba; } .mp-user-icon-container .mp-user-icon-color-H {   background-color: #4679a2; } .mp-user-icon-container .mp-user-icon-color-I {   background-color: #3c688b; } .mp-user-icon-container .mp-user-icon-color-J {   background-color: #a28ccb; } .mp-user-icon-container .mp-user-icon-color-K {   background-color: #917db6; } .mp-user-icon-container .mp-user-icon-color-L {   background-color: #826fa2; } .mp-user-icon-container .mp-user-icon-color-M {   background-color: #71618d; } .mp-user-icon-container .mp-user-icon-color-N {   background-color: #61547a; } .mp-user-icon-container .mp-user-icon-color-O {   background-color: #d97b7f; } .mp-user-icon-container .mp-user-icon-color-P {   background-color: #c36e72; } .mp-user-icon-container .mp-user-icon-color-Q {   background-color: #ad6366; } .mp-user-icon-container .mp-user-icon-color-R {   background-color: #985559; } .mp-user-icon-container .mp-user-icon-color-S {   background-color: #e8bc65; } .mp-user-icon-container .mp-user-icon-color-T {   background-color: #d0a95b; } .mp-user-icon-container .mp-user-icon-color-U {   background-color: #b99651; } .mp-user-icon-container .mp-user-icon-color-V {   background-color: #a28347; } .mp-user-icon-container .mp-user-icon-color-W {   background-color: #f6893b; } .mp-user-icon-container .mp-user-icon-color-X {   background-color: #dd7b35; } .mp-user-icon-container .mp-user-icon-color-Y {   background-color: #c46e30; } ";

},{}],338:[function(require,module,exports){
//! moment.js
//! version : 2.17.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com

;(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
    typeof define === 'function' && define.amd ? define(factory) :
    global.moment = factory()
}(this, (function () { 'use strict';

var hookCallback;

function hooks () {
    return hookCallback.apply(null, arguments);
}

// This is done to register the method called with moment()
// without creating circular dependencies.
function setHookCallback (callback) {
    hookCallback = callback;
}

function isArray(input) {
    return input instanceof Array || Object.prototype.toString.call(input) === '[object Array]';
}

function isObject(input) {
    // IE8 will treat undefined and null as object if it wasn't for
    // input != null
    return input != null && Object.prototype.toString.call(input) === '[object Object]';
}

function isObjectEmpty(obj) {
    var k;
    for (k in obj) {
        // even if its not own property I'd still call it non-empty
        return false;
    }
    return true;
}

function isNumber(input) {
    return typeof input === 'number' || Object.prototype.toString.call(input) === '[object Number]';
}

function isDate(input) {
    return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';
}

function map(arr, fn) {
    var res = [], i;
    for (i = 0; i < arr.length; ++i) {
        res.push(fn(arr[i], i));
    }
    return res;
}

function hasOwnProp(a, b) {
    return Object.prototype.hasOwnProperty.call(a, b);
}

function extend(a, b) {
    for (var i in b) {
        if (hasOwnProp(b, i)) {
            a[i] = b[i];
        }
    }

    if (hasOwnProp(b, 'toString')) {
        a.toString = b.toString;
    }

    if (hasOwnProp(b, 'valueOf')) {
        a.valueOf = b.valueOf;
    }

    return a;
}

function createUTC (input, format, locale, strict) {
    return createLocalOrUTC(input, format, locale, strict, true).utc();
}

function defaultParsingFlags() {
    // We need to deep clone this object.
    return {
        empty           : false,
        unusedTokens    : [],
        unusedInput     : [],
        overflow        : -2,
        charsLeftOver   : 0,
        nullInput       : false,
        invalidMonth    : null,
        invalidFormat   : false,
        userInvalidated : false,
        iso             : false,
        parsedDateParts : [],
        meridiem        : null
    };
}

function getParsingFlags(m) {
    if (m._pf == null) {
        m._pf = defaultParsingFlags();
    }
    return m._pf;
}

var some;
if (Array.prototype.some) {
    some = Array.prototype.some;
} else {
    some = function (fun) {
        var t = Object(this);
        var len = t.length >>> 0;

        for (var i = 0; i < len; i++) {
            if (i in t && fun.call(this, t[i], i, t)) {
                return true;
            }
        }

        return false;
    };
}

var some$1 = some;

function isValid(m) {
    if (m._isValid == null) {
        var flags = getParsingFlags(m);
        var parsedParts = some$1.call(flags.parsedDateParts, function (i) {
            return i != null;
        });
        var isNowValid = !isNaN(m._d.getTime()) &&
            flags.overflow < 0 &&
            !flags.empty &&
            !flags.invalidMonth &&
            !flags.invalidWeekday &&
            !flags.nullInput &&
            !flags.invalidFormat &&
            !flags.userInvalidated &&
            (!flags.meridiem || (flags.meridiem && parsedParts));

        if (m._strict) {
            isNowValid = isNowValid &&
                flags.charsLeftOver === 0 &&
                flags.unusedTokens.length === 0 &&
                flags.bigHour === undefined;
        }

        if (Object.isFrozen == null || !Object.isFrozen(m)) {
            m._isValid = isNowValid;
        }
        else {
            return isNowValid;
        }
    }
    return m._isValid;
}

function createInvalid (flags) {
    var m = createUTC(NaN);
    if (flags != null) {
        extend(getParsingFlags(m), flags);
    }
    else {
        getParsingFlags(m).userInvalidated = true;
    }

    return m;
}

function isUndefined(input) {
    return input === void 0;
}

// Plugins that add properties should also add the key here (null value),
// so we can properly clone ourselves.
var momentProperties = hooks.momentProperties = [];

function copyConfig(to, from) {
    var i, prop, val;

    if (!isUndefined(from._isAMomentObject)) {
        to._isAMomentObject = from._isAMomentObject;
    }
    if (!isUndefined(from._i)) {
        to._i = from._i;
    }
    if (!isUndefined(from._f)) {
        to._f = from._f;
    }
    if (!isUndefined(from._l)) {
        to._l = from._l;
    }
    if (!isUndefined(from._strict)) {
        to._strict = from._strict;
    }
    if (!isUndefined(from._tzm)) {
        to._tzm = from._tzm;
    }
    if (!isUndefined(from._isUTC)) {
        to._isUTC = from._isUTC;
    }
    if (!isUndefined(from._offset)) {
        to._offset = from._offset;
    }
    if (!isUndefined(from._pf)) {
        to._pf = getParsingFlags(from);
    }
    if (!isUndefined(from._locale)) {
        to._locale = from._locale;
    }

    if (momentProperties.length > 0) {
        for (i in momentProperties) {
            prop = momentProperties[i];
            val = from[prop];
            if (!isUndefined(val)) {
                to[prop] = val;
            }
        }
    }

    return to;
}

var updateInProgress = false;

// Moment prototype object
function Moment(config) {
    copyConfig(this, config);
    this._d = new Date(config._d != null ? config._d.getTime() : NaN);
    if (!this.isValid()) {
        this._d = new Date(NaN);
    }
    // Prevent infinite loop in case updateOffset creates new moment
    // objects.
    if (updateInProgress === false) {
        updateInProgress = true;
        hooks.updateOffset(this);
        updateInProgress = false;
    }
}

function isMoment (obj) {
    return obj instanceof Moment || (obj != null && obj._isAMomentObject != null);
}

function absFloor (number) {
    if (number < 0) {
        // -0 -> 0
        return Math.ceil(number) || 0;
    } else {
        return Math.floor(number);
    }
}

function toInt(argumentForCoercion) {
    var coercedNumber = +argumentForCoercion,
        value = 0;

    if (coercedNumber !== 0 && isFinite(coercedNumber)) {
        value = absFloor(coercedNumber);
    }

    return value;
}

// compare two arrays, return the number of differences
function compareArrays(array1, array2, dontConvert) {
    var len = Math.min(array1.length, array2.length),
        lengthDiff = Math.abs(array1.length - array2.length),
        diffs = 0,
        i;
    for (i = 0; i < len; i++) {
        if ((dontConvert && array1[i] !== array2[i]) ||
            (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {
            diffs++;
        }
    }
    return diffs + lengthDiff;
}

function warn(msg) {
    if (hooks.suppressDeprecationWarnings === false &&
            (typeof console !==  'undefined') && console.warn) {
        console.warn('Deprecation warning: ' + msg);
    }
}

function deprecate(msg, fn) {
    var firstTime = true;

    return extend(function () {
        if (hooks.deprecationHandler != null) {
            hooks.deprecationHandler(null, msg);
        }
        if (firstTime) {
            var args = [];
            var arg;
            for (var i = 0; i < arguments.length; i++) {
                arg = '';
                if (typeof arguments[i] === 'object') {
                    arg += '\n[' + i + '] ';
                    for (var key in arguments[0]) {
                        arg += key + ': ' + arguments[0][key] + ', ';
                    }
                    arg = arg.slice(0, -2); // Remove trailing comma and space
                } else {
                    arg = arguments[i];
                }
                args.push(arg);
            }
            warn(msg + '\nArguments: ' + Array.prototype.slice.call(args).join('') + '\n' + (new Error()).stack);
            firstTime = false;
        }
        return fn.apply(this, arguments);
    }, fn);
}

var deprecations = {};

function deprecateSimple(name, msg) {
    if (hooks.deprecationHandler != null) {
        hooks.deprecationHandler(name, msg);
    }
    if (!deprecations[name]) {
        warn(msg);
        deprecations[name] = true;
    }
}

hooks.suppressDeprecationWarnings = false;
hooks.deprecationHandler = null;

function isFunction(input) {
    return input instanceof Function || Object.prototype.toString.call(input) === '[object Function]';
}

function set (config) {
    var prop, i;
    for (i in config) {
        prop = config[i];
        if (isFunction(prop)) {
            this[i] = prop;
        } else {
            this['_' + i] = prop;
        }
    }
    this._config = config;
    // Lenient ordinal parsing accepts just a number in addition to
    // number + (possibly) stuff coming from _ordinalParseLenient.
    this._ordinalParseLenient = new RegExp(this._ordinalParse.source + '|' + (/\d{1,2}/).source);
}

function mergeConfigs(parentConfig, childConfig) {
    var res = extend({}, parentConfig), prop;
    for (prop in childConfig) {
        if (hasOwnProp(childConfig, prop)) {
            if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {
                res[prop] = {};
                extend(res[prop], parentConfig[prop]);
                extend(res[prop], childConfig[prop]);
            } else if (childConfig[prop] != null) {
                res[prop] = childConfig[prop];
            } else {
                delete res[prop];
            }
        }
    }
    for (prop in parentConfig) {
        if (hasOwnProp(parentConfig, prop) &&
                !hasOwnProp(childConfig, prop) &&
                isObject(parentConfig[prop])) {
            // make sure changes to properties don't modify parent config
            res[prop] = extend({}, res[prop]);
        }
    }
    return res;
}

function Locale(config) {
    if (config != null) {
        this.set(config);
    }
}

var keys;

if (Object.keys) {
    keys = Object.keys;
} else {
    keys = function (obj) {
        var i, res = [];
        for (i in obj) {
            if (hasOwnProp(obj, i)) {
                res.push(i);
            }
        }
        return res;
    };
}

var keys$1 = keys;

var defaultCalendar = {
    sameDay : '[Today at] LT',
    nextDay : '[Tomorrow at] LT',
    nextWeek : 'dddd [at] LT',
    lastDay : '[Yesterday at] LT',
    lastWeek : '[Last] dddd [at] LT',
    sameElse : 'L'
};

function calendar (key, mom, now) {
    var output = this._calendar[key] || this._calendar['sameElse'];
    return isFunction(output) ? output.call(mom, now) : output;
}

var defaultLongDateFormat = {
    LTS  : 'h:mm:ss A',
    LT   : 'h:mm A',
    L    : 'MM/DD/YYYY',
    LL   : 'MMMM D, YYYY',
    LLL  : 'MMMM D, YYYY h:mm A',
    LLLL : 'dddd, MMMM D, YYYY h:mm A'
};

function longDateFormat (key) {
    var format = this._longDateFormat[key],
        formatUpper = this._longDateFormat[key.toUpperCase()];

    if (format || !formatUpper) {
        return format;
    }

    this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function (val) {
        return val.slice(1);
    });

    return this._longDateFormat[key];
}

var defaultInvalidDate = 'Invalid date';

function invalidDate () {
    return this._invalidDate;
}

var defaultOrdinal = '%d';
var defaultOrdinalParse = /\d{1,2}/;

function ordinal (number) {
    return this._ordinal.replace('%d', number);
}

var defaultRelativeTime = {
    future : 'in %s',
    past   : '%s ago',
    s  : 'a few seconds',
    m  : 'a minute',
    mm : '%d minutes',
    h  : 'an hour',
    hh : '%d hours',
    d  : 'a day',
    dd : '%d days',
    M  : 'a month',
    MM : '%d months',
    y  : 'a year',
    yy : '%d years'
};

function relativeTime (number, withoutSuffix, string, isFuture) {
    var output = this._relativeTime[string];
    return (isFunction(output)) ?
        output(number, withoutSuffix, string, isFuture) :
        output.replace(/%d/i, number);
}

function pastFuture (diff, output) {
    var format = this._relativeTime[diff > 0 ? 'future' : 'past'];
    return isFunction(format) ? format(output) : format.replace(/%s/i, output);
}

var aliases = {};

function addUnitAlias (unit, shorthand) {
    var lowerCase = unit.toLowerCase();
    aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;
}

function normalizeUnits(units) {
    return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;
}

function normalizeObjectUnits(inputObject) {
    var normalizedInput = {},
        normalizedProp,
        prop;

    for (prop in inputObject) {
        if (hasOwnProp(inputObject, prop)) {
            normalizedProp = normalizeUnits(prop);
            if (normalizedProp) {
                normalizedInput[normalizedProp] = inputObject[prop];
            }
        }
    }

    return normalizedInput;
}

var priorities = {};

function addUnitPriority(unit, priority) {
    priorities[unit] = priority;
}

function getPrioritizedUnits(unitsObj) {
    var units = [];
    for (var u in unitsObj) {
        units.push({unit: u, priority: priorities[u]});
    }
    units.sort(function (a, b) {
        return a.priority - b.priority;
    });
    return units;
}

function makeGetSet (unit, keepTime) {
    return function (value) {
        if (value != null) {
            set$1(this, unit, value);
            hooks.updateOffset(this, keepTime);
            return this;
        } else {
            return get(this, unit);
        }
    };
}

function get (mom, unit) {
    return mom.isValid() ?
        mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]() : NaN;
}

function set$1 (mom, unit, value) {
    if (mom.isValid()) {
        mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);
    }
}

// MOMENTS

function stringGet (units) {
    units = normalizeUnits(units);
    if (isFunction(this[units])) {
        return this[units]();
    }
    return this;
}


function stringSet (units, value) {
    if (typeof units === 'object') {
        units = normalizeObjectUnits(units);
        var prioritized = getPrioritizedUnits(units);
        for (var i = 0; i < prioritized.length; i++) {
            this[prioritized[i].unit](units[prioritized[i].unit]);
        }
    } else {
        units = normalizeUnits(units);
        if (isFunction(this[units])) {
            return this[units](value);
        }
    }
    return this;
}

function zeroFill(number, targetLength, forceSign) {
    var absNumber = '' + Math.abs(number),
        zerosToFill = targetLength - absNumber.length,
        sign = number >= 0;
    return (sign ? (forceSign ? '+' : '') : '-') +
        Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;
}

var formattingTokens = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;

var localFormattingTokens = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;

var formatFunctions = {};

var formatTokenFunctions = {};

// token:    'M'
// padded:   ['MM', 2]
// ordinal:  'Mo'
// callback: function () { this.month() + 1 }
function addFormatToken (token, padded, ordinal, callback) {
    var func = callback;
    if (typeof callback === 'string') {
        func = function () {
            return this[callback]();
        };
    }
    if (token) {
        formatTokenFunctions[token] = func;
    }
    if (padded) {
        formatTokenFunctions[padded[0]] = function () {
            return zeroFill(func.apply(this, arguments), padded[1], padded[2]);
        };
    }
    if (ordinal) {
        formatTokenFunctions[ordinal] = function () {
            return this.localeData().ordinal(func.apply(this, arguments), token);
        };
    }
}

function removeFormattingTokens(input) {
    if (input.match(/\[[\s\S]/)) {
        return input.replace(/^\[|\]$/g, '');
    }
    return input.replace(/\\/g, '');
}

function makeFormatFunction(format) {
    var array = format.match(formattingTokens), i, length;

    for (i = 0, length = array.length; i < length; i++) {
        if (formatTokenFunctions[array[i]]) {
            array[i] = formatTokenFunctions[array[i]];
        } else {
            array[i] = removeFormattingTokens(array[i]);
        }
    }

    return function (mom) {
        var output = '', i;
        for (i = 0; i < length; i++) {
            output += array[i] instanceof Function ? array[i].call(mom, format) : array[i];
        }
        return output;
    };
}

// format date using native date object
function formatMoment(m, format) {
    if (!m.isValid()) {
        return m.localeData().invalidDate();
    }

    format = expandFormat(format, m.localeData());
    formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);

    return formatFunctions[format](m);
}

function expandFormat(format, locale) {
    var i = 5;

    function replaceLongDateFormatTokens(input) {
        return locale.longDateFormat(input) || input;
    }

    localFormattingTokens.lastIndex = 0;
    while (i >= 0 && localFormattingTokens.test(format)) {
        format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);
        localFormattingTokens.lastIndex = 0;
        i -= 1;
    }

    return format;
}

var match1         = /\d/;            //       0 - 9
var match2         = /\d\d/;          //      00 - 99
var match3         = /\d{3}/;         //     000 - 999
var match4         = /\d{4}/;         //    0000 - 9999
var match6         = /[+-]?\d{6}/;    // -999999 - 999999
var match1to2      = /\d\d?/;         //       0 - 99
var match3to4      = /\d\d\d\d?/;     //     999 - 9999
var match5to6      = /\d\d\d\d\d\d?/; //   99999 - 999999
var match1to3      = /\d{1,3}/;       //       0 - 999
var match1to4      = /\d{1,4}/;       //       0 - 9999
var match1to6      = /[+-]?\d{1,6}/;  // -999999 - 999999

var matchUnsigned  = /\d+/;           //       0 - inf
var matchSigned    = /[+-]?\d+/;      //    -inf - inf

var matchOffset    = /Z|[+-]\d\d:?\d\d/gi; // +00:00 -00:00 +0000 -0000 or Z
var matchShortOffset = /Z|[+-]\d\d(?::?\d\d)?/gi; // +00 -00 +00:00 -00:00 +0000 -0000 or Z

var matchTimestamp = /[+-]?\d+(\.\d{1,3})?/; // 123456789 123456789.123

// any word (or two) characters or numbers including two/three word month in arabic.
// includes scottish gaelic two word and hyphenated months
var matchWord = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i;


var regexes = {};

function addRegexToken (token, regex, strictRegex) {
    regexes[token] = isFunction(regex) ? regex : function (isStrict, localeData) {
        return (isStrict && strictRegex) ? strictRegex : regex;
    };
}

function getParseRegexForToken (token, config) {
    if (!hasOwnProp(regexes, token)) {
        return new RegExp(unescapeFormat(token));
    }

    return regexes[token](config._strict, config._locale);
}

// Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript
function unescapeFormat(s) {
    return regexEscape(s.replace('\\', '').replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function (matched, p1, p2, p3, p4) {
        return p1 || p2 || p3 || p4;
    }));
}

function regexEscape(s) {
    return s.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
}

var tokens = {};

function addParseToken (token, callback) {
    var i, func = callback;
    if (typeof token === 'string') {
        token = [token];
    }
    if (isNumber(callback)) {
        func = function (input, array) {
            array[callback] = toInt(input);
        };
    }
    for (i = 0; i < token.length; i++) {
        tokens[token[i]] = func;
    }
}

function addWeekParseToken (token, callback) {
    addParseToken(token, function (input, array, config, token) {
        config._w = config._w || {};
        callback(input, config._w, config, token);
    });
}

function addTimeToArrayFromToken(token, input, config) {
    if (input != null && hasOwnProp(tokens, token)) {
        tokens[token](input, config._a, config, token);
    }
}

var YEAR = 0;
var MONTH = 1;
var DATE = 2;
var HOUR = 3;
var MINUTE = 4;
var SECOND = 5;
var MILLISECOND = 6;
var WEEK = 7;
var WEEKDAY = 8;

var indexOf;

if (Array.prototype.indexOf) {
    indexOf = Array.prototype.indexOf;
} else {
    indexOf = function (o) {
        // I know
        var i;
        for (i = 0; i < this.length; ++i) {
            if (this[i] === o) {
                return i;
            }
        }
        return -1;
    };
}

var indexOf$1 = indexOf;

function daysInMonth(year, month) {
    return new Date(Date.UTC(year, month + 1, 0)).getUTCDate();
}

// FORMATTING

addFormatToken('M', ['MM', 2], 'Mo', function () {
    return this.month() + 1;
});

addFormatToken('MMM', 0, 0, function (format) {
    return this.localeData().monthsShort(this, format);
});

addFormatToken('MMMM', 0, 0, function (format) {
    return this.localeData().months(this, format);
});

// ALIASES

addUnitAlias('month', 'M');

// PRIORITY

addUnitPriority('month', 8);

// PARSING

addRegexToken('M',    match1to2);
addRegexToken('MM',   match1to2, match2);
addRegexToken('MMM',  function (isStrict, locale) {
    return locale.monthsShortRegex(isStrict);
});
addRegexToken('MMMM', function (isStrict, locale) {
    return locale.monthsRegex(isStrict);
});

addParseToken(['M', 'MM'], function (input, array) {
    array[MONTH] = toInt(input) - 1;
});

addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {
    var month = config._locale.monthsParse(input, token, config._strict);
    // if we didn't find a month name, mark the date as invalid.
    if (month != null) {
        array[MONTH] = month;
    } else {
        getParsingFlags(config).invalidMonth = input;
    }
});

// LOCALES

var MONTHS_IN_FORMAT = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;
var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');
function localeMonths (m, format) {
    if (!m) {
        return this._months;
    }
    return isArray(this._months) ? this._months[m.month()] :
        this._months[(this._months.isFormat || MONTHS_IN_FORMAT).test(format) ? 'format' : 'standalone'][m.month()];
}

var defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');
function localeMonthsShort (m, format) {
    if (!m) {
        return this._monthsShort;
    }
    return isArray(this._monthsShort) ? this._monthsShort[m.month()] :
        this._monthsShort[MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'][m.month()];
}

function handleStrictParse(monthName, format, strict) {
    var i, ii, mom, llc = monthName.toLocaleLowerCase();
    if (!this._monthsParse) {
        // this is not used
        this._monthsParse = [];
        this._longMonthsParse = [];
        this._shortMonthsParse = [];
        for (i = 0; i < 12; ++i) {
            mom = createUTC([2000, i]);
            this._shortMonthsParse[i] = this.monthsShort(mom, '').toLocaleLowerCase();
            this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();
        }
    }

    if (strict) {
        if (format === 'MMM') {
            ii = indexOf$1.call(this._shortMonthsParse, llc);
            return ii !== -1 ? ii : null;
        } else {
            ii = indexOf$1.call(this._longMonthsParse, llc);
            return ii !== -1 ? ii : null;
        }
    } else {
        if (format === 'MMM') {
            ii = indexOf$1.call(this._shortMonthsParse, llc);
            if (ii !== -1) {
                return ii;
            }
            ii = indexOf$1.call(this._longMonthsParse, llc);
            return ii !== -1 ? ii : null;
        } else {
            ii = indexOf$1.call(this._longMonthsParse, llc);
            if (ii !== -1) {
                return ii;
            }
            ii = indexOf$1.call(this._shortMonthsParse, llc);
            return ii !== -1 ? ii : null;
        }
    }
}

function localeMonthsParse (monthName, format, strict) {
    var i, mom, regex;

    if (this._monthsParseExact) {
        return handleStrictParse.call(this, monthName, format, strict);
    }

    if (!this._monthsParse) {
        this._monthsParse = [];
        this._longMonthsParse = [];
        this._shortMonthsParse = [];
    }

    // TODO: add sorting
    // Sorting makes sure if one month (or abbr) is a prefix of another
    // see sorting in computeMonthsParse
    for (i = 0; i < 12; i++) {
        // make the regex if we don't have it already
        mom = createUTC([2000, i]);
        if (strict && !this._longMonthsParse[i]) {
            this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');
            this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');
        }
        if (!strict && !this._monthsParse[i]) {
            regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');
            this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');
        }
        // test the regex
        if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {
            return i;
        } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {
            return i;
        } else if (!strict && this._monthsParse[i].test(monthName)) {
            return i;
        }
    }
}

// MOMENTS

function setMonth (mom, value) {
    var dayOfMonth;

    if (!mom.isValid()) {
        // No op
        return mom;
    }

    if (typeof value === 'string') {
        if (/^\d+$/.test(value)) {
            value = toInt(value);
        } else {
            value = mom.localeData().monthsParse(value);
            // TODO: Another silent failure?
            if (!isNumber(value)) {
                return mom;
            }
        }
    }

    dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));
    mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);
    return mom;
}

function getSetMonth (value) {
    if (value != null) {
        setMonth(this, value);
        hooks.updateOffset(this, true);
        return this;
    } else {
        return get(this, 'Month');
    }
}

function getDaysInMonth () {
    return daysInMonth(this.year(), this.month());
}

var defaultMonthsShortRegex = matchWord;
function monthsShortRegex (isStrict) {
    if (this._monthsParseExact) {
        if (!hasOwnProp(this, '_monthsRegex')) {
            computeMonthsParse.call(this);
        }
        if (isStrict) {
            return this._monthsShortStrictRegex;
        } else {
            return this._monthsShortRegex;
        }
    } else {
        if (!hasOwnProp(this, '_monthsShortRegex')) {
            this._monthsShortRegex = defaultMonthsShortRegex;
        }
        return this._monthsShortStrictRegex && isStrict ?
            this._monthsShortStrictRegex : this._monthsShortRegex;
    }
}

var defaultMonthsRegex = matchWord;
function monthsRegex (isStrict) {
    if (this._monthsParseExact) {
        if (!hasOwnProp(this, '_monthsRegex')) {
            computeMonthsParse.call(this);
        }
        if (isStrict) {
            return this._monthsStrictRegex;
        } else {
            return this._monthsRegex;
        }
    } else {
        if (!hasOwnProp(this, '_monthsRegex')) {
            this._monthsRegex = defaultMonthsRegex;
        }
        return this._monthsStrictRegex && isStrict ?
            this._monthsStrictRegex : this._monthsRegex;
    }
}

function computeMonthsParse () {
    function cmpLenRev(a, b) {
        return b.length - a.length;
    }

    var shortPieces = [], longPieces = [], mixedPieces = [],
        i, mom;
    for (i = 0; i < 12; i++) {
        // make the regex if we don't have it already
        mom = createUTC([2000, i]);
        shortPieces.push(this.monthsShort(mom, ''));
        longPieces.push(this.months(mom, ''));
        mixedPieces.push(this.months(mom, ''));
        mixedPieces.push(this.monthsShort(mom, ''));
    }
    // Sorting makes sure if one month (or abbr) is a prefix of another it
    // will match the longer piece.
    shortPieces.sort(cmpLenRev);
    longPieces.sort(cmpLenRev);
    mixedPieces.sort(cmpLenRev);
    for (i = 0; i < 12; i++) {
        shortPieces[i] = regexEscape(shortPieces[i]);
        longPieces[i] = regexEscape(longPieces[i]);
    }
    for (i = 0; i < 24; i++) {
        mixedPieces[i] = regexEscape(mixedPieces[i]);
    }

    this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
    this._monthsShortRegex = this._monthsRegex;
    this._monthsStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');
    this._monthsShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');
}

// FORMATTING

addFormatToken('Y', 0, 0, function () {
    var y = this.year();
    return y <= 9999 ? '' + y : '+' + y;
});

addFormatToken(0, ['YY', 2], 0, function () {
    return this.year() % 100;
});

addFormatToken(0, ['YYYY',   4],       0, 'year');
addFormatToken(0, ['YYYYY',  5],       0, 'year');
addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');

// ALIASES

addUnitAlias('year', 'y');

// PRIORITIES

addUnitPriority('year', 1);

// PARSING

addRegexToken('Y',      matchSigned);
addRegexToken('YY',     match1to2, match2);
addRegexToken('YYYY',   match1to4, match4);
addRegexToken('YYYYY',  match1to6, match6);
addRegexToken('YYYYYY', match1to6, match6);

addParseToken(['YYYYY', 'YYYYYY'], YEAR);
addParseToken('YYYY', function (input, array) {
    array[YEAR] = input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);
});
addParseToken('YY', function (input, array) {
    array[YEAR] = hooks.parseTwoDigitYear(input);
});
addParseToken('Y', function (input, array) {
    array[YEAR] = parseInt(input, 10);
});

// HELPERS

function daysInYear(year) {
    return isLeapYear(year) ? 366 : 365;
}

function isLeapYear(year) {
    return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;
}

// HOOKS

hooks.parseTwoDigitYear = function (input) {
    return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);
};

// MOMENTS

var getSetYear = makeGetSet('FullYear', true);

function getIsLeapYear () {
    return isLeapYear(this.year());
}

function createDate (y, m, d, h, M, s, ms) {
    //can't just apply() to create a date:
    //http://stackoverflow.com/questions/181348/instantiating-a-javascript-object-by-calling-prototype-constructor-apply
    var date = new Date(y, m, d, h, M, s, ms);

    //the date constructor remaps years 0-99 to 1900-1999
    if (y < 100 && y >= 0 && isFinite(date.getFullYear())) {
        date.setFullYear(y);
    }
    return date;
}

function createUTCDate (y) {
    var date = new Date(Date.UTC.apply(null, arguments));

    //the Date.UTC function remaps years 0-99 to 1900-1999
    if (y < 100 && y >= 0 && isFinite(date.getUTCFullYear())) {
        date.setUTCFullYear(y);
    }
    return date;
}

// start-of-first-week - start-of-year
function firstWeekOffset(year, dow, doy) {
    var // first-week day -- which january is always in the first week (4 for iso, 1 for other)
        fwd = 7 + dow - doy,
        // first-week day local weekday -- which local weekday is fwd
        fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;

    return -fwdlw + fwd - 1;
}

//http://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday
function dayOfYearFromWeeks(year, week, weekday, dow, doy) {
    var localWeekday = (7 + weekday - dow) % 7,
        weekOffset = firstWeekOffset(year, dow, doy),
        dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,
        resYear, resDayOfYear;

    if (dayOfYear <= 0) {
        resYear = year - 1;
        resDayOfYear = daysInYear(resYear) + dayOfYear;
    } else if (dayOfYear > daysInYear(year)) {
        resYear = year + 1;
        resDayOfYear = dayOfYear - daysInYear(year);
    } else {
        resYear = year;
        resDayOfYear = dayOfYear;
    }

    return {
        year: resYear,
        dayOfYear: resDayOfYear
    };
}

function weekOfYear(mom, dow, doy) {
    var weekOffset = firstWeekOffset(mom.year(), dow, doy),
        week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,
        resWeek, resYear;

    if (week < 1) {
        resYear = mom.year() - 1;
        resWeek = week + weeksInYear(resYear, dow, doy);
    } else if (week > weeksInYear(mom.year(), dow, doy)) {
        resWeek = week - weeksInYear(mom.year(), dow, doy);
        resYear = mom.year() + 1;
    } else {
        resYear = mom.year();
        resWeek = week;
    }

    return {
        week: resWeek,
        year: resYear
    };
}

function weeksInYear(year, dow, doy) {
    var weekOffset = firstWeekOffset(year, dow, doy),
        weekOffsetNext = firstWeekOffset(year + 1, dow, doy);
    return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;
}

// FORMATTING

addFormatToken('w', ['ww', 2], 'wo', 'week');
addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');

// ALIASES

addUnitAlias('week', 'w');
addUnitAlias('isoWeek', 'W');

// PRIORITIES

addUnitPriority('week', 5);
addUnitPriority('isoWeek', 5);

// PARSING

addRegexToken('w',  match1to2);
addRegexToken('ww', match1to2, match2);
addRegexToken('W',  match1to2);
addRegexToken('WW', match1to2, match2);

addWeekParseToken(['w', 'ww', 'W', 'WW'], function (input, week, config, token) {
    week[token.substr(0, 1)] = toInt(input);
});

// HELPERS

// LOCALES

function localeWeek (mom) {
    return weekOfYear(mom, this._week.dow, this._week.doy).week;
}

var defaultLocaleWeek = {
    dow : 0, // Sunday is the first day of the week.
    doy : 6  // The week that contains Jan 1st is the first week of the year.
};

function localeFirstDayOfWeek () {
    return this._week.dow;
}

function localeFirstDayOfYear () {
    return this._week.doy;
}

// MOMENTS

function getSetWeek (input) {
    var week = this.localeData().week(this);
    return input == null ? week : this.add((input - week) * 7, 'd');
}

function getSetISOWeek (input) {
    var week = weekOfYear(this, 1, 4).week;
    return input == null ? week : this.add((input - week) * 7, 'd');
}

// FORMATTING

addFormatToken('d', 0, 'do', 'day');

addFormatToken('dd', 0, 0, function (format) {
    return this.localeData().weekdaysMin(this, format);
});

addFormatToken('ddd', 0, 0, function (format) {
    return this.localeData().weekdaysShort(this, format);
});

addFormatToken('dddd', 0, 0, function (format) {
    return this.localeData().weekdays(this, format);
});

addFormatToken('e', 0, 0, 'weekday');
addFormatToken('E', 0, 0, 'isoWeekday');

// ALIASES

addUnitAlias('day', 'd');
addUnitAlias('weekday', 'e');
addUnitAlias('isoWeekday', 'E');

// PRIORITY
addUnitPriority('day', 11);
addUnitPriority('weekday', 11);
addUnitPriority('isoWeekday', 11);

// PARSING

addRegexToken('d',    match1to2);
addRegexToken('e',    match1to2);
addRegexToken('E',    match1to2);
addRegexToken('dd',   function (isStrict, locale) {
    return locale.weekdaysMinRegex(isStrict);
});
addRegexToken('ddd',   function (isStrict, locale) {
    return locale.weekdaysShortRegex(isStrict);
});
addRegexToken('dddd',   function (isStrict, locale) {
    return locale.weekdaysRegex(isStrict);
});

addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {
    var weekday = config._locale.weekdaysParse(input, token, config._strict);
    // if we didn't get a weekday name, mark the date as invalid
    if (weekday != null) {
        week.d = weekday;
    } else {
        getParsingFlags(config).invalidWeekday = input;
    }
});

addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {
    week[token] = toInt(input);
});

// HELPERS

function parseWeekday(input, locale) {
    if (typeof input !== 'string') {
        return input;
    }

    if (!isNaN(input)) {
        return parseInt(input, 10);
    }

    input = locale.weekdaysParse(input);
    if (typeof input === 'number') {
        return input;
    }

    return null;
}

function parseIsoWeekday(input, locale) {
    if (typeof input === 'string') {
        return locale.weekdaysParse(input) % 7 || 7;
    }
    return isNaN(input) ? null : input;
}

// LOCALES

var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');
function localeWeekdays (m, format) {
    if (!m) {
        return this._weekdays;
    }
    return isArray(this._weekdays) ? this._weekdays[m.day()] :
        this._weekdays[this._weekdays.isFormat.test(format) ? 'format' : 'standalone'][m.day()];
}

var defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');
function localeWeekdaysShort (m) {
    return (m) ? this._weekdaysShort[m.day()] : this._weekdaysShort;
}

var defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');
function localeWeekdaysMin (m) {
    return (m) ? this._weekdaysMin[m.day()] : this._weekdaysMin;
}

function handleStrictParse$1(weekdayName, format, strict) {
    var i, ii, mom, llc = weekdayName.toLocaleLowerCase();
    if (!this._weekdaysParse) {
        this._weekdaysParse = [];
        this._shortWeekdaysParse = [];
        this._minWeekdaysParse = [];

        for (i = 0; i < 7; ++i) {
            mom = createUTC([2000, 1]).day(i);
            this._minWeekdaysParse[i] = this.weekdaysMin(mom, '').toLocaleLowerCase();
            this._shortWeekdaysParse[i] = this.weekdaysShort(mom, '').toLocaleLowerCase();
            this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();
        }
    }

    if (strict) {
        if (format === 'dddd') {
            ii = indexOf$1.call(this._weekdaysParse, llc);
            return ii !== -1 ? ii : null;
        } else if (format === 'ddd') {
            ii = indexOf$1.call(this._shortWeekdaysParse, llc);
            return ii !== -1 ? ii : null;
        } else {
            ii = indexOf$1.call(this._minWeekdaysParse, llc);
            return ii !== -1 ? ii : null;
        }
    } else {
        if (format === 'dddd') {
            ii = indexOf$1.call(this._weekdaysParse, llc);
            if (ii !== -1) {
                return ii;
            }
            ii = indexOf$1.call(this._shortWeekdaysParse, llc);
            if (ii !== -1) {
                return ii;
            }
            ii = indexOf$1.call(this._minWeekdaysParse, llc);
            return ii !== -1 ? ii : null;
        } else if (format === 'ddd') {
            ii = indexOf$1.call(this._shortWeekdaysParse, llc);
            if (ii !== -1) {
                return ii;
            }
            ii = indexOf$1.call(this._weekdaysParse, llc);
            if (ii !== -1) {
                return ii;
            }
            ii = indexOf$1.call(this._minWeekdaysParse, llc);
            return ii !== -1 ? ii : null;
        } else {
            ii = indexOf$1.call(this._minWeekdaysParse, llc);
            if (ii !== -1) {
                return ii;
            }
            ii = indexOf$1.call(this._weekdaysParse, llc);
            if (ii !== -1) {
                return ii;
            }
            ii = indexOf$1.call(this._shortWeekdaysParse, llc);
            return ii !== -1 ? ii : null;
        }
    }
}

function localeWeekdaysParse (weekdayName, format, strict) {
    var i, mom, regex;

    if (this._weekdaysParseExact) {
        return handleStrictParse$1.call(this, weekdayName, format, strict);
    }

    if (!this._weekdaysParse) {
        this._weekdaysParse = [];
        this._minWeekdaysParse = [];
        this._shortWeekdaysParse = [];
        this._fullWeekdaysParse = [];
    }

    for (i = 0; i < 7; i++) {
        // make the regex if we don't have it already

        mom = createUTC([2000, 1]).day(i);
        if (strict && !this._fullWeekdaysParse[i]) {
            this._fullWeekdaysParse[i] = new RegExp('^' + this.weekdays(mom, '').replace('.', '\.?') + '$', 'i');
            this._shortWeekdaysParse[i] = new RegExp('^' + this.weekdaysShort(mom, '').replace('.', '\.?') + '$', 'i');
            this._minWeekdaysParse[i] = new RegExp('^' + this.weekdaysMin(mom, '').replace('.', '\.?') + '$', 'i');
        }
        if (!this._weekdaysParse[i]) {
            regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');
            this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');
        }
        // test the regex
        if (strict && format === 'dddd' && this._fullWeekdaysParse[i].test(weekdayName)) {
            return i;
        } else if (strict && format === 'ddd' && this._shortWeekdaysParse[i].test(weekdayName)) {
            return i;
        } else if (strict && format === 'dd' && this._minWeekdaysParse[i].test(weekdayName)) {
            return i;
        } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {
            return i;
        }
    }
}

// MOMENTS

function getSetDayOfWeek (input) {
    if (!this.isValid()) {
        return input != null ? this : NaN;
    }
    var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
    if (input != null) {
        input = parseWeekday(input, this.localeData());
        return this.add(input - day, 'd');
    } else {
        return day;
    }
}

function getSetLocaleDayOfWeek (input) {
    if (!this.isValid()) {
        return input != null ? this : NaN;
    }
    var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;
    return input == null ? weekday : this.add(input - weekday, 'd');
}

function getSetISODayOfWeek (input) {
    if (!this.isValid()) {
        return input != null ? this : NaN;
    }

    // behaves the same as moment#day except
    // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)
    // as a setter, sunday should belong to the previous week.

    if (input != null) {
        var weekday = parseIsoWeekday(input, this.localeData());
        return this.day(this.day() % 7 ? weekday : weekday - 7);
    } else {
        return this.day() || 7;
    }
}

var defaultWeekdaysRegex = matchWord;
function weekdaysRegex (isStrict) {
    if (this._weekdaysParseExact) {
        if (!hasOwnProp(this, '_weekdaysRegex')) {
            computeWeekdaysParse.call(this);
        }
        if (isStrict) {
            return this._weekdaysStrictRegex;
        } else {
            return this._weekdaysRegex;
        }
    } else {
        if (!hasOwnProp(this, '_weekdaysRegex')) {
            this._weekdaysRegex = defaultWeekdaysRegex;
        }
        return this._weekdaysStrictRegex && isStrict ?
            this._weekdaysStrictRegex : this._weekdaysRegex;
    }
}

var defaultWeekdaysShortRegex = matchWord;
function weekdaysShortRegex (isStrict) {
    if (this._weekdaysParseExact) {
        if (!hasOwnProp(this, '_weekdaysRegex')) {
            computeWeekdaysParse.call(this);
        }
        if (isStrict) {
            return this._weekdaysShortStrictRegex;
        } else {
            return this._weekdaysShortRegex;
        }
    } else {
        if (!hasOwnProp(this, '_weekdaysShortRegex')) {
            this._weekdaysShortRegex = defaultWeekdaysShortRegex;
        }
        return this._weekdaysShortStrictRegex && isStrict ?
            this._weekdaysShortStrictRegex : this._weekdaysShortRegex;
    }
}

var defaultWeekdaysMinRegex = matchWord;
function weekdaysMinRegex (isStrict) {
    if (this._weekdaysParseExact) {
        if (!hasOwnProp(this, '_weekdaysRegex')) {
            computeWeekdaysParse.call(this);
        }
        if (isStrict) {
            return this._weekdaysMinStrictRegex;
        } else {
            return this._weekdaysMinRegex;
        }
    } else {
        if (!hasOwnProp(this, '_weekdaysMinRegex')) {
            this._weekdaysMinRegex = defaultWeekdaysMinRegex;
        }
        return this._weekdaysMinStrictRegex && isStrict ?
            this._weekdaysMinStrictRegex : this._weekdaysMinRegex;
    }
}


function computeWeekdaysParse () {
    function cmpLenRev(a, b) {
        return b.length - a.length;
    }

    var minPieces = [], shortPieces = [], longPieces = [], mixedPieces = [],
        i, mom, minp, shortp, longp;
    for (i = 0; i < 7; i++) {
        // make the regex if we don't have it already
        mom = createUTC([2000, 1]).day(i);
        minp = this.weekdaysMin(mom, '');
        shortp = this.weekdaysShort(mom, '');
        longp = this.weekdays(mom, '');
        minPieces.push(minp);
        shortPieces.push(shortp);
        longPieces.push(longp);
        mixedPieces.push(minp);
        mixedPieces.push(shortp);
        mixedPieces.push(longp);
    }
    // Sorting makes sure if one weekday (or abbr) is a prefix of another it
    // will match the longer piece.
    minPieces.sort(cmpLenRev);
    shortPieces.sort(cmpLenRev);
    longPieces.sort(cmpLenRev);
    mixedPieces.sort(cmpLenRev);
    for (i = 0; i < 7; i++) {
        shortPieces[i] = regexEscape(shortPieces[i]);
        longPieces[i] = regexEscape(longPieces[i]);
        mixedPieces[i] = regexEscape(mixedPieces[i]);
    }

    this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
    this._weekdaysShortRegex = this._weekdaysRegex;
    this._weekdaysMinRegex = this._weekdaysRegex;

    this._weekdaysStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');
    this._weekdaysShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');
    this._weekdaysMinStrictRegex = new RegExp('^(' + minPieces.join('|') + ')', 'i');
}

// FORMATTING

function hFormat() {
    return this.hours() % 12 || 12;
}

function kFormat() {
    return this.hours() || 24;
}

addFormatToken('H', ['HH', 2], 0, 'hour');
addFormatToken('h', ['hh', 2], 0, hFormat);
addFormatToken('k', ['kk', 2], 0, kFormat);

addFormatToken('hmm', 0, 0, function () {
    return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);
});

addFormatToken('hmmss', 0, 0, function () {
    return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2) +
        zeroFill(this.seconds(), 2);
});

addFormatToken('Hmm', 0, 0, function () {
    return '' + this.hours() + zeroFill(this.minutes(), 2);
});

addFormatToken('Hmmss', 0, 0, function () {
    return '' + this.hours() + zeroFill(this.minutes(), 2) +
        zeroFill(this.seconds(), 2);
});

function meridiem (token, lowercase) {
    addFormatToken(token, 0, 0, function () {
        return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);
    });
}

meridiem('a', true);
meridiem('A', false);

// ALIASES

addUnitAlias('hour', 'h');

// PRIORITY
addUnitPriority('hour', 13);

// PARSING

function matchMeridiem (isStrict, locale) {
    return locale._meridiemParse;
}

addRegexToken('a',  matchMeridiem);
addRegexToken('A',  matchMeridiem);
addRegexToken('H',  match1to2);
addRegexToken('h',  match1to2);
addRegexToken('HH', match1to2, match2);
addRegexToken('hh', match1to2, match2);

addRegexToken('hmm', match3to4);
addRegexToken('hmmss', match5to6);
addRegexToken('Hmm', match3to4);
addRegexToken('Hmmss', match5to6);

addParseToken(['H', 'HH'], HOUR);
addParseToken(['a', 'A'], function (input, array, config) {
    config._isPm = config._locale.isPM(input);
    config._meridiem = input;
});
addParseToken(['h', 'hh'], function (input, array, config) {
    array[HOUR] = toInt(input);
    getParsingFlags(config).bigHour = true;
});
addParseToken('hmm', function (input, array, config) {
    var pos = input.length - 2;
    array[HOUR] = toInt(input.substr(0, pos));
    array[MINUTE] = toInt(input.substr(pos));
    getParsingFlags(config).bigHour = true;
});
addParseToken('hmmss', function (input, array, config) {
    var pos1 = input.length - 4;
    var pos2 = input.length - 2;
    array[HOUR] = toInt(input.substr(0, pos1));
    array[MINUTE] = toInt(input.substr(pos1, 2));
    array[SECOND] = toInt(input.substr(pos2));
    getParsingFlags(config).bigHour = true;
});
addParseToken('Hmm', function (input, array, config) {
    var pos = input.length - 2;
    array[HOUR] = toInt(input.substr(0, pos));
    array[MINUTE] = toInt(input.substr(pos));
});
addParseToken('Hmmss', function (input, array, config) {
    var pos1 = input.length - 4;
    var pos2 = input.length - 2;
    array[HOUR] = toInt(input.substr(0, pos1));
    array[MINUTE] = toInt(input.substr(pos1, 2));
    array[SECOND] = toInt(input.substr(pos2));
});

// LOCALES

function localeIsPM (input) {
    // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays
    // Using charAt should be more compatible.
    return ((input + '').toLowerCase().charAt(0) === 'p');
}

var defaultLocaleMeridiemParse = /[ap]\.?m?\.?/i;
function localeMeridiem (hours, minutes, isLower) {
    if (hours > 11) {
        return isLower ? 'pm' : 'PM';
    } else {
        return isLower ? 'am' : 'AM';
    }
}


// MOMENTS

// Setting the hour should keep the time, because the user explicitly
// specified which hour he wants. So trying to maintain the same hour (in
// a new timezone) makes sense. Adding/subtracting hours does not follow
// this rule.
var getSetHour = makeGetSet('Hours', true);

// months
// week
// weekdays
// meridiem
var baseConfig = {
    calendar: defaultCalendar,
    longDateFormat: defaultLongDateFormat,
    invalidDate: defaultInvalidDate,
    ordinal: defaultOrdinal,
    ordinalParse: defaultOrdinalParse,
    relativeTime: defaultRelativeTime,

    months: defaultLocaleMonths,
    monthsShort: defaultLocaleMonthsShort,

    week: defaultLocaleWeek,

    weekdays: defaultLocaleWeekdays,
    weekdaysMin: defaultLocaleWeekdaysMin,
    weekdaysShort: defaultLocaleWeekdaysShort,

    meridiemParse: defaultLocaleMeridiemParse
};

// internal storage for locale config files
var locales = {};
var localeFamilies = {};
var globalLocale;

function normalizeLocale(key) {
    return key ? key.toLowerCase().replace('_', '-') : key;
}

// pick the locale from the array
// try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each
// substring from most specific to least, but move to the next array item if it's a more specific variant than the current root
function chooseLocale(names) {
    var i = 0, j, next, locale, split;

    while (i < names.length) {
        split = normalizeLocale(names[i]).split('-');
        j = split.length;
        next = normalizeLocale(names[i + 1]);
        next = next ? next.split('-') : null;
        while (j > 0) {
            locale = loadLocale(split.slice(0, j).join('-'));
            if (locale) {
                return locale;
            }
            if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {
                //the next array item is better than a shallower substring of this one
                break;
            }
            j--;
        }
        i++;
    }
    return null;
}

function loadLocale(name) {
    var oldLocale = null;
    // TODO: Find a better way to register and load all the locales in Node
    if (!locales[name] && (typeof module !== 'undefined') &&
            module && module.exports) {
        try {
            oldLocale = globalLocale._abbr;
            require('./locale/' + name);
            // because defineLocale currently also sets the global locale, we
            // want to undo that for lazy loaded locales
            getSetGlobalLocale(oldLocale);
        } catch (e) { }
    }
    return locales[name];
}

// This function will load locale and then set the global locale.  If
// no arguments are passed in, it will simply return the current global
// locale key.
function getSetGlobalLocale (key, values) {
    var data;
    if (key) {
        if (isUndefined(values)) {
            data = getLocale(key);
        }
        else {
            data = defineLocale(key, values);
        }

        if (data) {
            // moment.duration._locale = moment._locale = data;
            globalLocale = data;
        }
    }

    return globalLocale._abbr;
}

function defineLocale (name, config) {
    if (config !== null) {
        var parentConfig = baseConfig;
        config.abbr = name;
        if (locales[name] != null) {
            deprecateSimple('defineLocaleOverride',
                    'use moment.updateLocale(localeName, config) to change ' +
                    'an existing locale. moment.defineLocale(localeName, ' +
                    'config) should only be used for creating a new locale ' +
                    'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.');
            parentConfig = locales[name]._config;
        } else if (config.parentLocale != null) {
            if (locales[config.parentLocale] != null) {
                parentConfig = locales[config.parentLocale]._config;
            } else {
                if (!localeFamilies[config.parentLocale]) {
                    localeFamilies[config.parentLocale] = [];
                }
                localeFamilies[config.parentLocale].push({
                    name: name,
                    config: config
                });
                return null;
            }
        }
        locales[name] = new Locale(mergeConfigs(parentConfig, config));

        if (localeFamilies[name]) {
            localeFamilies[name].forEach(function (x) {
                defineLocale(x.name, x.config);
            });
        }

        // backwards compat for now: also set the locale
        // make sure we set the locale AFTER all child locales have been
        // created, so we won't end up with the child locale set.
        getSetGlobalLocale(name);


        return locales[name];
    } else {
        // useful for testing
        delete locales[name];
        return null;
    }
}

function updateLocale(name, config) {
    if (config != null) {
        var locale, parentConfig = baseConfig;
        // MERGE
        if (locales[name] != null) {
            parentConfig = locales[name]._config;
        }
        config = mergeConfigs(parentConfig, config);
        locale = new Locale(config);
        locale.parentLocale = locales[name];
        locales[name] = locale;

        // backwards compat for now: also set the locale
        getSetGlobalLocale(name);
    } else {
        // pass null for config to unupdate, useful for tests
        if (locales[name] != null) {
            if (locales[name].parentLocale != null) {
                locales[name] = locales[name].parentLocale;
            } else if (locales[name] != null) {
                delete locales[name];
            }
        }
    }
    return locales[name];
}

// returns locale data
function getLocale (key) {
    var locale;

    if (key && key._locale && key._locale._abbr) {
        key = key._locale._abbr;
    }

    if (!key) {
        return globalLocale;
    }

    if (!isArray(key)) {
        //short-circuit everything else
        locale = loadLocale(key);
        if (locale) {
            return locale;
        }
        key = [key];
    }

    return chooseLocale(key);
}

function listLocales() {
    return keys$1(locales);
}

function checkOverflow (m) {
    var overflow;
    var a = m._a;

    if (a && getParsingFlags(m).overflow === -2) {
        overflow =
            a[MONTH]       < 0 || a[MONTH]       > 11  ? MONTH :
            a[DATE]        < 1 || a[DATE]        > daysInMonth(a[YEAR], a[MONTH]) ? DATE :
            a[HOUR]        < 0 || a[HOUR]        > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR :
            a[MINUTE]      < 0 || a[MINUTE]      > 59  ? MINUTE :
            a[SECOND]      < 0 || a[SECOND]      > 59  ? SECOND :
            a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND :
            -1;

        if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {
            overflow = DATE;
        }
        if (getParsingFlags(m)._overflowWeeks && overflow === -1) {
            overflow = WEEK;
        }
        if (getParsingFlags(m)._overflowWeekday && overflow === -1) {
            overflow = WEEKDAY;
        }

        getParsingFlags(m).overflow = overflow;
    }

    return m;
}

// iso 8601 regex
// 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)
var extendedIsoRegex = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;
var basicIsoRegex = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;

var tzRegex = /Z|[+-]\d\d(?::?\d\d)?/;

var isoDates = [
    ['YYYYYY-MM-DD', /[+-]\d{6}-\d\d-\d\d/],
    ['YYYY-MM-DD', /\d{4}-\d\d-\d\d/],
    ['GGGG-[W]WW-E', /\d{4}-W\d\d-\d/],
    ['GGGG-[W]WW', /\d{4}-W\d\d/, false],
    ['YYYY-DDD', /\d{4}-\d{3}/],
    ['YYYY-MM', /\d{4}-\d\d/, false],
    ['YYYYYYMMDD', /[+-]\d{10}/],
    ['YYYYMMDD', /\d{8}/],
    // YYYYMM is NOT allowed by the standard
    ['GGGG[W]WWE', /\d{4}W\d{3}/],
    ['GGGG[W]WW', /\d{4}W\d{2}/, false],
    ['YYYYDDD', /\d{7}/]
];

// iso time formats and regexes
var isoTimes = [
    ['HH:mm:ss.SSSS', /\d\d:\d\d:\d\d\.\d+/],
    ['HH:mm:ss,SSSS', /\d\d:\d\d:\d\d,\d+/],
    ['HH:mm:ss', /\d\d:\d\d:\d\d/],
    ['HH:mm', /\d\d:\d\d/],
    ['HHmmss.SSSS', /\d\d\d\d\d\d\.\d+/],
    ['HHmmss,SSSS', /\d\d\d\d\d\d,\d+/],
    ['HHmmss', /\d\d\d\d\d\d/],
    ['HHmm', /\d\d\d\d/],
    ['HH', /\d\d/]
];

var aspNetJsonRegex = /^\/?Date\((\-?\d+)/i;

// date from iso format
function configFromISO(config) {
    var i, l,
        string = config._i,
        match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),
        allowTime, dateFormat, timeFormat, tzFormat;

    if (match) {
        getParsingFlags(config).iso = true;

        for (i = 0, l = isoDates.length; i < l; i++) {
            if (isoDates[i][1].exec(match[1])) {
                dateFormat = isoDates[i][0];
                allowTime = isoDates[i][2] !== false;
                break;
            }
        }
        if (dateFormat == null) {
            config._isValid = false;
            return;
        }
        if (match[3]) {
            for (i = 0, l = isoTimes.length; i < l; i++) {
                if (isoTimes[i][1].exec(match[3])) {
                    // match[2] should be 'T' or space
                    timeFormat = (match[2] || ' ') + isoTimes[i][0];
                    break;
                }
            }
            if (timeFormat == null) {
                config._isValid = false;
                return;
            }
        }
        if (!allowTime && timeFormat != null) {
            config._isValid = false;
            return;
        }
        if (match[4]) {
            if (tzRegex.exec(match[4])) {
                tzFormat = 'Z';
            } else {
                config._isValid = false;
                return;
            }
        }
        config._f = dateFormat + (timeFormat || '') + (tzFormat || '');
        configFromStringAndFormat(config);
    } else {
        config._isValid = false;
    }
}

// date from iso format or fallback
function configFromString(config) {
    var matched = aspNetJsonRegex.exec(config._i);

    if (matched !== null) {
        config._d = new Date(+matched[1]);
        return;
    }

    configFromISO(config);
    if (config._isValid === false) {
        delete config._isValid;
        hooks.createFromInputFallback(config);
    }
}

hooks.createFromInputFallback = deprecate(
    'value provided is not in a recognized ISO format. moment construction falls back to js Date(), ' +
    'which is not reliable across all browsers and versions. Non ISO date formats are ' +
    'discouraged and will be removed in an upcoming major release. Please refer to ' +
    'http://momentjs.com/guides/#/warnings/js-date/ for more info.',
    function (config) {
        config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));
    }
);

// Pick the first defined of two or three arguments.
function defaults(a, b, c) {
    if (a != null) {
        return a;
    }
    if (b != null) {
        return b;
    }
    return c;
}

function currentDateArray(config) {
    // hooks is actually the exported moment object
    var nowValue = new Date(hooks.now());
    if (config._useUTC) {
        return [nowValue.getUTCFullYear(), nowValue.getUTCMonth(), nowValue.getUTCDate()];
    }
    return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];
}

// convert an array to a date.
// the array should mirror the parameters below
// note: all values past the year are optional and will default to the lowest possible value.
// [year, month, day , hour, minute, second, millisecond]
function configFromArray (config) {
    var i, date, input = [], currentDate, yearToUse;

    if (config._d) {
        return;
    }

    currentDate = currentDateArray(config);

    //compute day of the year from weeks and weekdays
    if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {
        dayOfYearFromWeekInfo(config);
    }

    //if the day of the year is set, figure out what it is
    if (config._dayOfYear) {
        yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);

        if (config._dayOfYear > daysInYear(yearToUse)) {
            getParsingFlags(config)._overflowDayOfYear = true;
        }

        date = createUTCDate(yearToUse, 0, config._dayOfYear);
        config._a[MONTH] = date.getUTCMonth();
        config._a[DATE] = date.getUTCDate();
    }

    // Default to current date.
    // * if no year, month, day of month are given, default to today
    // * if day of month is given, default month and year
    // * if month is given, default only year
    // * if year is given, don't default anything
    for (i = 0; i < 3 && config._a[i] == null; ++i) {
        config._a[i] = input[i] = currentDate[i];
    }

    // Zero out whatever was not defaulted, including time
    for (; i < 7; i++) {
        config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];
    }

    // Check for 24:00:00.000
    if (config._a[HOUR] === 24 &&
            config._a[MINUTE] === 0 &&
            config._a[SECOND] === 0 &&
            config._a[MILLISECOND] === 0) {
        config._nextDay = true;
        config._a[HOUR] = 0;
    }

    config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);
    // Apply timezone offset from input. The actual utcOffset can be changed
    // with parseZone.
    if (config._tzm != null) {
        config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);
    }

    if (config._nextDay) {
        config._a[HOUR] = 24;
    }
}

function dayOfYearFromWeekInfo(config) {
    var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow;

    w = config._w;
    if (w.GG != null || w.W != null || w.E != null) {
        dow = 1;
        doy = 4;

        // TODO: We need to take the current isoWeekYear, but that depends on
        // how we interpret now (local, utc, fixed offset). So create
        // a now version of current config (take local/utc/offset flags, and
        // create now).
        weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(createLocal(), 1, 4).year);
        week = defaults(w.W, 1);
        weekday = defaults(w.E, 1);
        if (weekday < 1 || weekday > 7) {
            weekdayOverflow = true;
        }
    } else {
        dow = config._locale._week.dow;
        doy = config._locale._week.doy;

        var curWeek = weekOfYear(createLocal(), dow, doy);

        weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);

        // Default to current week.
        week = defaults(w.w, curWeek.week);

        if (w.d != null) {
            // weekday -- low day numbers are considered next week
            weekday = w.d;
            if (weekday < 0 || weekday > 6) {
                weekdayOverflow = true;
            }
        } else if (w.e != null) {
            // local weekday -- counting starts from begining of week
            weekday = w.e + dow;
            if (w.e < 0 || w.e > 6) {
                weekdayOverflow = true;
            }
        } else {
            // default to begining of week
            weekday = dow;
        }
    }
    if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {
        getParsingFlags(config)._overflowWeeks = true;
    } else if (weekdayOverflow != null) {
        getParsingFlags(config)._overflowWeekday = true;
    } else {
        temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);
        config._a[YEAR] = temp.year;
        config._dayOfYear = temp.dayOfYear;
    }
}

// constant that refers to the ISO standard
hooks.ISO_8601 = function () {};

// date from string and format string
function configFromStringAndFormat(config) {
    // TODO: Move this to another part of the creation flow to prevent circular deps
    if (config._f === hooks.ISO_8601) {
        configFromISO(config);
        return;
    }

    config._a = [];
    getParsingFlags(config).empty = true;

    // This array is used to make a Date, either with `new Date` or `Date.UTC`
    var string = '' + config._i,
        i, parsedInput, tokens, token, skipped,
        stringLength = string.length,
        totalParsedInputLength = 0;

    tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];

    for (i = 0; i < tokens.length; i++) {
        token = tokens[i];
        parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];
        // console.log('token', token, 'parsedInput', parsedInput,
        //         'regex', getParseRegexForToken(token, config));
        if (parsedInput) {
            skipped = string.substr(0, string.indexOf(parsedInput));
            if (skipped.length > 0) {
                getParsingFlags(config).unusedInput.push(skipped);
            }
            string = string.slice(string.indexOf(parsedInput) + parsedInput.length);
            totalParsedInputLength += parsedInput.length;
        }
        // don't parse if it's not a known token
        if (formatTokenFunctions[token]) {
            if (parsedInput) {
                getParsingFlags(config).empty = false;
            }
            else {
                getParsingFlags(config).unusedTokens.push(token);
            }
            addTimeToArrayFromToken(token, parsedInput, config);
        }
        else if (config._strict && !parsedInput) {
            getParsingFlags(config).unusedTokens.push(token);
        }
    }

    // add remaining unparsed input length to the string
    getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;
    if (string.length > 0) {
        getParsingFlags(config).unusedInput.push(string);
    }

    // clear _12h flag if hour is <= 12
    if (config._a[HOUR] <= 12 &&
        getParsingFlags(config).bigHour === true &&
        config._a[HOUR] > 0) {
        getParsingFlags(config).bigHour = undefined;
    }

    getParsingFlags(config).parsedDateParts = config._a.slice(0);
    getParsingFlags(config).meridiem = config._meridiem;
    // handle meridiem
    config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);

    configFromArray(config);
    checkOverflow(config);
}


function meridiemFixWrap (locale, hour, meridiem) {
    var isPm;

    if (meridiem == null) {
        // nothing to do
        return hour;
    }
    if (locale.meridiemHour != null) {
        return locale.meridiemHour(hour, meridiem);
    } else if (locale.isPM != null) {
        // Fallback
        isPm = locale.isPM(meridiem);
        if (isPm && hour < 12) {
            hour += 12;
        }
        if (!isPm && hour === 12) {
            hour = 0;
        }
        return hour;
    } else {
        // this is not supposed to happen
        return hour;
    }
}

// date from string and array of format strings
function configFromStringAndArray(config) {
    var tempConfig,
        bestMoment,

        scoreToBeat,
        i,
        currentScore;

    if (config._f.length === 0) {
        getParsingFlags(config).invalidFormat = true;
        config._d = new Date(NaN);
        return;
    }

    for (i = 0; i < config._f.length; i++) {
        currentScore = 0;
        tempConfig = copyConfig({}, config);
        if (config._useUTC != null) {
            tempConfig._useUTC = config._useUTC;
        }
        tempConfig._f = config._f[i];
        configFromStringAndFormat(tempConfig);

        if (!isValid(tempConfig)) {
            continue;
        }

        // if there is any input that was not parsed add a penalty for that format
        currentScore += getParsingFlags(tempConfig).charsLeftOver;

        //or tokens
        currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;

        getParsingFlags(tempConfig).score = currentScore;

        if (scoreToBeat == null || currentScore < scoreToBeat) {
            scoreToBeat = currentScore;
            bestMoment = tempConfig;
        }
    }

    extend(config, bestMoment || tempConfig);
}

function configFromObject(config) {
    if (config._d) {
        return;
    }

    var i = normalizeObjectUnits(config._i);
    config._a = map([i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond], function (obj) {
        return obj && parseInt(obj, 10);
    });

    configFromArray(config);
}

function createFromConfig (config) {
    var res = new Moment(checkOverflow(prepareConfig(config)));
    if (res._nextDay) {
        // Adding is smart enough around DST
        res.add(1, 'd');
        res._nextDay = undefined;
    }

    return res;
}

function prepareConfig (config) {
    var input = config._i,
        format = config._f;

    config._locale = config._locale || getLocale(config._l);

    if (input === null || (format === undefined && input === '')) {
        return createInvalid({nullInput: true});
    }

    if (typeof input === 'string') {
        config._i = input = config._locale.preparse(input);
    }

    if (isMoment(input)) {
        return new Moment(checkOverflow(input));
    } else if (isDate(input)) {
        config._d = input;
    } else if (isArray(format)) {
        configFromStringAndArray(config);
    } else if (format) {
        configFromStringAndFormat(config);
    }  else {
        configFromInput(config);
    }

    if (!isValid(config)) {
        config._d = null;
    }

    return config;
}

function configFromInput(config) {
    var input = config._i;
    if (input === undefined) {
        config._d = new Date(hooks.now());
    } else if (isDate(input)) {
        config._d = new Date(input.valueOf());
    } else if (typeof input === 'string') {
        configFromString(config);
    } else if (isArray(input)) {
        config._a = map(input.slice(0), function (obj) {
            return parseInt(obj, 10);
        });
        configFromArray(config);
    } else if (typeof(input) === 'object') {
        configFromObject(config);
    } else if (isNumber(input)) {
        // from milliseconds
        config._d = new Date(input);
    } else {
        hooks.createFromInputFallback(config);
    }
}

function createLocalOrUTC (input, format, locale, strict, isUTC) {
    var c = {};

    if (locale === true || locale === false) {
        strict = locale;
        locale = undefined;
    }

    if ((isObject(input) && isObjectEmpty(input)) ||
            (isArray(input) && input.length === 0)) {
        input = undefined;
    }
    // object construction must be done this way.
    // https://github.com/moment/moment/issues/1423
    c._isAMomentObject = true;
    c._useUTC = c._isUTC = isUTC;
    c._l = locale;
    c._i = input;
    c._f = format;
    c._strict = strict;

    return createFromConfig(c);
}

function createLocal (input, format, locale, strict) {
    return createLocalOrUTC(input, format, locale, strict, false);
}

var prototypeMin = deprecate(
    'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',
    function () {
        var other = createLocal.apply(null, arguments);
        if (this.isValid() && other.isValid()) {
            return other < this ? this : other;
        } else {
            return createInvalid();
        }
    }
);

var prototypeMax = deprecate(
    'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',
    function () {
        var other = createLocal.apply(null, arguments);
        if (this.isValid() && other.isValid()) {
            return other > this ? this : other;
        } else {
            return createInvalid();
        }
    }
);

// Pick a moment m from moments so that m[fn](other) is true for all
// other. This relies on the function fn to be transitive.
//
// moments should either be an array of moment objects or an array, whose
// first element is an array of moment objects.
function pickBy(fn, moments) {
    var res, i;
    if (moments.length === 1 && isArray(moments[0])) {
        moments = moments[0];
    }
    if (!moments.length) {
        return createLocal();
    }
    res = moments[0];
    for (i = 1; i < moments.length; ++i) {
        if (!moments[i].isValid() || moments[i][fn](res)) {
            res = moments[i];
        }
    }
    return res;
}

// TODO: Use [].sort instead?
function min () {
    var args = [].slice.call(arguments, 0);

    return pickBy('isBefore', args);
}

function max () {
    var args = [].slice.call(arguments, 0);

    return pickBy('isAfter', args);
}

var now = function () {
    return Date.now ? Date.now() : +(new Date());
};

function Duration (duration) {
    var normalizedInput = normalizeObjectUnits(duration),
        years = normalizedInput.year || 0,
        quarters = normalizedInput.quarter || 0,
        months = normalizedInput.month || 0,
        weeks = normalizedInput.week || 0,
        days = normalizedInput.day || 0,
        hours = normalizedInput.hour || 0,
        minutes = normalizedInput.minute || 0,
        seconds = normalizedInput.second || 0,
        milliseconds = normalizedInput.millisecond || 0;

    // representation for dateAddRemove
    this._milliseconds = +milliseconds +
        seconds * 1e3 + // 1000
        minutes * 6e4 + // 1000 * 60
        hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978
    // Because of dateAddRemove treats 24 hours as different from a
    // day when working around DST, we need to store them separately
    this._days = +days +
        weeks * 7;
    // It is impossible translate months into days without knowing
    // which months you are are talking about, so we have to store
    // it separately.
    this._months = +months +
        quarters * 3 +
        years * 12;

    this._data = {};

    this._locale = getLocale();

    this._bubble();
}

function isDuration (obj) {
    return obj instanceof Duration;
}

function absRound (number) {
    if (number < 0) {
        return Math.round(-1 * number) * -1;
    } else {
        return Math.round(number);
    }
}

// FORMATTING

function offset (token, separator) {
    addFormatToken(token, 0, 0, function () {
        var offset = this.utcOffset();
        var sign = '+';
        if (offset < 0) {
            offset = -offset;
            sign = '-';
        }
        return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);
    });
}

offset('Z', ':');
offset('ZZ', '');

// PARSING

addRegexToken('Z',  matchShortOffset);
addRegexToken('ZZ', matchShortOffset);
addParseToken(['Z', 'ZZ'], function (input, array, config) {
    config._useUTC = true;
    config._tzm = offsetFromString(matchShortOffset, input);
});

// HELPERS

// timezone chunker
// '+10:00' > ['10',  '00']
// '-1530'  > ['-15', '30']
var chunkOffset = /([\+\-]|\d\d)/gi;

function offsetFromString(matcher, string) {
    var matches = (string || '').match(matcher);

    if (matches === null) {
        return null;
    }

    var chunk   = matches[matches.length - 1] || [];
    var parts   = (chunk + '').match(chunkOffset) || ['-', 0, 0];
    var minutes = +(parts[1] * 60) + toInt(parts[2]);

    return minutes === 0 ?
      0 :
      parts[0] === '+' ? minutes : -minutes;
}

// Return a moment from input, that is local/utc/zone equivalent to model.
function cloneWithOffset(input, model) {
    var res, diff;
    if (model._isUTC) {
        res = model.clone();
        diff = (isMoment(input) || isDate(input) ? input.valueOf() : createLocal(input).valueOf()) - res.valueOf();
        // Use low-level api, because this fn is low-level api.
        res._d.setTime(res._d.valueOf() + diff);
        hooks.updateOffset(res, false);
        return res;
    } else {
        return createLocal(input).local();
    }
}

function getDateOffset (m) {
    // On Firefox.24 Date#getTimezoneOffset returns a floating point.
    // https://github.com/moment/moment/pull/1871
    return -Math.round(m._d.getTimezoneOffset() / 15) * 15;
}

// HOOKS

// This function will be called whenever a moment is mutated.
// It is intended to keep the offset in sync with the timezone.
hooks.updateOffset = function () {};

// MOMENTS

// keepLocalTime = true means only change the timezone, without
// affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->
// 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset
// +0200, so we adjust the time as needed, to be valid.
//
// Keeping the time actually adds/subtracts (one hour)
// from the actual represented time. That is why we call updateOffset
// a second time. In case it wants us to change the offset again
// _changeInProgress == true case, then we have to adjust, because
// there is no such time in the given timezone.
function getSetOffset (input, keepLocalTime) {
    var offset = this._offset || 0,
        localAdjust;
    if (!this.isValid()) {
        return input != null ? this : NaN;
    }
    if (input != null) {
        if (typeof input === 'string') {
            input = offsetFromString(matchShortOffset, input);
            if (input === null) {
                return this;
            }
        } else if (Math.abs(input) < 16) {
            input = input * 60;
        }
        if (!this._isUTC && keepLocalTime) {
            localAdjust = getDateOffset(this);
        }
        this._offset = input;
        this._isUTC = true;
        if (localAdjust != null) {
            this.add(localAdjust, 'm');
        }
        if (offset !== input) {
            if (!keepLocalTime || this._changeInProgress) {
                addSubtract(this, createDuration(input - offset, 'm'), 1, false);
            } else if (!this._changeInProgress) {
                this._changeInProgress = true;
                hooks.updateOffset(this, true);
                this._changeInProgress = null;
            }
        }
        return this;
    } else {
        return this._isUTC ? offset : getDateOffset(this);
    }
}

function getSetZone (input, keepLocalTime) {
    if (input != null) {
        if (typeof input !== 'string') {
            input = -input;
        }

        this.utcOffset(input, keepLocalTime);

        return this;
    } else {
        return -this.utcOffset();
    }
}

function setOffsetToUTC (keepLocalTime) {
    return this.utcOffset(0, keepLocalTime);
}

function setOffsetToLocal (keepLocalTime) {
    if (this._isUTC) {
        this.utcOffset(0, keepLocalTime);
        this._isUTC = false;

        if (keepLocalTime) {
            this.subtract(getDateOffset(this), 'm');
        }
    }
    return this;
}

function setOffsetToParsedOffset () {
    if (this._tzm != null) {
        this.utcOffset(this._tzm);
    } else if (typeof this._i === 'string') {
        var tZone = offsetFromString(matchOffset, this._i);
        if (tZone != null) {
            this.utcOffset(tZone);
        }
        else {
            this.utcOffset(0, true);
        }
    }
    return this;
}

function hasAlignedHourOffset (input) {
    if (!this.isValid()) {
        return false;
    }
    input = input ? createLocal(input).utcOffset() : 0;

    return (this.utcOffset() - input) % 60 === 0;
}

function isDaylightSavingTime () {
    return (
        this.utcOffset() > this.clone().month(0).utcOffset() ||
        this.utcOffset() > this.clone().month(5).utcOffset()
    );
}

function isDaylightSavingTimeShifted () {
    if (!isUndefined(this._isDSTShifted)) {
        return this._isDSTShifted;
    }

    var c = {};

    copyConfig(c, this);
    c = prepareConfig(c);

    if (c._a) {
        var other = c._isUTC ? createUTC(c._a) : createLocal(c._a);
        this._isDSTShifted = this.isValid() &&
            compareArrays(c._a, other.toArray()) > 0;
    } else {
        this._isDSTShifted = false;
    }

    return this._isDSTShifted;
}

function isLocal () {
    return this.isValid() ? !this._isUTC : false;
}

function isUtcOffset () {
    return this.isValid() ? this._isUTC : false;
}

function isUtc () {
    return this.isValid() ? this._isUTC && this._offset === 0 : false;
}

// ASP.NET json date format regex
var aspNetRegex = /^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/;

// from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html
// somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere
// and further modified to allow for strings containing both week and day
var isoRegex = /^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;

function createDuration (input, key) {
    var duration = input,
        // matching against regexp is expensive, do it on demand
        match = null,
        sign,
        ret,
        diffRes;

    if (isDuration(input)) {
        duration = {
            ms : input._milliseconds,
            d  : input._days,
            M  : input._months
        };
    } else if (isNumber(input)) {
        duration = {};
        if (key) {
            duration[key] = input;
        } else {
            duration.milliseconds = input;
        }
    } else if (!!(match = aspNetRegex.exec(input))) {
        sign = (match[1] === '-') ? -1 : 1;
        duration = {
            y  : 0,
            d  : toInt(match[DATE])                         * sign,
            h  : toInt(match[HOUR])                         * sign,
            m  : toInt(match[MINUTE])                       * sign,
            s  : toInt(match[SECOND])                       * sign,
            ms : toInt(absRound(match[MILLISECOND] * 1000)) * sign // the millisecond decimal point is included in the match
        };
    } else if (!!(match = isoRegex.exec(input))) {
        sign = (match[1] === '-') ? -1 : 1;
        duration = {
            y : parseIso(match[2], sign),
            M : parseIso(match[3], sign),
            w : parseIso(match[4], sign),
            d : parseIso(match[5], sign),
            h : parseIso(match[6], sign),
            m : parseIso(match[7], sign),
            s : parseIso(match[8], sign)
        };
    } else if (duration == null) {// checks for null or undefined
        duration = {};
    } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {
        diffRes = momentsDifference(createLocal(duration.from), createLocal(duration.to));

        duration = {};
        duration.ms = diffRes.milliseconds;
        duration.M = diffRes.months;
    }

    ret = new Duration(duration);

    if (isDuration(input) && hasOwnProp(input, '_locale')) {
        ret._locale = input._locale;
    }

    return ret;
}

createDuration.fn = Duration.prototype;

function parseIso (inp, sign) {
    // We'd normally use ~~inp for this, but unfortunately it also
    // converts floats to ints.
    // inp may be undefined, so careful calling replace on it.
    var res = inp && parseFloat(inp.replace(',', '.'));
    // apply sign while we're at it
    return (isNaN(res) ? 0 : res) * sign;
}

function positiveMomentsDifference(base, other) {
    var res = {milliseconds: 0, months: 0};

    res.months = other.month() - base.month() +
        (other.year() - base.year()) * 12;
    if (base.clone().add(res.months, 'M').isAfter(other)) {
        --res.months;
    }

    res.milliseconds = +other - +(base.clone().add(res.months, 'M'));

    return res;
}

function momentsDifference(base, other) {
    var res;
    if (!(base.isValid() && other.isValid())) {
        return {milliseconds: 0, months: 0};
    }

    other = cloneWithOffset(other, base);
    if (base.isBefore(other)) {
        res = positiveMomentsDifference(base, other);
    } else {
        res = positiveMomentsDifference(other, base);
        res.milliseconds = -res.milliseconds;
        res.months = -res.months;
    }

    return res;
}

// TODO: remove 'name' arg after deprecation is removed
function createAdder(direction, name) {
    return function (val, period) {
        var dur, tmp;
        //invert the arguments, but complain about it
        if (period !== null && !isNaN(+period)) {
            deprecateSimple(name, 'moment().' + name  + '(period, number) is deprecated. Please use moment().' + name + '(number, period). ' +
            'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.');
            tmp = val; val = period; period = tmp;
        }

        val = typeof val === 'string' ? +val : val;
        dur = createDuration(val, period);
        addSubtract(this, dur, direction);
        return this;
    };
}

function addSubtract (mom, duration, isAdding, updateOffset) {
    var milliseconds = duration._milliseconds,
        days = absRound(duration._days),
        months = absRound(duration._months);

    if (!mom.isValid()) {
        // No op
        return;
    }

    updateOffset = updateOffset == null ? true : updateOffset;

    if (milliseconds) {
        mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);
    }
    if (days) {
        set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);
    }
    if (months) {
        setMonth(mom, get(mom, 'Month') + months * isAdding);
    }
    if (updateOffset) {
        hooks.updateOffset(mom, days || months);
    }
}

var add      = createAdder(1, 'add');
var subtract = createAdder(-1, 'subtract');

function getCalendarFormat(myMoment, now) {
    var diff = myMoment.diff(now, 'days', true);
    return diff < -6 ? 'sameElse' :
            diff < -1 ? 'lastWeek' :
            diff < 0 ? 'lastDay' :
            diff < 1 ? 'sameDay' :
            diff < 2 ? 'nextDay' :
            diff < 7 ? 'nextWeek' : 'sameElse';
}

function calendar$1 (time, formats) {
    // We want to compare the start of today, vs this.
    // Getting start-of-today depends on whether we're local/utc/offset or not.
    var now = time || createLocal(),
        sod = cloneWithOffset(now, this).startOf('day'),
        format = hooks.calendarFormat(this, sod) || 'sameElse';

    var output = formats && (isFunction(formats[format]) ? formats[format].call(this, now) : formats[format]);

    return this.format(output || this.localeData().calendar(format, this, createLocal(now)));
}

function clone () {
    return new Moment(this);
}

function isAfter (input, units) {
    var localInput = isMoment(input) ? input : createLocal(input);
    if (!(this.isValid() && localInput.isValid())) {
        return false;
    }
    units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');
    if (units === 'millisecond') {
        return this.valueOf() > localInput.valueOf();
    } else {
        return localInput.valueOf() < this.clone().startOf(units).valueOf();
    }
}

function isBefore (input, units) {
    var localInput = isMoment(input) ? input : createLocal(input);
    if (!(this.isValid() && localInput.isValid())) {
        return false;
    }
    units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');
    if (units === 'millisecond') {
        return this.valueOf() < localInput.valueOf();
    } else {
        return this.clone().endOf(units).valueOf() < localInput.valueOf();
    }
}

function isBetween (from, to, units, inclusivity) {
    inclusivity = inclusivity || '()';
    return (inclusivity[0] === '(' ? this.isAfter(from, units) : !this.isBefore(from, units)) &&
        (inclusivity[1] === ')' ? this.isBefore(to, units) : !this.isAfter(to, units));
}

function isSame (input, units) {
    var localInput = isMoment(input) ? input : createLocal(input),
        inputMs;
    if (!(this.isValid() && localInput.isValid())) {
        return false;
    }
    units = normalizeUnits(units || 'millisecond');
    if (units === 'millisecond') {
        return this.valueOf() === localInput.valueOf();
    } else {
        inputMs = localInput.valueOf();
        return this.clone().startOf(units).valueOf() <= inputMs && inputMs <= this.clone().endOf(units).valueOf();
    }
}

function isSameOrAfter (input, units) {
    return this.isSame(input, units) || this.isAfter(input,units);
}

function isSameOrBefore (input, units) {
    return this.isSame(input, units) || this.isBefore(input,units);
}

function diff (input, units, asFloat) {
    var that,
        zoneDelta,
        delta, output;

    if (!this.isValid()) {
        return NaN;
    }

    that = cloneWithOffset(input, this);

    if (!that.isValid()) {
        return NaN;
    }

    zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;

    units = normalizeUnits(units);

    if (units === 'year' || units === 'month' || units === 'quarter') {
        output = monthDiff(this, that);
        if (units === 'quarter') {
            output = output / 3;
        } else if (units === 'year') {
            output = output / 12;
        }
    } else {
        delta = this - that;
        output = units === 'second' ? delta / 1e3 : // 1000
            units === 'minute' ? delta / 6e4 : // 1000 * 60
            units === 'hour' ? delta / 36e5 : // 1000 * 60 * 60
            units === 'day' ? (delta - zoneDelta) / 864e5 : // 1000 * 60 * 60 * 24, negate dst
            units === 'week' ? (delta - zoneDelta) / 6048e5 : // 1000 * 60 * 60 * 24 * 7, negate dst
            delta;
    }
    return asFloat ? output : absFloor(output);
}

function monthDiff (a, b) {
    // difference in months
    var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),
        // b is in (anchor - 1 month, anchor + 1 month)
        anchor = a.clone().add(wholeMonthDiff, 'months'),
        anchor2, adjust;

    if (b - anchor < 0) {
        anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');
        // linear across the month
        adjust = (b - anchor) / (anchor - anchor2);
    } else {
        anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');
        // linear across the month
        adjust = (b - anchor) / (anchor2 - anchor);
    }

    //check for negative zero, return zero if negative zero
    return -(wholeMonthDiff + adjust) || 0;
}

hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';
hooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';

function toString () {
    return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');
}

function toISOString () {
    var m = this.clone().utc();
    if (0 < m.year() && m.year() <= 9999) {
        if (isFunction(Date.prototype.toISOString)) {
            // native implementation is ~50x faster, use it when we can
            return this.toDate().toISOString();
        } else {
            return formatMoment(m, 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]');
        }
    } else {
        return formatMoment(m, 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]');
    }
}

/**
 * Return a human readable representation of a moment that can
 * also be evaluated to get a new moment which is the same
 *
 * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects
 */
function inspect () {
    if (!this.isValid()) {
        return 'moment.invalid(/* ' + this._i + ' */)';
    }
    var func = 'moment';
    var zone = '';
    if (!this.isLocal()) {
        func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';
        zone = 'Z';
    }
    var prefix = '[' + func + '("]';
    var year = (0 < this.year() && this.year() <= 9999) ? 'YYYY' : 'YYYYYY';
    var datetime = '-MM-DD[T]HH:mm:ss.SSS';
    var suffix = zone + '[")]';

    return this.format(prefix + year + datetime + suffix);
}

function format (inputString) {
    if (!inputString) {
        inputString = this.isUtc() ? hooks.defaultFormatUtc : hooks.defaultFormat;
    }
    var output = formatMoment(this, inputString);
    return this.localeData().postformat(output);
}

function from (time, withoutSuffix) {
    if (this.isValid() &&
            ((isMoment(time) && time.isValid()) ||
             createLocal(time).isValid())) {
        return createDuration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);
    } else {
        return this.localeData().invalidDate();
    }
}

function fromNow (withoutSuffix) {
    return this.from(createLocal(), withoutSuffix);
}

function to (time, withoutSuffix) {
    if (this.isValid() &&
            ((isMoment(time) && time.isValid()) ||
             createLocal(time).isValid())) {
        return createDuration({from: this, to: time}).locale(this.locale()).humanize(!withoutSuffix);
    } else {
        return this.localeData().invalidDate();
    }
}

function toNow (withoutSuffix) {
    return this.to(createLocal(), withoutSuffix);
}

// If passed a locale key, it will set the locale for this
// instance.  Otherwise, it will return the locale configuration
// variables for this instance.
function locale (key) {
    var newLocaleData;

    if (key === undefined) {
        return this._locale._abbr;
    } else {
        newLocaleData = getLocale(key);
        if (newLocaleData != null) {
            this._locale = newLocaleData;
        }
        return this;
    }
}

var lang = deprecate(
    'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',
    function (key) {
        if (key === undefined) {
            return this.localeData();
        } else {
            return this.locale(key);
        }
    }
);

function localeData () {
    return this._locale;
}

function startOf (units) {
    units = normalizeUnits(units);
    // the following switch intentionally omits break keywords
    // to utilize falling through the cases.
    switch (units) {
        case 'year':
            this.month(0);
            /* falls through */
        case 'quarter':
        case 'month':
            this.date(1);
            /* falls through */
        case 'week':
        case 'isoWeek':
        case 'day':
        case 'date':
            this.hours(0);
            /* falls through */
        case 'hour':
            this.minutes(0);
            /* falls through */
        case 'minute':
            this.seconds(0);
            /* falls through */
        case 'second':
            this.milliseconds(0);
    }

    // weeks are a special case
    if (units === 'week') {
        this.weekday(0);
    }
    if (units === 'isoWeek') {
        this.isoWeekday(1);
    }

    // quarters are also special
    if (units === 'quarter') {
        this.month(Math.floor(this.month() / 3) * 3);
    }

    return this;
}

function endOf (units) {
    units = normalizeUnits(units);
    if (units === undefined || units === 'millisecond') {
        return this;
    }

    // 'date' is an alias for 'day', so it should be considered as such.
    if (units === 'date') {
        units = 'day';
    }

    return this.startOf(units).add(1, (units === 'isoWeek' ? 'week' : units)).subtract(1, 'ms');
}

function valueOf () {
    return this._d.valueOf() - ((this._offset || 0) * 60000);
}

function unix () {
    return Math.floor(this.valueOf() / 1000);
}

function toDate () {
    return new Date(this.valueOf());
}

function toArray () {
    var m = this;
    return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];
}

function toObject () {
    var m = this;
    return {
        years: m.year(),
        months: m.month(),
        date: m.date(),
        hours: m.hours(),
        minutes: m.minutes(),
        seconds: m.seconds(),
        milliseconds: m.milliseconds()
    };
}

function toJSON () {
    // new Date(NaN).toJSON() === null
    return this.isValid() ? this.toISOString() : null;
}

function isValid$1 () {
    return isValid(this);
}

function parsingFlags () {
    return extend({}, getParsingFlags(this));
}

function invalidAt () {
    return getParsingFlags(this).overflow;
}

function creationData() {
    return {
        input: this._i,
        format: this._f,
        locale: this._locale,
        isUTC: this._isUTC,
        strict: this._strict
    };
}

// FORMATTING

addFormatToken(0, ['gg', 2], 0, function () {
    return this.weekYear() % 100;
});

addFormatToken(0, ['GG', 2], 0, function () {
    return this.isoWeekYear() % 100;
});

function addWeekYearFormatToken (token, getter) {
    addFormatToken(0, [token, token.length], 0, getter);
}

addWeekYearFormatToken('gggg',     'weekYear');
addWeekYearFormatToken('ggggg',    'weekYear');
addWeekYearFormatToken('GGGG',  'isoWeekYear');
addWeekYearFormatToken('GGGGG', 'isoWeekYear');

// ALIASES

addUnitAlias('weekYear', 'gg');
addUnitAlias('isoWeekYear', 'GG');

// PRIORITY

addUnitPriority('weekYear', 1);
addUnitPriority('isoWeekYear', 1);


// PARSING

addRegexToken('G',      matchSigned);
addRegexToken('g',      matchSigned);
addRegexToken('GG',     match1to2, match2);
addRegexToken('gg',     match1to2, match2);
addRegexToken('GGGG',   match1to4, match4);
addRegexToken('gggg',   match1to4, match4);
addRegexToken('GGGGG',  match1to6, match6);
addRegexToken('ggggg',  match1to6, match6);

addWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (input, week, config, token) {
    week[token.substr(0, 2)] = toInt(input);
});

addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {
    week[token] = hooks.parseTwoDigitYear(input);
});

// MOMENTS

function getSetWeekYear (input) {
    return getSetWeekYearHelper.call(this,
            input,
            this.week(),
            this.weekday(),
            this.localeData()._week.dow,
            this.localeData()._week.doy);
}

function getSetISOWeekYear (input) {
    return getSetWeekYearHelper.call(this,
            input, this.isoWeek(), this.isoWeekday(), 1, 4);
}

function getISOWeeksInYear () {
    return weeksInYear(this.year(), 1, 4);
}

function getWeeksInYear () {
    var weekInfo = this.localeData()._week;
    return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);
}

function getSetWeekYearHelper(input, week, weekday, dow, doy) {
    var weeksTarget;
    if (input == null) {
        return weekOfYear(this, dow, doy).year;
    } else {
        weeksTarget = weeksInYear(input, dow, doy);
        if (week > weeksTarget) {
            week = weeksTarget;
        }
        return setWeekAll.call(this, input, week, weekday, dow, doy);
    }
}

function setWeekAll(weekYear, week, weekday, dow, doy) {
    var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),
        date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);

    this.year(date.getUTCFullYear());
    this.month(date.getUTCMonth());
    this.date(date.getUTCDate());
    return this;
}

// FORMATTING

addFormatToken('Q', 0, 'Qo', 'quarter');

// ALIASES

addUnitAlias('quarter', 'Q');

// PRIORITY

addUnitPriority('quarter', 7);

// PARSING

addRegexToken('Q', match1);
addParseToken('Q', function (input, array) {
    array[MONTH] = (toInt(input) - 1) * 3;
});

// MOMENTS

function getSetQuarter (input) {
    return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);
}

// FORMATTING

addFormatToken('D', ['DD', 2], 'Do', 'date');

// ALIASES

addUnitAlias('date', 'D');

// PRIOROITY
addUnitPriority('date', 9);

// PARSING

addRegexToken('D',  match1to2);
addRegexToken('DD', match1to2, match2);
addRegexToken('Do', function (isStrict, locale) {
    return isStrict ? locale._ordinalParse : locale._ordinalParseLenient;
});

addParseToken(['D', 'DD'], DATE);
addParseToken('Do', function (input, array) {
    array[DATE] = toInt(input.match(match1to2)[0], 10);
});

// MOMENTS

var getSetDayOfMonth = makeGetSet('Date', true);

// FORMATTING

addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');

// ALIASES

addUnitAlias('dayOfYear', 'DDD');

// PRIORITY
addUnitPriority('dayOfYear', 4);

// PARSING

addRegexToken('DDD',  match1to3);
addRegexToken('DDDD', match3);
addParseToken(['DDD', 'DDDD'], function (input, array, config) {
    config._dayOfYear = toInt(input);
});

// HELPERS

// MOMENTS

function getSetDayOfYear (input) {
    var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;
    return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');
}

// FORMATTING

addFormatToken('m', ['mm', 2], 0, 'minute');

// ALIASES

addUnitAlias('minute', 'm');

// PRIORITY

addUnitPriority('minute', 14);

// PARSING

addRegexToken('m',  match1to2);
addRegexToken('mm', match1to2, match2);
addParseToken(['m', 'mm'], MINUTE);

// MOMENTS

var getSetMinute = makeGetSet('Minutes', false);

// FORMATTING

addFormatToken('s', ['ss', 2], 0, 'second');

// ALIASES

addUnitAlias('second', 's');

// PRIORITY

addUnitPriority('second', 15);

// PARSING

addRegexToken('s',  match1to2);
addRegexToken('ss', match1to2, match2);
addParseToken(['s', 'ss'], SECOND);

// MOMENTS

var getSetSecond = makeGetSet('Seconds', false);

// FORMATTING

addFormatToken('S', 0, 0, function () {
    return ~~(this.millisecond() / 100);
});

addFormatToken(0, ['SS', 2], 0, function () {
    return ~~(this.millisecond() / 10);
});

addFormatToken(0, ['SSS', 3], 0, 'millisecond');
addFormatToken(0, ['SSSS', 4], 0, function () {
    return this.millisecond() * 10;
});
addFormatToken(0, ['SSSSS', 5], 0, function () {
    return this.millisecond() * 100;
});
addFormatToken(0, ['SSSSSS', 6], 0, function () {
    return this.millisecond() * 1000;
});
addFormatToken(0, ['SSSSSSS', 7], 0, function () {
    return this.millisecond() * 10000;
});
addFormatToken(0, ['SSSSSSSS', 8], 0, function () {
    return this.millisecond() * 100000;
});
addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {
    return this.millisecond() * 1000000;
});


// ALIASES

addUnitAlias('millisecond', 'ms');

// PRIORITY

addUnitPriority('millisecond', 16);

// PARSING

addRegexToken('S',    match1to3, match1);
addRegexToken('SS',   match1to3, match2);
addRegexToken('SSS',  match1to3, match3);

var token;
for (token = 'SSSS'; token.length <= 9; token += 'S') {
    addRegexToken(token, matchUnsigned);
}

function parseMs(input, array) {
    array[MILLISECOND] = toInt(('0.' + input) * 1000);
}

for (token = 'S'; token.length <= 9; token += 'S') {
    addParseToken(token, parseMs);
}
// MOMENTS

var getSetMillisecond = makeGetSet('Milliseconds', false);

// FORMATTING

addFormatToken('z',  0, 0, 'zoneAbbr');
addFormatToken('zz', 0, 0, 'zoneName');

// MOMENTS

function getZoneAbbr () {
    return this._isUTC ? 'UTC' : '';
}

function getZoneName () {
    return this._isUTC ? 'Coordinated Universal Time' : '';
}

var proto = Moment.prototype;

proto.add               = add;
proto.calendar          = calendar$1;
proto.clone             = clone;
proto.diff              = diff;
proto.endOf             = endOf;
proto.format            = format;
proto.from              = from;
proto.fromNow           = fromNow;
proto.to                = to;
proto.toNow             = toNow;
proto.get               = stringGet;
proto.invalidAt         = invalidAt;
proto.isAfter           = isAfter;
proto.isBefore          = isBefore;
proto.isBetween         = isBetween;
proto.isSame            = isSame;
proto.isSameOrAfter     = isSameOrAfter;
proto.isSameOrBefore    = isSameOrBefore;
proto.isValid           = isValid$1;
proto.lang              = lang;
proto.locale            = locale;
proto.localeData        = localeData;
proto.max               = prototypeMax;
proto.min               = prototypeMin;
proto.parsingFlags      = parsingFlags;
proto.set               = stringSet;
proto.startOf           = startOf;
proto.subtract          = subtract;
proto.toArray           = toArray;
proto.toObject          = toObject;
proto.toDate            = toDate;
proto.toISOString       = toISOString;
proto.inspect           = inspect;
proto.toJSON            = toJSON;
proto.toString          = toString;
proto.unix              = unix;
proto.valueOf           = valueOf;
proto.creationData      = creationData;

// Year
proto.year       = getSetYear;
proto.isLeapYear = getIsLeapYear;

// Week Year
proto.weekYear    = getSetWeekYear;
proto.isoWeekYear = getSetISOWeekYear;

// Quarter
proto.quarter = proto.quarters = getSetQuarter;

// Month
proto.month       = getSetMonth;
proto.daysInMonth = getDaysInMonth;

// Week
proto.week           = proto.weeks        = getSetWeek;
proto.isoWeek        = proto.isoWeeks     = getSetISOWeek;
proto.weeksInYear    = getWeeksInYear;
proto.isoWeeksInYear = getISOWeeksInYear;

// Day
proto.date       = getSetDayOfMonth;
proto.day        = proto.days             = getSetDayOfWeek;
proto.weekday    = getSetLocaleDayOfWeek;
proto.isoWeekday = getSetISODayOfWeek;
proto.dayOfYear  = getSetDayOfYear;

// Hour
proto.hour = proto.hours = getSetHour;

// Minute
proto.minute = proto.minutes = getSetMinute;

// Second
proto.second = proto.seconds = getSetSecond;

// Millisecond
proto.millisecond = proto.milliseconds = getSetMillisecond;

// Offset
proto.utcOffset            = getSetOffset;
proto.utc                  = setOffsetToUTC;
proto.local                = setOffsetToLocal;
proto.parseZone            = setOffsetToParsedOffset;
proto.hasAlignedHourOffset = hasAlignedHourOffset;
proto.isDST                = isDaylightSavingTime;
proto.isLocal              = isLocal;
proto.isUtcOffset          = isUtcOffset;
proto.isUtc                = isUtc;
proto.isUTC                = isUtc;

// Timezone
proto.zoneAbbr = getZoneAbbr;
proto.zoneName = getZoneName;

// Deprecations
proto.dates  = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);
proto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);
proto.years  = deprecate('years accessor is deprecated. Use year instead', getSetYear);
proto.zone   = deprecate('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/', getSetZone);
proto.isDSTShifted = deprecate('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information', isDaylightSavingTimeShifted);

function createUnix (input) {
    return createLocal(input * 1000);
}

function createInZone () {
    return createLocal.apply(null, arguments).parseZone();
}

function preParsePostFormat (string) {
    return string;
}

var proto$1 = Locale.prototype;

proto$1.calendar        = calendar;
proto$1.longDateFormat  = longDateFormat;
proto$1.invalidDate     = invalidDate;
proto$1.ordinal         = ordinal;
proto$1.preparse        = preParsePostFormat;
proto$1.postformat      = preParsePostFormat;
proto$1.relativeTime    = relativeTime;
proto$1.pastFuture      = pastFuture;
proto$1.set             = set;

// Month
proto$1.months            =        localeMonths;
proto$1.monthsShort       =        localeMonthsShort;
proto$1.monthsParse       =        localeMonthsParse;
proto$1.monthsRegex       = monthsRegex;
proto$1.monthsShortRegex  = monthsShortRegex;

// Week
proto$1.week = localeWeek;
proto$1.firstDayOfYear = localeFirstDayOfYear;
proto$1.firstDayOfWeek = localeFirstDayOfWeek;

// Day of Week
proto$1.weekdays       =        localeWeekdays;
proto$1.weekdaysMin    =        localeWeekdaysMin;
proto$1.weekdaysShort  =        localeWeekdaysShort;
proto$1.weekdaysParse  =        localeWeekdaysParse;

proto$1.weekdaysRegex       =        weekdaysRegex;
proto$1.weekdaysShortRegex  =        weekdaysShortRegex;
proto$1.weekdaysMinRegex    =        weekdaysMinRegex;

// Hours
proto$1.isPM = localeIsPM;
proto$1.meridiem = localeMeridiem;

function get$1 (format, index, field, setter) {
    var locale = getLocale();
    var utc = createUTC().set(setter, index);
    return locale[field](utc, format);
}

function listMonthsImpl (format, index, field) {
    if (isNumber(format)) {
        index = format;
        format = undefined;
    }

    format = format || '';

    if (index != null) {
        return get$1(format, index, field, 'month');
    }

    var i;
    var out = [];
    for (i = 0; i < 12; i++) {
        out[i] = get$1(format, i, field, 'month');
    }
    return out;
}

// ()
// (5)
// (fmt, 5)
// (fmt)
// (true)
// (true, 5)
// (true, fmt, 5)
// (true, fmt)
function listWeekdaysImpl (localeSorted, format, index, field) {
    if (typeof localeSorted === 'boolean') {
        if (isNumber(format)) {
            index = format;
            format = undefined;
        }

        format = format || '';
    } else {
        format = localeSorted;
        index = format;
        localeSorted = false;

        if (isNumber(format)) {
            index = format;
            format = undefined;
        }

        format = format || '';
    }

    var locale = getLocale(),
        shift = localeSorted ? locale._week.dow : 0;

    if (index != null) {
        return get$1(format, (index + shift) % 7, field, 'day');
    }

    var i;
    var out = [];
    for (i = 0; i < 7; i++) {
        out[i] = get$1(format, (i + shift) % 7, field, 'day');
    }
    return out;
}

function listMonths (format, index) {
    return listMonthsImpl(format, index, 'months');
}

function listMonthsShort (format, index) {
    return listMonthsImpl(format, index, 'monthsShort');
}

function listWeekdays (localeSorted, format, index) {
    return listWeekdaysImpl(localeSorted, format, index, 'weekdays');
}

function listWeekdaysShort (localeSorted, format, index) {
    return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');
}

function listWeekdaysMin (localeSorted, format, index) {
    return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');
}

getSetGlobalLocale('en', {
    ordinalParse: /\d{1,2}(th|st|nd|rd)/,
    ordinal : function (number) {
        var b = number % 10,
            output = (toInt(number % 100 / 10) === 1) ? 'th' :
            (b === 1) ? 'st' :
            (b === 2) ? 'nd' :
            (b === 3) ? 'rd' : 'th';
        return number + output;
    }
});

// Side effect imports
hooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', getSetGlobalLocale);
hooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', getLocale);

var mathAbs = Math.abs;

function abs () {
    var data           = this._data;

    this._milliseconds = mathAbs(this._milliseconds);
    this._days         = mathAbs(this._days);
    this._months       = mathAbs(this._months);

    data.milliseconds  = mathAbs(data.milliseconds);
    data.seconds       = mathAbs(data.seconds);
    data.minutes       = mathAbs(data.minutes);
    data.hours         = mathAbs(data.hours);
    data.months        = mathAbs(data.months);
    data.years         = mathAbs(data.years);

    return this;
}

function addSubtract$1 (duration, input, value, direction) {
    var other = createDuration(input, value);

    duration._milliseconds += direction * other._milliseconds;
    duration._days         += direction * other._days;
    duration._months       += direction * other._months;

    return duration._bubble();
}

// supports only 2.0-style add(1, 's') or add(duration)
function add$1 (input, value) {
    return addSubtract$1(this, input, value, 1);
}

// supports only 2.0-style subtract(1, 's') or subtract(duration)
function subtract$1 (input, value) {
    return addSubtract$1(this, input, value, -1);
}

function absCeil (number) {
    if (number < 0) {
        return Math.floor(number);
    } else {
        return Math.ceil(number);
    }
}

function bubble () {
    var milliseconds = this._milliseconds;
    var days         = this._days;
    var months       = this._months;
    var data         = this._data;
    var seconds, minutes, hours, years, monthsFromDays;

    // if we have a mix of positive and negative values, bubble down first
    // check: https://github.com/moment/moment/issues/2166
    if (!((milliseconds >= 0 && days >= 0 && months >= 0) ||
            (milliseconds <= 0 && days <= 0 && months <= 0))) {
        milliseconds += absCeil(monthsToDays(months) + days) * 864e5;
        days = 0;
        months = 0;
    }

    // The following code bubbles up values, see the tests for
    // examples of what that means.
    data.milliseconds = milliseconds % 1000;

    seconds           = absFloor(milliseconds / 1000);
    data.seconds      = seconds % 60;

    minutes           = absFloor(seconds / 60);
    data.minutes      = minutes % 60;

    hours             = absFloor(minutes / 60);
    data.hours        = hours % 24;

    days += absFloor(hours / 24);

    // convert days to months
    monthsFromDays = absFloor(daysToMonths(days));
    months += monthsFromDays;
    days -= absCeil(monthsToDays(monthsFromDays));

    // 12 months -> 1 year
    years = absFloor(months / 12);
    months %= 12;

    data.days   = days;
    data.months = months;
    data.years  = years;

    return this;
}

function daysToMonths (days) {
    // 400 years have 146097 days (taking into account leap year rules)
    // 400 years have 12 months === 4800
    return days * 4800 / 146097;
}

function monthsToDays (months) {
    // the reverse of daysToMonths
    return months * 146097 / 4800;
}

function as (units) {
    var days;
    var months;
    var milliseconds = this._milliseconds;

    units = normalizeUnits(units);

    if (units === 'month' || units === 'year') {
        days   = this._days   + milliseconds / 864e5;
        months = this._months + daysToMonths(days);
        return units === 'month' ? months : months / 12;
    } else {
        // handle milliseconds separately because of floating point math errors (issue #1867)
        days = this._days + Math.round(monthsToDays(this._months));
        switch (units) {
            case 'week'   : return days / 7     + milliseconds / 6048e5;
            case 'day'    : return days         + milliseconds / 864e5;
            case 'hour'   : return days * 24    + milliseconds / 36e5;
            case 'minute' : return days * 1440  + milliseconds / 6e4;
            case 'second' : return days * 86400 + milliseconds / 1000;
            // Math.floor prevents floating point math errors here
            case 'millisecond': return Math.floor(days * 864e5) + milliseconds;
            default: throw new Error('Unknown unit ' + units);
        }
    }
}

// TODO: Use this.as('ms')?
function valueOf$1 () {
    return (
        this._milliseconds +
        this._days * 864e5 +
        (this._months % 12) * 2592e6 +
        toInt(this._months / 12) * 31536e6
    );
}

function makeAs (alias) {
    return function () {
        return this.as(alias);
    };
}

var asMilliseconds = makeAs('ms');
var asSeconds      = makeAs('s');
var asMinutes      = makeAs('m');
var asHours        = makeAs('h');
var asDays         = makeAs('d');
var asWeeks        = makeAs('w');
var asMonths       = makeAs('M');
var asYears        = makeAs('y');

function get$2 (units) {
    units = normalizeUnits(units);
    return this[units + 's']();
}

function makeGetter(name) {
    return function () {
        return this._data[name];
    };
}

var milliseconds = makeGetter('milliseconds');
var seconds      = makeGetter('seconds');
var minutes      = makeGetter('minutes');
var hours        = makeGetter('hours');
var days         = makeGetter('days');
var months       = makeGetter('months');
var years        = makeGetter('years');

function weeks () {
    return absFloor(this.days() / 7);
}

var round = Math.round;
var thresholds = {
    s: 45,  // seconds to minute
    m: 45,  // minutes to hour
    h: 22,  // hours to day
    d: 26,  // days to month
    M: 11   // months to year
};

// helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize
function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {
    return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);
}

function relativeTime$1 (posNegDuration, withoutSuffix, locale) {
    var duration = createDuration(posNegDuration).abs();
    var seconds  = round(duration.as('s'));
    var minutes  = round(duration.as('m'));
    var hours    = round(duration.as('h'));
    var days     = round(duration.as('d'));
    var months   = round(duration.as('M'));
    var years    = round(duration.as('y'));

    var a = seconds < thresholds.s && ['s', seconds]  ||
            minutes <= 1           && ['m']           ||
            minutes < thresholds.m && ['mm', minutes] ||
            hours   <= 1           && ['h']           ||
            hours   < thresholds.h && ['hh', hours]   ||
            days    <= 1           && ['d']           ||
            days    < thresholds.d && ['dd', days]    ||
            months  <= 1           && ['M']           ||
            months  < thresholds.M && ['MM', months]  ||
            years   <= 1           && ['y']           || ['yy', years];

    a[2] = withoutSuffix;
    a[3] = +posNegDuration > 0;
    a[4] = locale;
    return substituteTimeAgo.apply(null, a);
}

// This function allows you to set the rounding function for relative time strings
function getSetRelativeTimeRounding (roundingFunction) {
    if (roundingFunction === undefined) {
        return round;
    }
    if (typeof(roundingFunction) === 'function') {
        round = roundingFunction;
        return true;
    }
    return false;
}

// This function allows you to set a threshold for relative time strings
function getSetRelativeTimeThreshold (threshold, limit) {
    if (thresholds[threshold] === undefined) {
        return false;
    }
    if (limit === undefined) {
        return thresholds[threshold];
    }
    thresholds[threshold] = limit;
    return true;
}

function humanize (withSuffix) {
    var locale = this.localeData();
    var output = relativeTime$1(this, !withSuffix, locale);

    if (withSuffix) {
        output = locale.pastFuture(+this, output);
    }

    return locale.postformat(output);
}

var abs$1 = Math.abs;

function toISOString$1() {
    // for ISO strings we do not use the normal bubbling rules:
    //  * milliseconds bubble up until they become hours
    //  * days do not bubble at all
    //  * months bubble up until they become years
    // This is because there is no context-free conversion between hours and days
    // (think of clock changes)
    // and also not between days and months (28-31 days per month)
    var seconds = abs$1(this._milliseconds) / 1000;
    var days         = abs$1(this._days);
    var months       = abs$1(this._months);
    var minutes, hours, years;

    // 3600 seconds -> 60 minutes -> 1 hour
    minutes           = absFloor(seconds / 60);
    hours             = absFloor(minutes / 60);
    seconds %= 60;
    minutes %= 60;

    // 12 months -> 1 year
    years  = absFloor(months / 12);
    months %= 12;


    // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js
    var Y = years;
    var M = months;
    var D = days;
    var h = hours;
    var m = minutes;
    var s = seconds;
    var total = this.asSeconds();

    if (!total) {
        // this is the same as C#'s (Noda) and python (isodate)...
        // but not other JS (goog.date)
        return 'P0D';
    }

    return (total < 0 ? '-' : '') +
        'P' +
        (Y ? Y + 'Y' : '') +
        (M ? M + 'M' : '') +
        (D ? D + 'D' : '') +
        ((h || m || s) ? 'T' : '') +
        (h ? h + 'H' : '') +
        (m ? m + 'M' : '') +
        (s ? s + 'S' : '');
}

var proto$2 = Duration.prototype;

proto$2.abs            = abs;
proto$2.add            = add$1;
proto$2.subtract       = subtract$1;
proto$2.as             = as;
proto$2.asMilliseconds = asMilliseconds;
proto$2.asSeconds      = asSeconds;
proto$2.asMinutes      = asMinutes;
proto$2.asHours        = asHours;
proto$2.asDays         = asDays;
proto$2.asWeeks        = asWeeks;
proto$2.asMonths       = asMonths;
proto$2.asYears        = asYears;
proto$2.valueOf        = valueOf$1;
proto$2._bubble        = bubble;
proto$2.get            = get$2;
proto$2.milliseconds   = milliseconds;
proto$2.seconds        = seconds;
proto$2.minutes        = minutes;
proto$2.hours          = hours;
proto$2.days           = days;
proto$2.weeks          = weeks;
proto$2.months         = months;
proto$2.years          = years;
proto$2.humanize       = humanize;
proto$2.toISOString    = toISOString$1;
proto$2.toString       = toISOString$1;
proto$2.toJSON         = toISOString$1;
proto$2.locale         = locale;
proto$2.localeData     = localeData;

// Deprecations
proto$2.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', toISOString$1);
proto$2.lang = lang;

// Side effect imports

// FORMATTING

addFormatToken('X', 0, 0, 'unix');
addFormatToken('x', 0, 0, 'valueOf');

// PARSING

addRegexToken('x', matchSigned);
addRegexToken('X', matchTimestamp);
addParseToken('X', function (input, array, config) {
    config._d = new Date(parseFloat(input, 10) * 1000);
});
addParseToken('x', function (input, array, config) {
    config._d = new Date(toInt(input));
});

// Side effect imports


hooks.version = '2.17.1';

setHookCallback(createLocal);

hooks.fn                    = proto;
hooks.min                   = min;
hooks.max                   = max;
hooks.now                   = now;
hooks.utc                   = createUTC;
hooks.unix                  = createUnix;
hooks.months                = listMonths;
hooks.isDate                = isDate;
hooks.locale                = getSetGlobalLocale;
hooks.invalid               = createInvalid;
hooks.duration              = createDuration;
hooks.isMoment              = isMoment;
hooks.weekdays              = listWeekdays;
hooks.parseZone             = createInZone;
hooks.localeData            = getLocale;
hooks.isDuration            = isDuration;
hooks.monthsShort           = listMonthsShort;
hooks.weekdaysMin           = listWeekdaysMin;
hooks.defineLocale          = defineLocale;
hooks.updateLocale          = updateLocale;
hooks.locales               = listLocales;
hooks.weekdaysShort         = listWeekdaysShort;
hooks.normalizeUnits        = normalizeUnits;
hooks.relativeTimeRounding = getSetRelativeTimeRounding;
hooks.relativeTimeThreshold = getSetRelativeTimeThreshold;
hooks.calendarFormat        = getCalendarFormat;
hooks.prototype             = proto;

return hooks;

})));

},{}],339:[function(require,module,exports){
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/

'use strict';
/* eslint-disable no-unused-vars */
var getOwnPropertySymbols = Object.getOwnPropertySymbols;
var hasOwnProperty = Object.prototype.hasOwnProperty;
var propIsEnumerable = Object.prototype.propertyIsEnumerable;

function toObject(val) {
	if (val === null || val === undefined) {
		throw new TypeError('Object.assign cannot be called with null or undefined');
	}

	return Object(val);
}

function shouldUseNative() {
	try {
		if (!Object.assign) {
			return false;
		}

		// Detect buggy property enumeration order in older V8 versions.

		// https://bugs.chromium.org/p/v8/issues/detail?id=4118
		var test1 = new String('abc');  // eslint-disable-line no-new-wrappers
		test1[5] = 'de';
		if (Object.getOwnPropertyNames(test1)[0] === '5') {
			return false;
		}

		// https://bugs.chromium.org/p/v8/issues/detail?id=3056
		var test2 = {};
		for (var i = 0; i < 10; i++) {
			test2['_' + String.fromCharCode(i)] = i;
		}
		var order2 = Object.getOwnPropertyNames(test2).map(function (n) {
			return test2[n];
		});
		if (order2.join('') !== '0123456789') {
			return false;
		}

		// https://bugs.chromium.org/p/v8/issues/detail?id=3056
		var test3 = {};
		'abcdefghijklmnopqrst'.split('').forEach(function (letter) {
			test3[letter] = letter;
		});
		if (Object.keys(Object.assign({}, test3)).join('') !==
				'abcdefghijklmnopqrst') {
			return false;
		}

		return true;
	} catch (err) {
		// We don't expect any of the above to throw, but better to be safe.
		return false;
	}
}

module.exports = shouldUseNative() ? Object.assign : function (target, source) {
	var from;
	var to = toObject(target);
	var symbols;

	for (var s = 1; s < arguments.length; s++) {
		from = Object(arguments[s]);

		for (var key in from) {
			if (hasOwnProperty.call(from, key)) {
				to[key] = from[key];
			}
		}

		if (getOwnPropertySymbols) {
			symbols = getOwnPropertySymbols(from);
			for (var i = 0; i < symbols.length; i++) {
				if (propIsEnumerable.call(from, symbols[i])) {
					to[symbols[i]] = from[symbols[i]];
				}
			}
		}
	}

	return to;
};

},{}],340:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _cuid = require('cuid');

var _cuid2 = _interopRequireDefault(_cuid);

var _webcomponent = require('webcomponent');

var _webcomponent2 = _interopRequireDefault(_webcomponent);

var _domPatcher = require('./dom-patcher');

var _router = require('./router');

var _router2 = _interopRequireDefault(_router);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var DOCUMENT_FRAGMENT_NODE = 11;

/**
 * Definition of a Panel component/app, implemented as an HTML custom element.
 * App logic and configuration is defined by extending this class. Instantiating
 * a component is typically not done by calling the constructor directly, but
 * either by including the tag in HTML markup, or by using the DOM API method
 * [document.createElement]{@link https://developer.mozilla.org/en-US/docs/Web/API/Document/createElement}.
 *
 * @example <caption>Defining a Panel component</caption>
 * class MyWidget extends Component {
 *   get config() {
 *     return {
 *       // options go here
 *     };
 *   }
 *
 *   myMethod() {
 *     // etc
 *   }
 * }
 *
 * @example <caption>Registering the custom element definition for the DOM</caption>
 * document.registerElement('my-widget', MyWidget);
 *
 * @example <caption>Adding an instance of the element to the DOM</caption>
 * <my-widget some-attr></my-widget>
 *
 * @extends WebComponent
 */

var Component = function (_WebComponent) {
  _inherits(Component, _WebComponent);

  function Component() {
    _classCallCheck(this, Component);

    return _possibleConstructorReturn(this, (Component.__proto__ || Object.getPrototypeOf(Component)).apply(this, arguments));
  }

  _createClass(Component, [{
    key: 'child',


    /**
     * For use inside view templates, to create a child Panel component nested under this
     * component, which will share its state object and update cycle.
     * @param {string} tagName - the HTML element tag name of the custom element
     * to be created
     * @param {object} [config={}] - snabbdom node config (second argument of h())
     * @returns {object} snabbdom vnode
     * @example
     * {template: state => h('.header', this.child('my-child-widget'))}
     */
    value: function child(tagName) {
      var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

      config.props = Object.assign({}, config.props, { $panelParentID: this.panelID });
      return (0, _domPatcher.h)(tagName, config);
    }

    /**
     * Searches the component's Panel ancestors for the first component of the
     * given type (HTML tag name).
     * @param {string} tagName - tag name of the parent to search for
     * @returns {object} Panel component
     * @throws Throws an error if no parent component with the given tag name is found.
     * @example
     * myWidget.findPanelParentByTagName('my-app');
     */

  }, {
    key: 'findPanelParentByTagName',
    value: function findPanelParentByTagName(tagName) {
      tagName = tagName.toLowerCase();
      for (var node = this.$panelParent; !!node; node = node.$panelParent) {
        if (node.tagName.toLowerCase() === tagName) {
          return node;
        }
      }
      throw Error(tagName + ' not found');
    }

    /**
     * Fetches a value from the component's configuration map (a combination of
     * values supplied in the config() getter and defaults applied automatically).
     * @param {string} key - key of config item to fetch
     * @returns value associated with key
     * @example
     * myWidget.getConfig('css');
     */

  }, {
    key: 'getConfig',
    value: function getConfig(key) {
      return this._config[key];
    }

    /**
     * Executes the route handler matching the given URL fragment, and updates
     * the URL, as though the user had navigated explicitly to that address.
     * @param {string} fragment - URL fragment to navigate to
     * @param {object} [stateUpdate={}] - update to apply to state object when
     * routing
     * @example
     * myApp.navigate('wombat/54', {color: 'blue'});
     */

  }, {
    key: 'navigate',
    value: function navigate() {
      var _$panelRoot$router;

      (_$panelRoot$router = this.$panelRoot.router).navigate.apply(_$panelRoot$router, arguments);
    }

    /**
     * Sets a value in the component's configuration map after element
     * initialization.
     * @param {string} key - key of config item to set
     * @param val - value to associate with key
     * @example
     * myWidget.setConfig('template', () => h('.new-template', 'Hi'));
     */

  }, {
    key: 'setConfig',
    value: function setConfig(key, val) {
      this._config[key] = val;
    }

    /**
     * To be overridden by subclasses, defining conditional logic for whether
     * a component should rerender its template given the state to be applied.
     * In most cases this method can be left untouched, but can provide improved
     * performance when dealing with very many DOM elements.
     * @param {object} state - state object to be used when rendering
     * @returns {boolean} whether or not to render/update this component
     * @example
     * shouldUpdate(state) {
     *   // don't need to rerender if result set ID hasn't changed
     *   return state.largeResultSetID !== this._cachedResultID;
     * }
     */

  }, {
    key: 'shouldUpdate',
    value: function shouldUpdate(state) {
      return true;
    }

    /**
     * Applies a state update, triggering a re-render check of the component as
     * well as any other components sharing the same state. This is the primary
     * means of updating the DOM in a Panel application.
     * @param {object} [stateUpdate={}] - keys and values of entries to update in
     * the component's state object
     * @example
     * myWidget.update({name: 'Bob'});
     */

  }, {
    key: 'update',
    value: function update() {
      var stateUpdate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

      if (!this.initialized) {
        Object.assign(this.state, stateUpdate);
      } else if (this.isPanelRoot) {
        var updateHash = '$fragment' in stateUpdate && stateUpdate.$fragment !== this.state.$fragment;

        Object.assign(this.state, stateUpdate);
        this.updateSelfAndChildren(this.state);

        if (updateHash) {
          this.router.replaceHash(this.state.$fragment);
        }
      } else {
        this.$panelRoot.update(stateUpdate);
      }
    }
  }, {
    key: 'createdCallback',
    value: function createdCallback() {
      this.panelID = (0, _cuid2.default)();
      this._config = Object.assign({}, {
        css: '',
        helpers: {},
        routes: {},
        template: function template() {
          throw Error('No template provided by Component subclass');
        },
        updateSync: false,
        useShadowDom: false
      }, this.config);
      this.state = {};
      if (this.getConfig('useShadowDom')) {
        this.el = this.createShadowRoot();
        this.styleTag = document.createElement('style');
        this.styleTag.innerHTML = this.getConfig('css');
        this.el.appendChild(this.styleTag);
      } else if (this.getConfig('css')) {
        throw Error('"useShadowDom" config option must be set in order to use "css" config.');
      } else {
        this.el = this;
      }
    }
  }, {
    key: 'attachedCallback',
    value: function attachedCallback() {
      if (this.initialized) {
        return;
      }

      this.$panelChildren = new Set();

      if (typeof this.$panelParentID !== 'undefined') {
        this.isPanelChild = true;
        // find $panelParent
        for (var node = this.parentNode; node && !this.$panelParent; node = node.parentNode) {
          if (node.nodeType === DOCUMENT_FRAGMENT_NODE) {
            // handle shadow-root
            node = node.host;
          }
          if (node.panelID === this.$panelParentID) {
            this.$panelParent = node;
            this.$panelRoot = node.$panelRoot;
          }
        }
        if (!this.$panelParent) {
          throw Error('panelParent ' + this.$panelParentID + ' not found');
        }
        this.$panelParent.$panelChildren.add(this);
        this.state = this.$panelRoot.state;
      } else {
        this.isPanelRoot = true;
        this.$panelRoot = this;
        this.$panelParent = null;
      }
      this.app = this.$panelRoot;

      var newState = Object.assign({}, this.getConfig('defaultState'), this.state, this.getJSONAttribute('data-state'), this._stateFromAttributes());
      Object.assign(this.state, newState);

      if (Object.keys(this.getConfig('routes')).length) {
        this.router = new _router2.default(this, { historyMethod: this.historyMethod });
        this.navigate(window.location.hash);
      }

      this.domPatcher = new _domPatcher.DOMPatcher(this.state, this._render.bind(this), {
        updateMode: this.getConfig('updateSync') ? 'sync' : 'async'
      });
      this.el.appendChild(this.domPatcher.el);
      this.initialized = true;
    }
  }, {
    key: 'detachedCallback',
    value: function detachedCallback() {
      if (this.$panelParent) {
        this.$panelParent.$panelChildren.delete(this);
      }
      if (this.domPatcher) {
        this.el.removeChild(this.domPatcher.el);
      }
      this.domPatcher = null;
      this.initialized = false;
    }
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback(attr, oldVal, newVal) {
      if (attr === 'style-override') {
        this._applyStyles(newVal);
      }
      if (this.isPanelRoot && this.initialized) {
        this.update();
      }
    }
  }, {
    key: '_applyStyles',
    value: function _applyStyles(styleOverride) {
      if (this.getConfig('useShadowDom')) {
        this.styleTag.innerHTML = this.getConfig('css') + (styleOverride || '');
      }
    }
  }, {
    key: 'logError',
    value: function logError() {
      var _console;

      (_console = console).error.apply(_console, arguments);
    }
  }, {
    key: 'toString',
    value: function toString() {
      try {
        return this.tagName + '#' + this.panelID;
      } catch (e) {
        return 'UNKNOWN COMPONENT';
      }
    }
  }, {
    key: 'updateSelfAndChildren',
    value: function updateSelfAndChildren(state) {
      if (this.initialized && this.shouldUpdate(state)) {
        this.domPatcher.update(state);
        var _iteratorNormalCompletion = true;
        var _didIteratorError = false;
        var _iteratorError = undefined;

        try {
          for (var _iterator = this.$panelChildren[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            var child = _step.value;

            child.updateSelfAndChildren(state);
          }
        } catch (err) {
          _didIteratorError = true;
          _iteratorError = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion && _iterator.return) {
              _iterator.return();
            }
          } finally {
            if (_didIteratorError) {
              throw _iteratorError;
            }
          }
        }
      }
    }
  }, {
    key: '_render',
    value: function _render(state) {
      if (this.shouldUpdate(state)) {
        try {
          this._rendered = this.getConfig('template')(Object.assign({}, state, {
            $component: this,
            $helpers: this.helpers
          }));
        } catch (e) {
          this.logError('Error while rendering ' + this.toString(), this, e.stack);
        }
      }
      return this._rendered || _domPatcher.EMPTY_DIV;
    }
  }, {
    key: '_stateFromAttributes',
    value: function _stateFromAttributes() {
      var state = {};

      // this.attributes is a NamedNodeMap, without normal iterators
      for (var ai = 0; ai < this.attributes.length; ai++) {
        var attr = this.attributes[ai];
        var attrMatch = attr.name.match(/^state-(.+)/);
        if (attrMatch) {
          var num = Number(attr.value);
          state[attrMatch[1]] = isNaN(num) ? attr.value : num;
        }
      }

      return state;
    }
  }, {
    key: 'config',


    /**
     * Defines standard component configuration.
     * @type {object}
     * @property {function} template - function transforming state object to virtual dom tree
     * @property {object} [helpers={}] - properties and functions injected automatically into template state object
     * @property {object} [routes={}] - object mapping string route expressions to handler functions
     * @property {boolean} [updateSync=false] - whether to apply updates to DOM
     * immediately, instead of batching to one update per frame
     * @property {boolean} [useShadowDom=false] - whether to use Shadow DOM
     * @property {string} [css=''] - component-specific Shadow DOM stylesheet
     * @example
     * get config() {
     *   return {
     *     template: state => h('.name', `My name is ${name}`),
     *     routes: {
     *       'wombat/:wombatId': (stateUpdate={}, wombatId) => {
     *         // route handler implementation
     *       },
     *     },
     *   };
     * }
     */
    get: function get() {
      return {};
    }

    /**
     * Template helper functions defined in config object, and exposed to template code
     * as $helpers. This getter uses the component's internal config cache.
     * @type {object}
     * @example
     * {
     *   myHelper: () => 'some return value',
     * }
     */

  }, {
    key: 'helpers',
    get: function get() {
      return this.getConfig('helpers');
    }
  }]);

  return Component;
}(_webcomponent2.default);

exports.default = Component;
},{"./dom-patcher":342,"./router":344,"cuid":1,"webcomponent":363}],341:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _component = require('./component');

var _component2 = _interopRequireDefault(_component);

var _domPatcher = require('./dom-patcher');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ControlledComponent = function (_Component) {
  _inherits(ControlledComponent, _Component);

  function ControlledComponent() {
    _classCallCheck(this, ControlledComponent);

    return _possibleConstructorReturn(this, (ControlledComponent.__proto__ || Object.getPrototypeOf(ControlledComponent)).apply(this, arguments));
  }

  _createClass(ControlledComponent, [{
    key: 'createdCallback',
    value: function createdCallback() {
      var _this2 = this;

      _get(ControlledComponent.prototype.__proto__ || Object.getPrototypeOf(ControlledComponent.prototype), 'createdCallback', this).apply(this, arguments);
      this.controller = this.getConfig('controller');
      if (!this.controller) {
        throw Error('"controller" must be set in config of a ControlledComponent');
      }
      // Don't allow component's update directly
      this._update = this.update;
      this.update = function () {
        throw new Error('update() not allowed from component. Use controller');
      };
      this._updateListener = function () {
        return _this2._update();
      };
      this.controller.subscribeUpdates(this._updateListener);
    }
  }, {
    key: 'detachedCallback',
    value: function detachedCallback() {
      _get(ControlledComponent.prototype.__proto__ || Object.getPrototypeOf(ControlledComponent.prototype), 'detachedCallback', this).call(this);
      this.controller.unsubscribeUpdates(this._updateListener);
    }
  }, {
    key: 'attributeChangedCallback',
    value: function attributeChangedCallback() {
      // Do nothing, component should explicitly pass this to controller for an update
      // Super class calls this.update() which will throw an error
    }
  }, {
    key: '_render',
    value: function _render() {
      if (this.shouldUpdate()) {
        try {
          // Pass in $controller to jade.
          // Template should use something like $controller.getDisplayX() to get the state it needs
          this._rendered = this.getConfig('template')({
            $component: this,
            $helpers: this.helpers,
            $controller: this.controller
          });
        } catch (e) {
          this.logError('Error while rendering ' + this.toString(), this, e.stack);
        }
      }
      return this._rendered || _domPatcher.EMPTY_DIV;
    }
  }]);

  return ControlledComponent;
}(_component2.default);

exports.default = ControlledComponent;
},{"./component":340,"./dom-patcher":342}],342:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.DOMPatcher = exports.h = exports.EMPTY_DIV = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Manages Virtual DOM -> DOM rendering cycle
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @module dom-patcher
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @private
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */

var _snabbdom = require('snabbdom');

var _snabbdom2 = _interopRequireDefault(_snabbdom);

var _h = require('snabbdom/h');

var _h2 = _interopRequireDefault(_h);

var _attributes = require('snabbdom/modules/attributes');

var _attributes2 = _interopRequireDefault(_attributes);

var _dataset = require('snabbdom/modules/dataset');

var _dataset2 = _interopRequireDefault(_dataset);

var _snabbdomDelayedClass = require('snabbdom-delayed-class');

var _snabbdomDelayedClass2 = _interopRequireDefault(_snabbdomDelayedClass);

var _eventlisteners = require('snabbdom/modules/eventlisteners');

var _eventlisteners2 = _interopRequireDefault(_eventlisteners);

var _props = require('snabbdom/modules/props');

var _props2 = _interopRequireDefault(_props);

var _style = require('snabbdom/modules/style');

var _style2 = _interopRequireDefault(_style);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var patch = _snabbdom2.default.init([_attributes2.default, _dataset2.default, _snabbdomDelayedClass2.default, _eventlisteners2.default, _props2.default, _style2.default]);

var EMPTY_DIV = exports.EMPTY_DIV = (0, _h2.default)('div');
exports.h = _h2.default;

var DOMPatcher = exports.DOMPatcher = function () {
  function DOMPatcher(initialState, renderFunc) {
    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

    _classCallCheck(this, DOMPatcher);

    this.updateMode = options.updateMode || 'async';

    this.state = Object.assign({}, initialState);
    this.renderFunc = renderFunc;
    this.vnode = this.renderFunc(this.state);

    // prepare root element
    var tagName = this.vnode.sel.split(/[#\.]/)[0];
    var classMatches = this.vnode.sel.match(/\.[^\.#]+/g);
    var idMatch = this.vnode.sel.match(/#[^\.#]+/);
    this.el = document.createElement(tagName);
    if (classMatches) {
      this.el.className = classMatches.map(function (c) {
        return c.slice(1);
      }).join(' ');
    }
    if (idMatch) {
      this.el.id = idMatch[0].slice(1);
    }

    patch(this.el, this.vnode);
  }

  _createClass(DOMPatcher, [{
    key: 'update',
    value: function update(newState) {
      var _this = this;

      if (this.rendering) {
        console.error('Applying new DOM update while render is already in progress!');
      }

      this.pendingState = newState;
      switch (this.updateMode) {
        case 'async':
          if (!this.pending) {
            this.pending = true;
            requestAnimationFrame(function () {
              return _this.render();
            });
          }
          break;
        case 'sync':
          this.render();
          break;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      this.rendering = true;
      this.pending = false;
      this.state = this.pendingState;
      var newVnode = this.renderFunc(this.state);
      this.rendering = false;

      patch(this.vnode, newVnode);
      this.vnode = newVnode;
    }
  }]);

  return DOMPatcher;
}();
},{"snabbdom":359,"snabbdom-delayed-class":350,"snabbdom/h":351,"snabbdom/modules/attributes":354,"snabbdom/modules/dataset":355,"snabbdom/modules/eventlisteners":356,"snabbdom/modules/props":357,"snabbdom/modules/style":358}],343:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.h = exports.StateStore = exports.StateController = exports.ControlledComponent = exports.Component = undefined;

var _component = require('./component');

var _component2 = _interopRequireDefault(_component);

var _controlledComponent = require('./controlled-component');

var _controlledComponent2 = _interopRequireDefault(_controlledComponent);

var _stateController = require('./state-controller');

var _stateController2 = _interopRequireDefault(_stateController);

var _stateStore = require('./state-store');

var _stateStore2 = _interopRequireDefault(_stateStore);

var _domPatcher = require('./dom-patcher');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.Component = _component2.default;
exports.ControlledComponent = _controlledComponent2.default;
exports.StateController = _stateController2.default;
exports.StateStore = _stateStore2.default;
exports.h = _domPatcher.h; /**
                            * Entry point for Panel apps and components
                            * @module panel
                            * @example
                            * import { Component } from 'panel';
                            * document.registerElement('my-widget', class extends Component {
                            *   // app definition
                            * });
                            */
},{"./component":340,"./controlled-component":341,"./dom-patcher":342,"./state-controller":345,"./state-store":346}],344:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// just the necessary bits of Backbone router+history
var Router = function () {
  function Router(app) {
    var _this = this;

    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    _classCallCheck(this, Router);

    // allow injecting window dep
    var routerWindow = this.window = options.window || window;

    this.app = app;
    var routeDefs = this.app.getConfig('routes');

    // https://github.com/jashkenas/backbone/blob/d682061a/backbone.js#L1476-L1479
    // Cached regular expressions for matching named param parts and splatted
    // parts of route strings.
    var optionalParam = /\((.*?)\)/g;
    var namedParam = /(\(\?)?:\w+/g;
    var splatParam = /\*\w+/g;
    var escapeRegExp = /[\-{}\[\]+?.,\\\^$|#\s]/g;
    this.compiledRoutes = Object.keys(routeDefs).map(function (routeExpr) {
      // https://github.com/jashkenas/backbone/blob/d682061a/backbone.js#L1537-L1547
      var expr = routeExpr.replace(escapeRegExp, '\\$&').replace(optionalParam, '(?:$1)?').replace(namedParam, function (match, optional) {
        return optional ? match : '([^/?]+)';
      }).replace(splatParam, '([^?]*?)');
      expr = new RegExp('^' + expr + '(?:\\?([\\s\\S]*))?$');

      // hook up route handler function
      var handler = routeDefs[routeExpr];
      if (typeof handler === 'string') {
        // reference to another handler rather than its own function
        handler = routeDefs[handler];
      }

      return { expr: expr, handler: handler };
    });

    var navigateToHash = function navigateToHash() {
      return _this.navigate(routerWindow.location.hash);
    };
    routerWindow.addEventListener('popstate', function () {
      return navigateToHash();
    });

    this.historyMethod = options.historyMethod || 'pushState';
    var origChangeState = routerWindow.history[this.historyMethod];
    routerWindow.history[this.historyMethod] = function () {
      origChangeState.apply(routerWindow.history, arguments);
      navigateToHash();
    };
  }

  _createClass(Router, [{
    key: 'navigate',
    value: function navigate(fragment) {
      var _this2 = this;

      var stateUpdate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

      fragment = stripHash(fragment);
      if (fragment === this.app.state.$fragment && !Object.keys(stateUpdate).length) {
        return;
      }

      stateUpdate.$fragment = fragment;
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = this.compiledRoutes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var route = _step.value;

          var matches = route.expr.exec(fragment);
          if (matches) {
            var _ret = function () {
              // extract params
              // https://github.com/jashkenas/backbone/blob/d682061a/backbone.js#L1553-L1558
              var params = matches.slice(1);
              params = params.map(function (param, i) {
                // Don't decode the search params.
                if (i === params.length - 1) {
                  return param || null;
                }
                return param ? decodeURIComponent(param) : null;
              });

              var routeHandler = route.handler;
              if (!routeHandler) {
                throw 'No route handler defined for #' + fragment;
              }
              var routeStateUpdate = routeHandler.call.apply(routeHandler, [_this2.app, stateUpdate].concat(_toConsumableArray(params)));
              if (routeStateUpdate) {
                // don't update if route handler returned a falsey result
                _this2.app.update(Object.assign({}, stateUpdate, routeStateUpdate));
              }
              return {
                v: void 0
              };
            }();

            if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === "object") return _ret.v;
          }
        }

        // no route matched
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }

      console.error('No route found matching #' + fragment);
    }
  }, {
    key: 'replaceHash',
    value: function replaceHash(fragment) {
      fragment = stripHash(fragment);
      if (fragment !== stripHash(this.window.location.hash)) {
        this.window.history[this.historyMethod](null, null, '#' + fragment);
      }
    }
  }]);

  return Router;
}();

exports.default = Router;


function stripHash(fragment) {
  return fragment.replace(/^#*/, '');
}
},{}],345:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _stateStore = require('./state-store');

var _stateStore2 = _interopRequireDefault(_stateStore);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
 * A StateController manages state for an application or component
 * Subclasses extend this and expose methods that call the controller's _update method
 * Controller will default create its own state store unless one is passed.
 * StateController subclasses should only accept the dependencies they need via constructor
 * This means the dependencies can easily be mocked and unit tested
 */
var StateController = function () {
  // Create's a default store if one isn't given
  function StateController() {
    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
        _ref$store = _ref.store,
        store = _ref$store === undefined ? null : _ref$store;

    _classCallCheck(this, StateController);

    this._store = store || new _stateStore2.default();
    this._update(this.defaultState);
  }

  _createClass(StateController, [{
    key: '_update',


    // Discourage external users from using state directly
    value: function _update(props) {
      this._store.update(props);
    }
  }, {
    key: 'subscribeUpdates',
    value: function subscribeUpdates(listener) {
      return this._store.subscribeUpdates(listener);
    }
  }, {
    key: 'unsubscribeUpdates',
    value: function unsubscribeUpdates(listener) {
      return this._store.unsubscribeUpdates(listener);
    }
  }, {
    key: 'defaultState',
    get: function get() {
      return {};
    }
  }, {
    key: 'state',
    get: function get() {
      return this._store.state;
    }
  }]);

  return StateController;
}();

exports.default = StateController;
},{"./state-store":346}],346:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
 * StateStore stores state and allows an observer to subscribe to state updates
 */
var StateStore = function () {
  function StateStore() {
    _classCallCheck(this, StateStore);

    this._listeners = [];
    this._state = {};
  }

  _createClass(StateStore, [{
    key: "update",
    value: function update(props) {
      // Always create a new state object.
      // if lastState === newState then state hasn't changed
      this._state = Object.assign({}, this._state, props);
      this._listeners.forEach(function (listener) {
        return listener(props);
      });
    }
  }, {
    key: "subscribeUpdates",
    value: function subscribeUpdates(listener) {
      this._listeners.push(listener);
    }
  }, {
    key: "unsubscribeUpdates",
    value: function unsubscribeUpdates(listener) {
      this._listeners = this._listeners.filter(function (l) {
        return l !== listener;
      });
    }
  }, {
    key: "state",
    get: function get() {
      return this._state;
    }
  }]);

  return StateStore;
}();

exports.default = StateStore;
},{}],347:[function(require,module,exports){
/*!
 * Pikaday
 *
 * Copyright  2014 David Bushell | BSD & MIT license | https://github.com/dbushell/Pikaday
 */

(function (root, factory)
{
    'use strict';

    var moment;
    if (typeof exports === 'object') {
        // CommonJS module
        // Load moment.js as an optional dependency
        try { moment = require('moment'); } catch (e) {}
        module.exports = factory(moment);
    } else if (typeof define === 'function' && define.amd) {
        // AMD. Register as an anonymous module.
        define(function (req)
        {
            // Load moment.js as an optional dependency
            var id = 'moment';
            try { moment = req(id); } catch (e) {}
            return factory(moment);
        });
    } else {
        root.Pikaday = factory(root.moment);
    }
}(this, function (moment)
{
    'use strict';

    /**
     * feature detection and helper functions
     */
    var hasMoment = typeof moment === 'function',

    hasEventListeners = !!window.addEventListener,

    document = window.document,

    sto = window.setTimeout,

    addEvent = function(el, e, callback, capture)
    {
        if (hasEventListeners) {
            el.addEventListener(e, callback, !!capture);
        } else {
            el.attachEvent('on' + e, callback);
        }
    },

    removeEvent = function(el, e, callback, capture)
    {
        if (hasEventListeners) {
            el.removeEventListener(e, callback, !!capture);
        } else {
            el.detachEvent('on' + e, callback);
        }
    },

    fireEvent = function(el, eventName, data)
    {
        var ev;

        if (document.createEvent) {
            ev = document.createEvent('HTMLEvents');
            ev.initEvent(eventName, true, false);
            ev = extend(ev, data);
            el.dispatchEvent(ev);
        } else if (document.createEventObject) {
            ev = document.createEventObject();
            ev = extend(ev, data);
            el.fireEvent('on' + eventName, ev);
        }
    },

    trim = function(str)
    {
        return str.trim ? str.trim() : str.replace(/^\s+|\s+$/g,'');
    },

    hasClass = function(el, cn)
    {
        return (' ' + el.className + ' ').indexOf(' ' + cn + ' ') !== -1;
    },

    addClass = function(el, cn)
    {
        if (!hasClass(el, cn)) {
            el.className = (el.className === '') ? cn : el.className + ' ' + cn;
        }
    },

    removeClass = function(el, cn)
    {
        el.className = trim((' ' + el.className + ' ').replace(' ' + cn + ' ', ' '));
    },

    isArray = function(obj)
    {
        return (/Array/).test(Object.prototype.toString.call(obj));
    },

    isDate = function(obj)
    {
        return (/Date/).test(Object.prototype.toString.call(obj)) && !isNaN(obj.getTime());
    },

    isWeekend = function(date)
    {
        var day = date.getDay();
        return day === 0 || day === 6;
    },

    isLeapYear = function(year)
    {
        // solution by Matti Virkkunen: http://stackoverflow.com/a/4881951
        return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;
    },

    getDaysInMonth = function(year, month)
    {
        return [31, isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];
    },

    setToStartOfDay = function(date)
    {
        if (isDate(date)) date.setHours(0,0,0,0);
    },

    compareDates = function(a,b)
    {
        // weak date comparison (use setToStartOfDay(date) to ensure correct result)
        return a.getTime() === b.getTime();
    },

    extend = function(to, from, overwrite)
    {
        var prop, hasProp;
        for (prop in from) {
            hasProp = to[prop] !== undefined;
            if (hasProp && typeof from[prop] === 'object' && from[prop] !== null && from[prop].nodeName === undefined) {
                if (isDate(from[prop])) {
                    if (overwrite) {
                        to[prop] = new Date(from[prop].getTime());
                    }
                }
                else if (isArray(from[prop])) {
                    if (overwrite) {
                        to[prop] = from[prop].slice(0);
                    }
                } else {
                    to[prop] = extend({}, from[prop], overwrite);
                }
            } else if (overwrite || !hasProp) {
                to[prop] = from[prop];
            }
        }
        return to;
    },

    adjustCalendar = function(calendar) {
        if (calendar.month < 0) {
            calendar.year -= Math.ceil(Math.abs(calendar.month)/12);
            calendar.month += 12;
        }
        if (calendar.month > 11) {
            calendar.year += Math.floor(Math.abs(calendar.month)/12);
            calendar.month -= 12;
        }
        return calendar;
    },

    /**
     * defaults and localisation
     */
    defaults = {

        // bind the picker to a form field
        field: null,

        // automatically show/hide the picker on `field` focus (default `true` if `field` is set)
        bound: undefined,

        // position of the datepicker, relative to the field (default to bottom & left)
        // ('bottom' & 'left' keywords are not used, 'top' & 'right' are modifier on the bottom/left position)
        position: 'bottom left',

        // automatically fit in the viewport even if it means repositioning from the position option
        reposition: true,

        // the default output format for `.toString()` and `field` value
        format: 'YYYY-MM-DD',

        // the initial date to view when first opened
        defaultDate: null,

        // make the `defaultDate` the initial selected value
        setDefaultDate: false,

        // first day of week (0: Sunday, 1: Monday etc)
        firstDay: 0,

        // the default flag for moment's strict date parsing
        formatStrict: false,

        // the minimum/earliest date that can be selected
        minDate: null,
        // the maximum/latest date that can be selected
        maxDate: null,

        // number of years either side, or array of upper/lower range
        yearRange: 10,

        // show week numbers at head of row
        showWeekNumber: false,

        // used internally (don't config outside)
        minYear: 0,
        maxYear: 9999,
        minMonth: undefined,
        maxMonth: undefined,

        startRange: null,
        endRange: null,

        isRTL: false,

        // Additional text to append to the year in the calendar title
        yearSuffix: '',

        // Render the month after year in the calendar title
        showMonthAfterYear: false,

        // Render days of the calendar grid that fall in the next or previous month
        showDaysInNextAndPreviousMonths: false,

        // how many months are visible
        numberOfMonths: 1,

        // when numberOfMonths is used, this will help you to choose where the main calendar will be (default `left`, can be set to `right`)
        // only used for the first display or when a selected date is not visible
        mainCalendar: 'left',

        // Specify a DOM element to render the calendar in
        container: undefined,

        // Blur field when date is selected
        blurFieldOnSelect : true,

        // internationalization
        i18n: {
            previousMonth : 'Previous Month',
            nextMonth     : 'Next Month',
            months        : ['January','February','March','April','May','June','July','August','September','October','November','December'],
            weekdays      : ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],
            weekdaysShort : ['Sun','Mon','Tue','Wed','Thu','Fri','Sat']
        },

        // Theme Classname
        theme: null,

        // events array
        events: [],

        // callback function
        onSelect: null,
        onOpen: null,
        onClose: null,
        onDraw: null
    },


    /**
     * templating functions to abstract HTML rendering
     */
    renderDayName = function(opts, day, abbr)
    {
        day += opts.firstDay;
        while (day >= 7) {
            day -= 7;
        }
        return abbr ? opts.i18n.weekdaysShort[day] : opts.i18n.weekdays[day];
    },

    renderDay = function(opts)
    {
        var arr = [];
        var ariaSelected = 'false';
        if (opts.isEmpty) {
            if (opts.showDaysInNextAndPreviousMonths) {
                arr.push('is-outside-current-month');
            } else {
                return '<td class="is-empty"></td>';
            }
        }
        if (opts.isDisabled) {
            arr.push('is-disabled');
        }
        if (opts.isToday) {
            arr.push('is-today');
        }
        if (opts.isSelected) {
            arr.push('is-selected');
            ariaSelected = 'true';
        }
        if (opts.hasEvent) {
            arr.push('has-event');
        }
        if (opts.isInRange) {
            arr.push('is-inrange');
        }
        if (opts.isStartRange) {
            arr.push('is-startrange');
        }
        if (opts.isEndRange) {
            arr.push('is-endrange');
        }
        return '<td data-day="' + opts.day + '" class="' + arr.join(' ') + '" aria-selected="' + ariaSelected + '">' +
                 '<button class="pika-button pika-day" type="button" ' +
                    'data-pika-year="' + opts.year + '" data-pika-month="' + opts.month + '" data-pika-day="' + opts.day + '">' +
                        opts.day +
                 '</button>' +
               '</td>';
    },

    renderWeek = function (d, m, y) {
        // Lifted from http://javascript.about.com/library/blweekyear.htm, lightly modified.
        var onejan = new Date(y, 0, 1),
            weekNum = Math.ceil((((new Date(y, m, d) - onejan) / 86400000) + onejan.getDay()+1)/7);
        return '<td class="pika-week">' + weekNum + '</td>';
    },

    renderRow = function(days, isRTL)
    {
        return '<tr>' + (isRTL ? days.reverse() : days).join('') + '</tr>';
    },

    renderBody = function(rows)
    {
        return '<tbody>' + rows.join('') + '</tbody>';
    },

    renderHead = function(opts)
    {
        var i, arr = [];
        if (opts.showWeekNumber) {
            arr.push('<th></th>');
        }
        for (i = 0; i < 7; i++) {
            arr.push('<th scope="col"><abbr title="' + renderDayName(opts, i) + '">' + renderDayName(opts, i, true) + '</abbr></th>');
        }
        return '<thead><tr>' + (opts.isRTL ? arr.reverse() : arr).join('') + '</tr></thead>';
    },

    renderTitle = function(instance, c, year, month, refYear, randId)
    {
        var i, j, arr,
            opts = instance._o,
            isMinYear = year === opts.minYear,
            isMaxYear = year === opts.maxYear,
            html = '<div id="' + randId + '" class="pika-title" role="heading" aria-live="assertive">',
            monthHtml,
            yearHtml,
            prev = true,
            next = true;

        for (arr = [], i = 0; i < 12; i++) {
            arr.push('<option value="' + (year === refYear ? i - c : 12 + i - c) + '"' +
                (i === month ? ' selected="selected"': '') +
                ((isMinYear && i < opts.minMonth) || (isMaxYear && i > opts.maxMonth) ? 'disabled="disabled"' : '') + '>' +
                opts.i18n.months[i] + '</option>');
        }

        monthHtml = '<div class="pika-label">' + opts.i18n.months[month] + '<select class="pika-select pika-select-month" tabindex="-1">' + arr.join('') + '</select></div>';

        if (isArray(opts.yearRange)) {
            i = opts.yearRange[0];
            j = opts.yearRange[1] + 1;
        } else {
            i = year - opts.yearRange;
            j = 1 + year + opts.yearRange;
        }

        for (arr = []; i < j && i <= opts.maxYear; i++) {
            if (i >= opts.minYear) {
                arr.push('<option value="' + i + '"' + (i === year ? ' selected="selected"': '') + '>' + (i) + '</option>');
            }
        }
        yearHtml = '<div class="pika-label">' + year + opts.yearSuffix + '<select class="pika-select pika-select-year" tabindex="-1">' + arr.join('') + '</select></div>';

        if (opts.showMonthAfterYear) {
            html += yearHtml + monthHtml;
        } else {
            html += monthHtml + yearHtml;
        }

        if (isMinYear && (month === 0 || opts.minMonth >= month)) {
            prev = false;
        }

        if (isMaxYear && (month === 11 || opts.maxMonth <= month)) {
            next = false;
        }

        if (c === 0) {
            html += '<button class="pika-prev' + (prev ? '' : ' is-disabled') + '" type="button">' + opts.i18n.previousMonth + '</button>';
        }
        if (c === (instance._o.numberOfMonths - 1) ) {
            html += '<button class="pika-next' + (next ? '' : ' is-disabled') + '" type="button">' + opts.i18n.nextMonth + '</button>';
        }

        return html += '</div>';
    },

    renderTable = function(opts, data, randId)
    {
        return '<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="' + randId + '">' + renderHead(opts) + renderBody(data) + '</table>';
    },


    /**
     * Pikaday constructor
     */
    Pikaday = function(options)
    {
        var self = this,
            opts = self.config(options);

        self._onMouseDown = function(e)
        {
            if (!self._v) {
                return;
            }
            e = e || window.event;
            var target = e.target || e.srcElement;
            if (!target) {
                return;
            }

            if (!hasClass(target, 'is-disabled')) {
                if (hasClass(target, 'pika-button') && !hasClass(target, 'is-empty') && !hasClass(target.parentNode, 'is-disabled')) {
                    self.setDate(new Date(target.getAttribute('data-pika-year'), target.getAttribute('data-pika-month'), target.getAttribute('data-pika-day')));
                    if (opts.bound) {
                        sto(function() {
                            self.hide();
                            if (opts.blurFieldOnSelect && opts.field) {
                                opts.field.blur();
                            }
                        }, 100);
                    }
                }
                else if (hasClass(target, 'pika-prev')) {
                    self.prevMonth();
                }
                else if (hasClass(target, 'pika-next')) {
                    self.nextMonth();
                }
            }
            if (!hasClass(target, 'pika-select')) {
                // if this is touch event prevent mouse events emulation
                if (e.preventDefault) {
                    e.preventDefault();
                } else {
                    e.returnValue = false;
                    return false;
                }
            } else {
                self._c = true;
            }
        };

        self._onChange = function(e)
        {
            e = e || window.event;
            var target = e.target || e.srcElement;
            if (!target) {
                return;
            }
            if (hasClass(target, 'pika-select-month')) {
                self.gotoMonth(target.value);
            }
            else if (hasClass(target, 'pika-select-year')) {
                self.gotoYear(target.value);
            }
        };

        self._onKeyChange = function(e)
        {
            e = e || window.event;

            if (self.isVisible()) {

                switch(e.keyCode){
                    case 13:
                    case 27:
                        opts.field.blur();
                        break;
                    case 37:
                        e.preventDefault();
                        self.adjustDate('subtract', 1);
                        break;
                    case 38:
                        self.adjustDate('subtract', 7);
                        break;
                    case 39:
                        self.adjustDate('add', 1);
                        break;
                    case 40:
                        self.adjustDate('add', 7);
                        break;
                }
            }
        };

        self._onInputChange = function(e)
        {
            var date;

            if (e.firedBy === self) {
                return;
            }
            if (hasMoment) {
                date = moment(opts.field.value, opts.format, opts.formatStrict);
                date = (date && date.isValid()) ? date.toDate() : null;
            }
            else {
                date = new Date(Date.parse(opts.field.value));
            }
            if (isDate(date)) {
              self.setDate(date);
            }
            if (!self._v) {
                self.show();
            }
        };

        self._onInputFocus = function()
        {
            self.show();
        };

        self._onInputClick = function()
        {
            self.show();
        };

        self._onInputBlur = function()
        {
            // IE allows pika div to gain focus; catch blur the input field
            var pEl = document.activeElement;
            do {
                if (hasClass(pEl, 'pika-single')) {
                    return;
                }
            }
            while ((pEl = pEl.parentNode));

            if (!self._c) {
                self._b = sto(function() {
                    self.hide();
                }, 50);
            }
            self._c = false;
        };

        self._onClick = function(e)
        {
            e = e || window.event;
            var target = e.target || e.srcElement,
                pEl = target;
            if (!target) {
                return;
            }
            if (!hasEventListeners && hasClass(target, 'pika-select')) {
                if (!target.onchange) {
                    target.setAttribute('onchange', 'return;');
                    addEvent(target, 'change', self._onChange);
                }
            }
            do {
                if (hasClass(pEl, 'pika-single') || pEl === opts.trigger) {
                    return;
                }
            }
            while ((pEl = pEl.parentNode));
            if (self._v && target !== opts.trigger && pEl !== opts.trigger) {
                self.hide();
            }
        };

        self.el = document.createElement('div');
        self.el.className = 'pika-single' + (opts.isRTL ? ' is-rtl' : '') + (opts.theme ? ' ' + opts.theme : '');

        addEvent(self.el, 'mousedown', self._onMouseDown, true);
        addEvent(self.el, 'touchend', self._onMouseDown, true);
        addEvent(self.el, 'change', self._onChange);
        addEvent(document, 'keydown', self._onKeyChange);

        if (opts.field) {
            if (opts.container) {
                opts.container.appendChild(self.el);
            } else if (opts.bound) {
                document.body.appendChild(self.el);
            } else {
                opts.field.parentNode.insertBefore(self.el, opts.field.nextSibling);
            }
            addEvent(opts.field, 'change', self._onInputChange);

            if (!opts.defaultDate) {
                if (hasMoment && opts.field.value) {
                    opts.defaultDate = moment(opts.field.value, opts.format).toDate();
                } else {
                    opts.defaultDate = new Date(Date.parse(opts.field.value));
                }
                opts.setDefaultDate = true;
            }
        }

        var defDate = opts.defaultDate;

        if (isDate(defDate)) {
            if (opts.setDefaultDate) {
                self.setDate(defDate, true);
            } else {
                self.gotoDate(defDate);
            }
        } else {
            self.gotoDate(new Date());
        }

        if (opts.bound) {
            this.hide();
            self.el.className += ' is-bound';
            addEvent(opts.trigger, 'click', self._onInputClick);
            addEvent(opts.trigger, 'focus', self._onInputFocus);
            addEvent(opts.trigger, 'blur', self._onInputBlur);
        } else {
            this.show();
        }
    };


    /**
     * public Pikaday API
     */
    Pikaday.prototype = {


        /**
         * configure functionality
         */
        config: function(options)
        {
            if (!this._o) {
                this._o = extend({}, defaults, true);
            }

            var opts = extend(this._o, options, true);

            opts.isRTL = !!opts.isRTL;

            opts.field = (opts.field && opts.field.nodeName) ? opts.field : null;

            opts.theme = (typeof opts.theme) === 'string' && opts.theme ? opts.theme : null;

            opts.bound = !!(opts.bound !== undefined ? opts.field && opts.bound : opts.field);

            opts.trigger = (opts.trigger && opts.trigger.nodeName) ? opts.trigger : opts.field;

            opts.disableWeekends = !!opts.disableWeekends;

            opts.disableDayFn = (typeof opts.disableDayFn) === 'function' ? opts.disableDayFn : null;

            var nom = parseInt(opts.numberOfMonths, 10) || 1;
            opts.numberOfMonths = nom > 4 ? 4 : nom;

            if (!isDate(opts.minDate)) {
                opts.minDate = false;
            }
            if (!isDate(opts.maxDate)) {
                opts.maxDate = false;
            }
            if ((opts.minDate && opts.maxDate) && opts.maxDate < opts.minDate) {
                opts.maxDate = opts.minDate = false;
            }
            if (opts.minDate) {
                this.setMinDate(opts.minDate);
            }
            if (opts.maxDate) {
                this.setMaxDate(opts.maxDate);
            }

            if (isArray(opts.yearRange)) {
                var fallback = new Date().getFullYear() - 10;
                opts.yearRange[0] = parseInt(opts.yearRange[0], 10) || fallback;
                opts.yearRange[1] = parseInt(opts.yearRange[1], 10) || fallback;
            } else {
                opts.yearRange = Math.abs(parseInt(opts.yearRange, 10)) || defaults.yearRange;
                if (opts.yearRange > 100) {
                    opts.yearRange = 100;
                }
            }

            return opts;
        },

        /**
         * return a formatted string of the current selection (using Moment.js if available)
         */
        toString: function(format)
        {
            return !isDate(this._d) ? '' : hasMoment ? moment(this._d).format(format || this._o.format) : this._d.toDateString();
        },

        /**
         * return a Moment.js object of the current selection (if available)
         */
        getMoment: function()
        {
            return hasMoment ? moment(this._d) : null;
        },

        /**
         * set the current selection from a Moment.js object (if available)
         */
        setMoment: function(date, preventOnSelect)
        {
            if (hasMoment && moment.isMoment(date)) {
                this.setDate(date.toDate(), preventOnSelect);
            }
        },

        /**
         * return a Date object of the current selection with fallback for the current date
         */
        getDate: function()
        {
            return isDate(this._d) ? new Date(this._d.getTime()) : new Date();
        },

        /**
         * set the current selection
         */
        setDate: function(date, preventOnSelect)
        {
            if (!date) {
                this._d = null;

                if (this._o.field) {
                    this._o.field.value = '';
                    fireEvent(this._o.field, 'change', { firedBy: this });
                }

                return this.draw();
            }
            if (typeof date === 'string') {
                date = new Date(Date.parse(date));
            }
            if (!isDate(date)) {
                return;
            }

            var min = this._o.minDate,
                max = this._o.maxDate;

            if (isDate(min) && date < min) {
                date = min;
            } else if (isDate(max) && date > max) {
                date = max;
            }

            this._d = new Date(date.getTime());
            setToStartOfDay(this._d);
            this.gotoDate(this._d);

            if (this._o.field) {
                this._o.field.value = this.toString();
                fireEvent(this._o.field, 'change', { firedBy: this });
            }
            if (!preventOnSelect && typeof this._o.onSelect === 'function') {
                this._o.onSelect.call(this, this.getDate());
            }
        },

        /**
         * change view to a specific date
         */
        gotoDate: function(date)
        {
            var newCalendar = true;

            if (!isDate(date)) {
                return;
            }

            if (this.calendars) {
                var firstVisibleDate = new Date(this.calendars[0].year, this.calendars[0].month, 1),
                    lastVisibleDate = new Date(this.calendars[this.calendars.length-1].year, this.calendars[this.calendars.length-1].month, 1),
                    visibleDate = date.getTime();
                // get the end of the month
                lastVisibleDate.setMonth(lastVisibleDate.getMonth()+1);
                lastVisibleDate.setDate(lastVisibleDate.getDate()-1);
                newCalendar = (visibleDate < firstVisibleDate.getTime() || lastVisibleDate.getTime() < visibleDate);
            }

            if (newCalendar) {
                this.calendars = [{
                    month: date.getMonth(),
                    year: date.getFullYear()
                }];
                if (this._o.mainCalendar === 'right') {
                    this.calendars[0].month += 1 - this._o.numberOfMonths;
                }
            }

            this.adjustCalendars();
        },

        adjustDate: function(sign, days) {

            var day = this.getDate();
            var difference = parseInt(days)*24*60*60*1000;

            var newDay;

            if (sign === 'add') {
                newDay = new Date(day.valueOf() + difference);
            } else if (sign === 'subtract') {
                newDay = new Date(day.valueOf() - difference);
            }

            if (hasMoment) {
                if (sign === 'add') {
                    newDay = moment(day).add(days, "days").toDate();
                } else if (sign === 'subtract') {
                    newDay = moment(day).subtract(days, "days").toDate();
                }
            }

            this.setDate(newDay);
        },

        adjustCalendars: function() {
            this.calendars[0] = adjustCalendar(this.calendars[0]);
            for (var c = 1; c < this._o.numberOfMonths; c++) {
                this.calendars[c] = adjustCalendar({
                    month: this.calendars[0].month + c,
                    year: this.calendars[0].year
                });
            }
            this.draw();
        },

        gotoToday: function()
        {
            this.gotoDate(new Date());
        },

        /**
         * change view to a specific month (zero-index, e.g. 0: January)
         */
        gotoMonth: function(month)
        {
            if (!isNaN(month)) {
                this.calendars[0].month = parseInt(month, 10);
                this.adjustCalendars();
            }
        },

        nextMonth: function()
        {
            this.calendars[0].month++;
            this.adjustCalendars();
        },

        prevMonth: function()
        {
            this.calendars[0].month--;
            this.adjustCalendars();
        },

        /**
         * change view to a specific full year (e.g. "2012")
         */
        gotoYear: function(year)
        {
            if (!isNaN(year)) {
                this.calendars[0].year = parseInt(year, 10);
                this.adjustCalendars();
            }
        },

        /**
         * change the minDate
         */
        setMinDate: function(value)
        {
            if(value instanceof Date) {
                setToStartOfDay(value);
                this._o.minDate = value;
                this._o.minYear  = value.getFullYear();
                this._o.minMonth = value.getMonth();
            } else {
                this._o.minDate = defaults.minDate;
                this._o.minYear  = defaults.minYear;
                this._o.minMonth = defaults.minMonth;
                this._o.startRange = defaults.startRange;
            }

            this.draw();
        },

        /**
         * change the maxDate
         */
        setMaxDate: function(value)
        {
            if(value instanceof Date) {
                setToStartOfDay(value);
                this._o.maxDate = value;
                this._o.maxYear = value.getFullYear();
                this._o.maxMonth = value.getMonth();
            } else {
                this._o.maxDate = defaults.maxDate;
                this._o.maxYear = defaults.maxYear;
                this._o.maxMonth = defaults.maxMonth;
                this._o.endRange = defaults.endRange;
            }

            this.draw();
        },

        setStartRange: function(value)
        {
            this._o.startRange = value;
        },

        setEndRange: function(value)
        {
            this._o.endRange = value;
        },

        /**
         * refresh the HTML
         */
        draw: function(force)
        {
            if (!this._v && !force) {
                return;
            }
            var opts = this._o,
                minYear = opts.minYear,
                maxYear = opts.maxYear,
                minMonth = opts.minMonth,
                maxMonth = opts.maxMonth,
                html = '',
                randId;

            if (this._y <= minYear) {
                this._y = minYear;
                if (!isNaN(minMonth) && this._m < minMonth) {
                    this._m = minMonth;
                }
            }
            if (this._y >= maxYear) {
                this._y = maxYear;
                if (!isNaN(maxMonth) && this._m > maxMonth) {
                    this._m = maxMonth;
                }
            }

            randId = 'pika-title-' + Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 2);

            for (var c = 0; c < opts.numberOfMonths; c++) {
                html += '<div class="pika-lendar">' + renderTitle(this, c, this.calendars[c].year, this.calendars[c].month, this.calendars[0].year, randId) + this.render(this.calendars[c].year, this.calendars[c].month, randId) + '</div>';
            }

            this.el.innerHTML = html;

            if (opts.bound) {
                if(opts.field.type !== 'hidden') {
                    sto(function() {
                        opts.trigger.focus();
                    }, 1);
                }
            }

            if (typeof this._o.onDraw === 'function') {
                this._o.onDraw(this);
            }

            if (opts.bound) {
                // let the screen reader user know to use arrow keys
                opts.field.setAttribute('aria-label', 'Use the arrow keys to pick a date');
            }
        },

        adjustPosition: function()
        {
            var field, pEl, width, height, viewportWidth, viewportHeight, scrollTop, left, top, clientRect;

            if (this._o.container) return;

            this.el.style.position = 'absolute';

            field = this._o.trigger;
            pEl = field;
            width = this.el.offsetWidth;
            height = this.el.offsetHeight;
            viewportWidth = window.innerWidth || document.documentElement.clientWidth;
            viewportHeight = window.innerHeight || document.documentElement.clientHeight;
            scrollTop = window.pageYOffset || document.body.scrollTop || document.documentElement.scrollTop;

            if (typeof field.getBoundingClientRect === 'function') {
                clientRect = field.getBoundingClientRect();
                left = clientRect.left + window.pageXOffset;
                top = clientRect.bottom + window.pageYOffset;
            } else {
                left = pEl.offsetLeft;
                top  = pEl.offsetTop + pEl.offsetHeight;
                while((pEl = pEl.offsetParent)) {
                    left += pEl.offsetLeft;
                    top  += pEl.offsetTop;
                }
            }

            // default position is bottom & left
            if ((this._o.reposition && left + width > viewportWidth) ||
                (
                    this._o.position.indexOf('right') > -1 &&
                    left - width + field.offsetWidth > 0
                )
            ) {
                left = left - width + field.offsetWidth;
            }
            if ((this._o.reposition && top + height > viewportHeight + scrollTop) ||
                (
                    this._o.position.indexOf('top') > -1 &&
                    top - height - field.offsetHeight > 0
                )
            ) {
                top = top - height - field.offsetHeight;
            }

            this.el.style.left = left + 'px';
            this.el.style.top = top + 'px';
        },

        /**
         * render HTML for a particular month
         */
        render: function(year, month, randId)
        {
            var opts   = this._o,
                now    = new Date(),
                days   = getDaysInMonth(year, month),
                before = new Date(year, month, 1).getDay(),
                data   = [],
                row    = [];
            setToStartOfDay(now);
            if (opts.firstDay > 0) {
                before -= opts.firstDay;
                if (before < 0) {
                    before += 7;
                }
            }
            var previousMonth = month === 0 ? 11 : month - 1,
                nextMonth = month === 11 ? 0 : month + 1,
                yearOfPreviousMonth = month === 0 ? year - 1 : year,
                yearOfNextMonth = month === 11 ? year + 1 : year,
                daysInPreviousMonth = getDaysInMonth(yearOfPreviousMonth, previousMonth);
            var cells = days + before,
                after = cells;
            while(after > 7) {
                after -= 7;
            }
            cells += 7 - after;
            for (var i = 0, r = 0; i < cells; i++)
            {
                var day = new Date(year, month, 1 + (i - before)),
                    isSelected = isDate(this._d) ? compareDates(day, this._d) : false,
                    isToday = compareDates(day, now),
                    hasEvent = opts.events.indexOf(day.toDateString()) !== -1 ? true : false,
                    isEmpty = i < before || i >= (days + before),
                    dayNumber = 1 + (i - before),
                    monthNumber = month,
                    yearNumber = year,
                    isStartRange = opts.startRange && compareDates(opts.startRange, day),
                    isEndRange = opts.endRange && compareDates(opts.endRange, day),
                    isInRange = opts.startRange && opts.endRange && opts.startRange < day && day < opts.endRange,
                    isDisabled = (opts.minDate && day < opts.minDate) ||
                                 (opts.maxDate && day > opts.maxDate) ||
                                 (opts.disableWeekends && isWeekend(day)) ||
                                 (opts.disableDayFn && opts.disableDayFn(day));

                if (isEmpty) {
                    if (i < before) {
                        dayNumber = daysInPreviousMonth + dayNumber;
                        monthNumber = previousMonth;
                        yearNumber = yearOfPreviousMonth;
                    } else {
                        dayNumber = dayNumber - days;
                        monthNumber = nextMonth;
                        yearNumber = yearOfNextMonth;
                    }
                }

                var dayConfig = {
                        day: dayNumber,
                        month: monthNumber,
                        year: yearNumber,
                        hasEvent: hasEvent,
                        isSelected: isSelected,
                        isToday: isToday,
                        isDisabled: isDisabled,
                        isEmpty: isEmpty,
                        isStartRange: isStartRange,
                        isEndRange: isEndRange,
                        isInRange: isInRange,
                        showDaysInNextAndPreviousMonths: opts.showDaysInNextAndPreviousMonths
                    };

                row.push(renderDay(dayConfig));

                if (++r === 7) {
                    if (opts.showWeekNumber) {
                        row.unshift(renderWeek(i - before, month, year));
                    }
                    data.push(renderRow(row, opts.isRTL));
                    row = [];
                    r = 0;
                }
            }
            return renderTable(opts, data, randId);
        },

        isVisible: function()
        {
            return this._v;
        },

        show: function()
        {
            if (!this.isVisible()) {
                this._v = true;
                this.draw();
                if (this._o.bound) {
                    addEvent(document, 'click', this._onClick);
                    this.adjustPosition();
                }
                removeClass(this.el, 'is-hidden');
                if (typeof this._o.onOpen === 'function') {
                    this._o.onOpen.call(this);
                }
            }
        },

        hide: function()
        {
            var v = this._v;
            if (v !== false) {
                if (this._o.bound) {
                    removeEvent(document, 'click', this._onClick);
                }
                this.el.style.position = 'static'; // reset
                this.el.style.left = 'auto';
                this.el.style.top = 'auto';
                addClass(this.el, 'is-hidden');
                this._v = false;
                if (v !== undefined && typeof this._o.onClose === 'function') {
                    this._o.onClose.call(this);
                }
            }
        },

        /**
         * GAME OVER
         */
        destroy: function()
        {
            this.hide();
            removeEvent(this.el, 'mousedown', this._onMouseDown, true);
            removeEvent(this.el, 'touchend', this._onMouseDown, true);
            removeEvent(this.el, 'change', this._onChange);
            if (this._o.field) {
                removeEvent(this._o.field, 'change', this._onInputChange);
                if (this._o.bound) {
                    removeEvent(this._o.trigger, 'click', this._onInputClick);
                    removeEvent(this._o.trigger, 'focus', this._onInputFocus);
                    removeEvent(this._o.trigger, 'blur', this._onInputBlur);
                }
            }
            if (this.el.parentNode) {
                this.el.parentNode.removeChild(this.el);
            }
        }

    };

    return Pikaday;

}));

},{"moment":338}],348:[function(require,module,exports){
'use strict';
var strictUriEncode = require('strict-uri-encode');
var objectAssign = require('object-assign');

function encoderForArrayFormat(opts) {
	switch (opts.arrayFormat) {
		case 'index':
			return function (key, value, index) {
				return value === null ? [
					encode(key, opts),
					'[',
					index,
					']'
				].join('') : [
					encode(key, opts),
					'[',
					encode(index, opts),
					']=',
					encode(value, opts)
				].join('');
			};

		case 'bracket':
			return function (key, value) {
				return value === null ? encode(key, opts) : [
					encode(key, opts),
					'[]=',
					encode(value, opts)
				].join('');
			};

		default:
			return function (key, value) {
				return value === null ? encode(key, opts) : [
					encode(key, opts),
					'=',
					encode(value, opts)
				].join('');
			};
	}
}

function parserForArrayFormat(opts) {
	var result;

	switch (opts.arrayFormat) {
		case 'index':
			return function (key, value, accumulator) {
				result = /\[(\d*)\]$/.exec(key);

				key = key.replace(/\[\d*\]$/, '');

				if (!result) {
					accumulator[key] = value;
					return;
				}

				if (accumulator[key] === undefined) {
					accumulator[key] = {};
				}

				accumulator[key][result[1]] = value;
			};

		case 'bracket':
			return function (key, value, accumulator) {
				result = /(\[\])$/.exec(key);
				key = key.replace(/\[\]$/, '');

				if (!result) {
					accumulator[key] = value;
					return;
				} else if (accumulator[key] === undefined) {
					accumulator[key] = [value];
					return;
				}

				accumulator[key] = [].concat(accumulator[key], value);
			};

		default:
			return function (key, value, accumulator) {
				if (accumulator[key] === undefined) {
					accumulator[key] = value;
					return;
				}

				accumulator[key] = [].concat(accumulator[key], value);
			};
	}
}

function encode(value, opts) {
	if (opts.encode) {
		return opts.strict ? strictUriEncode(value) : encodeURIComponent(value);
	}

	return value;
}

function keysSorter(input) {
	if (Array.isArray(input)) {
		return input.sort();
	} else if (typeof input === 'object') {
		return keysSorter(Object.keys(input)).sort(function (a, b) {
			return Number(a) - Number(b);
		}).map(function (key) {
			return input[key];
		});
	}

	return input;
}

exports.extract = function (str) {
	return str.split('?')[1] || '';
};

exports.parse = function (str, opts) {
	opts = objectAssign({arrayFormat: 'none'}, opts);

	var formatter = parserForArrayFormat(opts);

	// Create an object with no prototype
	// https://github.com/sindresorhus/query-string/issues/47
	var ret = Object.create(null);

	if (typeof str !== 'string') {
		return ret;
	}

	str = str.trim().replace(/^(\?|#|&)/, '');

	if (!str) {
		return ret;
	}

	str.split('&').forEach(function (param) {
		var parts = param.replace(/\+/g, ' ').split('=');
		// Firefox (pre 40) decodes `%3D` to `=`
		// https://github.com/sindresorhus/query-string/pull/37
		var key = parts.shift();
		var val = parts.length > 0 ? parts.join('=') : undefined;

		// missing `=` should be `null`:
		// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters
		val = val === undefined ? null : decodeURIComponent(val);

		formatter(decodeURIComponent(key), val, ret);
	});

	return Object.keys(ret).sort().reduce(function (result, key) {
		var val = ret[key];
		if (Boolean(val) && typeof val === 'object' && !Array.isArray(val)) {
			// Sort object keys, not values
			result[key] = keysSorter(val);
		} else {
			result[key] = val;
		}

		return result;
	}, Object.create(null));
};

exports.stringify = function (obj, opts) {
	var defaults = {
		encode: true,
		strict: true,
		arrayFormat: 'none'
	};

	opts = objectAssign(defaults, opts);

	var formatter = encoderForArrayFormat(opts);

	return obj ? Object.keys(obj).sort().map(function (key) {
		var val = obj[key];

		if (val === undefined) {
			return '';
		}

		if (val === null) {
			return encode(key, opts);
		}

		if (Array.isArray(val)) {
			var result = [];

			val.slice().forEach(function (val2) {
				if (val2 === undefined) {
					return;
				}

				result.push(formatter(key, val2, result.length));
			});

			return result.join('&');
		}

		return encode(key, opts) + '=' + encode(val, opts);
	}).filter(function (x) {
		return x.length > 0;
	}).join('&') : '';
};

},{"object-assign":339,"strict-uri-encode":362}],349:[function(require,module,exports){
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.rollbar=e():t.rollbar=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";var r=n(2),o=window&&window._rollbarConfig,i=o&&o.globalAlias||"Rollbar",a=window&&window[i]&&"function"==typeof window[i].shimId&&void 0!==window[i].shimId();if(window&&!window._rollbarStartTime&&(window._rollbarStartTime=(new Date).getTime()),!a&&o){var s=new r(o);window[i]=s}else window.rollbar=r,window._rollbarDidLoad=!0;t.exports=r},function(t,e,n){"use strict";function r(t,e){this.options=c.extend(!0,_,t);var n=new l(this.options,h,d);this.client=e||new u(this.options,n,p,"browser"),i(this.client.notifier),a(this.client.queue),(this.options.captureUncaught||this.options.handleUncaughtExceptions)&&(f.captureUncaughtExceptions(window,this),f.wrapGlobals(window,this)),(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections)&&f.captureUnhandledRejections(window,this),this.instrumenter=new b(this.options,this.client.telemeter,this,window,document),this.instrumenter.instrument()}function o(t){var e="Rollbar is not initialized";p.error(e),t&&t(new Error(e))}function i(t){t.addTransform(m.handleItemWithError).addTransform(m.ensureItemHasSomethingToSay).addTransform(m.addBaseInfo).addTransform(m.addRequestInfo(window)).addTransform(m.addClientInfo(window)).addTransform(m.addPluginInfo(window)).addTransform(m.addBody).addTransform(g.addMessageWithError).addTransform(g.addTelemetryData).addTransform(m.scrubPayload).addTransform(m.userTransform).addTransform(g.itemToPayload)}function a(t){t.addPredicate(v.checkIgnore).addPredicate(v.userCheckIgnore).addPredicate(v.urlIsNotBlacklisted).addPredicate(v.urlIsWhitelisted).addPredicate(v.messageIsIgnored)}function s(t){for(var e=0,n=t.length;e<n;++e)if(c.isFunction(t[e]))return t[e]}var u=n(3),c=n(6),l=n(11),p=n(13),f=n(16),h=n(17),d=n(18),m=n(19),g=n(23),v=n(24),y=n(20),b=n(25),w=null;r.init=function(t,e){return w?w.global(t).configure(t):w=new r(t,e)},r.prototype.global=function(t){return this.client.global(t),this},r.global=function(t){return w?w.global(t):void o()},r.prototype.configure=function(t,e){var n=this.options,r={};return e&&(r={payload:e}),this.options=c.extend(!0,{},n,t,r),this.client.configure(t,e),this.instrumenter.configure(t),this},r.configure=function(t,e){return w?w.configure(t,e):void o()},r.prototype.lastError=function(){return this.client.lastError},r.lastError=function(){return w?w.lastError():void o()},r.prototype.log=function(){var t=this._createItem(arguments),e=t.uuid;return this.client.log(t),{uuid:e}},r.log=function(){if(w)return w.log.apply(w,arguments);var t=s(arguments);o(t)},r.prototype.debug=function(){var t=this._createItem(arguments),e=t.uuid;return this.client.debug(t),{uuid:e}},r.debug=function(){if(w)return w.debug.apply(w,arguments);var t=s(arguments);o(t)},r.prototype.info=function(){var t=this._createItem(arguments),e=t.uuid;return this.client.info(t),{uuid:e}},r.info=function(){if(w)return w.info.apply(w,arguments);var t=s(arguments);o(t)},r.prototype.warn=function(){var t=this._createItem(arguments),e=t.uuid;return this.client.warn(t),{uuid:e}},r.warn=function(){if(w)return w.warn.apply(w,arguments);var t=s(arguments);o(t)},r.prototype.warning=function(){var t=this._createItem(arguments),e=t.uuid;return this.client.warning(t),{uuid:e}},r.warning=function(){if(w)return w.warning.apply(w,arguments);var t=s(arguments);o(t)},r.prototype.error=function(){var t=this._createItem(arguments),e=t.uuid;return this.client.error(t),{uuid:e}},r.error=function(){if(w)return w.error.apply(w,arguments);var t=s(arguments);o(t)},r.prototype.critical=function(){var t=this._createItem(arguments),e=t.uuid;return this.client.critical(t),{uuid:e}},r.critical=function(){if(w)return w.critical.apply(w,arguments);var t=s(arguments);o(t)},r.prototype.handleUncaughtException=function(t,e,n,r,o,i){var a,s=c.makeUnhandledStackInfo(t,e,n,r,o,"onerror","uncaught exception",y);c.isError(o)?(a=this._createItem([t,o,i]),a._unhandledStackInfo=s):c.isError(e)?(a=this._createItem([t,e,i]),a._unhandledStackInfo=s):(a=this._createItem([t,i]),a.stackInfo=s),a.level=this.options.uncaughtErrorLevel,a._isUncaught=!0,this.client.log(a)},r.prototype.handleUnhandledRejection=function(t,e){var n="unhandled rejection was null or undefined!";n=t?t.message||String(t):n;var r,o=t&&t._rollbarContext||e&&e._rollbarContext;c.isError(t)?r=this._createItem([n,t,o]):(r=this._createItem([n,t,o]),r.stackInfo=c.makeUnhandledStackInfo(n,"",0,0,null,"unhandledrejection","",y)),r.level=this.options.uncaughtErrorLevel,r._isUncaught=!0,r._originalArgs=r._originalArgs||[],r._originalArgs.push(e),this.client.log(r)},r.prototype.wrap=function(t,e,n){try{var r;if(r=c.isFunction(e)?e:function(){return e||{}},!c.isFunction(t))return t;if(t._isWrap)return t;if(!t._rollbar_wrapped&&(t._rollbar_wrapped=function(){n&&c.isFunction(n)&&n.apply(this,arguments);try{return t.apply(this,arguments)}catch(n){var e=n;throw c.isType(e,"string")&&(e=new String(e)),e._rollbarContext=r()||{},e._rollbarContext._wrappedSource=t.toString(),window._rollbarWrappedError=e,e}},t._rollbar_wrapped._isWrap=!0,t.hasOwnProperty))for(var o in t)t.hasOwnProperty(o)&&(t._rollbar_wrapped[o]=t[o]);return t._rollbar_wrapped}catch(e){return t}},r.wrap=function(t,e){return w?w.wrap(t,e):void o()},r.prototype.captureEvent=function(t,e){return this.client.captureEvent(t,e)},r.captureEvent=function(t,e){return w?w.captureEvent(t,e):void o()},r.prototype.captureDomContentLoaded=function(t,e){return e||(e=new Date),this.client.captureDomContentLoaded(e)},r.prototype.captureLoad=function(t,e){return e||(e=new Date),this.client.captureLoad(e)},r.prototype._createItem=function(t){return c.createItem(t,p,this)};var _={version:"2.2.9",scrubFields:["pw","pass","passwd","password","secret","confirm_password","confirmPassword","password_confirmation","passwordConfirmation","access_token","accessToken","secret_key","secretKey","secretToken"],logLevel:"debug",reportLevel:"debug",uncaughtErrorLevel:"error",endpoint:"api.rollbar.com/api/1/",verbose:!1,enabled:!0};t.exports=r},function(t,e,n){"use strict";function r(t,e,n,o){this.options=u.extend(!0,{},t),this.logger=n,r.rateLimiter.setPlatformOptions(o,this.options),this.queue=new i(r.rateLimiter,e,n,this.options),this.notifier=new a(this.queue,this.options),this.telemeter=new s(this.options),this.lastError=null}var o=n(4),i=n(5),a=n(9),s=n(10),u=n(6),c={maxItems:0,itemsPerMinute:60};r.rateLimiter=new o(c),r.prototype.global=function(t){return r.rateLimiter.configureGlobal(t),this},r.prototype.configure=function(t,e){this.notifier&&this.notifier.configure(t),this.telemeter&&this.telemeter.configure(t);var n=this.options,r={};return e&&(r={payload:e}),this.options=u.extend(!0,{},n,t,r),this},r.prototype.log=function(t){var e=this._defaultLogLevel();return this._log(e,t)},r.prototype.debug=function(t){this._log("debug",t)},r.prototype.info=function(t){this._log("info",t)},r.prototype.warn=function(t){this._log("warning",t)},r.prototype.warning=function(t){this._log("warning",t)},r.prototype.error=function(t){this._log("error",t)},r.prototype.critical=function(t){this._log("critical",t)},r.prototype.wait=function(t){this.queue.wait(t)},r.prototype.captureEvent=function(t,e){return this.telemeter.captureEvent(t,e)},r.prototype.captureDomContentLoaded=function(t){return this.telemeter.captureDomContentLoaded(t)},r.prototype.captureLoad=function(t){return this.telemeter.captureLoad(t)},r.prototype._log=function(t,e){if(!this._sameAsLastError(e))try{var n=null;e.callback&&(n=e.callback,delete e.callback),e.level=e.level||t,e.telemetryEvents=this.telemeter.copyEvents(),this.telemeter._captureRollbarItem(e),this.notifier.log(e,n)}catch(t){this.logger.error(t)}},r.prototype._defaultLogLevel=function(){return this.options.logLevel||"debug"},r.prototype._sameAsLastError=function(t){return!(!this.lastError||this.lastError!==t.err)||(this.lastError=t.err,!1)},t.exports=r},function(t,e){"use strict";function n(t){this.startTime=(new Date).getTime(),this.counter=0,this.perMinCounter=0,this.platform=null,this.platformOptions={},this.configureGlobal(t)}function r(t,e,n){return!t.ignoreRateLimit&&e>=1&&n>=e}function o(t,e,n,r,o){var a=null;return n&&(n=new Error(n)),n||r||(a=i(t,e,o)),{error:n,shouldSend:r,payload:a}}function i(t,e,n){var r=e.environment||e.payload&&e.payload.environment,o={body:{message:{body:"maxItems has been hit. Ignoring errors until reset.",extra:{maxItems:n}}},language:"javascript",environment:r,notifier:{version:e.notifier&&e.notifier.version||e.version}};return"browser"===t?(o.platform="browser",o.framework="browser-js",o.notifier.name="rollbar-browser-js"):"server"===t&&(o.framework=e.framework||"node-js",o.notifier.name=e.notifier.name),o}n.globalSettings={startTime:(new Date).getTime(),maxItems:void 0,itemsPerMinute:void 0},n.prototype.configureGlobal=function(t){void 0!==t.startTime&&(n.globalSettings.startTime=t.startTime),void 0!==t.maxItems&&(n.globalSettings.maxItems=t.maxItems),void 0!==t.itemsPerMinute&&(n.globalSettings.itemsPerMinute=t.itemsPerMinute)},n.prototype.shouldSend=function(t,e){e=e||(new Date).getTime(),e-this.startTime>=6e4&&(this.startTime=e,this.perMinCounter=0);var i=n.globalSettings.maxItems,a=n.globalSettings.itemsPerMinute;if(r(t,i,this.counter))return o(this.platform,this.platformOptions,i+" max items reached",!1);if(r(t,a,this.perMinCounter))return o(this.platform,this.platformOptions,a+" items per minute reached",!1);this.counter++,this.perMinCounter++;var s=!r(t,i,this.counter);return o(this.platform,this.platformOptions,null,s,i)},n.prototype.setPlatformOptions=function(t,e){this.platform=t,this.platformOptions=e},t.exports=n},function(t,e,n){"use strict";function r(t,e,n,r){this.rateLimiter=t,this.api=e,this.logger=n,this.options=r,this.predicates=[],this.pendingItems=[],this.pendingRequests=[],this.retryQueue=[],this.retryHandle=null,this.waitCallback=null,this.waitIntervalID=null}var o=n(6);r.prototype.configure=function(t){this.api&&this.api.configure(t);var e=this.options;return this.options=o.extend(!0,{},e,t),this},r.prototype.addPredicate=function(t){return o.isFunction(t)&&this.predicates.push(t),this},r.prototype.addPendingItem=function(t){this.pendingItems.push(t)},r.prototype.removePendingItem=function(t){var e=this.pendingItems.indexOf(t);e!==-1&&this.pendingItems.splice(e,1)},r.prototype.addItem=function(t,e,n,r){e&&o.isFunction(e)||(e=function(){});var i=this._applyPredicates(t);if(i.stop)return this.removePendingItem(r),void e(i.err);this._maybeLog(t,n),this.removePendingItem(r),this.pendingRequests.push(t);try{this._makeApiRequest(t,function(n,r){this._dequeuePendingRequest(t),e(n,r)}.bind(this))}catch(n){this._dequeuePendingRequest(t),e(n)}},r.prototype.wait=function(t){o.isFunction(t)&&(this.waitCallback=t,this._maybeCallWait()||(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitIntervalID=setInterval(function(){this._maybeCallWait()}.bind(this),500)))},r.prototype._applyPredicates=function(t){for(var e=null,n=0,r=this.predicates.length;n<r;n++)if(e=this.predicates[n](t,this.options),!e||void 0!==e.err)return{stop:!0,err:e.err};return{stop:!1,err:null}},r.prototype._makeApiRequest=function(t,e){var n=this.rateLimiter.shouldSend(t);n.shouldSend?this.api.postItem(t,function(n,r){n?this._maybeRetry(n,t,e):e(n,r)}.bind(this)):n.error?e(n.error):this.api.postItem(n.payload,e)};var i=["ECONNRESET","ENOTFOUND","ESOCKETTIMEDOUT","ETIMEDOUT","ECONNREFUSED","EHOSTUNREACH","EPIPE","EAI_AGAIN"];r.prototype._maybeRetry=function(t,e,n){var r=!1;if(this.options.retryInterval)for(var o=0,a=i.length;o<a;o++)if(t.code===i[o]){r=!0;break}r?this._retryApiRequest(e,n):n(t)},r.prototype._retryApiRequest=function(t,e){this.retryQueue.push({item:t,callback:e}),this.retryHandle||(this.retryHandle=setInterval(function(){for(;this.retryQueue.length;){var t=this.retryQueue.shift();this._makeApiRequest(t.item,t.callback)}}.bind(this),this.options.retryInterval))},r.prototype._dequeuePendingRequest=function(t){var e=this.pendingRequests.indexOf(t);e!==-1&&(this.pendingRequests.splice(e,1),this._maybeCallWait())},r.prototype._maybeLog=function(t,e){if(this.logger&&this.options.verbose){var n=e;if(n=n||o.get(t,"body.trace.exception.message"),n=n||o.get(t,"body.trace_chain.0.exception.message"))return void this.logger.error(n);n=o.get(t,"body.message.body"),n&&this.logger.log(n)}},r.prototype._maybeCallWait=function(){return!(!o.isFunction(this.waitCallback)||0!==this.pendingItems.length||0!==this.pendingRequests.length)&&(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitCallback(),!0)},t.exports=r},function(t,e,n){"use strict";function r(){if(!A&&(A=!0,c(JSON)&&(s(JSON.stringify)&&(j.stringify=JSON.stringify),s(JSON.parse)&&(j.parse=JSON.parse)),!a(j.stringify)||!a(j.parse))){var t=n(8);t(j)}}function o(t,e){return e===i(t)}function i(t){var e=typeof t;return"object"!==e?e:t?t instanceof Error?"error":{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase():"null"}function a(t){return o(t,"function")}function s(t){var e=/[\\^$.*+?()[\]{}|]/g,n=Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?"),r=RegExp("^"+n+"$");return u(t)&&r.test(t)}function u(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function c(t){return!o(t,"undefined")}function l(t){var e=i(t);return"object"===e||"array"===e}function p(t){return o(t,"error")}function f(t,e,n){var r,i,a,s=o(t,"object"),u=o(t,"array"),c=[];if(s&&n.indexOf(t)!==-1)return t;if(n.push(t),s)for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&c.push(r);else if(u)for(a=0;a<t.length;++a)c.push(a);for(a=0;a<c.length;++a)r=c[a],i=t[r],t[r]=e(r,i,n);return t}function h(){return"********"}function d(){var t=L(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:7&n|8).toString(16)});return e}function m(t){var e=g(t);return""===e.anchor&&(e.source=e.source.replace("#","")),t=e.source.replace("?"+e.query,"")}function g(t){if(!o(t,"string"))throw new Error("received invalid input");for(var e=D,n=e.parser[e.strictMode?"strict":"loose"].exec(t),r={},i=e.key.length;i--;)r[e.key[i]]=n[i]||"";return r[e.q.name]={},r[e.key[12]].replace(e.q.parser,function(t,n,o){n&&(r[e.q.name][n]=o)}),r}function v(t,e,n){n=n||{},n.access_token=t;var r,o=[];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&o.push([r,n[r]].join("="));var i="?"+o.sort().join("&");e=e||{},e.path=e.path||"";var a,s=e.path.indexOf("?"),u=e.path.indexOf("#");s!==-1&&(u===-1||u>s)?(a=e.path,e.path=a.substring(0,s)+i+"&"+a.substring(s+1)):u!==-1?(a=e.path,e.path=a.substring(0,u)+i+a.substring(u)):e.path=e.path+i}function y(t,e){if(e=e||t.protocol,!e&&t.port&&(80===t.port?e="http:":443===t.port&&(e="https:")),e=e||"https:",!t.hostname)return null;var n=e+"//"+t.hostname;return t.port&&(n=n+":"+t.port),t.path&&(n+=t.path),n}function b(t,e){var n,r;try{n=j.stringify(t)}catch(o){if(e&&a(e))try{n=e(t)}catch(t){r=t}else r=o}return{error:r,value:n}}function w(t){var e,n;try{e=j.parse(t)}catch(t){n=t}return{error:n,value:e}}function _(t,e,n,r,o,i,a,s){var u={url:e||"",line:n,column:r};u.func=s.guessFunctionName(u.url,u.line),u.context=s.gatherContext(u.url,u.line);var c=document&&document.location&&document.location.href,l=window&&window.navigator&&window.navigator.userAgent;return{mode:i,message:o?String(o):t||a,url:c,stack:[u],useragent:l}}function x(t,e){return function(n,r){try{e(n,r)}catch(e){t.error(e)}}}function E(t,e,n,r,o){for(var a,s,u,c,l,p,f=[],h=0,m=t.length;h<m;++h){p=t[h];var g=i(p);switch(g){case"undefined":break;case"string":a?f.push(p):a=p;break;case"function":c=x(e,p);break;case"date":f.push(p);break;case"error":case"domexception":s?f.push(p):s=p;break;case"object":case"array":if(p instanceof Error||"undefined"!=typeof DOMException&&p instanceof DOMException){s?f.push(p):s=p;break}if(r&&"object"===g&&!l){for(var v=0,y=r.length;v<y;++v)if(void 0!==p[r[v]]){l=p;break}if(l)break}u?f.push(p):u=p;break;default:if(p instanceof Error||"undefined"!=typeof DOMException&&p instanceof DOMException){s?f.push(p):s=p;break}f.push(p)}}f.length>0&&(u=C(!0,{},u),u.extraArgs=f);var b={message:a,err:s,custom:u,timestamp:L(),callback:c,uuid:d()};return u&&void 0!==u.level&&(b.level=u.level,delete u.level),r&&l&&(b.request=l),o&&(b.lambdaContext=o),b._originalArgs=t,b}function k(t,e){if(t){var n=e.split("."),r=t;try{for(var o=0,i=n.length;o<i;++o)r=r[n[o]]}catch(t){r=void 0}return r}}function I(t,e,n){if(t){var r=e.split("."),o=r.length;if(!(o<1)){if(1===o)return void(t[r[0]]=n);try{for(var i=t[r[0]]||{},a=i,s=1;s<o-1;s++)i[r[s]]=i[r[s]]||{},i=i[r[s]];i[r[o-1]]=n,t[r[0]]=a}catch(t){return}}}}function T(t,e){function n(t,e,n,r,o,i){return e+h(i)}function r(t){var e;if(o(t,"string"))for(e=0;e<u.length;++e)t=t.replace(u[e],n);return t}function i(t,e){var n;for(n=0;n<s.length;++n)if(s[n].test(t)){e=h(e);break}return e}function a(t,e,n){var s=i(t,e);return s===e?o(e,"object")||o(e,"array")?f(e,a,n):r(s):s}e=e||[];var s=S(e),u=O(e);return f(t,a,[]),t}function S(t){for(var e,n=[],r=0;r<t.length;++r)e="\\[?(%5[bB])?"+t[r]+"\\[?(%5[bB])?\\]?(%5[dD])?",n.push(new RegExp(e,"i"));return n}function O(t){for(var e,n=[],r=0;r<t.length;++r)e="\\[?(%5[bB])?"+t[r]+"\\[?(%5[bB])?\\]?(%5[dD])?",n.push(new RegExp("("+e+"=)([^&\\n]+)","igm"));return n}function N(t){var e,n,r,o=[];for(e=0,n=t.length;e<n;e++)r=t[e],"object"==typeof r?(r=b(r),r=r.error||r.value,r.length>500&&(r=r.substr(0,500)+"...")):"undefined"==typeof r&&(r="undefined"),o.push(r);return o.join(" ")}function L(){return Date.now?+Date.now():+new Date}var C=n(7),j={},A=!1;r();var R={debug:0,info:1,warning:2,error:3,critical:4},D={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};t.exports={isType:o,typeName:i,isFunction:a,isNativeFunction:s,isIterable:l,isError:p,extend:C,traverse:f,redact:h,uuid4:d,LEVELS:R,sanitizeUrl:m,addParamsAndAccessTokenToPath:v,formatUrl:y,stringify:b,jsonParse:w,makeUnhandledStackInfo:_,createItem:E,get:k,set:I,scrub:T,formatArgsAsString:N,now:L}},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,o=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===r.call(t)},i=function(t){if(!t||"[object Object]"!==r.call(t))return!1;var e=n.call(t,"constructor"),o=t.constructor&&t.constructor.prototype&&n.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!e&&!o)return!1;var i;for(i in t);return"undefined"==typeof i||n.call(t,i)};t.exports=function t(){var e,n,r,a,s,u,c=arguments[0],l=1,p=arguments.length,f=!1;for("boolean"==typeof c?(f=c,c=arguments[1]||{},l=2):("object"!=typeof c&&"function"!=typeof c||null==c)&&(c={});l<p;++l)if(e=arguments[l],null!=e)for(n in e)r=c[n],a=e[n],c!==a&&(f&&a&&(i(a)||(s=o(a)))?(s?(s=!1,u=r&&o(r)?r:[]):u=r&&i(r)?r:{},c[n]=t(f,u,a)):"undefined"!=typeof a&&(c[n]=a));return c}},function(t,e){var n=function(t){function e(t){return t<10?"0"+t:t}function n(){return this.valueOf()}function r(t){return i.lastIndex=0,i.test(t)?'"'+t.replace(i,function(t){var e=u[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function o(t,e){var n,i,u,l,p,f=a,h=e[t];switch(h&&"object"==typeof h&&"function"==typeof h.toJSON&&(h=h.toJSON(t)),"function"==typeof c&&(h=c.call(e,t,h)),typeof h){case"string":return r(h);case"number":return isFinite(h)?String(h):"null";case"boolean":case"null":return String(h);case"object":if(!h)return"null";if(a+=s,p=[],"[object Array]"===Object.prototype.toString.apply(h)){for(l=h.length,n=0;n<l;n+=1)p[n]=o(n,h)||"null";return u=0===p.length?"[]":a?"[\n"+a+p.join(",\n"+a)+"\n"+f+"]":"["+p.join(",")+"]",a=f,u}if(c&&"object"==typeof c)for(l=c.length,n=0;n<l;n+=1)"string"==typeof c[n]&&(i=c[n],u=o(i,h),u&&p.push(r(i)+(a?": ":":")+u));else for(i in h)Object.prototype.hasOwnProperty.call(h,i)&&(u=o(i,h),u&&p.push(r(i)+(a?": ":":")+u));return u=0===p.length?"{}":a?"{\n"+a+p.join(",\n"+a)+"\n"+f+"}":"{"+p.join(",")+"}",a=f,u}}var i=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=n,Number.prototype.toJSON=n,String.prototype.toJSON=n);var a,s,u,c;"function"!=typeof t.stringify&&(u={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t.stringify=function(t,e,n){var r;if(a="",s="","number"==typeof n)for(r=0;r<n;r+=1)s+=" ";else"string"==typeof n&&(s=n);if(c=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return o("",{"":t})}),"function"!=typeof t.parse&&(t.parse=function(){function t(t){return t.replace(/\\(?:u(.{4})|([^u]))/g,function(t,e,n){return e?String.fromCharCode(parseInt(e,16)):a[n]})}var e,n,r,o,i,a={"\\":"\\",'"':'"',"/":"/",t:"\t",n:"\n",r:"\r",f:"\f",b:"\b"},s={go:function(){e="ok"},firstokey:function(){o=i,e="colon"},okey:function(){o=i,e="colon"},ovalue:function(){e="ocomma"},firstavalue:function(){e="acomma"},avalue:function(){e="acomma"}},u={go:function(){e="ok"},ovalue:function(){e="ocomma"},firstavalue:function(){e="acomma"},avalue:function(){e="acomma"}},c={"{":{go:function(){n.push({state:"ok"}),r={},e="firstokey"},ovalue:function(){n.push({container:r,state:"ocomma",key:o}),r={},e="firstokey"},firstavalue:function(){n.push({container:r,state:"acomma"}),r={},e="firstokey"},avalue:function(){n.push({container:r,state:"acomma"}),r={},e="firstokey"}},"}":{firstokey:function(){var t=n.pop();i=r,r=t.container,o=t.key,e=t.state},ocomma:function(){var t=n.pop();r[o]=i,i=r,r=t.container,o=t.key,e=t.state}},"[":{go:function(){n.push({state:"ok"}),r=[],e="firstavalue"},ovalue:function(){n.push({container:r,state:"ocomma",key:o}),r=[],e="firstavalue"},firstavalue:function(){n.push({container:r,state:"acomma"}),r=[],e="firstavalue"},avalue:function(){n.push({container:r,state:"acomma"}),r=[],e="firstavalue"}},"]":{firstavalue:function(){var t=n.pop();i=r,r=t.container,o=t.key,e=t.state},acomma:function(){var t=n.pop();r.push(i),i=r,r=t.container,o=t.key,e=t.state}},":":{colon:function(){if(Object.hasOwnProperty.call(r,o))throw new SyntaxError("Duplicate key '"+o+'"');e="ovalue"}},",":{ocomma:function(){r[o]=i,e="okey"},acomma:function(){r.push(i),e="avalue"}},true:{go:function(){i=!0,e="ok"},ovalue:function(){i=!0,e="ocomma"},firstavalue:function(){i=!0,e="acomma"},avalue:function(){i=!0,e="acomma"}},false:{go:function(){i=!1,e="ok"},ovalue:function(){i=!1,e="ocomma"},firstavalue:function(){i=!1,e="acomma"},avalue:function(){i=!1,e="acomma"}},null:{go:function(){i=null,e="ok"},ovalue:function(){i=null,e="ocomma"},firstavalue:function(){i=null,e="acomma"},avalue:function(){i=null,e="acomma"}}};return function(r,o){var a,l=/^[\u0020\t\n\r]*(?:([,:\[\]{}]|true|false|null)|(-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)|"((?:[^\r\n\t\\\"]|\\(?:["\\\/trnfb]|u[0-9a-fA-F]{4}))*)")/;e="go",n=[];try{for(;;){if(a=l.exec(r),!a)break;a[1]?c[a[1]][e]():a[2]?(i=+a[2],u[e]()):(i=t(a[3]),s[e]()),r=r.slice(a[0].length)}}catch(t){e=t}if("ok"!==e||/[^\u0020\t\n\r]/.test(r))throw e instanceof SyntaxError?e:new SyntaxError("JSON");return"function"==typeof o?function t(e,n){var r,a,s=e[n];if(s&&"object"==typeof s)for(r in i)Object.prototype.hasOwnProperty.call(s,r)&&(a=t(s,r),void 0!==a?s[r]=a:delete s[r]);return o.call(e,n,s)}({"":i},""):i}}())};t.exports=n},function(t,e,n){"use strict";function r(t,e){this.queue=t,this.options=e,this.transforms=[]}var o=n(6);r.prototype.configure=function(t){this.queue&&this.queue.configure(t);var e=this.options;return this.options=o.extend(!0,{},e,t),this},r.prototype.addTransform=function(t){return o.isFunction(t)&&this.transforms.push(t),this},r.prototype.log=function(t,e){if(e&&o.isFunction(e)||(e=function(){}),!this.options.enabled)return e(new Error("Rollbar is not enabled"));this.queue.addPendingItem(t);var n=t.err;this._applyTransforms(t,function(r,o){return r?(this.queue.removePendingItem(t),e(r,null)):void this.queue.addItem(o,e,n,t)}.bind(this))},r.prototype._applyTransforms=function(t,e){var n=-1,r=this.transforms.length,o=this.transforms,i=this.options,a=function(t,s){return t?void e(t,null):(n++,n===r?void e(null,s):void o[n](s,i,a))};a(null,t)},t.exports=r},function(t,e,n){"use strict";function r(t){this.queue=[],this.options=i.extend(!0,{},t);var e=this.options.maxTelemetryEvents||a;this.maxQueueSize=Math.max(0,Math.min(e,a))}function o(t,e){if(e)return e;var n={error:"error",manual:"info"};return n[t]||"info"}var i=n(6),a=100;r.prototype.configure=function(t){this.options=i.extend(!0,{},t);var e=this.options.maxTelemetryEvents||a,n=Math.max(0,Math.min(e,a)),r=0;this.maxQueueSize>n&&(r=this.maxQueueSize-n),this.maxQueueSize=n,this.queue.splice(0,r)},r.prototype.copyEvents=function(){return Array.prototype.slice.call(this.queue,0)},r.prototype.capture=function(t,e,n,r,a){var s={level:o(t,n),type:t,timestamp_ms:a||i.now(),body:e,source:"client"};return r&&(s.uuid=r),this.push(s),s},r.prototype.captureEvent=function(t,e,n){return this.capture("manual",t,e,n)},r.prototype.captureError=function(t,e,n,r){var o={message:t.message||String(t)};return t.stack&&(o.stack=t.stack),this.capture("error",o,e,n,r)},r.prototype.captureLog=function(t,e,n,r){return this.capture("log",{message:t},e,n,r)},r.prototype.captureNetwork=function(t,e,n){e=e||"xhr",t.subtype=t.subtype||e;var r=this.levelFromStatus(t.status_code);return this.capture("network",t,r,n)},r.prototype.levelFromStatus=function(t){return t>=200&&t<400?"info":0===t||t>=400?"error":"info"},r.prototype.captureDom=function(t,e,n,r,o){var i={subtype:t,element:e};return void 0!==n&&(i.value=n),void 0!==r&&(i.checked=r),this.capture("dom",i,"info",o)},r.prototype.captureNavigation=function(t,e,n){return this.capture("navigation",{from:t,to:e},"info",n)},r.prototype.captureDomContentLoaded=function(t){return this.capture("navigation",{subtype:"DOMContentLoaded"},"info",void 0,t&&t.getTime())},r.prototype.captureLoad=function(t){return this.capture("navigation",{subtype:"load"},"info",void 0,t&&t.getTime())},r.prototype.captureConnectivityChange=function(t,e){return this.captureNetwork({change:t},"connectivity",e)},r.prototype._captureRollbarItem=function(t){return t.err?this.captureError(t.err,t.level,t.uuid,t.timestamp):t.message?this.captureLog(t.message,t.level,t.uuid,t.timestamp):t.custom?this.capture("log",t.custom,t.level,t.uuid,t.timestamp):void 0},r.prototype.push=function(t){this.queue.push(t),this.queue.length>this.maxQueueSize&&this.queue.shift()},t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){this.options=t,this.transport=e,this.url=n,this.jsonBackup=r,this.accessToken=t.accessToken,this.transportOptions=o(t,n)}function o(t,e){return a.getTransportFromOptions(t,s,e)}var i=n(6),a=n(12),s={hostname:"api.rollbar.com",path:"/api/1",search:null,version:"1",protocol:"https:",port:443};r.prototype.postItem=function(t,e){var n=a.transportOptions(this.transportOptions,"/item/","POST"),r=a.buildPayload(this.accessToken,t,this.jsonBackup);this.transport.post(this.accessToken,n,r,e)},r.prototype.configure=function(t){var e=this.oldOptions;return this.options=i.extend(!0,{},e,t),this.transportOptions=o(this.options,this.url),void 0!==this.options.accessToken&&(this.accessToken=this.options.accessToken),this},t.exports=r},function(t,e,n){"use strict";function r(t,e,n){if(s.isType(e.context,"object")){var r=s.stringify(e.context,n);r.error?e.context="Error: could not serialize 'context'":e.context=r.value||"",e.context.length>255&&(e.context=e.context.substr(0,255))}return{access_token:t,data:e}}function o(t,e,n){var r=e.hostname,o=e.protocol,i=e.port,a=e.path,s=e.search,u=t.proxy;if(t.endpoint){var c=n.parse(t.endpoint);r=c.hostname,o=c.protocol,i=c.port,a=c.pathname,s=c.search}return{hostname:r,protocol:o,port:i,path:a,search:s,proxy:u}}function i(t,e,n){var r=t.protocol||"https:",o=t.port||("http:"===r?80:"https:"===r?443:void 0),i=t.hostname;return e=a(t.path,e),t.search&&(e+=t.search),t.proxy&&(e=r+"//"+i+e,i=t.proxy.host||t.proxy.hostname,o=t.proxy.port,r=t.proxy.protocol||r),{protocol:r,hostname:i,path:e,port:o,method:n}}function a(t,e){var n=/\/$/.test(t),r=/^\//.test(e);return n&&r?e=e.substring(1):n||r||(e="/"+e),t+e}var s=n(6);t.exports={buildPayload:r,getTransportFromOptions:o,transportOptions:i,appendPathToPath:a}},function(t,e,n){"use strict";function r(){var t=Array.prototype.slice.call(arguments,0);t.unshift("Rollbar:"),a.ieVersion()<=8?console.error(s.formatArgsAsString(t)):console.error.apply(console,t)}function o(){var t=Array.prototype.slice.call(arguments,0);t.unshift("Rollbar:"),a.ieVersion()<=8?console.info(s.formatArgsAsString(t)):console.info.apply(console,t)}function i(){var t=Array.prototype.slice.call(arguments,0);t.unshift("Rollbar:"),a.ieVersion()<=8?console.log(s.formatArgsAsString(t)):console.log.apply(console,t)}n(14);var a=n(15),s=n(6);t.exports={error:r,info:o,log:i}},function(t,e){!function(t){"use strict";t.console||(t.console={});for(var e,n,r=t.console,o=function(){},i=["memory"],a="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");e=i.pop();)r[e]||(r[e]={});for(;n=a.pop();)r[n]||(r[n]=o)}("undefined"==typeof window?this:window)},function(t,e){"use strict";function n(){var t;if(!document)return t;for(var e=3,n=document.createElement("div"),r=n.getElementsByTagName("i");n.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",r[0];);return e>4?e:t}var r={ieVersion:n};t.exports=r},function(t,e){"use strict";function n(t,e,n){if(t){var o;"function"==typeof e._rollbarOldOnError?o=e._rollbarOldOnError:t.onerror&&!t.onerror.belongsToShim&&(o=t.onerror,e._rollbarOldOnError=o);var i=function(){var n=Array.prototype.slice.call(arguments,0);r(t,e,o,n)};i.belongsToShim=n,t.onerror=i}}function r(t,e,n,r){t._rollbarWrappedError&&(r[4]||(r[4]=t._rollbarWrappedError),r[5]||(r[5]=t._rollbarWrappedError._rollbarContext),t._rollbarWrappedError=null),e.handleUncaughtException.apply(e,r),n&&n.apply(t,r)}function o(t,e,n){if(t){"function"==typeof t._rollbarURH&&t._rollbarURH.belongsToShim&&t.removeEventListener("unhandledrejection",t._rollbarURH);var r=function(t){var n=t.reason,r=t.promise,o=t.detail;!n&&o&&(n=o.reason,r=o.promise),e&&e.handleUnhandledRejection&&e.handleUnhandledRejection(n,r)};r.belongsToShim=n,t._rollbarURH=r,t.addEventListener("unhandledrejection",r)}}function i(t,e,n){if(t){var r,o,i="EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload".split(",");
for(r=0;r<i.length;++r)o=i[r],t[o]&&t[o].prototype&&a(e,t[o].prototype,n)}}function a(t,e,n){if(e.hasOwnProperty&&e.hasOwnProperty("addEventListener")){for(var r=e.addEventListener;r._rollbarOldAdd&&r.belongsToShim;)r=r._rollbarOldAdd;var o=function(e,n,o){r.call(this,e,t.wrap(n),o)};o._rollbarOldAdd=r,o.belongsToShim=n,e.addEventListener=o;for(var i=e.removeEventListener;i._rollbarOldRemove&&i.belongsToShim;)i=i._rollbarOldRemove;var a=function(t,e,n){i.call(this,t,e&&e._rollbar_wrapped||e,n)};a._rollbarOldRemove=i,a.belongsToShim=n,e.removeEventListener=a}}t.exports={captureUncaughtExceptions:n,captureUnhandledRejections:o,wrapGlobals:i}},function(t,e,n){"use strict";function r(t,e,n,r,o){r&&l.isFunction(r)||(r=function(){}),l.addParamsAndAccessTokenToPath(t,e,n);var a="GET",s=l.formatUrl(e);i(t,s,a,null,r,o)}function o(t,e,n,r,o){if(r&&l.isFunction(r)||(r=function(){}),!n)return r(new Error("Cannot send empty request"));var a=l.stringify(n);if(a.error)return r(a.error);var s=a.value,u="POST",c=l.formatUrl(e);i(t,c,u,s,r,o)}function i(t,e,n,r,o,i){var f;if(f=i?i():a(),!f)return o(new Error("No way to send a request"));try{try{var h=function(){try{if(h&&4===f.readyState){h=void 0;var t=l.jsonParse(f.responseText);if(s(f))return void o(t.error,t.value);if(u(f)){if(403===f.status){var e=t.value&&t.value.message;p.error(e)}o(new Error(String(f.status)))}else{var n="XHR response had no status code (likely connection failure)";o(c(n))}}}catch(t){var r;r=t&&t.stack?t:new Error(t),o(r)}};f.open(n,e,!0),f.setRequestHeader&&(f.setRequestHeader("Content-Type","application/json"),f.setRequestHeader("X-Rollbar-Access-Token",t)),f.onreadystatechange=h,f.send(r)}catch(t){if("undefined"!=typeof XDomainRequest){if(!window||!window.location)return o(new Error("No window available during request, unknown environment"));"http:"===window.location.href.substring(0,5)&&"https"===e.substring(0,5)&&(e="http"+e.substring(5));var d=new XDomainRequest;d.onprogress=function(){},d.ontimeout=function(){var t="Request timed out",e="ETIMEDOUT";o(c(t,e))},d.onerror=function(){o(new Error("Error during request"))},d.onload=function(){var t=l.jsonParse(d.responseText);o(t.error,t.value)},d.open(n,e,!0),d.send(r)}else o(new Error("Cannot find a method to transport a request"))}}catch(t){o(t)}}function a(){var t,e,n=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],r=n.length;for(e=0;e<r;e++)try{t=n[e]();break}catch(t){}return t}function s(t){return t&&t.status&&200===t.status}function u(t){return t&&l.isType(t.status,"number")&&t.status>=400&&t.status<600}function c(t,e){var n=new Error(t);return n.code=e||"ENOTFOUND",n}var l=n(6),p=n(13);t.exports={get:r,post:o}},function(t,e){"use strict";function n(t){var e,n,r={protocol:null,auth:null,host:null,path:null,hash:null,href:t,hostname:null,port:null,pathname:null,search:null,query:null};if(e=t.indexOf("//"),e!==-1?(r.protocol=t.substring(0,e),n=e+2):n=0,e=t.indexOf("@",n),e!==-1&&(r.auth=t.substring(n,e),n=e+1),e=t.indexOf("/",n),e===-1){if(e=t.indexOf("?",n),e===-1)return e=t.indexOf("#",n),e===-1?r.host=t.substring(n):(r.host=t.substring(n,e),r.hash=t.substring(e)),r.hostname=r.host.split(":")[0],r.port=r.host.split(":")[1],r.port&&(r.port=parseInt(r.port,10)),r;r.host=t.substring(n,e),r.hostname=r.host.split(":")[0],r.port=r.host.split(":")[1],r.port&&(r.port=parseInt(r.port,10)),n=e}else r.host=t.substring(n,e),r.hostname=r.host.split(":")[0],r.port=r.host.split(":")[1],r.port&&(r.port=parseInt(r.port,10)),n=e;if(e=t.indexOf("#",n),e===-1?r.path=t.substring(n):(r.path=t.substring(n,e),r.hash=t.substring(e)),r.path){var o=r.path.split("?");r.pathname=o[0],r.query=o[1],r.search=r.query?"?"+r.query:null}return r}t.exports={parse:n}},function(t,e,n){"use strict";function r(t,e,n){if(t.data=t.data||{},t.err)try{t.stackInfo=t.err._savedStackTrace||m.parse(t.err)}catch(e){g.error("Error while parsing the error object.",e),t.message=t.err.message||t.err.description||t.message||String(t.err),delete t.err}n(null,t)}function o(t,e,n){t.message||t.stackInfo||t.custom||n(new Error("No message, stack info, or custom data"),null),n(null,t)}function i(t,e,n){var r=e.payload&&e.payload.environment||e.environment;t.data=d.extend(!0,{},t.data,{environment:r,level:t.level,endpoint:e.endpoint,platform:"browser",framework:"browser-js",language:"javascript",server:{},uuid:t.uuid,notifier:{name:"rollbar-browser-js",version:e.version}}),n(null,t)}function a(t){return function(e,n,r){return t&&t.location?(d.set(e,"data.request",{url:t.location.href,query_string:t.location.search,user_ip:"$remote_ip"}),void r(null,e)):r(null,e)}}function s(t){return function(e,n,r){return t?(d.set(e,"data.client",{runtime_ms:e.timestamp-t._rollbarStartTime,timestamp:Math.round(e.timestamp/1e3),javascript:{browser:t.navigator.userAgent,language:t.navigator.language,cookie_enabled:t.navigator.cookieEnabled,screen:{width:t.screen.width,height:t.screen.height}}}),void r(null,e)):r(null,e)}}function u(t){return function(e,n,r){if(!t||!t.navigator)return r(null,e);for(var o,i=[],a=t.navigator.plugins||[],s=0,u=a.length;s<u;++s)o=a[s],i.push({name:o.name,description:o.description});d.set(e,"data.client.javascript.plugins",i),r(null,e)}}function c(t,e,n){t.stackInfo?p(t,e,n):l(t,e,n)}function l(t,e,n){var r=t.message,o=t.custom;if(!r)if(o){var i=e.scrubFields,a=d.stringify(d.scrub(o,i));r=a.error||a.value||""}else r="";var s={body:r};o&&(s.extra=d.extend(!0,{},o)),d.set(t,"data.body",{message:s}),n(null,t)}function p(t,e,n){var r=t.data.description,o=t.stackInfo,i=t.custom,a=m.guessErrorClass(o.message),s=o.name||a[0],u=a[1],c={exception:{class:s,message:u}};r&&(c.exception.description=r);var p=o.stack;if(p&&0===p.length&&t._unhandledStackInfo&&t._unhandledStackInfo.stack&&(p=t._unhandledStackInfo.stack),p){var f,h,g,v,y,b,w,_;for(c.frames=[],w=0;w<p.length;++w)f=p[w],h={filename:f.url?d.sanitizeUrl(f.url):"(unknown)",lineno:f.line||null,method:f.func&&"?"!==f.func?f.func:"[anonymous]",colno:f.column},h.method&&h.method.endsWith&&h.method.endsWith("_rollbar_wrapped")||(g=v=y=null,b=f.context?f.context.length:0,b&&(_=Math.floor(b/2),v=f.context.slice(0,_),g=f.context[_],y=f.context.slice(_)),g&&(h.code=g),(v||y)&&(h.context={},v&&v.length&&(h.context.pre=v),y&&y.length&&(h.context.post=y)),f.args&&(h.args=f.args),c.frames.push(h));c.frames.reverse(),i&&(c.extra=d.extend(!0,{},i)),d.set(t,"data.body",{trace:c}),n(null,t)}else t.message=s+": "+u,l(t,e,n)}function f(t,e,n){var r=e.scrubFields;d.scrub(t.data,r),n(null,t)}function h(t,e,n){var r=d.extend(!0,{},t);try{d.isFunction(e.transform)&&e.transform(r.data)}catch(r){return e.transform=null,g.error("Error while calling custom transform() function. Removing custom transform().",r),void n(null,t)}n(null,r)}var d=n(6),m=n(20),g=n(13);t.exports={handleItemWithError:r,ensureItemHasSomethingToSay:o,addBaseInfo:i,addRequestInfo:a,addClientInfo:s,addPluginInfo:u,addBody:c,scrubPayload:f,userTransform:h}},function(t,e,n){"use strict";function r(){return l}function o(){return null}function i(t){var e={};return e._stackFrame=t,e.url=t.fileName,e.line=t.lineNumber,e.func=t.functionName,e.column=t.columnNumber,e.args=t.args,e.context=o(e.url,e.line),e}function a(t){function e(){var e=[];try{e=c.parse(t)}catch(t){e=[]}for(var n=[],r=0;r<e.length;r++)n.push(new i(e[r]));return n}return{stack:e(),message:t.message,name:t.name}}function s(t){return new a(t)}function u(t){if(!t)return["Unknown error. There was no error message to display.",""];var e=t.match(p),n="(unknown)";return e&&(n=e[e.length-1],t=t.replace((e[e.length-2]||"")+n+":",""),t=t.replace(/(^[\s]+|[\s]+$)/g,"")),[n,t]}var c=n(21),l="?",p=new RegExp("^(([a-zA-Z0-9-_$ ]*): *)?(Uncaught )?([a-zA-Z0-9-_$ ]*): ");t.exports={guessFunctionName:r,guessErrorClass:u,gatherContext:o,parse:s,Stack:a,Frame:i}},function(t,e,n){var r,o,i;!function(a,s){"use strict";o=[n(22)],r=s,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i))}(this,function(t){"use strict";function e(t,e,n){if("function"==typeof Array.prototype.map)return t.map(e,n);for(var r=new Array(t.length),o=0;o<t.length;o++)r[o]=e.call(n,t[o]);return r}function n(t,e,n){if("function"==typeof Array.prototype.filter)return t.filter(e,n);for(var r=[],o=0;o<t.length;o++)e.call(n,t[o])&&r.push(t[o]);return r}var r=/(^|@)\S+\:\d+/,o=/^\s*at .*(\S+\:\d+|\(native\))/m,i=/^(eval@)?(\[native code\])?$/;return{parse:function(t){if("undefined"!=typeof t.stacktrace||"undefined"!=typeof t["opera#sourceloc"])return this.parseOpera(t);if(t.stack&&t.stack.match(o))return this.parseV8OrIE(t);if(t.stack)return this.parseFFOrSafari(t);throw new Error("Cannot parse given Error object")},extractLocation:function(t){if(t.indexOf(":")===-1)return[t];var e=t.replace(/[\(\)\s]/g,"").split(":"),n=e.pop(),r=e[e.length-1];if(!isNaN(parseFloat(r))&&isFinite(r)){var o=e.pop();return[e.join(":"),o,n]}return[e.join(":"),n,void 0]},parseV8OrIE:function(r){var i=n(r.stack.split("\n"),function(t){return!!t.match(o)},this);return e(i,function(e){e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var n=e.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),r=this.extractLocation(n.pop()),o=n.join(" ")||void 0,i="eval"===r[0]?void 0:r[0];return new t(o,void 0,i,r[1],r[2],e)},this)},parseFFOrSafari:function(r){var o=n(r.stack.split("\n"),function(t){return!t.match(i)},this);return e(o,function(e){if(e.indexOf(" > eval")>-1&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),e.indexOf("@")===-1&&e.indexOf(":")===-1)return new t(e);var n=e.split("@"),r=this.extractLocation(n.pop()),o=n.shift()||void 0;return new t(o,void 0,r[0],r[1],r[2],e)},this)},parseOpera:function(t){return!t.stacktrace||t.message.indexOf("\n")>-1&&t.message.split("\n").length>t.stacktrace.split("\n").length?this.parseOpera9(t):t.stack?this.parseOpera11(t):this.parseOpera10(t)},parseOpera9:function(e){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=e.message.split("\n"),o=[],i=2,a=r.length;i<a;i+=2){var s=n.exec(r[i]);s&&o.push(new t(void 0,void 0,s[2],s[1],void 0,r[i]))}return o},parseOpera10:function(e){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=e.stacktrace.split("\n"),o=[],i=0,a=r.length;i<a;i+=2){var s=n.exec(r[i]);s&&o.push(new t(s[3]||void 0,void 0,s[2],s[1],void 0,r[i]))}return o},parseOpera11:function(o){var i=n(o.stack.split("\n"),function(t){return!!t.match(r)&&!t.match(/^Error created at/)},this);return e(i,function(e){var n,r=e.split("@"),o=this.extractLocation(r.pop()),i=r.shift()||"",a=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;i.match(/\(([^\)]*)\)/)&&(n=i.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var s=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new t(a,s,o[0],o[1],o[2],e)},this)}}})},function(t,e,n){var r,o,i;!function(n,a){"use strict";o=[],r=a,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i))}(this,function(){"use strict";function t(t){return!isNaN(parseFloat(t))&&isFinite(t)}function e(t,e,n,r,o,i){void 0!==t&&this.setFunctionName(t),void 0!==e&&this.setArgs(e),void 0!==n&&this.setFileName(n),void 0!==r&&this.setLineNumber(r),void 0!==o&&this.setColumnNumber(o),void 0!==i&&this.setSource(i)}return e.prototype={getFunctionName:function(){return this.functionName},setFunctionName:function(t){this.functionName=String(t)},getArgs:function(){return this.args},setArgs:function(t){if("[object Array]"!==Object.prototype.toString.call(t))throw new TypeError("Args must be an Array");this.args=t},getFileName:function(){return this.fileName},setFileName:function(t){this.fileName=String(t)},getLineNumber:function(){return this.lineNumber},setLineNumber:function(e){if(!t(e))throw new TypeError("Line Number must be a Number");this.lineNumber=Number(e)},getColumnNumber:function(){return this.columnNumber},setColumnNumber:function(e){if(!t(e))throw new TypeError("Column Number must be a Number");this.columnNumber=Number(e)},getSource:function(){return this.source},setSource:function(t){this.source=String(t)},toString:function(){var e=this.getFunctionName()||"{anonymous}",n="("+(this.getArgs()||[]).join(",")+")",r=this.getFileName()?"@"+this.getFileName():"",o=t(this.getLineNumber())?":"+this.getLineNumber():"",i=t(this.getColumnNumber())?":"+this.getColumnNumber():"";return e+n+r+o+i}},e})},function(t,e,n){"use strict";function r(t,e,n){var r=e.payload||{};r.body&&delete r.body;var o=a.extend(!0,{},t.data,r);t._isUncaught&&(o._isUncaught=!0),t._originalArgs&&(o._originalArgs=t._originalArgs),n(null,o)}function o(t,e,n){t.telemetryEvents&&a.set(t,"data.body.telemetry",t.telemetryEvents),n(null,t)}function i(t,e,n){if(!t.message)return void n(null,t);var r="data.body.trace_chain.0",o=a.get(t,r);if(o||(r="data.body.trace",o=a.get(t,r)),o){if(!o.exception||!o.exception.description)return a.set(t,r+".exception.description",t.message),void n(null,t);var i=a.get(t,r+".extra")||{},s=a.extend(!0,{},i,{message:t.message});a.set(t,r+".extra",s)}n(null,t)}var a=n(6);t.exports={itemToPayload:r,addTelemetryData:o,addMessageWithError:i}},function(t,e,n){"use strict";function r(t,e){var n=t.level,r=c.LEVELS[n]||0,o=c.LEVELS[e.reportLevel]||0;return!(r<o)&&(!c.get(e,"plugins.jquery.ignoreAjaxErrors")||!c.get(t,"body.message.extra.isAjax"))}function o(t,e){var n=!!t._isUncaught;delete t._isUncaught;var r=t._originalArgs;delete t._originalArgs;try{if(c.isFunction(e.checkIgnore)&&e.checkIgnore(n,r,t))return!1}catch(t){e.checkIgnore=null,l.error("Error while calling custom checkIgnore(), removing",t)}return!0}function i(t,e){return!s(t,e,"blacklist")}function a(t,e){return s(t,e,"whitelist")}function s(t,e,n){var r=!1;"blacklist"===n&&(r=!0);var o,i,a,s,u,p,f,h,d,m;try{if(o=r?e.hostBlackList:e.hostWhiteList,f=o&&o.length,i=c.get(t,"body.trace"),!o||0===f)return!r;if(!i||!i.frames)return!r;for(u=i.frames.length,d=0;d<u;d++){if(a=i.frames[d],s=a.filename,!c.isType(s,"string"))return!r;for(m=0;m<f;m++)if(p=o[m],h=new RegExp(p),h.test(s))return!0}}catch(t){r?e.hostBlackList=null:e.hostWhiteList=null;var g=r?"hostBlackList":"hostWhiteList";return l.error("Error while reading your configuration's "+g+" option. Removing custom "+g+".",t),!r}return!1}function u(t,e){var n,r,o,i,a,s,u,p,f;try{if(a=!1,o=e.ignoredMessages,!o||0===o.length)return!0;if(u=t.body,p=c.get(u,"trace.exception.message"),f=c.get(u,"message.body"),n=p||f,!n)return!0;for(i=o.length,r=0;r<i&&(s=new RegExp(o[r],"gi"),!(a=s.test(n)));r++);}catch(t){e.ignoredMessages=null,l.error("Error while reading your configuration's ignoredMessages option. Removing custom ignoredMessages.")}return!a}var c=n(6),l=n(13);t.exports={checkIgnore:r,userCheckIgnore:o,urlIsNotBlacklisted:i,urlIsWhitelisted:a,messageIsIgnored:u}},function(t,e,n){"use strict";function r(t,e,n,r,o){var i=t[e];t[e]=n(i),r&&r[o].push([t,e,i])}function o(t,e){for(var n;t[e].length;)n=t[e].shift(),n[0][n[1]]=n[2]}function i(t,e,n,r,o){var i=t.autoInstrument;t.enabled===!1||i===!1?this.autoInstrument={}:(a.isType(i,"object")||(i=c),this.autoInstrument=a.extend(!0,{},c,i)),this.scrubTelemetryInputs=!!t.scrubTelemetryInputs,this.telemetryScrubber=t.telemetryScrubber,this.telemeter=e,this.rollbar=n,this._window=r||{},this._document=o||{},this.replacements={network:[],log:[],navigation:[],connectivity:[]},this.eventRemovers={dom:[],connectivity:[]},this._location=this._window.location,this._lastHref=this._location&&this._location.href}var a=n(6),s=n(18),u=n(26),c={network:!0,log:!0,dom:!0,navigation:!0,connectivity:!0};i.prototype.configure=function(t){var e=t.autoInstrument,n=a.extend(!0,{},this.autoInstrument);t.enabled===!1||e===!1?this.autoInstrument={}:(a.isType(e,"object")||(e=c),this.autoInstrument=a.extend(!0,{},c,e)),this.instrument(n)},i.prototype.instrument=function(t){!this.autoInstrument.network||t&&t.network?!this.autoInstrument.network&&t&&t.network&&this.deinstrumentNetwork():this.instrumentNetwork(),!this.autoInstrument.log||t&&t.log?!this.autoInstrument.log&&t&&t.log&&this.deinstrumentConsole():this.instrumentConsole(),!this.autoInstrument.dom||t&&t.dom?!this.autoInstrument.dom&&t&&t.dom&&this.deinstrumentDom():this.instrumentDom(),!this.autoInstrument.navigation||t&&t.navigation?!this.autoInstrument.navigation&&t&&t.navigation&&this.deinstrumentNavigation():this.instrumentNavigation(),!this.autoInstrument.connectivity||t&&t.connectivity?!this.autoInstrument.connectivity&&t&&t.connectivity&&this.deinstrumentConnectivity():this.instrumentConnectivity()},i.prototype.deinstrumentNetwork=function(){o(this.replacements,"network")},i.prototype.instrumentNetwork=function(){function t(t,n){t in n&&a.isFunction(n[t])&&r(n,t,function(t){return e.rollbar.wrap(t)})}var e=this;if("XMLHttpRequest"in this._window){var n=this._window.XMLHttpRequest.prototype;r(n,"open",function(t){return function(e,n){return a.isType(n,"string")&&(this.__rollbar_xhr={method:e,url:n,status_code:null,start_time_ms:a.now(),end_time_ms:null}),t.apply(this,arguments)}},this.replacements,"network"),r(n,"send",function(n){return function(o){function i(){if(s.__rollbar_xhr&&(1===s.readyState||4===s.readyState)){null===s.__rollbar_xhr.status_code&&(s.__rollbar_xhr.status_code=0,s.__rollbar_event=e.telemeter.captureNetwork(s.__rollbar_xhr,"xhr")),1===s.readyState?s.__rollbar_xhr.start_time_ms=a.now():s.__rollbar_xhr.end_time_ms=a.now();try{var t=s.status;t=1223===t?204:t,s.__rollbar_xhr.status_code=t,s.__rollbar_event.level=e.telemeter.levelFromStatus(t)}catch(t){}}}var s=this;return t("onload",s),t("onerror",s),t("onprogress",s),"onreadystatechange"in s&&a.isFunction(s.onreadystatechange)?r(s,"onreadystatechange",function(t){return e.rollbar.wrap(t,void 0,i)}):s.onreadystatechange=i,n.apply(this,arguments)}},this.replacements,"network")}"fetch"in this._window&&r(this._window,"fetch",function(t){return function(n,r){for(var o=new Array(arguments.length),i=0,s=o.length;i<s;i++)o[i]=arguments[i];var u,c=o[0],l="GET";a.isType(c,"string")?u=c:(u=c.url,c.method&&(l=c.method)),o[1]&&o[1].method&&(l=o[1].method);var p={method:l,url:u,status_code:null,start_time_ms:a.now(),end_time_ms:null};return e.telemeter.captureNetwork(p,"fetch"),t.apply(this,o).then(function(t){return p.end_time_ms=a.now(),p.status_code=t.status,t})}},this.replacements,"network")},i.prototype.deinstrumentConsole=function(){if("console"in this._window&&this._window.console.log)for(var t;this.replacements.log.length;)t=this.replacements.log.shift(),this._window.console[t[0]]=t[1]},i.prototype.instrumentConsole=function(){function t(t){var r=n[t],o=n,i="warn"===t?"warning":t;n[t]=function(){var t=Array.prototype.slice.call(arguments),n=a.formatArgsAsString(t);e.telemeter.captureLog(n,i),r&&Function.prototype.apply.call(r,o,t)},e.replacements.log.push([t,r])}if("console"in this._window&&this._window.console.log)for(var e=this,n=this._window.console,r=["debug","info","warn","error","log"],o=0,i=r.length;o<i;o++)t(r[o])},i.prototype.deinstrumentDom=function(){("addEventListener"in this._window||"attachEvent"in this._window)&&this.removeListeners("dom")},i.prototype.instrumentDom=function(){if("addEventListener"in this._window||"attachEvent"in this._window){var t=this.handleClick.bind(this),e=this.handleBlur.bind(this);this.addListener("dom",this._window,"click","onclick",t,!0),this.addListener("dom",this._window,"blur","onfocusout",e,!0)}},i.prototype.handleClick=function(t){try{var e=u.getElementFromEvent(t,this._document),n=e&&e.tagName,r=u.isDescribedElement(e,"a")||u.isDescribedElement(e,"button");n&&(r||u.isDescribedElement(e,"input",["button","submit"]))?this.captureDomEvent("click",e):u.isDescribedElement(e,"input",["checkbox","radio"])&&this.captureDomEvent("input",e,e.value,e.checked)}catch(t){}},i.prototype.handleBlur=function(t){try{var e=u.getElementFromEvent(t,this._document);e&&e.tagName&&(u.isDescribedElement(e,"textarea")?this.captureDomEvent("input",e,e.value):u.isDescribedElement(e,"select")&&e.options&&e.options.length?this.handleSelectInputChanged(e):u.isDescribedElement(e,"input")&&!u.isDescribedElement(e,"input",["button","submit","hidden","checkbox","radio"])&&this.captureDomEvent("input",e,e.value))}catch(t){}},i.prototype.handleSelectInputChanged=function(t){if(t.multiple)for(var e=0;e<t.options.length;e++)t.options[e].selected&&this.captureDomEvent("input",t,t.options[e].value);else t.selectedIndex>=0&&t.options[t.selectedIndex]&&this.captureDomEvent("input",t,t.options[t.selectedIndex].value)},i.prototype.captureDomEvent=function(t,e,n,r){if(void 0!==n)if(this.scrubTelemetryInputs||"password"===u.getElementType(e))n="[scrubbed]";else if(this.telemetryScrubber){var o=u.describeElement(e);this.telemetryScrubber(o)&&(n="[scrubbed]")}var i=u.elementArrayToString(u.treeToArray(e));this.telemeter.captureDom(t,i,n,r)},i.prototype.deinstrumentNavigation=function(){var t=this._window.chrome,e=t&&t.app&&t.app.runtime,n=!e&&this._window.history&&this._window.history.pushState;n&&o(this.replacements,"navigation")},i.prototype.instrumentNavigation=function(){var t=this._window.chrome,e=t&&t.app&&t.app.runtime,n=!e&&this._window.history&&this._window.history.pushState;if(n){var o=this;r(this._window,"onpopstate",function(t){return function(){var e=o._location.href;o.handleUrlChange(o._lastHref,e),t&&t.apply(this,arguments)}},this.replacements,"navigation"),r(this._window.history,"pushState",function(t){return function(){var e=arguments.length>2?arguments[2]:void 0;return e&&o.handleUrlChange(o._lastHref,e+""),t.apply(this,arguments)}},this.replacements,"navigation")}},i.prototype.handleUrlChange=function(t,e){var n=s.parse(this._location.href),r=s.parse(e),o=s.parse(t);this._lastHref=e,n.protocol===r.protocol&&n.host===r.host&&(e=r.path+(r.hash||"")),n.protocol===o.protocol&&n.host===o.host&&(t=o.path+(o.hash||"")),this.telemeter.captureNavigation(t,e)},i.prototype.deinstrumentConnectivity=function(){("addEventListener"in this._window||"body"in this._document)&&(this._window.addEventListener?this.removeListeners("connectivity"):o(this.replacements,"connectivity"))},i.prototype.instrumentConnectivity=function(){if("addEventListener"in this._window||"body"in this._document)if(this._window.addEventListener)this.addListener("connectivity",this._window,"online",void 0,function(){this.telemeter.captureConnectivityChange("online")}.bind(this),!0),this.addListener("connectivity",this._window,"offline",void 0,function(){this.telemeter.captureConnectivityChange("offline")}.bind(this),!0);else{var t=this;r(this._document.body,"ononline",function(e){return function(){t.telemeter.captureConnectivityChange("online"),e&&e.apply(this,arguments)}},this.replacements,"connectivity"),r(this._document.body,"onoffline",function(e){return function(){t.telemeter.captureConnectivityChange("offline"),e&&e.apply(this,arguments)}},this.replacements,"connectivity")}},i.prototype.addListener=function(t,e,n,r,o,i){e.addEventListener?(e.addEventListener(n,o,i),this.eventRemovers[t].push(function(){e.removeEventListener(n,o,i)})):r&&(e.attachEvent(r,o),this.eventRemovers[t].push(function(){e.detachEvent(r,o)}))},i.prototype.removeListeners=function(t){for(var e;this.eventRemovers[t].length;)(e=this.eventRemovers[t].shift())()},t.exports=i},function(t,e){"use strict";function n(t){return(t.getAttribute("type")||"").toLowerCase()}function r(t,e,r){if(t.tagName.toLowerCase()!==e.toLowerCase())return!1;if(!r)return!0;t=n(t);for(var o=0;o<r.length;o++)if(r[o]===t)return!0;return!1}function o(t,e){return t.target?t.target:e&&e.elementFromPoint?e.elementFromPoint(t.clientX,t.clientY):void 0}function i(t){for(var e,n=5,r=[],o=0;t&&o<n&&(e=u(t),"html"!==e.tagName);o++)r.unshift(e),t=t.parentNode;return r}function a(t){for(var e,n,r=80,o=" > ",i=o.length,a=[],u=0,c=t.length-1;c>=0;c--){if(e=s(t[c]),n=u+a.length*i+e.length,c<t.length-1&&n>=r+3){a.unshift("...");break}a.unshift(e),u+=e.length}return a.join(o)}function s(t){if(!t||!t.tagName)return"";var e=[t.tagName];t.id&&e.push("#"+t.id),t.classes&&e.push("."+t.classes.join("."));for(var n=0;n<t.attributes.length;n++)e.push("["+t.attributes[n].key+'="'+t.attributes[n].value+'"]');return e.join("")}function u(t){if(!t||!t.tagName)return null;var e,n,r,o,i={};i.tagName=t.tagName.toLowerCase(),t.id&&(i.id=t.id),e=t.className,e&&"string"==typeof e&&(i.classes=e.split(/\s+/));var a=["type","name","title","alt"];for(i.attributes=[],o=0;o<a.length;o++)n=a[o],r=t.getAttribute(n),r&&i.attributes.push({key:n,value:r});return i}t.exports={describeElement:u,descriptionToString:s,elementArrayToString:a,treeToArray:i,getElementFromEvent:o,isDescribedElement:r,getElementType:n}}])});
},{}],350:[function(require,module,exports){
'use strict';

var raf = (typeof requestAnimationFrame !== 'undefined' && requestAnimationFrame) || setTimeout;

function addOrRemoveClass(el, className, add) {
  el.classList[add ? 'add' : 'remove'](className);
}

function nextFrame(fn) {
  raf(function() {
    raf(fn);
  });
}

function changeClassNextFrame(el, className, add) {
  nextFrame(function() {
    addOrRemoveClass(el, className, add);
  });
}

function updateClass(oldVnode, newVnode) {
  var el = newVnode.elm;
  var oldClass = oldVnode.data.class;
  var newClass = newVnode.data.class;

  if (!oldClass && !newClass) {
    return;
  }
  oldClass = oldClass || {};
  newClass = newClass || {};

  // remove classes which are no longer in vnode class obj
  for (var name in oldClass) {
    if (!(name in newClass)) {
      el.classList.remove(name);
    }
  }

  // handle new classes, taking into account special delayed classes
  var oldHasDelay = 'delayed' in oldClass;
  for (var name in newClass) {
    var val = newClass[name];

    if (typeof val === 'object') {

      // special 'delayed'/'remove' class objects
      if (name === 'delayed') {
        for (var delayedName in val) {
          var delayedVal = val[delayedName];
          if (!oldHasDelay || delayedVal !== oldClass.delayed[delayedName]) {
            changeClassNextFrame(el, delayedName, delayedVal);
          }
        }
      }

    } else if (val !== oldClass[name]) {

      // normal class string, handle immediately
      addOrRemoveClass(el, name, val);

    }
  }
}

function applyDestroyClass(vnode) {
  var classObj = vnode.data.class;
  var onDestroy = classObj && classObj.destroy;
  if (typeof onDestroy !== 'object') {
    return;
  }

  var el = vnode.elm;
  for (var name in onDestroy) {
    addOrRemoveClass(el, name, onDestroy[name]);
  }
}

function applyRemoveClass(vnode, rmFunc) {
  var classObj = vnode.data.class;
  var onRemove = classObj && classObj.remove;
  if (typeof onRemove !== 'object') {
    rmFunc();
    return;
  }

  var el = vnode.elm;
  var delayRemove = 0;
  for (var name in onRemove) {
    var val = onRemove[name];
    if (name === 'delayRemove') {
      delayRemove = val;
    } else {
      addOrRemoveClass(el, name, val);
    }
  }

  setTimeout(rmFunc, delayRemove);
}

module.exports = {
  create:  updateClass,
  update:  updateClass,
  destroy: applyDestroyClass,
  remove:  applyRemoveClass,
};

},{}],351:[function(require,module,exports){
"use strict";
var vnode_1 = require("./vnode");
var is = require("./is");
function addNS(data, children, sel) {
    data.ns = 'http://www.w3.org/2000/svg';
    if (sel !== 'foreignObject' && children !== undefined) {
        for (var i = 0; i < children.length; ++i) {
            var childData = children[i].data;
            if (childData !== undefined) {
                addNS(childData, children[i].children, children[i].sel);
            }
        }
    }
}
function h(sel, b, c) {
    var data = {}, children, text, i;
    if (c !== undefined) {
        data = b;
        if (is.array(c)) {
            children = c;
        }
        else if (is.primitive(c)) {
            text = c;
        }
        else if (c && c.sel) {
            children = [c];
        }
    }
    else if (b !== undefined) {
        if (is.array(b)) {
            children = b;
        }
        else if (is.primitive(b)) {
            text = b;
        }
        else if (b && b.sel) {
            children = [b];
        }
        else {
            data = b;
        }
    }
    if (is.array(children)) {
        for (i = 0; i < children.length; ++i) {
            if (is.primitive(children[i]))
                children[i] = vnode_1.vnode(undefined, undefined, undefined, children[i]);
        }
    }
    if (sel[0] === 's' && sel[1] === 'v' && sel[2] === 'g' &&
        (sel.length === 3 || sel[3] === '.' || sel[3] === '#')) {
        addNS(data, children, sel);
    }
    return vnode_1.vnode(sel, data, children, text, undefined);
}
exports.h = h;
;
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = h;

},{"./is":353,"./vnode":361}],352:[function(require,module,exports){
"use strict";
function createElement(tagName) {
    return document.createElement(tagName);
}
function createElementNS(namespaceURI, qualifiedName) {
    return document.createElementNS(namespaceURI, qualifiedName);
}
function createTextNode(text) {
    return document.createTextNode(text);
}
function insertBefore(parentNode, newNode, referenceNode) {
    parentNode.insertBefore(newNode, referenceNode);
}
function removeChild(node, child) {
    node.removeChild(child);
}
function appendChild(node, child) {
    node.appendChild(child);
}
function parentNode(node) {
    return node.parentNode;
}
function nextSibling(node) {
    return node.nextSibling;
}
function tagName(elm) {
    return elm.tagName;
}
function setTextContent(node, text) {
    node.textContent = text;
}
exports.htmlDomApi = {
    createElement: createElement,
    createElementNS: createElementNS,
    createTextNode: createTextNode,
    insertBefore: insertBefore,
    removeChild: removeChild,
    appendChild: appendChild,
    parentNode: parentNode,
    nextSibling: nextSibling,
    tagName: tagName,
    setTextContent: setTextContent,
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = exports.htmlDomApi;

},{}],353:[function(require,module,exports){
"use strict";
exports.array = Array.isArray;
function primitive(s) {
    return typeof s === 'string' || typeof s === 'number';
}
exports.primitive = primitive;

},{}],354:[function(require,module,exports){
"use strict";
var NamespaceURIs = {
    "xlink": "http://www.w3.org/1999/xlink"
};
var booleanAttrs = ["allowfullscreen", "async", "autofocus", "autoplay", "checked", "compact", "controls", "declare",
    "default", "defaultchecked", "defaultmuted", "defaultselected", "defer", "disabled", "draggable",
    "enabled", "formnovalidate", "hidden", "indeterminate", "inert", "ismap", "itemscope", "loop", "multiple",
    "muted", "nohref", "noresize", "noshade", "novalidate", "nowrap", "open", "pauseonexit", "readonly",
    "required", "reversed", "scoped", "seamless", "selected", "sortable", "spellcheck", "translate",
    "truespeed", "typemustmatch", "visible"];
var booleanAttrsDict = Object.create(null);
for (var i = 0, len = booleanAttrs.length; i < len; i++) {
    booleanAttrsDict[booleanAttrs[i]] = true;
}
function updateAttrs(oldVnode, vnode) {
    var key, cur, old, elm = vnode.elm, oldAttrs = oldVnode.data.attrs, attrs = vnode.data.attrs, namespaceSplit;
    if (!oldAttrs && !attrs)
        return;
    oldAttrs = oldAttrs || {};
    attrs = attrs || {};
    // update modified attributes, add new attributes
    for (key in attrs) {
        cur = attrs[key];
        old = oldAttrs[key];
        if (old !== cur) {
            if (!cur && booleanAttrsDict[key])
                elm.removeAttribute(key);
            else {
                namespaceSplit = key.split(":");
                if (namespaceSplit.length > 1 && NamespaceURIs.hasOwnProperty(namespaceSplit[0]))
                    elm.setAttributeNS(NamespaceURIs[namespaceSplit[0]], key, cur);
                else
                    elm.setAttribute(key, cur);
            }
        }
    }
    //remove removed attributes
    // use `in` operator since the previous `for` iteration uses it (.i.e. add even attributes with undefined value)
    // the other option is to remove all attributes with value == undefined
    for (key in oldAttrs) {
        if (!(key in attrs)) {
            elm.removeAttribute(key);
        }
    }
}
exports.attributesModule = { create: updateAttrs, update: updateAttrs };
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = exports.attributesModule;

},{}],355:[function(require,module,exports){
"use strict";
function updateDataset(oldVnode, vnode) {
    var elm = vnode.elm, oldDataset = oldVnode.data.dataset, dataset = vnode.data.dataset, key;
    if (!oldDataset && !dataset)
        return;
    oldDataset = oldDataset || {};
    dataset = dataset || {};
    for (key in oldDataset) {
        if (!dataset[key]) {
            delete elm.dataset[key];
        }
    }
    for (key in dataset) {
        if (oldDataset[key] !== dataset[key]) {
            elm.dataset[key] = dataset[key];
        }
    }
}
exports.datasetModule = { create: updateDataset, update: updateDataset };
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = exports.datasetModule;

},{}],356:[function(require,module,exports){
"use strict";
function invokeHandler(handler, vnode, event) {
    if (typeof handler === "function") {
        // call function handler
        handler.call(vnode, event, vnode);
    }
    else if (typeof handler === "object") {
        // call handler with arguments
        if (typeof handler[0] === "function") {
            // special case for single argument for performance
            if (handler.length === 2) {
                handler[0].call(vnode, handler[1], event, vnode);
            }
            else {
                var args = handler.slice(1);
                args.push(event);
                args.push(vnode);
                handler[0].apply(vnode, args);
            }
        }
        else {
            // call multiple handlers
            for (var i = 0; i < handler.length; i++) {
                invokeHandler(handler[i]);
            }
        }
    }
}
function handleEvent(event, vnode) {
    var name = event.type, on = vnode.data.on;
    // call event handler(s) if exists
    if (on && on[name]) {
        invokeHandler(on[name], vnode, event);
    }
}
function createListener() {
    return function handler(event) {
        handleEvent(event, handler.vnode);
    };
}
function updateEventListeners(oldVnode, vnode) {
    var oldOn = oldVnode.data.on, oldListener = oldVnode.listener, oldElm = oldVnode.elm, on = vnode && vnode.data.on, elm = (vnode && vnode.elm), name;
    // optimization for reused immutable handlers
    if (oldOn === on) {
        return;
    }
    // remove existing listeners which no longer used
    if (oldOn && oldListener) {
        // if element changed or deleted we remove all existing listeners unconditionally
        if (!on) {
            for (name in oldOn) {
                // remove listener if element was changed or existing listeners removed
                oldElm.removeEventListener(name, oldListener, false);
            }
        }
        else {
            for (name in oldOn) {
                // remove listener if existing listener removed
                if (!on[name]) {
                    oldElm.removeEventListener(name, oldListener, false);
                }
            }
        }
    }
    // add new listeners which has not already attached
    if (on) {
        // reuse existing listener or create new
        var listener = vnode.listener = oldVnode.listener || createListener();
        // update vnode for listener
        listener.vnode = vnode;
        // if element changed or added we add all needed listeners unconditionally
        if (!oldOn) {
            for (name in on) {
                // add listener if element was changed or new listeners added
                elm.addEventListener(name, listener, false);
            }
        }
        else {
            for (name in on) {
                // add listener if new listener added
                if (!oldOn[name]) {
                    elm.addEventListener(name, listener, false);
                }
            }
        }
    }
}
exports.eventListenersModule = {
    create: updateEventListeners,
    update: updateEventListeners,
    destroy: updateEventListeners
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = exports.eventListenersModule;

},{}],357:[function(require,module,exports){
"use strict";
function updateProps(oldVnode, vnode) {
    var key, cur, old, elm = vnode.elm, oldProps = oldVnode.data.props, props = vnode.data.props;
    if (!oldProps && !props)
        return;
    oldProps = oldProps || {};
    props = props || {};
    for (key in oldProps) {
        if (!props[key]) {
            delete elm[key];
        }
    }
    for (key in props) {
        cur = props[key];
        old = oldProps[key];
        if (old !== cur && (key !== 'value' || elm[key] !== cur)) {
            elm[key] = cur;
        }
    }
}
exports.propsModule = { create: updateProps, update: updateProps };
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = exports.propsModule;

},{}],358:[function(require,module,exports){
"use strict";
var raf = (typeof window !== 'undefined' && window.requestAnimationFrame) || setTimeout;
var nextFrame = function (fn) { raf(function () { raf(fn); }); };
function setNextFrame(obj, prop, val) {
    nextFrame(function () { obj[prop] = val; });
}
function updateStyle(oldVnode, vnode) {
    var cur, name, elm = vnode.elm, oldStyle = oldVnode.data.style, style = vnode.data.style;
    if (!oldStyle && !style)
        return;
    oldStyle = oldStyle || {};
    style = style || {};
    var oldHasDel = 'delayed' in oldStyle;
    for (name in oldStyle) {
        if (!style[name]) {
            if (name.startsWith('--')) {
                elm.style.removeProperty(name);
            }
            else {
                elm.style[name] = '';
            }
        }
    }
    for (name in style) {
        cur = style[name];
        if (name === 'delayed') {
            for (name in style.delayed) {
                cur = style.delayed[name];
                if (!oldHasDel || cur !== oldStyle.delayed[name]) {
                    setNextFrame(elm.style, name, cur);
                }
            }
        }
        else if (name !== 'remove' && cur !== oldStyle[name]) {
            if (name.startsWith('--')) {
                elm.style.setProperty(name, cur);
            }
            else {
                elm.style[name] = cur;
            }
        }
    }
}
function applyDestroyStyle(vnode) {
    var style, name, elm = vnode.elm, s = vnode.data.style;
    if (!s || !(style = s.destroy))
        return;
    for (name in style) {
        elm.style[name] = style[name];
    }
}
function applyRemoveStyle(vnode, rm) {
    var s = vnode.data.style;
    if (!s || !s.remove) {
        rm();
        return;
    }
    var name, elm = vnode.elm, i = 0, compStyle, style = s.remove, amount = 0, applied = [];
    for (name in style) {
        applied.push(name);
        elm.style[name] = style[name];
    }
    compStyle = getComputedStyle(elm);
    var props = compStyle['transition-property'].split(', ');
    for (; i < props.length; ++i) {
        if (applied.indexOf(props[i]) !== -1)
            amount++;
    }
    elm.addEventListener('transitionend', function (ev) {
        if (ev.target === elm)
            --amount;
        if (amount === 0)
            rm();
    });
}
exports.styleModule = {
    create: updateStyle,
    update: updateStyle,
    destroy: applyDestroyStyle,
    remove: applyRemoveStyle
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = exports.styleModule;

},{}],359:[function(require,module,exports){
"use strict";
var vnode_1 = require("./vnode");
var is = require("./is");
var htmldomapi_1 = require("./htmldomapi");
function isUndef(s) { return s === undefined; }
function isDef(s) { return s !== undefined; }
var emptyNode = vnode_1.default('', {}, [], undefined, undefined);
function sameVnode(vnode1, vnode2) {
    return vnode1.key === vnode2.key && vnode1.sel === vnode2.sel;
}
function isVnode(vnode) {
    return vnode.sel !== undefined;
}
function createKeyToOldIdx(children, beginIdx, endIdx) {
    var i, map = {}, key;
    for (i = beginIdx; i <= endIdx; ++i) {
        key = children[i].key;
        if (key !== undefined)
            map[key] = i;
    }
    return map;
}
var hooks = ['create', 'update', 'remove', 'destroy', 'pre', 'post'];
var h_1 = require("./h");
exports.h = h_1.h;
var thunk_1 = require("./thunk");
exports.thunk = thunk_1.thunk;
function init(modules, domApi) {
    var i, j, cbs = {};
    var api = domApi !== undefined ? domApi : htmldomapi_1.default;
    for (i = 0; i < hooks.length; ++i) {
        cbs[hooks[i]] = [];
        for (j = 0; j < modules.length; ++j) {
            if (modules[j][hooks[i]] !== undefined)
                cbs[hooks[i]].push(modules[j][hooks[i]]);
        }
    }
    function emptyNodeAt(elm) {
        var id = elm.id ? '#' + elm.id : '';
        var c = elm.className ? '.' + elm.className.split(' ').join('.') : '';
        return vnode_1.default(api.tagName(elm).toLowerCase() + id + c, {}, [], undefined, elm);
    }
    function createRmCb(childElm, listeners) {
        return function rmCb() {
            if (--listeners === 0) {
                var parent_1 = api.parentNode(childElm);
                api.removeChild(parent_1, childElm);
            }
        };
    }
    function createElm(vnode, insertedVnodeQueue) {
        var i, data = vnode.data;
        if (data !== undefined) {
            if (isDef(i = data.hook) && isDef(i = i.init)) {
                i(vnode);
                data = vnode.data;
            }
        }
        var children = vnode.children, sel = vnode.sel;
        if (sel !== undefined) {
            // Parse selector
            var hashIdx = sel.indexOf('#');
            var dotIdx = sel.indexOf('.', hashIdx);
            var hash = hashIdx > 0 ? hashIdx : sel.length;
            var dot = dotIdx > 0 ? dotIdx : sel.length;
            var tag = hashIdx !== -1 || dotIdx !== -1 ? sel.slice(0, Math.min(hash, dot)) : sel;
            var elm = vnode.elm = isDef(data) && isDef(i = data.ns) ? api.createElementNS(i, tag)
                : api.createElement(tag);
            if (hash < dot)
                elm.id = sel.slice(hash + 1, dot);
            if (dotIdx > 0)
                elm.className = sel.slice(dot + 1).replace(/\./g, ' ');
            if (is.array(children)) {
                for (i = 0; i < children.length; ++i) {
                    api.appendChild(elm, createElm(children[i], insertedVnodeQueue));
                }
            }
            else if (is.primitive(vnode.text)) {
                api.appendChild(elm, api.createTextNode(vnode.text));
            }
            for (i = 0; i < cbs.create.length; ++i)
                cbs.create[i](emptyNode, vnode);
            i = vnode.data.hook; // Reuse variable
            if (isDef(i)) {
                if (i.create)
                    i.create(emptyNode, vnode);
                if (i.insert)
                    insertedVnodeQueue.push(vnode);
            }
        }
        else {
            vnode.elm = api.createTextNode(vnode.text);
        }
        return vnode.elm;
    }
    function addVnodes(parentElm, before, vnodes, startIdx, endIdx, insertedVnodeQueue) {
        for (; startIdx <= endIdx; ++startIdx) {
            api.insertBefore(parentElm, createElm(vnodes[startIdx], insertedVnodeQueue), before);
        }
    }
    function invokeDestroyHook(vnode) {
        var i, j, data = vnode.data;
        if (data !== undefined) {
            if (isDef(i = data.hook) && isDef(i = i.destroy))
                i(vnode);
            for (i = 0; i < cbs.destroy.length; ++i)
                cbs.destroy[i](vnode);
            if (vnode.children !== undefined) {
                for (j = 0; j < vnode.children.length; ++j) {
                    i = vnode.children[j];
                    if (typeof i !== "string") {
                        invokeDestroyHook(i);
                    }
                }
            }
        }
    }
    function removeVnodes(parentElm, vnodes, startIdx, endIdx) {
        for (; startIdx <= endIdx; ++startIdx) {
            var i_1 = void 0, listeners = void 0, rm = void 0, ch = vnodes[startIdx];
            if (isDef(ch)) {
                if (isDef(ch.sel)) {
                    invokeDestroyHook(ch);
                    listeners = cbs.remove.length + 1;
                    rm = createRmCb(ch.elm, listeners);
                    for (i_1 = 0; i_1 < cbs.remove.length; ++i_1)
                        cbs.remove[i_1](ch, rm);
                    if (isDef(i_1 = ch.data) && isDef(i_1 = i_1.hook) && isDef(i_1 = i_1.remove)) {
                        i_1(ch, rm);
                    }
                    else {
                        rm();
                    }
                }
                else {
                    api.removeChild(parentElm, ch.elm);
                }
            }
        }
    }
    function updateChildren(parentElm, oldCh, newCh, insertedVnodeQueue) {
        var oldStartIdx = 0, newStartIdx = 0;
        var oldEndIdx = oldCh.length - 1;
        var oldStartVnode = oldCh[0];
        var oldEndVnode = oldCh[oldEndIdx];
        var newEndIdx = newCh.length - 1;
        var newStartVnode = newCh[0];
        var newEndVnode = newCh[newEndIdx];
        var oldKeyToIdx;
        var idxInOld;
        var elmToMove;
        var before;
        while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {
            if (isUndef(oldStartVnode)) {
                oldStartVnode = oldCh[++oldStartIdx]; // Vnode has been moved left
            }
            else if (isUndef(oldEndVnode)) {
                oldEndVnode = oldCh[--oldEndIdx];
            }
            else if (sameVnode(oldStartVnode, newStartVnode)) {
                patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue);
                oldStartVnode = oldCh[++oldStartIdx];
                newStartVnode = newCh[++newStartIdx];
            }
            else if (sameVnode(oldEndVnode, newEndVnode)) {
                patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue);
                oldEndVnode = oldCh[--oldEndIdx];
                newEndVnode = newCh[--newEndIdx];
            }
            else if (sameVnode(oldStartVnode, newEndVnode)) {
                patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue);
                api.insertBefore(parentElm, oldStartVnode.elm, api.nextSibling(oldEndVnode.elm));
                oldStartVnode = oldCh[++oldStartIdx];
                newEndVnode = newCh[--newEndIdx];
            }
            else if (sameVnode(oldEndVnode, newStartVnode)) {
                patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue);
                api.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm);
                oldEndVnode = oldCh[--oldEndIdx];
                newStartVnode = newCh[++newStartIdx];
            }
            else {
                if (oldKeyToIdx === undefined) {
                    oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);
                }
                idxInOld = oldKeyToIdx[newStartVnode.key];
                if (isUndef(idxInOld)) {
                    api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm);
                    newStartVnode = newCh[++newStartIdx];
                }
                else {
                    elmToMove = oldCh[idxInOld];
                    if (elmToMove.sel !== newStartVnode.sel) {
                        api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm);
                    }
                    else {
                        patchVnode(elmToMove, newStartVnode, insertedVnodeQueue);
                        oldCh[idxInOld] = undefined;
                        api.insertBefore(parentElm, elmToMove.elm, oldStartVnode.elm);
                    }
                    newStartVnode = newCh[++newStartIdx];
                }
            }
        }
        if (oldStartIdx > oldEndIdx) {
            before = isUndef(newCh[newEndIdx + 1]) ? null : newCh[newEndIdx + 1].elm;
            addVnodes(parentElm, before, newCh, newStartIdx, newEndIdx, insertedVnodeQueue);
        }
        else if (newStartIdx > newEndIdx) {
            removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx);
        }
    }
    function patchVnode(oldVnode, vnode, insertedVnodeQueue) {
        var i, hook;
        if (isDef(i = vnode.data) && isDef(hook = i.hook) && isDef(i = hook.prepatch)) {
            i(oldVnode, vnode);
        }
        var elm = vnode.elm = oldVnode.elm, oldCh = oldVnode.children, ch = vnode.children;
        if (oldVnode === vnode)
            return;
        if (isDef(vnode.data)) {
            for (i = 0; i < cbs.update.length; ++i)
                cbs.update[i](oldVnode, vnode);
            i = vnode.data.hook;
            if (isDef(i) && isDef(i = i.update))
                i(oldVnode, vnode);
        }
        if (isUndef(vnode.text)) {
            if (isDef(oldCh) && isDef(ch)) {
                if (oldCh !== ch)
                    updateChildren(elm, oldCh, ch, insertedVnodeQueue);
            }
            else if (isDef(ch)) {
                if (isDef(oldVnode.text))
                    api.setTextContent(elm, '');
                addVnodes(elm, null, ch, 0, ch.length - 1, insertedVnodeQueue);
            }
            else if (isDef(oldCh)) {
                removeVnodes(elm, oldCh, 0, oldCh.length - 1);
            }
            else if (isDef(oldVnode.text)) {
                api.setTextContent(elm, '');
            }
        }
        else if (oldVnode.text !== vnode.text) {
            api.setTextContent(elm, vnode.text);
        }
        if (isDef(hook) && isDef(i = hook.postpatch)) {
            i(oldVnode, vnode);
        }
    }
    return function patch(oldVnode, vnode) {
        var i, elm, parent;
        var insertedVnodeQueue = [];
        for (i = 0; i < cbs.pre.length; ++i)
            cbs.pre[i]();
        if (!isVnode(oldVnode)) {
            oldVnode = emptyNodeAt(oldVnode);
        }
        if (sameVnode(oldVnode, vnode)) {
            patchVnode(oldVnode, vnode, insertedVnodeQueue);
        }
        else {
            elm = oldVnode.elm;
            parent = api.parentNode(elm);
            createElm(vnode, insertedVnodeQueue);
            if (parent !== null) {
                api.insertBefore(parent, vnode.elm, api.nextSibling(elm));
                removeVnodes(parent, [oldVnode], 0, 0);
            }
        }
        for (i = 0; i < insertedVnodeQueue.length; ++i) {
            insertedVnodeQueue[i].data.hook.insert(insertedVnodeQueue[i]);
        }
        for (i = 0; i < cbs.post.length; ++i)
            cbs.post[i]();
        return vnode;
    };
}
exports.init = init;

},{"./h":351,"./htmldomapi":352,"./is":353,"./thunk":360,"./vnode":361}],360:[function(require,module,exports){
"use strict";
var h_1 = require("./h");
function copyToThunk(vnode, thunk) {
    thunk.elm = vnode.elm;
    vnode.data.fn = thunk.data.fn;
    vnode.data.args = thunk.data.args;
    thunk.data = vnode.data;
    thunk.children = vnode.children;
    thunk.text = vnode.text;
    thunk.elm = vnode.elm;
}
function init(thunk) {
    var cur = thunk.data;
    var vnode = cur.fn.apply(undefined, cur.args);
    copyToThunk(vnode, thunk);
}
function prepatch(oldVnode, thunk) {
    var i, old = oldVnode.data, cur = thunk.data;
    var oldArgs = old.args, args = cur.args;
    if (old.fn !== cur.fn || oldArgs.length !== args.length) {
        copyToThunk(cur.fn.apply(undefined, args), thunk);
    }
    for (i = 0; i < args.length; ++i) {
        if (oldArgs[i] !== args[i]) {
            copyToThunk(cur.fn.apply(undefined, args), thunk);
            return;
        }
    }
    copyToThunk(oldVnode, thunk);
}
exports.thunk = function thunk(sel, key, fn, args) {
    if (args === undefined) {
        args = fn;
        fn = key;
        key = undefined;
    }
    return h_1.h(sel, {
        key: key,
        hook: { init: init, prepatch: prepatch },
        fn: fn,
        args: args
    });
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = exports.thunk;

},{"./h":351}],361:[function(require,module,exports){
"use strict";
function vnode(sel, data, children, text, elm) {
    var key = data === undefined ? undefined : data.key;
    return { sel: sel, data: data, children: children,
        text: text, elm: elm, key: key };
}
exports.vnode = vnode;
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = vnode;

},{}],362:[function(require,module,exports){
'use strict';
module.exports = function (str) {
	return encodeURIComponent(str).replace(/[!'()*]/g, function (c) {
		return '%' + c.charCodeAt(0).toString(16).toUpperCase();
	});
};

},{}],363:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// shim HTMLElement if necessary
// Safari breaks when attempting to inherit from HTMLElement
// Babel marked as wontfix because, well, it's not really
// a language issue: https://phabricator.babeljs.io/T1548
if (typeof HTMLElement !== 'function') {
  var _HTMLElement = function _HTMLElement() {};
  _HTMLElement.prototype = HTMLElement.prototype;
  HTMLElement = _HTMLElement;
}

// thin wrapper around HTMLElement with convenience methods

var WebComponent = function (_HTMLElement2) {
  _inherits(WebComponent, _HTMLElement2);

  function WebComponent() {
    _classCallCheck(this, WebComponent);

    return _possibleConstructorReturn(this, Object.getPrototypeOf(WebComponent).apply(this, arguments));
  }

  _createClass(WebComponent, [{
    key: 'getJSONAttribute',


    // parse an attribute which has been serialized as JSON
    // pass an optional errorHandler in case JSON.parse() fails
    value: function getJSONAttribute(attrName) {
      var errorHandler = arguments.length <= 1 || arguments[1] === undefined ? function () {
        return null;
      } : arguments[1];

      try {
        return JSON.parse(this.getAttribute(attrName));
      } catch (e) {
        return errorHandler(attrName, e);
      }
    }

    // check whether a boolean attribute is 'enabled' in an element instance
    // taking into account usages such as:
    // <my-element myattr="true">    -> enabled
    // <my-element myattr>           -> enabled
    // <my-element myattr="myattr">  -> enabled
    // <my-element myattr="false">   -> disabled
    // <my-element>                  -> disabled

  }, {
    key: 'isAttributeEnabled',
    value: function isAttributeEnabled(attrName) {
      var attrVal = this.getAttribute(attrName);
      return typeof attrVal === 'string' && ['', 'true', attrName.toLowerCase()].indexOf(attrVal.toLowerCase()) !== -1;
    }
  }]);

  return WebComponent;
}(HTMLElement);

exports.default = WebComponent;
},{}],364:[function(require,module,exports){
var pipe = require('../utils/pipe')

module.exports = function (filters) {
  var modifier = pipe(filters)
  return function filter (d) {
    if (!d) return
    return Object.keys(d)
    .reduce((g, key) => {
      var modified = modifier(d[key].next)
      var next = filter(modified)
      g[key] = d[key]
      g[key].next = next
      return g
    }, {})
  }
}

},{"../utils/pipe":381}],365:[function(require,module,exports){
var canvas = document.getElementById('loader')
var zoom = require('./ui/zoom')
var toast = require('./ui/toast')
var controls = require('./ui/controls')
var loader = require('./ui/loader')(canvas)
var flow = require('./mixpanel').flow
var format = require('./utils/format')
var pipe = require('./utils/pipe')
var hash = require('./utils/hash')
var visualize = require('./visualize')

$(function () {
  var query = hash.get()
  var initial = {
    event: query.event || '',
    from: query.from ? new Date(Number(query.from)) : new Date(),
    to: query.to ? new Date(Number(query.to)) : new Date(),
    depth: Number(query.depth) || 3,
    breadth: Number(query.breadth) || 3,
    filters: query.filters || [],
    exclude: query.exclude || []
  }

  controls(initial, function (params) {
    console.log(params)
    visualizer(params)
    hash.set(Object.assign({}, params, {
      from: params.from.valueOf(),
      to: params.to.valueOf()
    }))
  })
  .then(function () {
    if (!initial.event) {
      // SHOW TOOLTIP
      return loader.stop()
    }
    visualizer(initial)
  })
});

function visualizer (params) {
  var labels = initLabels()
  loader.start()

  return flow({
    from_date: format.date(params.from),
    to_date: format.date(params.to),
    event: params.event,
    depth: params.depth,
    filters: params.filters,
    exclude: params.exclude
  })
  .then(function (data) {
    return data[0]
  })
  .then(visualize(params, labels.initLabel))
  .then(render($('#flow')))
  .then(labels.initAll)
  .then(loader.stop)
  .catch(pipe([displayError(), loader.stop]))
}

function render (container$) {
  container$.html('')
  return function (graphic) {
    container$.html(graphic)
    zoom(container$)
  }
}

function displayError () {
  return function (err) {
    console.log(err)
    toast.error(err.message)
  }
}

function initLabels () {
  var labels = []
  return {
    initLabel: function (layer, name, events) {
      labels.push({
        layer,
        name,
        events
      })
    },
    initAll: function () {
      labels.map(function (label) {
        var node = $('#' + label.layer)
        var original = node.attr('class')
        node.on('click', displayEvents(label))
        node.on('mouseenter', setActive(true))
        node.on('mouseleave', setActive(false))

        function setActive (bool) {
          return function (ev) {
            if (bool) {
              node.attr('class', [original, 'active'].join(' '))
            } else {
              node.attr('class', original)
            }
          }
        }
      })
    }
  }
}

function displayEvents (label) {
  return function (event) {
    var element = $('#modal')
    displayLabel(label, element)
    element.modal()
  }
}


function displayLabel (label, element) {
  var keys = _.keys(_.first(label.events)).filter(validProp)
  var items = _.map(keys, function (key) {
    return { value: key, label: key }
  })

  var chart = $('<div>').MPChart({ chartType: 'bar' })
  var selecter = $('<div>').MPSelect({ items: items })
  var excluder = $('<div>').addClass('excluder').attr('node-name', label.name)
  excluder.html('<i class="fa fa-trash-o fa-lg"></i>')
  selecter.css({ marginTop: 14, float: 'left' })

  element.html('')
  element.append($('<div>').addClass('title').html('<em>' + label.name + '</em>'))
  element.append(chart)
  element.append(excluder)
  if (items.length) element.append(selecter)
  excluder.on('click', closeModal)

  handle(items[0] && items[0].value)
  selecter.on('change', function (e, selected) {
    handle(selected)
  })

  function handle (selected) {
    chart.MPChart('setData', label.events.reduce(function (acc, c) {
      var key = typeof c[selected] === 'undefined' ? label.name : c[selected]
      if (!acc[key]) acc[key] = 0
      acc[key]++
      return acc
    }, {}));
  }
}

function closeModal () {
  $.modal.close()
}

function validProp (prop) {
  var ignore = { mp_lib: true }
  return !ignore[prop]
}

},{"./mixpanel":369,"./ui/controls":373,"./ui/loader":376,"./ui/toast":377,"./ui/zoom":378,"./utils/format":379,"./utils/hash":380,"./utils/pipe":381,"./visualize":384}],366:[function(require,module,exports){
module.exports = function define (d, l, fn) {
  if (!d) return ''
  return Object.keys(d)
  .reduce((g, key) => {
    fn(nodeId(l, key), key, d[key].events)
    return g + Object.keys(d[key].next || {})
    .map(next => {
      return nodeId(l, key) + nodeContent(key, d[key].count) + ' --> ' + nodeId(l+key, next) + nodeContent(next, d[key].next[next].count) + '\n'
    })
    .join('') + define(d[key].next, l + key, fn)
  }, '')
}

function nodeId (layer, name) {
  return (layer + ' ' + name)
  .replace(/\//g, '')
  .replace(/\ /g, '_')
}

function nodeContent (name, count) {
  return '(' + [name, count].join(' ') + ')'
}

},{}],367:[function(require,module,exports){
var defineGraph = require('./define')

module.exports = function (direction='TD', data, cb) {
  cb = typeof cb === 'function' ? cb : function () {}
  return Promise.resolve()
  .then(function () {
    var definition = defineGraph(data, '', cb)
    if (!definition) throw new Error('Could not build diagram, no data found')
    return 'graph ' + direction + '\n' + definition
  })
  .then(function (graph) {
    return new Promise(function (res) {
      mermaid.render('mermaid', graph, res)
    })
  })
}

},{"./define":366}],368:[function(require,module,exports){
module.exports = function (params) {
  return `function main () {
    return Events({
      from_date: '${params.from_date}',
      to_date: '${params.to_date}',
    })
    .filter(function(event) { return !_.includes(${JSON.stringify(params.exclude)}, event.name) })
    .groupByUser(function(flow, events) {
      flow = flow || { depth: 0 }
      flow.current = flow.current || flow
      for (var i = 0; i < events.length; i++) {
        var e = events[i]
        if (flow.depth === 0 && (e.name != '${params.event}' ${_.reduce(params.filters, function (acc, f) { return acc += ' || e.properties.' + f[0] + ' !== ' + f[1] }, '')})) {
          continue
        }
        if (flow.depth === ${params.depth}) {
          return flow
        }
        flow.depth++
        flow.current[e.name] =
          flow.current[e.name] || {'count': 0, 'events': [], 'next': {}}

        flow.current[e.name].count++
        flow.current[e.name].events = [JSON.parse(JSON.stringify(e.properties))]
        flow.current = flow.current[e.name].next
      }
      return flow
    })
    .map(function(item) {
      delete item.value.depth
      delete item.value.current
      return item.value
    })
    .reduce(merger())
  }

  function merger () {
    return function(accumulators, items) {
      accumulators = fix_reducer_signature(accumulators);
      var ret = {};
      var input = accumulators.concat(items);
      for (var i = 0; i < input.length; ++i) {
        merge(ret, input[i]);
      }
      return ret;
    }
  }
  function merge(d1, d2) {
  for (var key in d2) {
      if (d2.hasOwnProperty(key)) {
          var v1 = d1[key];
          var v2 = d2[key];
          if (!(key in d1)) {
              d1[key] = v2;
        } else if (typeof v1 === "number" && typeof v2 === "number") {
              d1[key] += v2;
        } else if (typeof v1 === "string" && typeof v2 === "string") {
              d1[key] += v2;
        } else if (_.isArray(v1) && _.isArray(v2)) {
              d1[key] = d1[key].concat(v2);
        } else if (typeof v1 === "object" && typeof v2 === "object") {
              merge(v1, v2);
        } else {
              throw new TypeError("Mismatch types for key: " + key + " " + JSON.stringify(v1) + " " + JSON.stringify(v2));
        }
    }
  }
}
  `
}

},{}],369:[function(require,module,exports){
var jql = require('./jql')

module.exports = {
  flow: jql(require('./flow'))
}

},{"./flow":368,"./jql":370}],370:[function(require,module,exports){
function jql (query) {
  return new Promise(function (res, rej) {
    MP.api.jql(query)
    .done(res)
    .fail(function (err, message) {
      console.log(err)
      rej({ message: err.error || 'Could not execute the given query' })
    })
  })
}

module.exports = function (script) {
  return function (params) {
    return jql(script(params))
  }
}

},{}],371:[function(require,module,exports){
var qs = require('../utils/qs')

var load = function () {
  var { api_secret } = qs.get()
  if (!api_secret) return Promise.reject(new Error('No api key found'))
  return fetch(`https://lean-feedback.firebaseio.com/flow/${api_secret}.json`)
  .then(res => res.json())
}

var save = function (data) {
  var { api_secret } = qs.get()
  if (!api_secret) return Promise.reject(new Error('No api key found'))
  return fetch(`https://lean-feedback.firebaseio.com/flow/${api_secret}.json`, {
    method: 'PUT',
    body: JSON.stringify(data)
  })
  .then(() => data)
}

module.exports = {
  load,
  save
}

},{"../utils/qs":382}],372:[function(require,module,exports){
require('mixpanel-common')
// var { load, save } = require('../storage/local')
var { load, save } = require('../storage/fb')

module.exports = function (element) {
  var removeId

  load().then(defined).then(render).catch(err => console.log('Bookmarks', err))
  var addBm = (name, value) => edit(function (bms) {
    return [].concat(bms).concat({ id: name, name, value })
  })

  var removeBm = (id) => edit(function (bms) {
    return [].concat(bms).filter(b => b.id !== removeId)
  })

  function edit (cb) {
    return load()
    .then(defined)
    .then(cb)
    .then(defined)
    .then(save)
    .then(render)
  }

  function render (bms) {
    element[0].setAttribute('bookmarks', JSON.stringify(bms || []))
  }

  function loader (bool) {
    element[0].setAttribute('saving', bool)
  }

  function defined (arr) {
    return (arr || []).filter(v => v && v.id && v.name)
  }

  function confirm () {
    if (!removeId) return
    return removeBm(removeId)
  }

  function cancel () {
    removeId = null
  }

  function add (name, value) {
    return addBm(name, value)
    .then(() => {
      loader(false)
      return value
    })
    .catch(() => {
      loader(false)
      return value
    })
  }

  function remove (id) {
    removeId = id
  }

  element.add = add
  element.remove = remove
  element.confirm = confirm
  element.cancel = cancel
  element.save = save
  element.load = load
  return element
}

},{"../storage/fb":371,"mixpanel-common":266}],373:[function(require,module,exports){
var wait = require('../utils/wait')
var exclude = require('./exclude')
var bookmarks = require('./bookmarks')

module.exports = function (params, changed) {
  var onChange = throttle(changed, 300)
  var range$ = $('#datePicker').MPDatepicker()
  var event$ = $('#eventPicker').MPEventSelect()
  var depth$ = $('#depthPicker')
  var breadth$ = $('#breadthPicker')
  var add$ = $('#add')
  var exclude$ = exclude($('mp-tag-selector'))
  var bookmarks$ = bookmarks($('mp-bookmarks-widget'))
  return initialize()

  function initialize () {
    return Promise.resolve()
    .then(wait(1000))
    .then(function () {
      range$.val(params)
      event$.val(params.event)
      depth$.val(params.depth)
      breadth$.val(params.breadth)
      params.exclude.forEach(event => {
        exclude$.add(event)
      });
      return Promise.all(_.map(params.filters, function (_, i) {
        return addFilter(i)
      }))
    })
    .then(wait(1000))
    .then(function () {
      // LISTENERS
      exclude$[0].addEventListener('change', setExclude)
      exclude$[0].addEventListener('save', setExclude)
      bookmarks$[0].addEventListener('submit', setBookmark)
      range$.on('change', setRange)
      event$.on('change', setEvent)
      depth$.on('change', setParam('depth'))
      breadth$.on('change', setParam('breadth'))
      add$.on('click', function () {
        var i = params.filters.length
        addFilter(i).then(function () {
          console.log('Added')
        })
      })

    })
  }

  function setRange (ev, range) {
    params.from = range.from
    params.to = range.to
    onChange(params)
  }
  function setEvent (ev, event) {
    params.event = event
    params.filters = []
    $('#props').children().remove()
    onChange(params)
  }
  function setParam (name) {
    return function (ev) {
      params[name] = Number($(this).val())
      onChange(params)
    }
  }
  function setExclude (ev) {
    const newExclude = exclude$.val()
    if (JSON.stringify(params.exclude) !== JSON.stringify(newExclude)) {
      params.exclude = newExclude
      onChange(params)
    }
  }
  function setBookmark (ev) {
    console.log('set bookmark', ev)
    switch (ev.detail.action) {
      case "create": return bookmarks$.add(ev.detail.name, params)
      case "delete": return bookmarks$.remove(ev.detail.bookmarkId)
      case "confirm": return bookmarks$.confirm()
      case "cancel": return bookmarks$.cancel()
      case "select":
        params = ev.detail.value.value
        return initialize()
    }
  }
  function addFilter (i) {
    var group = inputGroup()
    group.setEvent(params.event)
    $('#props').append(group[0])

    return Promise.resolve()
    .then(wait(1000))
    .then(function () {
      group.val(params.filters[i])
    })
    .then(wait(1000))
    .then(function () {
      group.changed(function (value) {
        params.filters[i] = value
        onChange(params)
      })
      group.removed(function () {
        params.filters.splice(i, 1)
        onChange(params)
      })
    })
  }
}

function throttle (cb, time) {
  var timer
  return function (event) {
    clearTimeout(timer)
    timer = setTimeout(function () {
      cb(event)
    }, time)
  }
}

function inputGroup () {
  var ls = [], rs = []
  var group$ = $('<div>').addClass('group')
  var prop$ = $('<div>').addClass('selecter').MPPropertySelect()
  var cont$ = $('<div>').attr('class', 'selecter mixpanel-platform-input-date mixpanel-platform-input')
  var input$ = $('<input>').attr('class', 'rounded_dropdown_label dropdown_label_widget')
  var remove$ = $('<div>').attr('class', 'selecter del-btn').append($('<i>').attr('class', 'fa fa-trash-o fa-lg'))
  var dispatch = throttle(function () {
    var value = parse()
    ls.map(function (cb) {
      cb(value)
    })
  }, 300)
  var remove = function () {
    group$.remove()
    rs.map(function (cb) { cb() })
  }

  prop$.on('change', dispatch)
  input$.on('change', dispatch)
  remove$.on('click', remove)
  cont$.append(input$)
  group$.append(prop$).append(cont$).append(remove$).append($('<div>').css('clear', 'both'))

  function parse () {
    var property = prop$.val()
    var unparsed = input$.val()
    try {
      var value = eval(unparsed)
      return [property, value]
    } catch (err) {
      return [property, '"' + unparsed + '"']
    }
  }

  return {
    0: group$,
    setEvent: function (event) {
      prop$.MPPropertySelect('setEvent', event)
    },
    val: function (value=[]) {
      if (!value) return parse()
      prop$.val(value[0] || '')
      input$.val(value[1] || '')
    },
    changed: function (cb) {
      if (typeof cb !== 'function') return _.identity
      var index = ls.length
      ls.push(cb)
      return function () {
        ls.splice(index, 1)
      }
    },
    removed: function (cb) {
      if (typeof cb !== 'function') return _.identity
      var index = ls.length
      rs.push(cb)
      return function () {
        rs.splice(index, 1)
      }
    }
  }
}

},{"../utils/wait":383,"./bookmarks":372,"./exclude":375}],374:[function(require,module,exports){
function handle_mousedown(e){
  window.my_dragging = {};
  my_dragging.pageX0 = e.pageX;
  my_dragging.pageY0 = e.pageY;
  my_dragging.elem = this;
  my_dragging.offset0 = $(this).offset();
  function handle_dragging(e){
      var left = my_dragging.offset0.left + (e.pageX - my_dragging.pageX0);
      var top = my_dragging.offset0.top + (e.pageY - my_dragging.pageY0);
      $(my_dragging.elem)
      .offset({top: top, left: left});
  }
  function handle_mouseup(e){
      $('body')
      .off('mousemove', handle_dragging)
      .off('mouseup', handle_mouseup);
  }
  $('body')
  .on('mouseup', handle_mouseup)
  .on('mousemove', handle_dragging);
}

$('.draggable').mousedown(handle_mousedown);

},{}],375:[function(require,module,exports){
require('mixpanel-common')
require('./draggable')

module.exports = function (element) {
  $(document).on('click', '.excluder', function () {
    var event = $(this).attr('node-name')
    if (event) add(event)
  })

  function add (event) {
    element[0].helpers.addTag(event)
  }

  function val (newValue) {
    return Array.from(element[0].state.selectedTags)
  }

  element.add = add
  element.val = val
  return element
}

},{"./draggable":374,"mixpanel-common":266}],376:[function(require,module,exports){
module.exports = function (canvas) {
  return {
    start: start(canvas),
    stop: stop(canvas)
  }
}

function stop (c) {
  return function () {
    $(c).css('display', 'none')
  }
}

function start (c) {
  return function () {
    $(c).css('display', 'inline-block')
  }
}

},{}],377:[function(require,module,exports){
module.exports = {
  success: display(toastr.success),
  warning: display(toastr.warning),
  error: display(toastr.error),
  info: display(toastr.info)
}


function display (cb) {
  return function (message) {
    if (typeof cb !== 'function') return
    if (typeof message !== 'string') return
    cb(message)
  }
}

},{}],378:[function(require,module,exports){
module.exports = function (container$) {
  var graphic$ = container$.children().first()
  graphic$.css('max-width', '100%')
  graphic$.panzoom({ minScale: 1 })

  container$.on('mousewheel', function (e) {
    e.preventDefault();
    var delta = e.delta || e.originalEvent.wheelDelta
    var zoomOut = delta ? delta < 0 : e.originalEvent.deltaY > 0
    graphic$.panzoom('zoom', zoomOut, {
      increment: 0.1,
      animate: false,
      focal: e
    })
  })
}

},{}],379:[function(require,module,exports){
module.exports.date = function (d) {
  var date = new Date(d)
  return [date.getFullYear(), date.getMonth() + 1, date.getDate()].join('-')
}

},{}],380:[function(require,module,exports){
module.exports = {
  get,
  set
}

function get () {
  try {
    var hash = decodeURI(window.location.hash || '').slice(1)
    return JSON.parse(hash)
  } catch (err) {
    return {}
  }
}

function set (hash) {
  window.location.hash = encodeURI(JSON.stringify(Object.assign(get(), hash)))
}

},{}],381:[function(require,module,exports){
module.exports = function pipe (fns) {
  return function (val) {
    return [].concat(fns).reduce(function (acc, fn) {
      return fn(acc)
    }, val)
  }
}

},{}],382:[function(require,module,exports){
module.exports = {
  get,
  set
}

function set (qs) {
  var query = Object.assign(get(), qs)
  window.location.search = Object.keys(query)
  .map(function (key) {
    return key + '=' + query[key]
  })
  .join('&')
}

function get () {
  return (window.location.search || '')
  .slice(1)
  .split('&')
  .map(function (pair) {
    return pair.split('=')
  })
  .reduce(function (acc, pair) {
    if (!pair[0]) return acc
    acc[pair[0]] = pair[1]
    return acc
  }, {})
}

},{}],383:[function(require,module,exports){
module.exports = function (time) {
  return function (val) {
    return new Promise(function (res) {
      setTimeout(function () {
        res(val)
      }, time)
    })
  }
}

},{}],384:[function(require,module,exports){
var filterFlow = require('./filters/flow')
var mermaid = require('./mermaid')

module.exports = function (params, nodeCb) {
  return function (data) {
    return Promise.resolve(data)
    .then(filterFlow(function (events) {
      return Object.keys(events)
      .sort(function (a, b) {
        return events[b].count - events[a].count
      })
      .slice(0, params.breadth) // TAKE TOP 3 EVENTS
      .reduce(function (acc, c) {
        acc[c] = events[c]
        return acc
      }, {})
    }))
    .then(function (data) {
      return mermaid('TD', data, nodeCb)
    })
  }
}

},{"./filters/flow":364,"./mermaid":367}]},{},[365]);
